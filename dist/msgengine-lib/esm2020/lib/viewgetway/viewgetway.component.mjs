import { Component, ViewChild } from '@angular/core';
import * as CryptoJS from 'crypto-js';
import { Buffer } from 'buffer';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/common/http";
import * as i3 from "../msgengine-lib.service";
import * as i4 from "../varlist.service";
import * as i5 from "@ng-bootstrap/ng-bootstrap";
import * as i6 from "../encrypy-decrpy.service";
import * as i7 from "@angular/common";
import * as i8 from "@angular/forms";
import * as i9 from "../libtabs/libtabs.component";
import * as i10 from "../libutils/libutils.component";
import * as i11 from "../libpagination/libpagination.component";
import * as i12 from "ngx-pagination";
import * as i13 from "../translate.pipe";
export class ViewgetwayComponent {
    constructor(route, httpClient, commonserveice, varlist, modalService, encDec) {
        this.route = route;
        this.httpClient = httpClient;
        this.commonserveice = commonserveice;
        this.varlist = varlist;
        this.modalService = modalService;
        this.encDec = encDec;
        this.jsonurl = [
            {
                "pagetitle": "View Gateway Config",
                "tabList": [
                    { "tabName": "Add", "tabUrl": "../addgateway" },
                    { "tabName": "View", "tabUrl": "../viewgateway", "tabClass": "active" }
                ],
                "utils": [
                    { "utilName": "search" },
                    { "utilName": "print" },
                    { "utilName": "delete" },
                    { "utilName": "publish" },
                    { "utilName": "unpublish" }
                ],
                "messages": {
                    "successMsg": "Date saved successfully",
                    "errorMsg": "Error in database",
                    "warningtype": "You want to delete this record",
                    "deleteMsg": "Record has been deleted"
                }
            }
        ];
        this.selType = 0;
        this.txtName = '';
        this.page = 1;
        this.count = 0;
        this.tableSize = 10;
        this.pageSizes = [10, 20, 50, 100, 500, 1000];
        this.getwayIdArray = [];
        this.pubUnpStatus = [];
        this.chkAll = 0;
        this.sevName = " ";
        this.langKey = 'en';
        this.indexNumber = 0;
        this.sevName = varlist.serviceName;
    }
    ngOnInit() {
        this.loadvarlist();
        this.getGetwaytypes();
        this.viewAllrecrds(this.selType, this.txtName);
        // console.log(this.viewAllrecrds());
        //this.addChangeEventForLabel();
    }
    loadvarlist() {
        // this.httpClient.get<any>(this.jsonurl).subscribe((data: any) => {
        this.tablist = this.jsonurl[0].tabList;
        this.utillist = this.jsonurl[0].utils;
        this.messaageslist = this.jsonurl[0].messages;
        this.title = this.jsonurl[0].pagetitle;
        // })
    }
    multilingual(test) {
        return test;
    }
    //\\ ======================== // Get getway types // ======================== //\\ 
    getGetwaytypes() {
        let getwayparm = {};
        this.commonserveice.viewGatwayTypes(getwayparm).subscribe({
            next: (response) => {
                let respData = response.RESPONSE_DATA;
                let respToken = response.RESPONSE_TOKEN;
                let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
                if (respToken == verifyToken) {
                    let res = Buffer.from(respData, 'base64');
                    res = JSON.parse(res.toString());
                    if (res.status == "200") {
                        this.getwaytypes = res.result;
                    }
                    else if (res.status == 501) {
                        this.commonserveice.directlogoutlib();
                    }
                    else {
                        console.log(res.messages);
                    }
                }
                else {
                    //this.loading=false;
                    this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.somethingWrong));
                }
            },
            error: (msg) => {
                this.commonserveice.directlogoutlib();
            }
        });
    }
    //\\ ======================== // Get getway types // ======================== //\\ 
    onTableDataChange(event) {
        this.page = event;
        this.indexNumber = (this.page - 1) * this.tableSize;
    }
    onTableSizeChange(event) {
        this.tableSize = event.target.value;
        this.page = 1;
        this.indexNumber = 0;
    }
    //\\ ======================== // View All records // ======================== //\\ 
    viewAllrecrds(typeid, name) {
        // getGetwayType
        this.selType = 0;
        this.txtName = '';
        let formParams = {
            "typeId": typeid,
            "formName": name
        };
        this.loading = true;
        this.pubUnpStatus = [];
        this.commonserveice.viewGetwayConfig(formParams).subscribe({
            next: (response) => {
                let respData = response.RESPONSE_DATA;
                let respToken = response.RESPONSE_TOKEN;
                let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
                if (respToken == verifyToken) {
                    let res = Buffer.from(respData, 'base64');
                    let responseResult = JSON.parse(res);
                    if (responseResult.status == 200) {
                        this.loading = false;
                        this.getwayList = responseResult.result;
                        // console.log(this.getwayList)
                    }
                    else if (responseResult.status == 501) {
                        this.commonserveice.directlogoutlib();
                    }
                    else {
                        this.loading = false;
                        this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.somethingWrong));
                    }
                }
                else {
                    //this.loading=false;
                    this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.somethingWrong));
                }
            },
            error: (msg) => {
                this.commonserveice.directlogoutlib();
            }
        });
    }
    // //\\ ======================== // View All records // ======================== //\\ 
    onChange(checkid, e, publishStatus) {
        let totalCheckbox = document.querySelectorAll('.rowCheck').length;
        let totalChecked = document.querySelectorAll('.rowCheck:checked').length;
        let parentcheck = document.querySelectorAll('.checkall');
        if (totalCheckbox == totalChecked) {
            parentcheck[0].checked = true;
        }
        else {
            parentcheck[0].checked = false;
        }
        if (e.target.checked) {
            if (!this.getwayIdArray.includes(checkid)) {
                this.getwayIdArray.push(checkid);
                this.pubUnpStatus.push({ 'letterId': checkid, 'publishUnpublisStatus': publishStatus });
            }
        }
        else {
            let index = this.getwayIdArray.indexOf(checkid);
            let indxAdd = 0;
            for (let mk of this.pubUnpStatus) {
                if (mk.letterId == checkid) {
                    this.pubUnpStatus.splice(indxAdd, 1);
                    break;
                }
                indxAdd++;
            }
            this.getwayIdArray.splice(index, 1);
        }
    }
    selectAll(e) {
        let allid = e.target.id;
        // alert(allid)
        let checkBoxes = document.querySelectorAll('.rowCheck');
        if (e.target.checked) {
            for (let i = 0; i < checkBoxes.length; i++) {
                let ids = checkBoxes[i].id;
                this.getwayIdArray.push(parseInt(ids));
                this.pubUnpStatus.push({ 'letterId': ids, 'publishUnpublisStatus': checkBoxes[i].getAttribute("pubstatus") });
                checkBoxes[i].checked = true;
            }
        }
        else {
            this.getwayIdArray = [];
            for (let i = 0; i < checkBoxes.length; i++) {
                checkBoxes[i].checked = false;
            }
            this.pubUnpStatus = [];
        }
    }
    // //\\ ======================== // Get old getway details // ======================== //\\
    filedata(intId, typeId, typeName) {
        this.open(this.previewModal);
        let formParams = {
            "typeId": typeId,
            "intId": intId
        };
        this.typeName = typeName;
        this.commonserveice.getPrevDetails(formParams).subscribe({
            next: (response) => {
                let respData = response.RESPONSE_DATA;
                let respToken = response.RESPONSE_TOKEN;
                let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
                if (respToken == verifyToken) {
                    let res = Buffer.from(respData, 'base64');
                    let responseResult = JSON.parse(res);
                    if (responseResult.status == 200) {
                        this.getwayDetails = responseResult.result.data;
                        // console.log(responseResult.result)
                        this.getDetailslist = responseResult.result.result;
                    }
                    else if (responseResult.status == 501) {
                        //this.commonserveice.directlogoutlib()
                    }
                    else {
                        this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.somethingWrong));
                    }
                }
                else {
                    //this.loading=false;
                    this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.somethingWrong));
                }
            },
            error: (msg) => {
                this.commonserveice.directlogoutlib();
            }
        });
    }
    //\\ ======================== // Get old getway details // ======================== //\\
    // addChangeEventForLabel() {
    //   let sessionUserLangtoken: any = sessionStorage.getItem('USER_LANGPREF');
    //   let sessionUserLang = JSON.parse(CryptoJS.AES.decrypt(sessionUserLangtoken, this.varlist.apiHashingKey).toString(CryptoJS.enc.Utf8));
    //   setTimeout(() => {
    //     this.langKey = sessionUserLang;
    //     let labelChangeEle: any = document.getElementById('languageListH');
    //     labelChangeEle.addEventListener('change', () => {
    //       this.langKey = labelChangeEle.value;
    //     });
    //   }, 1000);
    // }
    //\\ ======================== // Modal Open // ======================== //\\ 
    open(content) {
        this.modalService.open(content, { size: 'lg', backdrop: 'static', keyboard: false, ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {
        }, (reason) => { });
    }
    //\\ ======================== // Modal Open // ======================== //\\ 
    closeModal() {
        this.modalService.dismissAll();
    }
}
ViewgetwayComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewgetwayComponent, deps: [{ token: i1.Router }, { token: i2.HttpClient }, { token: i3.MsgengineLibService }, { token: i4.VarlistService }, { token: i5.NgbModal }, { token: i6.EncrypyDecrpyService }], target: i0.ɵɵFactoryTarget.Component });
ViewgetwayComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: ViewgetwayComponent, selector: "lib-viewgetway", viewQueries: [{ propertyName: "previewModal", first: true, predicate: ["previewModal"], descendants: true }], ngImport: i0, template: "<!--===Page Title===-->\n<div class=\"page-title\">\n\n    <h4>{{title | translate}}</h4>\n  </div>\n  <!--===Page Title===-->\n  <!--===controle section===-->\n  <div class=\"page-controls-section\" id=\"page-content\">\n    <div class=\"card\">\n      <div class=\"controls-section-header\">\n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\n    \n        </ul>\n        <div class=\"indicatorslist\">\n\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"getwayIdArray\"\n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewAllrecrds(selType,txtName)\"\n            (callfunction2)='selectAll($event)'></lib-libutils>\n         \n         \n        </div>\n  \n      </div>\n      <div class=\"card-body\">\n  \n\n        <div class=\"controls-section\">\n  \n          <!-- Search Panel -->\n          <div class=\"search-container active\" id=\"search-container\">\n  \n            <div class=\"search-sec\">\n  \n              <div class=\"row\">\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <select class=\"form-select\" [(ngModel)]=\"selType\">\n                      <option value=\"0\" >{{\"Select Gateway Type\" | translate}}</option>\n                      <option *ngFor=\"let gettype of getwaytypes; let i index\" [value]=\"gettype.typeId\">\n                        {{gettype.typeName}}</option>\n  \n                    </select>\n                  </div>\n                </div>\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <input type=\"text\" class=\"form-control\" name=\"Form Name\" [(ngModel)]=\"txtName\"\n                      placeholder=\"{{'Enter Name' | translate}}\">\n                  </div>\n                </div>\n  \n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary\" (click)=\"viewAllrecrds(selType,txtName)\">{{\"Search\" | translate}} </button>\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewAllrecrds(0,'')\"> {{\"Reset\" | translate}}</button>\n                  </div>\n                </div>\n              </div>\n  \n  \n            </div>\n  \n  \n          </div>\n          <!-- Search Panel -->\n  \n          <div *ngIf=\"getwayList?.length > 0; else norecord\">\n  \n            <div class=\"d-flex justify-content-between mb-3\">\n              <div>\n                <ul class=\"legends\">\n                  <li>\n                    <span class=\"bg-success\"></span>{{\"Publish\" | translate}}\n                  </li>\n                  <li>\n                    <span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}\n                  </li>\n                </ul>\n              </div>\n              <div>\n  \n                <!-- {{\"Per Page\"}}:\n                <select (change)=\"onTableSizeChange($event)\">\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\n                    {{ size }}\n                  </option>\n                </select> -->\n  \n              </div>\n  \n            </div>\n  \n            <div class=\"table-responsive \" id=\"print-section\">\n                \n              <table data-toggle=\"table\" class=\"table table-bordered \">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:25px\" valign=\"top\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\n                          name=\"checkall\" value=\"checkall\">\n  \n                      </div>\n                    </th>\n                    <th scope=\"col\" style=\"width:50px\">{{\"Sl No\" | translate}}</th>\n                    <th scope=\"col\">{{\"Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"Name\" | translate}}</th>\n  \n                    <th scope=\"col\">{{\"URL\" | translate}}</th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:140px\">{{\"Action\" | translate}}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let getways of getwayList| paginate\n                                                                      : {\n                                                                          itemsPerPage: tableSize,\n                                                                          currentPage: page,\n                                                                          totalItems: count\n                                                                        };\n                                                                  let i = index\">\n                    <td class=\"noPrint border-left-2\"\n                      [ngClass]=\"{'border-left-danger': getways.tinStatus == 0 , 'border-left-success': getways.tinStatus == 1 }\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\n                          (change)=\"onChange(getways.intId, $event,getways.tinStatus)\"\n                          [attr.pubstatus]=\"getways.tinStatus\" name=\"{{getways.intId }}\" [id]=\"getways.intId\"\n                          [value]=\"getways.intId\">\n  \n                      </div>\n                    </td>\n                    <td>{{i+1+indexNumber}}</td>\n                    <td>{{getways.typeName}} </td>\n                    <td>{{getways.vchName}}</td>\n  \n                    <td>{{getways.vchUrl}}</td>\n                    <td class=\"noPrint\">\n                      <a class=\"text-info\"  (click)=\"filedata(getways.intId,getways.tinType,getways.typeName)\" >{{\"View\" | translate}}</a>\n                     \n              \n  \n                    </td>\n                  </tr>\n  \n  \n  \n  \n                </tbody>\n              </table>\n            </div>\n  \n\n            <!-- <lib-pagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-pagination> -->\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\n            \n          </div>\n          <ng-template #norecord>\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\n  \n          </ng-template>\n  \n  \n        </div>\n  \n      </div>\n  \n    </div>\n  \n  \n  \n  </div>\n  <ng-template #previewModal id=\"previewModal\" let-modal>\n    <div class=\"modal-header\">\n      <h5 class=\"modal-title mb-0\" id=\"movetoFolderModalLabel\">\n        {{\"Gateway Details\" | translate}}\n      </h5>\n      <button\n        type=\"button\"\n        class=\"btn-close\"\n        (click)=\"closeModal()\"\n        aria-label=\"Close\"\n      ></button>\n    </div>\n\n\n\n    <div class=\"modal-body\">\n        <div *ngFor=\"let getways of getwayDetails\">\n            <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Type\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{typeName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Name\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.vchName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Url\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.url}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Data post method\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.dataPostMethod}} </label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Contact Address\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.contactaddress}}</label>\n                </div>\n              </div>\n        </div>\n       \n       \n        <table class=\"table table-bordered mt-3\">\n            <thead>\n              <tr>\n                <th scope=\"col\">{{\"Label\" | translate}}</th>\n                <th scope=\"col\">{{\"Key\" | translate}}</th>\n                <th scope=\"col\">{{\"Value\" | translate}}</th>\n\n              </tr>\n            </thead>\n            <tbody>\n\n              <tr *ngFor=\"let apilist of getDetailslist; let i = index\">\n                <td>{{apilist.vchLabel}}</td>\n                <td>{{apilist.vchKey}}</td>\n                <td>{{apilist.vchValue}}</td>\n              </tr>\n\n            </tbody>\n          </table>\n    </div>\n  </ng-template>", styles: [""], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i9.LibtabsComponent, selector: "lib-libtabs", inputs: ["tabMessage", "activeid"] }, { kind: "component", type: i10.LibutilsComponent, selector: "lib-libutils", inputs: ["childMessage", "sendIds", "funType", "pubUnpubStatus", "reloadUrl"], outputs: ["callfunction", "callfunction3"] }, { kind: "component", type: i11.LibpaginationComponent, selector: "lib-libpagination", inputs: ["page", "count", "tableSize"], outputs: ["callfunction"] }, { kind: "pipe", type: i12.PaginatePipe, name: "paginate" }, { kind: "pipe", type: i13.TranslatePipe, name: "translate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewgetwayComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-viewgetway', template: "<!--===Page Title===-->\n<div class=\"page-title\">\n\n    <h4>{{title | translate}}</h4>\n  </div>\n  <!--===Page Title===-->\n  <!--===controle section===-->\n  <div class=\"page-controls-section\" id=\"page-content\">\n    <div class=\"card\">\n      <div class=\"controls-section-header\">\n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\n    \n        </ul>\n        <div class=\"indicatorslist\">\n\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"getwayIdArray\"\n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewAllrecrds(selType,txtName)\"\n            (callfunction2)='selectAll($event)'></lib-libutils>\n         \n         \n        </div>\n  \n      </div>\n      <div class=\"card-body\">\n  \n\n        <div class=\"controls-section\">\n  \n          <!-- Search Panel -->\n          <div class=\"search-container active\" id=\"search-container\">\n  \n            <div class=\"search-sec\">\n  \n              <div class=\"row\">\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <select class=\"form-select\" [(ngModel)]=\"selType\">\n                      <option value=\"0\" >{{\"Select Gateway Type\" | translate}}</option>\n                      <option *ngFor=\"let gettype of getwaytypes; let i index\" [value]=\"gettype.typeId\">\n                        {{gettype.typeName}}</option>\n  \n                    </select>\n                  </div>\n                </div>\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <input type=\"text\" class=\"form-control\" name=\"Form Name\" [(ngModel)]=\"txtName\"\n                      placeholder=\"{{'Enter Name' | translate}}\">\n                  </div>\n                </div>\n  \n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary\" (click)=\"viewAllrecrds(selType,txtName)\">{{\"Search\" | translate}} </button>\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewAllrecrds(0,'')\"> {{\"Reset\" | translate}}</button>\n                  </div>\n                </div>\n              </div>\n  \n  \n            </div>\n  \n  \n          </div>\n          <!-- Search Panel -->\n  \n          <div *ngIf=\"getwayList?.length > 0; else norecord\">\n  \n            <div class=\"d-flex justify-content-between mb-3\">\n              <div>\n                <ul class=\"legends\">\n                  <li>\n                    <span class=\"bg-success\"></span>{{\"Publish\" | translate}}\n                  </li>\n                  <li>\n                    <span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}\n                  </li>\n                </ul>\n              </div>\n              <div>\n  \n                <!-- {{\"Per Page\"}}:\n                <select (change)=\"onTableSizeChange($event)\">\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\n                    {{ size }}\n                  </option>\n                </select> -->\n  \n              </div>\n  \n            </div>\n  \n            <div class=\"table-responsive \" id=\"print-section\">\n                \n              <table data-toggle=\"table\" class=\"table table-bordered \">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:25px\" valign=\"top\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\n                          name=\"checkall\" value=\"checkall\">\n  \n                      </div>\n                    </th>\n                    <th scope=\"col\" style=\"width:50px\">{{\"Sl No\" | translate}}</th>\n                    <th scope=\"col\">{{\"Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"Name\" | translate}}</th>\n  \n                    <th scope=\"col\">{{\"URL\" | translate}}</th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:140px\">{{\"Action\" | translate}}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let getways of getwayList| paginate\n                                                                      : {\n                                                                          itemsPerPage: tableSize,\n                                                                          currentPage: page,\n                                                                          totalItems: count\n                                                                        };\n                                                                  let i = index\">\n                    <td class=\"noPrint border-left-2\"\n                      [ngClass]=\"{'border-left-danger': getways.tinStatus == 0 , 'border-left-success': getways.tinStatus == 1 }\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\n                          (change)=\"onChange(getways.intId, $event,getways.tinStatus)\"\n                          [attr.pubstatus]=\"getways.tinStatus\" name=\"{{getways.intId }}\" [id]=\"getways.intId\"\n                          [value]=\"getways.intId\">\n  \n                      </div>\n                    </td>\n                    <td>{{i+1+indexNumber}}</td>\n                    <td>{{getways.typeName}} </td>\n                    <td>{{getways.vchName}}</td>\n  \n                    <td>{{getways.vchUrl}}</td>\n                    <td class=\"noPrint\">\n                      <a class=\"text-info\"  (click)=\"filedata(getways.intId,getways.tinType,getways.typeName)\" >{{\"View\" | translate}}</a>\n                     \n              \n  \n                    </td>\n                  </tr>\n  \n  \n  \n  \n                </tbody>\n              </table>\n            </div>\n  \n\n            <!-- <lib-pagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-pagination> -->\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\n            \n          </div>\n          <ng-template #norecord>\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\n  \n          </ng-template>\n  \n  \n        </div>\n  \n      </div>\n  \n    </div>\n  \n  \n  \n  </div>\n  <ng-template #previewModal id=\"previewModal\" let-modal>\n    <div class=\"modal-header\">\n      <h5 class=\"modal-title mb-0\" id=\"movetoFolderModalLabel\">\n        {{\"Gateway Details\" | translate}}\n      </h5>\n      <button\n        type=\"button\"\n        class=\"btn-close\"\n        (click)=\"closeModal()\"\n        aria-label=\"Close\"\n      ></button>\n    </div>\n\n\n\n    <div class=\"modal-body\">\n        <div *ngFor=\"let getways of getwayDetails\">\n            <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Type\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{typeName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Name\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.vchName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Url\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.url}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Data post method\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.dataPostMethod}} </label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Contact Address\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.contactaddress}}</label>\n                </div>\n              </div>\n        </div>\n       \n       \n        <table class=\"table table-bordered mt-3\">\n            <thead>\n              <tr>\n                <th scope=\"col\">{{\"Label\" | translate}}</th>\n                <th scope=\"col\">{{\"Key\" | translate}}</th>\n                <th scope=\"col\">{{\"Value\" | translate}}</th>\n\n              </tr>\n            </thead>\n            <tbody>\n\n              <tr *ngFor=\"let apilist of getDetailslist; let i = index\">\n                <td>{{apilist.vchLabel}}</td>\n                <td>{{apilist.vchKey}}</td>\n                <td>{{apilist.vchValue}}</td>\n              </tr>\n\n            </tbody>\n          </table>\n    </div>\n  </ng-template>" }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.HttpClient }, { type: i3.MsgengineLibService }, { type: i4.VarlistService }, { type: i5.NgbModal }, { type: i6.EncrypyDecrpyService }]; }, propDecorators: { previewModal: [{
                type: ViewChild,
                args: ['previewModal']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2dldHdheS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tc2dlbmdpbmUtbGliL3NyYy9saWIvdmlld2dldHdheS92aWV3Z2V0d2F5LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21zZ2VuZ2luZS1saWIvc3JjL2xpYi92aWV3Z2V0d2F5L3ZpZXdnZXR3YXkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBc0IsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSXpFLE9BQU8sS0FBSyxRQUFRLE1BQU0sV0FBVyxDQUFDO0FBR3RDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQVNoQyxNQUFNLE9BQU8sbUJBQW1CO0lBc0Q5QixZQUFvQixLQUFhLEVBQVUsVUFBc0IsRUFFeEQsY0FBa0MsRUFDakMsT0FBc0IsRUFDdEIsWUFBc0IsRUFDdEIsTUFBNEI7UUFMbEIsVUFBSyxHQUFMLEtBQUssQ0FBUTtRQUFVLGVBQVUsR0FBVixVQUFVLENBQVk7UUFFeEQsbUJBQWMsR0FBZCxjQUFjLENBQW9CO1FBQ2pDLFlBQU8sR0FBUCxPQUFPLENBQWU7UUFDdEIsaUJBQVksR0FBWixZQUFZLENBQVU7UUFDdEIsV0FBTSxHQUFOLE1BQU0sQ0FBc0I7UUFyRHRDLFlBQU8sR0FBTztZQUNaO2dCQUNFLFdBQVcsRUFBQyxxQkFBcUI7Z0JBQ2pDLFNBQVMsRUFBQztvQkFFUixFQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLGVBQWUsRUFBQztvQkFDMUMsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxnQkFBZ0IsRUFBRSxVQUFVLEVBQUMsUUFBUSxFQUFDO2lCQUNsRTtnQkFDQyxPQUFPLEVBQUM7b0JBQ1IsRUFBQyxVQUFVLEVBQUMsUUFB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QXNDO0lBQ3RDLDBFQUEwRTtJQUMxRSx3REFBd0Q7SUFDeEQsNkNBQTZDO0lBRTdDLFVBQVU7SUFDVixjQUFjO0lBRWQsSUFBSTtJQUNKLDZFQUE2RTtJQUM3RSxJQUFJLENBQUMsT0FBWTtRQUNmLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxtQkFBbUIsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3RKLENBQUMsRUFBRSxDQUFDLE1BQVcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUNELDZFQUE2RTtJQUM3RSxVQUFVO1FBQ1IsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNqQyxDQUFDOztpSEE3VVUsbUJBQW1CO3FHQUFuQixtQkFBbUIsb0tDakJoQyx1elNBb1BnQjs0RkRuT0gsbUJBQW1CO2tCQUwvQixTQUFTOytCQUNFLGdCQUFnQjsrT0FLQyxZQUFZO3NCQUF0QyxTQUFTO3VCQUFDLGNBQWMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJztcbmltcG9ydCB7IE1zZ2VuZ2luZUxpYlNlcnZpY2UgfSBmcm9tICcuLi9tc2dlbmdpbmUtbGliLnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgQ3J5cHRvSlMgZnJvbSAnY3J5cHRvLWpzJztcbmltcG9ydCB7IEVuY3J5cHlEZWNycHlTZXJ2aWNlIH0gZnJvbSAnLi4vZW5jcnlweS1kZWNycHkuc2VydmljZSc7XG5pbXBvcnQgeyBWYXJsaXN0U2VydmljZSB9IGZyb20gJy4uL3Zhcmxpc3Quc2VydmljZSc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgeyBOZ2JNb2RhbCB9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLXZpZXdnZXR3YXknLFxuICB0ZW1wbGF0ZVVybDogJy4vdmlld2dldHdheS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3ZpZXdnZXR3YXkuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIFZpZXdnZXR3YXlDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBAVmlld0NoaWxkKCdwcmV2aWV3TW9kYWwnKSBwcmV2aWV3TW9kYWw6IEVsZW1lbnRSZWY7XG4gIHRpdGxlOiBhbnk7XG4gIHRhYmxpc3Q6IGFueTtcbiAgdXRpbGxpc3Q6IGFueTtcbiAgbWVzc2FhZ2VzbGlzdDogYW55O1xuICBqc29udXJsOmFueSA9IFtcbiAgICB7XG4gICAgICBcInBhZ2V0aXRsZVwiOlwiVmlldyBHYXRld2F5IENvbmZpZ1wiLFxuICAgICAgXCJ0YWJMaXN0XCI6W1xuICAgICBcbiAgICAgICAge1widGFiTmFtZVwiOlwiQWRkXCIsXCJ0YWJVcmxcIjpcIi4uL2FkZGdhdGV3YXlcIn0sXG4gICAgICAgIHtcInRhYk5hbWVcIjpcIlZpZXdcIixcInRhYlVybFwiOlwiLi4vdmlld2dhdGV3YXlcIiAsXCJ0YWJDbGFzc1wiOlwiYWN0aXZlXCJ9XG4gICAgICBdLFxuICAgICAgICBcInV0aWxzXCI6W1xuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwic2VhcmNoXCJ9LFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwicHJpbnRcIn0sXG4gICAgICAgIHtcInV0aWxOYW1lXCI6XCJkZWxldGVcIn0sXG4gICAgICAgIHtcInV0aWxOYW1lXCI6XCJwdWJsaXNoXCJ9LFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwidW5wdWJsaXNoXCJ9XG4gICAgICAgXG4gICAgICAgIF0sXG4gICAgICBcIm1lc3NhZ2VzXCI6XG4gICAgICAgIHtcbiAgICAgICAgICBcInN1Y2Nlc3NNc2dcIjpcIkRhdGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgIFwiZXJyb3JNc2dcIjpcIkVycm9yIGluIGRhdGFiYXNlXCIsXG4gICAgICAgIFwid2FybmluZ3R5cGVcIjpcIllvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJlY29yZFwiLFxuICAgICAgICBcImRlbGV0ZU1zZ1wiOlwiUmVjb3JkIGhhcyBiZWVuIGRlbGV0ZWRcIlxuICAgICAgICB9XG4gICAgICBcbiAgICB9XG4gIF07XG5cbiAgZ2V0d2F5dHlwZXM6IGFueTtcbiAgc2VsVHlwZTogYW55ID0gMDtcbiAgdHh0TmFtZTogYW55ID0gJyc7XG4gIGdldHdheUxpc3Q6IGFueTtcbiAgUE9TVFM6IGFueTtcbiAgcGFnZTogbnVtYmVyID0gMTtcbiAgY291bnQ6IG51bWJlciA9IDA7XG4gIHRhYmxlU2l6ZTogbnVtYmVyID0gMTA7XG4gIHBhZ2VTaXplcyA9IFsxMCwgMjAsIDUwLCAxMDAsIDUwMCwgMTAwMF07XG5cbiAgZ2V0d2F5SWRBcnJheTogYW55ID0gW107XG4gIHB1YlVucFN0YXR1czogYW55W10gPSBbXTtcbiAgZ2V0RGV0YWlsc2xpc3Q6IGFueTtcbiAgZ2V0d2F5RGV0YWlsczphbnk7XG4gIGNoa0FsbDogYW55ID0gMDtcbiAgc2V2TmFtZTogYW55ID0gXCIgXCI7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGxhbmdLZXk6IGFueSA9ICdlbic7XG4gIGluZGV4TnVtYmVyOiBhbnkgPSAwO1xuICB0eXBlTmFtZTphbnk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByb3V0ZTogUm91dGVyLCBwcml2YXRlIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsXG4gICAgXG4gICAgcHVibGljIGNvbW1vbnNlcnZlaWNlOk1zZ2VuZ2luZUxpYlNlcnZpY2UsXG4gICAgcHJpdmF0ZSB2YXJsaXN0OlZhcmxpc3RTZXJ2aWNlLCBcbiAgICBwcml2YXRlIG1vZGFsU2VydmljZTogTmdiTW9kYWwsIFxuICAgIHByaXZhdGUgZW5jRGVjOiBFbmNyeXB5RGVjcnB5U2VydmljZSkge1xuXG50aGlzLnNldk5hbWU9dmFybGlzdC5zZXJ2aWNlTmFtZTtcbiAgICAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuXG4gICAgdGhpcy5sb2FkdmFybGlzdCgpO1xuICAgIHRoaXMuZ2V0R2V0d2F5dHlwZXMoKTtcbiAgICB0aGlzLnZpZXdBbGxyZWNyZHModGhpcy5zZWxUeXBlLHRoaXMudHh0TmFtZSk7XG4gICAgXG4gICAgLy8gY29uc29sZS5sb2codGhpcy52aWV3QWxscmVjcmRzKCkpO1xuICAgIC8vdGhpcy5hZGRDaGFuZ2VFdmVudEZvckxhYmVsKCk7XG5cbiAgfVxuICBsb2FkdmFybGlzdCgpIHtcbiAgICAvLyB0aGlzLmh0dHBDbGllbnQuZ2V0PGFueT4odGhpcy5qc29udXJsKS5zdWJzY3JpYmUoKGRhdGE6IGFueSkgPT4ge1xuICAgICAgdGhpcy50YWJsaXN0ID0gdGhpcy5qc29udXJsWzBdLnRhYkxpc3Q7XG4gICAgICB0aGlzLnV0aWxsaXN0ID0gdGhpcy5qc29udXJsWzBdLnV0aWxzXG4gICAgICB0aGlzLm1lc3NhYWdlc2xpc3QgPSB0aGlzLmpzb251cmxbMF0ubWVzc2FnZXM7XG4gICAgICB0aGlzLnRpdGxlID0gdGhpcy5qc29udXJsWzBdLnBhZ2V0aXRsZTtcbiAgICAvLyB9KVxuICB9XG4gIG11bHRpbGluZ3VhbCh0ZXN0OiBhbnkpIHtcbiAgICByZXR1cm4gdGVzdDtcbiAgfVxuXG5cbi8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gR2V0IGdldHdheSB0eXBlcyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuZ2V0R2V0d2F5dHlwZXMoKSB7XG4gICBsZXQgZ2V0d2F5cGFybT17fVxuICAgdGhpcy5jb21tb25zZXJ2ZWljZS52aWV3R2F0d2F5VHlwZXMoZ2V0d2F5cGFybSkuc3Vic2NyaWJlKHtcbiAgICBuZXh0OiAocmVzcG9uc2UpID0+IHtcbiAgICAgIGxldCByZXNwRGF0YSA9IHJlc3BvbnNlLlJFU1BPTlNFX0RBVEE7XG4gICAgICBsZXQgcmVzcFRva2VuID0gcmVzcG9uc2UuUkVTUE9OU0VfVE9LRU47XG4gICAgICBsZXQgdmVyaWZ5VG9rZW4gPSBDcnlwdG9KUy5IbWFjU0hBMjU2KHJlc3BEYXRhLCB0aGlzLnZhcmxpc3QuYXBpSGFzaGluZ0tleSkudG9TdHJpbmcoKTtcbiAgICAgXG4gICAgICBpZiAocmVzcFRva2VuID09IHZlcmlmeVRva2VuKSB7XG4gICAgICAgIGxldCByZXM6IGFueSA9IEJ1ZmZlci5mcm9tKHJlc3BEYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgIHJlcyA9IEpTT04ucGFyc2UocmVzLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSBcIjIwMFwiKSB7XG4gICAgICAgICAgdGhpcy5nZXR3YXl0eXBlcyA9IHJlcy5yZXN1bHQ7XG4gICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocmVzLnN0YXR1cz09NTAxKXtcbiAgICAgICAgXG4gICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5kaXJlY3Rsb2dvdXRsaWIoKVxuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5tZXNzYWdlcylcbiAgICAgICAgfVxuICAgICAgIH1cbiAgICAgICBlbHNle1xuICAgICAgICAvL3RoaXMubG9hZGluZz1mYWxzZTtcbiAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5zd2FsZmlyZSgnZXJyb3InLHRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LnNvbWV0aGluZ1dyb25nKSlcbiAgICAgXG4gICAgICAgfVxuICAgIH0sXG4gICAgZXJyb3I6IChtc2cpID0+IHtcbiAgICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5kaXJlY3Rsb2dvdXRsaWIoKVxuICAgfVxuIH0pXG5cbiB9XG5cbi8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gR2V0IGdldHdheSB0eXBlcyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuXG4gIG9uVGFibGVEYXRhQ2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLnBhZ2UgPSBldmVudDtcbiAgICB0aGlzLmluZGV4TnVtYmVyID0gKHRoaXMucGFnZSAtIDEpICogdGhpcy50YWJsZVNpemU7XG5cbiAgfVxuICBvblRhYmxlU2l6ZUNoYW5nZShldmVudDogYW55KTogdm9pZCB7XG4gICAgdGhpcy50YWJsZVNpemUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5wYWdlID0gMTtcbiAgICB0aGlzLmluZGV4TnVtYmVyID0gMDtcbiAgfVxuXG5cbi8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gVmlldyBBbGwgcmVjb3JkcyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuICB2aWV3QWxscmVjcmRzKHR5cGVpZDphbnksbmFtZTphbnkpIHtcbiAgIC8vIGdldEdldHdheVR5cGVcbiAgICB0aGlzLnNlbFR5cGUgPSAwO1xuICAgIHRoaXMudHh0TmFtZSA9ICcnO1xuICAgIGxldCBmb3JtUGFyYW1zID0ge1xuICAgICAgXCJ0eXBlSWRcIjogdHlwZWlkLFxuICAgICAgXCJmb3JtTmFtZVwiOiBuYW1lXG4gICAgICB9O1xuICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy5wdWJVbnBTdGF0dXMgPSBbXTtcbiAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLnZpZXdHZXR3YXlDb25maWcoZm9ybVBhcmFtcykuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICBsZXQgcmVzcERhdGEgPSByZXNwb25zZS5SRVNQT05TRV9EQVRBO1xuICAgICAgICBsZXQgcmVzcFRva2VuID0gcmVzcG9uc2UuUkVTUE9OU0VfVE9LRU47XG4gICAgICBcbiAgICAgICAgbGV0IHZlcmlmeVRva2VuID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihyZXNwRGF0YSwgdGhpcy52YXJsaXN0LmFwaUhhc2hpbmdLZXkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgIGlmIChyZXNwVG9rZW4gPT0gdmVyaWZ5VG9rZW4pIHtcbiAgICAgICBcbiAgICAgICAgbGV0IHJlczphbnkgPSBCdWZmZXIuZnJvbShyZXNwRGF0YSwnYmFzZTY0Jyk7IFxuICAgICAgICBsZXQgcmVzcG9uc2VSZXN1bHQgPSBKU09OLnBhcnNlKHJlcylcbiAgICAgICAgIFxuICAgICAgXG4gICAgICBcbiAgICAgICAgICBpZiAocmVzcG9uc2VSZXN1bHQuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nPWZhbHNlO1xuICAgICAgICAgICAgdGhpcy5nZXR3YXlMaXN0ID0gcmVzcG9uc2VSZXN1bHQucmVzdWx0O1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0d2F5TGlzdClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihyZXNwb25zZVJlc3VsdC5zdGF0dXM9PTUwMSl7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5kaXJlY3Rsb2dvdXRsaWIoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nPWZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5zd2FsZmlyZSgnZXJyb3InLHRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LnNvbWV0aGluZ1dyb25nKSlcbiAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAvL3RoaXMubG9hZGluZz1mYWxzZTtcbiAgICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2Uuc3dhbGZpcmUoJ2Vycm9yJyx0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5zb21ldGhpbmdXcm9uZykpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogKG1zZykgPT4ge1xuICAgICAgICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2UuZGlyZWN0bG9nb3V0bGliKClcbiAgICAgfVxuICAgfSlcblxuICB9XG4vLyAvL1xcXFwgPT09PT09PT09PT09PT09PT09PT09PT09IC8vIFZpZXcgQWxsIHJlY29yZHMgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IC8vXFxcXCBcbiBcblxuXG4gICBvbkNoYW5nZShjaGVja2lkOiBhbnksIGU6IGFueSwgcHVibGlzaFN0YXR1czogYW55KSB7XG5cbiAgICBsZXQgdG90YWxDaGVja2JveDphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93Q2hlY2snKS5sZW5ndGg7XG4gICAgbGV0IHRvdGFsQ2hlY2tlZDphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93Q2hlY2s6Y2hlY2tlZCcpLmxlbmd0aDtcbiAgICBsZXQgcGFyZW50Y2hlY2s6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYWxsJyk7XG4gXG4gICAgaWYodG90YWxDaGVja2JveCA9PSB0b3RhbENoZWNrZWQpIHtcbiAgICAgIHBhcmVudGNoZWNrWzBdLmNoZWNrZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRjaGVja1swXS5jaGVja2VkID0gZmFsc2U7XG4gICAgfVxuICAgIFxuXG4gICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgIGlmICghdGhpcy5nZXR3YXlJZEFycmF5LmluY2x1ZGVzKGNoZWNraWQpKSB7XG4gICAgICAgIHRoaXMuZ2V0d2F5SWRBcnJheS5wdXNoKGNoZWNraWQpO1xuICAgICAgICB0aGlzLnB1YlVucFN0YXR1cy5wdXNoKHsgJ2xldHRlcklkJzogY2hlY2tpZCwgJ3B1Ymxpc2hVbnB1Ymxpc1N0YXR1cyc6IHB1Ymxpc2hTdGF0dXMgfSk7XG4gICAgICB9XG4gXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0d2F5SWRBcnJheS5pbmRleE9mKGNoZWNraWQpO1xuICAgICAgbGV0IGluZHhBZGQ6IG51bWJlciA9IDA7XG4gICAgICBmb3IgKGxldCBtayBvZiB0aGlzLnB1YlVucFN0YXR1cykge1xuICAgICAgICBpZiAobWsubGV0dGVySWQgPT0gY2hlY2tpZCkge1xuICAgICAgICAgIHRoaXMucHViVW5wU3RhdHVzLnNwbGljZShpbmR4QWRkLCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpbmR4QWRkKys7XG4gICAgICB9XG4gICAgICB0aGlzLmdldHdheUlkQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuXG4gIHNlbGVjdEFsbChlOiBhbnkpIHtcbiAgICBsZXQgYWxsaWQ9ZS50YXJnZXQuaWQ7XG4gICAvLyBhbGVydChhbGxpZClcbiAgICBcbiAgICBsZXQgY2hlY2tCb3hlczphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93Q2hlY2snKTtcbiBcbiAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tCb3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgaWRzID0gY2hlY2tCb3hlc1tpXS5pZDtcbiAgICAgICAgdGhpcy5nZXR3YXlJZEFycmF5LnB1c2gocGFyc2VJbnQoaWRzKSk7XG4gICAgICAgIHRoaXMucHViVW5wU3RhdHVzLnB1c2goeyAnbGV0dGVySWQnOiBpZHMsICdwdWJsaXNoVW5wdWJsaXNTdGF0dXMnOiBjaGVja0JveGVzW2ldLmdldEF0dHJpYnV0ZShcInB1YnN0YXR1c1wiKSB9KVxuXG4gICAgICAgIGNoZWNrQm94ZXNbaV0uY2hlY2tlZCA9IHRydWU7XG5cbiAgICAgIH1cblxuICAgXG4gICAgICBcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgIFxuICAgICAgdGhpcy5nZXR3YXlJZEFycmF5ID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrQm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hlY2tCb3hlc1tpXS5jaGVja2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLnB1YlVucFN0YXR1cyA9IFtdXG4gICAgfVxuICB9XG5cbi8vIC8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gR2V0IG9sZCBnZXR3YXkgZGV0YWlscyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcXG4gICBmaWxlZGF0YShpbnRJZDogYW55LCB0eXBlSWQ6IGFueSx0eXBlTmFtZTphbnkpIHtcbiAgICB0aGlzLm9wZW4odGhpcy5wcmV2aWV3TW9kYWwpO1xuICAgIGxldCBmb3JtUGFyYW1zID1cbiAgICB7XG4gICAgICBcInR5cGVJZFwiOiB0eXBlSWQsXG4gICAgICBcImludElkXCI6IGludElkXG4gICAgfTtcbiAgICB0aGlzLnR5cGVOYW1lPXR5cGVOYW1lO1xuICAgIFxuICAgIHRoaXMuY29tbW9uc2VydmVpY2UuZ2V0UHJldkRldGFpbHMoZm9ybVBhcmFtcykuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICBsZXQgcmVzcERhdGEgPSByZXNwb25zZS5SRVNQT05TRV9EQVRBO1xuICAgICAgICBsZXQgcmVzcFRva2VuID0gcmVzcG9uc2UuUkVTUE9OU0VfVE9LRU47XG4gICAgICAgXG4gICAgICAgIGxldCB2ZXJpZnlUb2tlbiA9IENyeXB0b0pTLkhtYWNTSEEyNTYocmVzcERhdGEsIHRoaXMudmFybGlzdC5hcGlIYXNoaW5nS2V5KS50b1N0cmluZygpO1xuICAgICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BUb2tlbiA9PSB2ZXJpZnlUb2tlbikge1xuICAgICAgIGxldCByZXM6YW55ID0gQnVmZmVyLmZyb20ocmVzcERhdGEsJ2Jhc2U2NCcpOyBcbiAgICAgICBsZXQgcmVzcG9uc2VSZXN1bHQ9IEpTT04ucGFyc2UocmVzKVxuICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlc3BvbnNlUmVzdWx0LnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgdGhpcy5nZXR3YXlEZXRhaWxzID0gcmVzcG9uc2VSZXN1bHQucmVzdWx0LmRhdGE7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2VSZXN1bHQucmVzdWx0KVxuICAgICAgICAgICAgdGhpcy5nZXREZXRhaWxzbGlzdCA9IHJlc3BvbnNlUmVzdWx0LnJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgIFxuICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgfVxuICAgICAgIFxuICAgICAgICAgIGVsc2UgaWYocmVzcG9uc2VSZXN1bHQuc3RhdHVzPT01MDEpe1xuICAgICAgICAgICAgXG4gICAgICAgICAgLy90aGlzLmNvbW1vbnNlcnZlaWNlLmRpcmVjdGxvZ291dGxpYigpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5zd2FsZmlyZSgnZXJyb3InLHRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LnNvbWV0aGluZ1dyb25nKSlcbiAgICAgICAgICB9XG4gICAgICAgICB9XG4gICAgICAgICBlbHNle1xuICAgICAgICAgIC8vdGhpcy5sb2FkaW5nPWZhbHNlO1xuICAgICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2Uuc3dhbGZpcmUoJ2Vycm9yJyx0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5zb21ldGhpbmdXcm9uZykpXG4gICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IChtc2cpID0+IHtcbiAgICAgICAgICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLmRpcmVjdGxvZ291dGxpYigpXG4gICAgIH1cbiAgIH0pXG5cblxuICB9XG5cbi8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gR2V0IG9sZCBnZXR3YXkgZGV0YWlscyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcXG5cbiAgLy8gYWRkQ2hhbmdlRXZlbnRGb3JMYWJlbCgpIHtcbiAgLy8gICBsZXQgc2Vzc2lvblVzZXJMYW5ndG9rZW46IGFueSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1VTRVJfTEFOR1BSRUYnKTtcbiAgLy8gICBsZXQgc2Vzc2lvblVzZXJMYW5nID0gSlNPTi5wYXJzZShDcnlwdG9KUy5BRVMuZGVjcnlwdChzZXNzaW9uVXNlckxhbmd0b2tlbiwgdGhpcy52YXJsaXN0LmFwaUhhc2hpbmdLZXkpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KSk7XG4gIC8vICAgc2V0VGltZW91dCgoKSA9PiB7XG4gIC8vICAgICB0aGlzLmxhbmdLZXkgPSBzZXNzaW9uVXNlckxhbmc7XG4gIC8vICAgICBsZXQgbGFiZWxDaGFuZ2VFbGU6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5ndWFnZUxpc3RIJyk7XG4gIC8vICAgICBsYWJlbENoYW5nZUVsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIC8vICAgICAgIHRoaXMubGFuZ0tleSA9IGxhYmVsQ2hhbmdlRWxlLnZhbHVlO1xuXG4gIC8vICAgICB9KTtcbiAgLy8gICB9LCAxMDAwKTtcblxuICAvLyB9XG4gIC8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gTW9kYWwgT3BlbiAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuICBvcGVuKGNvbnRlbnQ6IGFueSkge1xuICAgIHRoaXMubW9kYWxTZXJ2aWNlLm9wZW4oY29udGVudCwgeyBzaXplOiAnbGcnLCBiYWNrZHJvcDogJ3N0YXRpYycsIGtleWJvYXJkOiBmYWxzZSwgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC1iYXNpYy10aXRsZScgfSkucmVzdWx0LnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XG4gICAgfSwgKHJlYXNvbjogYW55KSA9PiB7IH0pO1xuICB9XG4gIC8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gTW9kYWwgT3BlbiAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuICBjbG9zZU1vZGFsKCkge1xuICAgIHRoaXMubW9kYWxTZXJ2aWNlLmRpc21pc3NBbGwoKTtcbiAgfVxuICAvL1xcXFwgPT09PT09PT09PT09PT09PT09PT09PT09IC8vIE1vZGFsIENsb3NlIC8vID09PT09PT09PT09PT09PT09PT09PT09PSAvL1xcXFxcbn1cbiIsIjwhLS09PT1QYWdlIFRpdGxlPT09LS0+XG48ZGl2IGNsYXNzPVwicGFnZS10aXRsZVwiPlxuXG4gICAgPGg0Pnt7dGl0bGUgfCB0cmFuc2xhdGV9fTwvaDQ+XG4gIDwvZGl2PlxuICA8IS0tPT09UGFnZSBUaXRsZT09PS0tPlxuICA8IS0tPT09Y29udHJvbGUgc2VjdGlvbj09PS0tPlxuICA8ZGl2IGNsYXNzPVwicGFnZS1jb250cm9scy1zZWN0aW9uXCIgaWQ9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzLXNlY3Rpb24taGVhZGVyXCI+XG4gICAgICAgIDx1bCBjbGFzcz1cIm5hdiBuYXYtdGFicyBuYXYtZmlsbFwiIHJvbGU9XCJ0YWJsaXN0XCI+XG4gICAgICAgICAgICA8bGliLWxpYnRhYnMgKm5nRm9yPVwibGV0IHRhYmxpc3Qgb2YgdGFibGlzdFwiIFt0YWJNZXNzYWdlXT1cInRhYmxpc3RcIj48L2xpYi1saWJ0YWJzPlxuICAgIFxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5kaWNhdG9yc2xpc3RcIj5cblxuICAgICAgICAgICAgPGxpYi1saWJ1dGlscyAqbmdGb3I9XCJsZXQgdXRpbGxpc3Qgb2YgdXRpbGxpc3RcIiBbY2hpbGRNZXNzYWdlXT1cInV0aWxsaXN0XCIgW3NlbmRJZHNdPVwiZ2V0d2F5SWRBcnJheVwiXG4gICAgICAgICAgICBbZnVuVHlwZV09XCJzZXZOYW1lXCIgW3B1YlVucHViU3RhdHVzXT1cInB1YlVucFN0YXR1c1wiICAoY2FsbGZ1bmN0aW9uKT1cInZpZXdBbGxyZWNyZHMoc2VsVHlwZSx0eHROYW1lKVwiXG4gICAgICAgICAgICAoY2FsbGZ1bmN0aW9uMik9J3NlbGVjdEFsbCgkZXZlbnQpJz48L2xpYi1saWJ1dGlscz5cbiAgICAgICAgIFxuICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICBcbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICBcblxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtc2VjdGlvblwiPlxuICBcbiAgICAgICAgICA8IS0tIFNlYXJjaCBQYW5lbCAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLWNvbnRhaW5lciBhY3RpdmVcIiBpZD1cInNlYXJjaC1jb250YWluZXJcIj5cbiAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLXNlY1wiPlxuICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1tZC0zIGNvbC1sZy0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1zZWxlY3RcIiBbKG5nTW9kZWwpXT1cInNlbFR5cGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiID57e1wiU2VsZWN0IEdhdGV3YXkgVHlwZVwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uICpuZ0Zvcj1cImxldCBnZXR0eXBlIG9mIGdldHdheXR5cGVzOyBsZXQgaSBpbmRleFwiIFt2YWx1ZV09XCJnZXR0eXBlLnR5cGVJZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3tnZXR0eXBlLnR5cGVOYW1lfX08L29wdGlvbj5cbiAgXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTMgY29sLWxnLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cIkZvcm0gTmFtZVwiIFsobmdNb2RlbCldPVwidHh0TmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7eydFbnRlciBOYW1lJyB8IHRyYW5zbGF0ZX19XCI+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTMgY29sLWxnLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwidmlld0FsbHJlY3JkcyhzZWxUeXBlLHR4dE5hbWUpXCI+e3tcIlNlYXJjaFwiIHwgdHJhbnNsYXRlfX0gPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlciBtbC0xXCIgKGNsaWNrKT1cInZpZXdBbGxyZWNyZHMoMCwnJylcIj4ge3tcIlJlc2V0XCIgfCB0cmFuc2xhdGV9fTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICBcbiAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG4gIFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwhLS0gU2VhcmNoIFBhbmVsIC0tPlxuICBcbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZ2V0d2F5TGlzdD8ubGVuZ3RoID4gMDsgZWxzZSBub3JlY29yZFwiPlxuICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxlZ2VuZHNcIj5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiZy1zdWNjZXNzXCI+PC9zcGFuPnt7XCJQdWJsaXNoXCIgfCB0cmFuc2xhdGV9fVxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiZy1kYW5nZXJcIj48L3NwYW4+IHt7XCJVbnB1Ymxpc2hcIiB8IHRyYW5zbGF0ZX19XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PlxuICBcbiAgICAgICAgICAgICAgICA8IS0tIHt7XCJQZXIgUGFnZVwifX06XG4gICAgICAgICAgICAgICAgPHNlbGVjdCAoY2hhbmdlKT1cIm9uVGFibGVTaXplQ2hhbmdlKCRldmVudClcIj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gKm5nRm9yPVwibGV0IHNpemUgb2YgcGFnZVNpemVzXCIgW25nVmFsdWVdPVwic2l6ZVwiPlxuICAgICAgICAgICAgICAgICAgICB7eyBzaXplIH19XG4gICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD4gLS0+XG4gIFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZSBcIiBpZD1cInByaW50LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPHRhYmxlIGRhdGEtdG9nZ2xlPVwidGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIFwiPlxuICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJub1ByaW50XCIgc3R5bGU9XCJ3aWR0aDoyNXB4XCIgdmFsaWduPVwidG9wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgY2hlY2thbGxcIiB0eXBlPVwiY2hlY2tib3hcIiAoY2hhbmdlKT1cInNlbGVjdEFsbCgkZXZlbnQpXCIgaWQ9XCJjaGVja2FsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjaGVja2FsbFwiIHZhbHVlPVwiY2hlY2thbGxcIj5cbiAgXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIHN0eWxlPVwid2lkdGg6NTBweFwiPnt7XCJTbCBOb1wiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiVHlwZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiTmFtZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICBcbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIlVSTFwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cIm5vUHJpbnRcIiBzdHlsZT1cIndpZHRoOjE0MHB4XCI+e3tcIkFjdGlvblwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgZ2V0d2F5cyBvZiBnZXR3YXlMaXN0fCBwYWdpbmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IHRhYmxlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsSXRlbXM6IGNvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJub1ByaW50IGJvcmRlci1sZWZ0LTJcIlxuICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnYm9yZGVyLWxlZnQtZGFuZ2VyJzogZ2V0d2F5cy50aW5TdGF0dXMgPT0gMCAsICdib3JkZXItbGVmdC1zdWNjZXNzJzogZ2V0d2F5cy50aW5TdGF0dXMgPT0gMSB9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgcm93Q2hlY2tcIiB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIm9uQ2hhbmdlKGdldHdheXMuaW50SWQsICRldmVudCxnZXR3YXlzLnRpblN0YXR1cylcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5wdWJzdGF0dXNdPVwiZ2V0d2F5cy50aW5TdGF0dXNcIiBuYW1lPVwie3tnZXR3YXlzLmludElkIH19XCIgW2lkXT1cImdldHdheXMuaW50SWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPVwiZ2V0d2F5cy5pbnRJZFwiPlxuICBcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7aSsxK2luZGV4TnVtYmVyfX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+e3tnZXR3YXlzLnR5cGVOYW1lfX0gPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7Z2V0d2F5cy52Y2hOYW1lfX08L3RkPlxuICBcbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7Z2V0d2F5cy52Y2hVcmx9fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm5vUHJpbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInRleHQtaW5mb1wiICAoY2xpY2spPVwiZmlsZWRhdGEoZ2V0d2F5cy5pbnRJZCxnZXR3YXlzLnRpblR5cGUsZ2V0d2F5cy50eXBlTmFtZSlcIiA+e3tcIlZpZXdcIiB8IHRyYW5zbGF0ZX19PC9hPlxuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFxuICBcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gIFxuICBcbiAgXG4gIFxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG5cbiAgICAgICAgICAgIDwhLS0gPGxpYi1wYWdpbmF0aW9uIFtwYWdlXT1cInBhZ2VcIiBbY291bnRdPVwiY291bnRcIiBbdGFibGVTaXplXT1cInRhYmxlU2l6ZVwiIChjYWxsZnVuY3Rpb24pPVwib25UYWJsZURhdGFDaGFuZ2UoJGV2ZW50KVwiPjwvbGliLXBhZ2luYXRpb24+IC0tPlxuICAgICAgICAgICAgPGxpYi1saWJwYWdpbmF0aW9uIFtwYWdlXT1cInBhZ2VcIiBbY291bnRdPVwiY291bnRcIiBbdGFibGVTaXplXT1cInRhYmxlU2l6ZVwiIChjYWxsZnVuY3Rpb24pPVwib25UYWJsZURhdGFDaGFuZ2UoJGV2ZW50KVwiPjwvbGliLWxpYnBhZ2luYXRpb24+XG4gICAgICAgICAgICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgI25vcmVjb3JkPlxuICAgICAgICAgICAgPGg2IGNsYXNzPVwibm8tY29udGVudFwiPiB7e1wiTm8gUmVjb3JkIEZvdW5kXCIgfCB0cmFuc2xhdGV9fTwvaDY+XG4gIFxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gIFxuICBcbiAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgPC9kaXY+XG4gIFxuICAgIDwvZGl2PlxuICBcbiAgXG4gIFxuICA8L2Rpdj5cbiAgPG5nLXRlbXBsYXRlICNwcmV2aWV3TW9kYWwgaWQ9XCJwcmV2aWV3TW9kYWxcIiBsZXQtbW9kYWw+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGUgbWItMFwiIGlkPVwibW92ZXRvRm9sZGVyTW9kYWxMYWJlbFwiPlxuICAgICAgICB7e1wiR2F0ZXdheSBEZXRhaWxzXCIgfCB0cmFuc2xhdGV9fVxuICAgICAgPC9oNT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzPVwiYnRuLWNsb3NlXCJcbiAgICAgICAgKGNsaWNrKT1cImNsb3NlTW9kYWwoKVwiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICA+PC9idXR0b24+XG4gICAgPC9kaXY+XG5cblxuXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgZ2V0d2F5cyBvZiBnZXR3YXlEZXRhaWxzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyByb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tNCBcIj57e1wiVHlwZVwiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICAgICAgOiA8bGFiZWwgY2xhc3M9XCJ0ZXh0LWRhcmtcIj57e3R5cGVOYW1lfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTMgcm93XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTQgXCI+e3tcIk5hbWVcIiB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgICAgICAgIDogPGxhYmVsIGNsYXNzPVwidGV4dC1kYXJrXCI+e3tnZXR3YXlzLnZjaE5hbWV9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyByb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tNCBcIj57e1wiVXJsXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICAgICAgICA6IDxsYWJlbCBjbGFzcz1cInRleHQtZGFya1wiPnt7Z2V0d2F5cy51cmx9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyByb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tNCBcIj57e1wiRGF0YSBwb3N0IG1ldGhvZFwiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICAgICAgOiA8bGFiZWwgY2xhc3M9XCJ0ZXh0LWRhcmtcIj57e2dldHdheXMuZGF0YVBvc3RNZXRob2R9fSA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTMgcm93XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTQgXCI+e3tcIkNvbnRhY3QgQWRkcmVzc1wiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICAgICAgOiA8bGFiZWwgY2xhc3M9XCJ0ZXh0LWRhcmtcIj57e2dldHdheXMuY29udGFjdGFkZHJlc3N9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICBcbiAgICAgICBcbiAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgbXQtM1wiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIkxhYmVsXCIgfCB0cmFuc2xhdGV9fTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIktleVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7XCJWYWx1ZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuXG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuXG4gICAgICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgYXBpbGlzdCBvZiBnZXREZXRhaWxzbGlzdDsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgIDx0ZD57e2FwaWxpc3QudmNoTGFiZWx9fTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPnt7YXBpbGlzdC52Y2hLZXl9fTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPnt7YXBpbGlzdC52Y2hWYWx1ZX19PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cblxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgIDwvZGl2PlxuICA8L25nLXRlbXBsYXRlPiJdfQ==