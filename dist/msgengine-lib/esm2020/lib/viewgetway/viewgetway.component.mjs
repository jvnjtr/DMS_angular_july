import { Component, ViewChild } from '@angular/core';
import Swal from 'sweetalert2';
import * as CryptoJS from 'crypto-js';
import { Buffer } from 'buffer';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/common/http";
import * as i3 from "../msgengine-lib.service";
import * as i4 from "../varlist.service";
import * as i5 from "@ng-bootstrap/ng-bootstrap";
import * as i6 from "../encrypy-decrpy.service";
import * as i7 from "@angular/common";
import * as i8 from "@angular/forms";
import * as i9 from "../libtabs/libtabs.component";
import * as i10 from "../libutils/libutils.component";
import * as i11 from "../libpagination/libpagination.component";
import * as i12 from "ngx-pagination";
import * as i13 from "../translate.pipe";
export class ViewgetwayComponent {
    constructor(route, httpClient, commonserveice, varlist, modalService, encDec) {
        this.route = route;
        this.httpClient = httpClient;
        this.commonserveice = commonserveice;
        this.varlist = varlist;
        this.modalService = modalService;
        this.encDec = encDec;
        this.jsonurl = [
            {
                "pagetitle": "View Gateway Config",
                "tabList": [
                    { "tabName": "Add", "tabUrl": "../addgateway" },
                    { "tabName": "View", "tabUrl": "../viewgateway", "tabClass": "active" }
                ],
                "utils": [
                    { "utilName": "search" },
                    { "utilName": "print" },
                    { "utilName": "delete" },
                    { "utilName": "publish" },
                    { "utilName": "unpublish" }
                ],
                "messages": {
                    "successMsg": "Date saved successfully",
                    "errorMsg": "Error in database",
                    "warningtype": "You want to delete this record",
                    "deleteMsg": "Record has been deleted"
                }
            }
        ];
        this.selType = 0;
        this.txtName = '';
        this.page = 1;
        this.count = 0;
        this.tableSize = 10;
        this.pageSizes = [10, 20, 50, 100, 500, 1000];
        this.getwayIdArray = [];
        this.pubUnpStatus = [];
        this.chkAll = 0;
        this.sevName = " ";
        this.langKey = 'en';
        this.indexNumber = 0;
        this.sevName = varlist.serviceName;
    }
    ngOnInit() {
        this.loadvarlist();
        this.getGetwaytypes();
        this.viewAllrecrds(this.selType, this.txtName);
        // console.log(this.viewAllrecrds());
        //this.addChangeEventForLabel();
    }
    loadvarlist() {
        // this.httpClient.get<any>(this.jsonurl).subscribe((data: any) => {
        this.tablist = this.jsonurl[0].tabList;
        this.utillist = this.jsonurl[0].utils;
        this.messaageslist = this.jsonurl[0].messages;
        this.title = this.jsonurl[0].pagetitle;
        // })
    }
    multilingual(test) {
        return test;
    }
    //\\ ======================== // Get getway types // ======================== //\\ 
    getGetwaytypes() {
        let getwayparm = {};
        this.commonserveice.viewGatwayTypes(getwayparm).subscribe((resp) => {
            let respData = resp.RESPONSE_DATA;
            let respToken = resp.RESPONSE_TOKEN;
            let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
            if (respToken == verifyToken) {
                let res = Buffer.from(respData, 'base64');
                res = JSON.parse(res.toString());
                if (res.status == "200") {
                    this.getwaytypes = res.result;
                }
                else if (res.status == 501) {
                    this.commonserveice.directlogoutlib();
                }
                else {
                    console.log(res.messages);
                }
            }
            else {
                //this.loading=false;
                Swal.fire({
                    icon: 'error',
                    text: this.commonserveice.langReplace(this.varlist.somethingWrong)
                });
            }
        }, (error) => {
            Swal.fire({
                icon: 'error',
                text: this.commonserveice.langReplace(this.varlist.invalidResponse),
            });
        });
    }
    //\\ ======================== // Get getway types // ======================== //\\ 
    onTableDataChange(event) {
        this.page = event;
        this.indexNumber = (this.page - 1) * this.tableSize;
    }
    onTableSizeChange(event) {
        this.tableSize = event.target.value;
        this.page = 1;
        this.indexNumber = 0;
    }
    //\\ ======================== // View All records // ======================== //\\ 
    viewAllrecrds(typeid, name) {
        // getGetwayType
        this.selType = 0;
        this.txtName = '';
        let formParams = {
            "typeId": typeid,
            "formName": name
        };
        this.loading = true;
        this.pubUnpStatus = [];
        this.commonserveice.viewGetwayConfig(formParams).subscribe((response) => {
            let respData = response.RESPONSE_DATA;
            let respToken = response.RESPONSE_TOKEN;
            let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
            if (respToken == verifyToken) {
                let res = Buffer.from(respData, 'base64');
                let responseResult = JSON.parse(res);
                if (responseResult.status == 200) {
                    this.loading = false;
                    this.getwayList = responseResult.result;
                    // console.log(this.getwayList)
                }
                else if (responseResult.status == 501) {
                    this.commonserveice.directlogoutlib();
                }
                else {
                    this.loading = false;
                    Swal.fire({
                        icon: 'error',
                        text: this.commonserveice.langReplace(this.varlist.somethingWrong)
                    });
                }
            }
            else {
                //this.loading=false;
                Swal.fire({
                    icon: 'error',
                    text: this.commonserveice.langReplace(this.varlist.somethingWrong)
                });
            }
        }, (error) => {
            this.loading = false;
            Swal.fire({
                icon: 'error',
                text: this.commonserveice.langReplace(this.varlist.invalidResponse),
            });
        });
    }
    // //\\ ======================== // View All records // ======================== //\\ 
    onChange(checkid, e, publishStatus) {
        let totalCheckbox = document.querySelectorAll('.rowCheck').length;
        let totalChecked = document.querySelectorAll('.rowCheck:checked').length;
        let parentcheck = document.querySelectorAll('.checkall');
        if (totalCheckbox == totalChecked) {
            parentcheck[0].checked = true;
        }
        else {
            parentcheck[0].checked = false;
        }
        if (e.target.checked) {
            if (!this.getwayIdArray.includes(checkid)) {
                this.getwayIdArray.push(checkid);
                this.pubUnpStatus.push({ 'letterId': checkid, 'publishUnpublisStatus': publishStatus });
            }
        }
        else {
            let index = this.getwayIdArray.indexOf(checkid);
            let indxAdd = 0;
            for (let mk of this.pubUnpStatus) {
                if (mk.letterId == checkid) {
                    this.pubUnpStatus.splice(indxAdd, 1);
                    break;
                }
                indxAdd++;
            }
            this.getwayIdArray.splice(index, 1);
        }
    }
    selectAll(e) {
        let allid = e.target.id;
        // alert(allid)
        let checkBoxes = document.querySelectorAll('.rowCheck');
        if (e.target.checked) {
            for (let i = 0; i < checkBoxes.length; i++) {
                let ids = checkBoxes[i].id;
                this.getwayIdArray.push(parseInt(ids));
                this.pubUnpStatus.push({ 'letterId': ids, 'publishUnpublisStatus': checkBoxes[i].getAttribute("pubstatus") });
                checkBoxes[i].checked = true;
            }
        }
        else {
            this.getwayIdArray = [];
            for (let i = 0; i < checkBoxes.length; i++) {
                checkBoxes[i].checked = false;
            }
            this.pubUnpStatus = [];
        }
    }
    // //\\ ======================== // Get old getway details // ======================== //\\
    filedata(intId, typeId, typeName) {
        this.open(this.previewModal);
        let formParams = {
            "typeId": typeId,
            "intId": intId
        };
        this.typeName = typeName;
        console.log(formParams);
        this.commonserveice.getPrevDetails(formParams).subscribe((response) => {
            let respData = response.RESPONSE_DATA;
            let respToken = response.RESPONSE_TOKEN;
            let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
            if (respToken == verifyToken) {
                let res = Buffer.from(respData, 'base64');
                let responseResult = JSON.parse(res);
                if (responseResult.status == 200) {
                    this.getwayDetails = responseResult.result.data;
                    // console.log(responseResult.result)
                    this.getDetailslist = responseResult.result.result;
                }
                else if (responseResult.status == 501) {
                    //this.commonserveice.directlogoutlib()
                }
                else {
                    Swal.fire({
                        icon: 'error',
                        text: this.commonserveice.langReplace(this.varlist.somethingWrong)
                    });
                }
            }
            else {
                //this.loading=false;
                Swal.fire({
                    icon: 'error',
                    text: this.commonserveice.langReplace(this.varlist.somethingWrong)
                });
            }
        }, (error) => {
            Swal.fire({
                icon: 'error',
                text: this.commonserveice.langReplace(this.varlist.invalidResponse),
            });
        });
    }
    //\\ ======================== // Get old getway details // ======================== //\\
    // addChangeEventForLabel() {
    //   let sessionUserLangtoken: any = sessionStorage.getItem('USER_LANGPREF');
    //   let sessionUserLang = JSON.parse(CryptoJS.AES.decrypt(sessionUserLangtoken, this.varlist.apiHashingKey).toString(CryptoJS.enc.Utf8));
    //   setTimeout(() => {
    //     this.langKey = sessionUserLang;
    //     let labelChangeEle: any = document.getElementById('languageListH');
    //     labelChangeEle.addEventListener('change', () => {
    //       this.langKey = labelChangeEle.value;
    //     });
    //   }, 1000);
    // }
    //\\ ======================== // Modal Open // ======================== //\\ 
    open(content) {
        this.modalService.open(content, { size: 'lg', backdrop: 'static', keyboard: false, ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {
        }, (reason) => { });
    }
    //\\ ======================== // Modal Open // ======================== //\\ 
    closeModal() {
        this.modalService.dismissAll();
    }
}
ViewgetwayComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewgetwayComponent, deps: [{ token: i1.Router }, { token: i2.HttpClient }, { token: i3.MsgengineLibService }, { token: i4.VarlistService }, { token: i5.NgbModal }, { token: i6.EncrypyDecrpyService }], target: i0.ɵɵFactoryTarget.Component });
ViewgetwayComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: ViewgetwayComponent, selector: "lib-viewgetway", viewQueries: [{ propertyName: "previewModal", first: true, predicate: ["previewModal"], descendants: true }], ngImport: i0, template: "<!--===Page Title===-->\n<div class=\"page-title\">\n\n    <h4>{{title | translate}}</h4>\n  </div>\n  <!--===Page Title===-->\n  <!--===controle section===-->\n  <div class=\"page-controls-section\" id=\"page-content\">\n    <div class=\"card\">\n      <div class=\"controls-section-header\">\n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\n    \n        </ul>\n        <div class=\"indicatorslist\">\n\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"getwayIdArray\"\n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewAllrecrds(selType,txtName)\"\n            (callfunction2)='selectAll($event)'></lib-libutils>\n         \n         \n        </div>\n  \n      </div>\n      <div class=\"card-body\">\n  \n\n        <div class=\"controls-section\">\n  \n          <!-- Search Panel -->\n          <div class=\"search-container active\" id=\"search-container\">\n  \n            <div class=\"search-sec\">\n  \n              <div class=\"row\">\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <select class=\"form-select\" [(ngModel)]=\"selType\">\n                      <option value=\"0\" >{{\"Select Gateway Type\" | translate}}</option>\n                      <option *ngFor=\"let gettype of getwaytypes; let i index\" [value]=\"gettype.typeId\">\n                        {{gettype.typeName}}</option>\n  \n                    </select>\n                  </div>\n                </div>\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <input type=\"text\" class=\"form-control\" name=\"Form Name\" [(ngModel)]=\"txtName\"\n                      placeholder=\"{{'Enter Name' | translate}}\">\n                  </div>\n                </div>\n  \n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary\" (click)=\"viewAllrecrds(selType,txtName)\">{{\"Search\" | translate}} </button>\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewAllrecrds(0,'')\"> {{\"Reset\" | translate}}</button>\n                  </div>\n                </div>\n              </div>\n  \n  \n            </div>\n  \n  \n          </div>\n          <!-- Search Panel -->\n  \n          <div *ngIf=\"getwayList?.length > 0; else norecord\">\n  \n            <div class=\"d-flex justify-content-between mb-3\">\n              <div>\n                <ul class=\"legends\">\n                  <li>\n                    <span class=\"bg-success\"></span>{{\"Publish\" | translate}}\n                  </li>\n                  <li>\n                    <span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}\n                  </li>\n                </ul>\n              </div>\n              <div>\n  \n                <!-- {{\"Per Page\"}}:\n                <select (change)=\"onTableSizeChange($event)\">\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\n                    {{ size }}\n                  </option>\n                </select> -->\n  \n              </div>\n  \n            </div>\n  \n            <div class=\"table-responsive \" id=\"print-section\">\n                \n              <table data-toggle=\"table\" class=\"table table-bordered \">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:25px\" valign=\"top\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\n                          name=\"checkall\" value=\"checkall\">\n  \n                      </div>\n                    </th>\n                    <th scope=\"col\" style=\"width:50px\">{{\"Sl No\" | translate}}</th>\n                    <th scope=\"col\">{{\"Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"Name\" | translate}}</th>\n  \n                    <th scope=\"col\">{{\"URL\" | translate}}</th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:140px\">{{\"Action\" | translate}}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let getways of getwayList| paginate\n                                                                      : {\n                                                                          itemsPerPage: tableSize,\n                                                                          currentPage: page,\n                                                                          totalItems: count\n                                                                        };\n                                                                  let i = index\">\n                    <td class=\"noPrint border-left-2\"\n                      [ngClass]=\"{'border-left-danger': getways.tinStatus == 0 , 'border-left-success': getways.tinStatus == 1 }\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\n                          (change)=\"onChange(getways.intId, $event,getways.tinStatus)\"\n                          [attr.pubstatus]=\"getways.tinStatus\" name=\"{{getways.intId }}\" [id]=\"getways.intId\"\n                          [value]=\"getways.intId\">\n  \n                      </div>\n                    </td>\n                    <td>{{i+1+indexNumber}}</td>\n                    <td>{{getways.typeName}} </td>\n                    <td>{{getways.vchName}}</td>\n  \n                    <td>{{getways.vchUrl}}</td>\n                    <td class=\"noPrint\">\n                      <a class=\"text-info\"  (click)=\"filedata(getways.intId,getways.tinType,getways.typeName)\" >{{\"View\" | translate}}</a>\n                     \n              \n  \n                    </td>\n                  </tr>\n  \n  \n  \n  \n                </tbody>\n              </table>\n            </div>\n  \n\n            <!-- <lib-pagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-pagination> -->\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\n            \n          </div>\n          <ng-template #norecord>\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\n  \n          </ng-template>\n  \n  \n        </div>\n  \n      </div>\n  \n    </div>\n  \n  \n  \n  </div>\n  <ng-template #previewModal id=\"previewModal\" let-modal>\n    <div class=\"modal-header\">\n      <h5 class=\"modal-title mb-0\" id=\"movetoFolderModalLabel\">\n        {{\"Gateway Details\" | translate}}\n      </h5>\n      <button\n        type=\"button\"\n        class=\"btn-close\"\n        (click)=\"closeModal()\"\n        aria-label=\"Close\"\n      ></button>\n    </div>\n\n\n\n    <div class=\"modal-body\">\n        <div *ngFor=\"let getways of getwayDetails\">\n            <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Type\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{typeName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Name\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.vchName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Url\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.url}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Data post method\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.dataPostMethod}} </label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Contact Address\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.contactaddress}}</label>\n                </div>\n              </div>\n        </div>\n       \n       \n        <table class=\"table table-bordered mt-3\">\n            <thead>\n              <tr>\n                <th scope=\"col\">{{\"Label\" | translate}}</th>\n                <th scope=\"col\">{{\"Key\" | translate}}</th>\n                <th scope=\"col\">{{\"Value\" | translate}}</th>\n\n              </tr>\n            </thead>\n            <tbody>\n\n              <tr *ngFor=\"let apilist of getDetailslist; let i = index\">\n                <td>{{apilist.vchLabel}}</td>\n                <td>{{apilist.vchKey}}</td>\n                <td>{{apilist.vchValue}}</td>\n              </tr>\n\n            </tbody>\n          </table>\n    </div>\n  </ng-template>", styles: [""], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i9.LibtabsComponent, selector: "lib-libtabs", inputs: ["tabMessage", "activeid"] }, { kind: "component", type: i10.LibutilsComponent, selector: "lib-libutils", inputs: ["childMessage", "sendIds", "funType", "pubUnpubStatus", "reloadUrl"], outputs: ["callfunction", "callfunction3"] }, { kind: "component", type: i11.LibpaginationComponent, selector: "lib-libpagination", inputs: ["page", "count", "tableSize"], outputs: ["callfunction"] }, { kind: "pipe", type: i12.PaginatePipe, name: "paginate" }, { kind: "pipe", type: i13.TranslatePipe, name: "translate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewgetwayComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-viewgetway', template: "<!--===Page Title===-->\n<div class=\"page-title\">\n\n    <h4>{{title | translate}}</h4>\n  </div>\n  <!--===Page Title===-->\n  <!--===controle section===-->\n  <div class=\"page-controls-section\" id=\"page-content\">\n    <div class=\"card\">\n      <div class=\"controls-section-header\">\n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\n    \n        </ul>\n        <div class=\"indicatorslist\">\n\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"getwayIdArray\"\n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewAllrecrds(selType,txtName)\"\n            (callfunction2)='selectAll($event)'></lib-libutils>\n         \n         \n        </div>\n  \n      </div>\n      <div class=\"card-body\">\n  \n\n        <div class=\"controls-section\">\n  \n          <!-- Search Panel -->\n          <div class=\"search-container active\" id=\"search-container\">\n  \n            <div class=\"search-sec\">\n  \n              <div class=\"row\">\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <select class=\"form-select\" [(ngModel)]=\"selType\">\n                      <option value=\"0\" >{{\"Select Gateway Type\" | translate}}</option>\n                      <option *ngFor=\"let gettype of getwaytypes; let i index\" [value]=\"gettype.typeId\">\n                        {{gettype.typeName}}</option>\n  \n                    </select>\n                  </div>\n                </div>\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <input type=\"text\" class=\"form-control\" name=\"Form Name\" [(ngModel)]=\"txtName\"\n                      placeholder=\"{{'Enter Name' | translate}}\">\n                  </div>\n                </div>\n  \n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary\" (click)=\"viewAllrecrds(selType,txtName)\">{{\"Search\" | translate}} </button>\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewAllrecrds(0,'')\"> {{\"Reset\" | translate}}</button>\n                  </div>\n                </div>\n              </div>\n  \n  \n            </div>\n  \n  \n          </div>\n          <!-- Search Panel -->\n  \n          <div *ngIf=\"getwayList?.length > 0; else norecord\">\n  \n            <div class=\"d-flex justify-content-between mb-3\">\n              <div>\n                <ul class=\"legends\">\n                  <li>\n                    <span class=\"bg-success\"></span>{{\"Publish\" | translate}}\n                  </li>\n                  <li>\n                    <span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}\n                  </li>\n                </ul>\n              </div>\n              <div>\n  \n                <!-- {{\"Per Page\"}}:\n                <select (change)=\"onTableSizeChange($event)\">\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\n                    {{ size }}\n                  </option>\n                </select> -->\n  \n              </div>\n  \n            </div>\n  \n            <div class=\"table-responsive \" id=\"print-section\">\n                \n              <table data-toggle=\"table\" class=\"table table-bordered \">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:25px\" valign=\"top\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\n                          name=\"checkall\" value=\"checkall\">\n  \n                      </div>\n                    </th>\n                    <th scope=\"col\" style=\"width:50px\">{{\"Sl No\" | translate}}</th>\n                    <th scope=\"col\">{{\"Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"Name\" | translate}}</th>\n  \n                    <th scope=\"col\">{{\"URL\" | translate}}</th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:140px\">{{\"Action\" | translate}}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let getways of getwayList| paginate\n                                                                      : {\n                                                                          itemsPerPage: tableSize,\n                                                                          currentPage: page,\n                                                                          totalItems: count\n                                                                        };\n                                                                  let i = index\">\n                    <td class=\"noPrint border-left-2\"\n                      [ngClass]=\"{'border-left-danger': getways.tinStatus == 0 , 'border-left-success': getways.tinStatus == 1 }\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\n                          (change)=\"onChange(getways.intId, $event,getways.tinStatus)\"\n                          [attr.pubstatus]=\"getways.tinStatus\" name=\"{{getways.intId }}\" [id]=\"getways.intId\"\n                          [value]=\"getways.intId\">\n  \n                      </div>\n                    </td>\n                    <td>{{i+1+indexNumber}}</td>\n                    <td>{{getways.typeName}} </td>\n                    <td>{{getways.vchName}}</td>\n  \n                    <td>{{getways.vchUrl}}</td>\n                    <td class=\"noPrint\">\n                      <a class=\"text-info\"  (click)=\"filedata(getways.intId,getways.tinType,getways.typeName)\" >{{\"View\" | translate}}</a>\n                     \n              \n  \n                    </td>\n                  </tr>\n  \n  \n  \n  \n                </tbody>\n              </table>\n            </div>\n  \n\n            <!-- <lib-pagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-pagination> -->\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\n            \n          </div>\n          <ng-template #norecord>\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\n  \n          </ng-template>\n  \n  \n        </div>\n  \n      </div>\n  \n    </div>\n  \n  \n  \n  </div>\n  <ng-template #previewModal id=\"previewModal\" let-modal>\n    <div class=\"modal-header\">\n      <h5 class=\"modal-title mb-0\" id=\"movetoFolderModalLabel\">\n        {{\"Gateway Details\" | translate}}\n      </h5>\n      <button\n        type=\"button\"\n        class=\"btn-close\"\n        (click)=\"closeModal()\"\n        aria-label=\"Close\"\n      ></button>\n    </div>\n\n\n\n    <div class=\"modal-body\">\n        <div *ngFor=\"let getways of getwayDetails\">\n            <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Type\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{typeName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Name\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.vchName}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Url\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.url}}</label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Data post method\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.dataPostMethod}} </label>\n                </div>\n              </div>\n              <div class=\"mb-3 row\">\n                <label class=\"col-sm-4 \">{{\"Contact Address\" | translate}}</label>\n                <div class=\"col-sm-8\">\n                  : <label class=\"text-dark\">{{getways.contactaddress}}</label>\n                </div>\n              </div>\n        </div>\n       \n       \n        <table class=\"table table-bordered mt-3\">\n            <thead>\n              <tr>\n                <th scope=\"col\">{{\"Label\" | translate}}</th>\n                <th scope=\"col\">{{\"Key\" | translate}}</th>\n                <th scope=\"col\">{{\"Value\" | translate}}</th>\n\n              </tr>\n            </thead>\n            <tbody>\n\n              <tr *ngFor=\"let apilist of getDetailslist; let i = index\">\n                <td>{{apilist.vchLabel}}</td>\n                <td>{{apilist.vchKey}}</td>\n                <td>{{apilist.vchValue}}</td>\n              </tr>\n\n            </tbody>\n          </table>\n    </div>\n  </ng-template>" }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.HttpClient }, { type: i3.MsgengineLibService }, { type: i4.VarlistService }, { type: i5.NgbModal }, { type: i6.EncrypyDecrpyService }]; }, propDecorators: { previewModal: [{
                type: ViewChild,
                args: ['previewModal']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2dldHdheS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tc2dlbmdpbmUtbGliL3NyYy9saWIvdmlld2dldHdheS92aWV3Z2V0d2F5LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21zZ2VuZ2luZS1saWIvc3JjL2xpYi92aWV3Z2V0d2F5L3ZpZXdnZXR3YXkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBc0IsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXpFLE9BQU8sSUFBSSxNQUFNLGFBQWEsQ0FBQztBQUUvQixPQUFPLEtBQUssUUFBUSxNQUFNLFdBQVcsQ0FBQztBQUd0QyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUFTaEMsTUFBTSxPQUFPLG1CQUFtQjtJQXNEOUIsWUFBb0IsS0FBYSxFQUFVLFVBQXNCLEVBRXhELGNBQWtDLEVBQ2pDLE9BQXNCLEVBQ3RCLFlBQXNCLEVBQ3RCLE1BQTRCO1FBTGxCLFVBQUssR0FBTCxLQUFLLENBQVE7UUFBVSxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBRXhELG1CQUFjLEdBQWQsY0FBYyxDQUFvQjtRQUNqQyxZQUFPLEdBQVAsT0FBTyxDQUFlO1FBQ3RCLGlCQUFZLEdBQVosWUFBWSxDQUFVO1FBQ3RCLFdBQU0sR0FBTixNQUFNLENBQXNCO1FBckR0QyxZQUFPLEdBQU87WUFDWjtnQkFDRSxXQUFXLEVBQUMscUJBQXFCO2dCQUNqQyxTQUFTLEVBQUM7b0JBRVIsRUFBQyxTQUFTLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxlQUFlLEVBQUM7b0JBQzFDLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsZ0JBQWdCLEVBQUUsVUFBVSxFQUFDLFFBQVEsRUFBQztpQkFDbEU7Z0JBQ0MsT0FB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UzsrQkFDRSxnQkFBZ0I7K09BS0MsWUFBWTtzQkFBdEMsU0FBUzt1QkFBQyxjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0Mic7XG5pbXBvcnQgeyBNc2dlbmdpbmVMaWJTZXJ2aWNlIH0gZnJvbSAnLi4vbXNnZW5naW5lLWxpYi5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIENyeXB0b0pTIGZyb20gJ2NyeXB0by1qcyc7XG5pbXBvcnQgeyBFbmNyeXB5RGVjcnB5U2VydmljZSB9IGZyb20gJy4uL2VuY3J5cHktZGVjcnB5LnNlcnZpY2UnO1xuaW1wb3J0IHsgVmFybGlzdFNlcnZpY2UgfSBmcm9tICcuLi92YXJsaXN0LnNlcnZpY2UnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5J1xuaW1wb3J0IHsgTmdiTW9kYWwgfSBmcm9tICdAbmctYm9vdHN0cmFwL25nLWJvb3RzdHJhcCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xpYi12aWV3Z2V0d2F5JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3ZpZXdnZXR3YXkuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi92aWV3Z2V0d2F5LmNvbXBvbmVudC5jc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBWaWV3Z2V0d2F5Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQFZpZXdDaGlsZCgncHJldmlld01vZGFsJykgcHJldmlld01vZGFsOiBFbGVtZW50UmVmO1xuICB0aXRsZTogYW55O1xuICB0YWJsaXN0OiBhbnk7XG4gIHV0aWxsaXN0OiBhbnk7XG4gIG1lc3NhYWdlc2xpc3Q6IGFueTtcbiAganNvbnVybDphbnkgPSBbXG4gICAge1xuICAgICAgXCJwYWdldGl0bGVcIjpcIlZpZXcgR2F0ZXdheSBDb25maWdcIixcbiAgICAgIFwidGFiTGlzdFwiOltcbiAgICAgXG4gICAgICAgIHtcInRhYk5hbWVcIjpcIkFkZFwiLFwidGFiVXJsXCI6XCIuLi9hZGRnYXRld2F5XCJ9LFxuICAgICAgICB7XCJ0YWJOYW1lXCI6XCJWaWV3XCIsXCJ0YWJVcmxcIjpcIi4uL3ZpZXdnYXRld2F5XCIgLFwidGFiQ2xhc3NcIjpcImFjdGl2ZVwifVxuICAgICAgXSxcbiAgICAgICAgXCJ1dGlsc1wiOltcbiAgICAgICAge1widXRpbE5hbWVcIjpcInNlYXJjaFwifSxcbiAgICAgICAge1widXRpbE5hbWVcIjpcInByaW50XCJ9LFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwiZGVsZXRlXCJ9LFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwicHVibGlzaFwifSxcbiAgICAgICAge1widXRpbE5hbWVcIjpcInVucHVibGlzaFwifVxuICAgICAgIFxuICAgICAgICBdLFxuICAgICAgXCJtZXNzYWdlc1wiOlxuICAgICAgICB7XG4gICAgICAgICAgXCJzdWNjZXNzTXNnXCI6XCJEYXRlIHNhdmVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgICAgICBcImVycm9yTXNnXCI6XCJFcnJvciBpbiBkYXRhYmFzZVwiLFxuICAgICAgICBcIndhcm5pbmd0eXBlXCI6XCJZb3Ugd2FudCB0byBkZWxldGUgdGhpcyByZWNvcmRcIixcbiAgICAgICAgXCJkZWxldGVNc2dcIjpcIlJlY29yZCBoYXMgYmVlbiBkZWxldGVkXCJcbiAgICAgICAgfVxuICAgICAgXG4gICAgfVxuICBdO1xuXG4gIGdldHdheXR5cGVzOiBhbnk7XG4gIHNlbFR5cGU6IGFueSA9IDA7XG4gIHR4dE5hbWU6IGFueSA9ICcnO1xuICBnZXR3YXlMaXN0OiBhbnk7XG4gIFBPU1RTOiBhbnk7XG4gIHBhZ2U6IG51bWJlciA9IDE7XG4gIGNvdW50OiBudW1iZXIgPSAwO1xuICB0YWJsZVNpemU6IG51bWJlciA9IDEwO1xuICBwYWdlU2l6ZXMgPSBbMTAsIDIwLCA1MCwgMTAwLCA1MDAsIDEwMDBdO1xuXG4gIGdldHdheUlkQXJyYXk6IGFueSA9IFtdO1xuICBwdWJVbnBTdGF0dXM6IGFueVtdID0gW107XG4gIGdldERldGFpbHNsaXN0OiBhbnk7XG4gIGdldHdheURldGFpbHM6YW55O1xuICBjaGtBbGw6IGFueSA9IDA7XG4gIHNldk5hbWU6IGFueSA9IFwiIFwiO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBsYW5nS2V5OiBhbnkgPSAnZW4nO1xuICBpbmRleE51bWJlcjogYW55ID0gMDtcbiAgdHlwZU5hbWU6YW55O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcm91dGU6IFJvdXRlciwgcHJpdmF0ZSBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LFxuICAgIFxuICAgIHB1YmxpYyBjb21tb25zZXJ2ZWljZTpNc2dlbmdpbmVMaWJTZXJ2aWNlLFxuICAgIHByaXZhdGUgdmFybGlzdDpWYXJsaXN0U2VydmljZSwgXG4gICAgcHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE5nYk1vZGFsLCBcbiAgICBwcml2YXRlIGVuY0RlYzogRW5jcnlweURlY3JweVNlcnZpY2UpIHtcblxudGhpcy5zZXZOYW1lPXZhcmxpc3Quc2VydmljZU5hbWU7XG4gICAgIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcblxuICAgIHRoaXMubG9hZHZhcmxpc3QoKTtcbiAgICB0aGlzLmdldEdldHdheXR5cGVzKCk7XG4gICAgdGhpcy52aWV3QWxscmVjcmRzKHRoaXMuc2VsVHlwZSx0aGlzLnR4dE5hbWUpO1xuICAgIFxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudmlld0FsbHJlY3JkcygpKTtcbiAgICAvL3RoaXMuYWRkQ2hhbmdlRXZlbnRGb3JMYWJlbCgpO1xuXG4gIH1cbiAgbG9hZHZhcmxpc3QoKSB7XG4gICAgLy8gdGhpcy5odHRwQ2xpZW50LmdldDxhbnk+KHRoaXMuanNvbnVybCkuc3Vic2NyaWJlKChkYXRhOiBhbnkpID0+IHtcbiAgICAgIHRoaXMudGFibGlzdCA9IHRoaXMuanNvbnVybFswXS50YWJMaXN0O1xuICAgICAgdGhpcy51dGlsbGlzdCA9IHRoaXMuanNvbnVybFswXS51dGlsc1xuICAgICAgdGhpcy5tZXNzYWFnZXNsaXN0ID0gdGhpcy5qc29udXJsWzBdLm1lc3NhZ2VzO1xuICAgICAgdGhpcy50aXRsZSA9IHRoaXMuanNvbnVybFswXS5wYWdldGl0bGU7XG4gICAgLy8gfSlcbiAgfVxuICBtdWx0aWxpbmd1YWwodGVzdDogYW55KSB7XG4gICAgcmV0dXJuIHRlc3Q7XG4gIH1cblxuXG4vL1xcXFwgPT09PT09PT09PT09PT09PT09PT09PT09IC8vIEdldCBnZXR3YXkgdHlwZXMgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IC8vXFxcXCBcbmdldEdldHdheXR5cGVzKCkge1xuICAgbGV0IGdldHdheXBhcm09e31cbiAgIHRoaXMuY29tbW9uc2VydmVpY2Uudmlld0dhdHdheVR5cGVzKGdldHdheXBhcm0pLnN1YnNjcmliZSgocmVzcDogYW55KSA9PiB7XG4gICAgIGxldCByZXNwRGF0YSA9IHJlc3AuUkVTUE9OU0VfREFUQTtcbiAgICAgbGV0IHJlc3BUb2tlbiA9IHJlc3AuUkVTUE9OU0VfVE9LRU47XG4gICAgIGxldCB2ZXJpZnlUb2tlbiA9IENyeXB0b0pTLkhtYWNTSEEyNTYocmVzcERhdGEsIHRoaXMudmFybGlzdC5hcGlIYXNoaW5nS2V5KS50b1N0cmluZygpO1xuICAgIFxuICAgICBpZiAocmVzcFRva2VuID09IHZlcmlmeVRva2VuKSB7XG4gICAgICAgbGV0IHJlczogYW55ID0gQnVmZmVyLmZyb20ocmVzcERhdGEsICdiYXNlNjQnKTtcbiAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcy50b1N0cmluZygpKTtcbiAgICAgICBpZiAocmVzLnN0YXR1cyA9PSBcIjIwMFwiKSB7XG4gICAgICAgICB0aGlzLmdldHdheXR5cGVzID0gcmVzLnJlc3VsdDtcbiAgICAgICBcbiAgICAgICB9XG4gICAgICAgZWxzZSBpZihyZXMuc3RhdHVzPT01MDEpe1xuICAgICAgIFxuICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5kaXJlY3Rsb2dvdXRsaWIoKVxuICAgICAgIH1cbiAgICAgIFxuICAgICAgIGVsc2Uge1xuICAgICAgICAgY29uc29sZS5sb2cocmVzLm1lc3NhZ2VzKVxuICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgLy90aGlzLmxvYWRpbmc9ZmFsc2U7XG4gICAgICAgU3dhbC5maXJlKHtcbiAgICAgICAgIGljb246ICdlcnJvcicsXG4gICAgICAgICB0ZXh0OiB0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5zb21ldGhpbmdXcm9uZylcbiAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgfSAsKGVycm9yOmFueSkgPT57XG4gICAgIFN3YWwuZmlyZSh7XG4gICAgICAgaWNvbjogJ2Vycm9yJyxcbiAgICAgICB0ZXh0OnRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LmludmFsaWRSZXNwb25zZSksXG4gICB9KTtcbiAgIH1cbiAgICApO1xuIH1cblxuLy9cXFxcID09PT09PT09PT09PT09PT09PT09PT09PSAvLyBHZXQgZ2V0d2F5IHR5cGVzIC8vID09PT09PT09PT09PT09PT09PT09PT09PSAvL1xcXFwgXG5cbiAgb25UYWJsZURhdGFDaGFuZ2UoZXZlbnQ6IGFueSkge1xuICAgIHRoaXMucGFnZSA9IGV2ZW50O1xuICAgIHRoaXMuaW5kZXhOdW1iZXIgPSAodGhpcy5wYWdlIC0gMSkgKiB0aGlzLnRhYmxlU2l6ZTtcblxuICB9XG4gIG9uVGFibGVTaXplQ2hhbmdlKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnRhYmxlU2l6ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLnBhZ2UgPSAxO1xuICAgIHRoaXMuaW5kZXhOdW1iZXIgPSAwO1xuICB9XG5cblxuLy9cXFxcID09PT09PT09PT09PT09PT09PT09PT09PSAvLyBWaWV3IEFsbCByZWNvcmRzIC8vID09PT09PT09PT09PT09PT09PT09PT09PSAvL1xcXFwgXG4gIHZpZXdBbGxyZWNyZHModHlwZWlkOmFueSxuYW1lOmFueSkge1xuICAgLy8gZ2V0R2V0d2F5VHlwZVxuICAgIHRoaXMuc2VsVHlwZSA9IDA7XG4gICAgdGhpcy50eHROYW1lID0gJyc7XG4gICAgbGV0IGZvcm1QYXJhbXMgPSB7XG4gICAgICBcInR5cGVJZFwiOiB0eXBlaWQsXG4gICAgICBcImZvcm1OYW1lXCI6IG5hbWVcbiAgICAgIH07XG4gICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnB1YlVucFN0YXR1cyA9IFtdO1xuICAgIFxuICAgIHRoaXMuY29tbW9uc2VydmVpY2Uudmlld0dldHdheUNvbmZpZyhmb3JtUGFyYW1zKS5zdWJzY3JpYmUoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgIGxldCByZXNwRGF0YSA9IHJlc3BvbnNlLlJFU1BPTlNFX0RBVEE7XG4gIGxldCByZXNwVG9rZW4gPSByZXNwb25zZS5SRVNQT05TRV9UT0tFTjtcblxuICBsZXQgdmVyaWZ5VG9rZW4gPSBDcnlwdG9KUy5IbWFjU0hBMjU2KHJlc3BEYXRhLCB0aGlzLnZhcmxpc3QuYXBpSGFzaGluZ0tleSkudG9TdHJpbmcoKTtcbiAgICBcbiAgICAgaWYgKHJlc3BUb2tlbiA9PSB2ZXJpZnlUb2tlbikge1xuIFxuICBsZXQgcmVzOmFueSA9IEJ1ZmZlci5mcm9tKHJlc3BEYXRhLCdiYXNlNjQnKTsgXG4gIGxldCByZXNwb25zZVJlc3VsdCA9IEpTT04ucGFyc2UocmVzKVxuICAgXG5cblxuICAgIGlmIChyZXNwb25zZVJlc3VsdC5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICB0aGlzLmxvYWRpbmc9ZmFsc2U7XG4gICAgICB0aGlzLmdldHdheUxpc3QgPSByZXNwb25zZVJlc3VsdC5yZXN1bHQ7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5nZXR3YXlMaXN0KVxuICAgIH1cbiAgICBlbHNlIGlmKHJlc3BvbnNlUmVzdWx0LnN0YXR1cz09NTAxKXtcbiAgICAgICAgXG4gICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLmRpcmVjdGxvZ291dGxpYigpXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLmxvYWRpbmc9ZmFsc2U7XG4gICAgICBTd2FsLmZpcmUoe1xuICAgICAgICBpY29uOiAnZXJyb3InLFxuICAgICAgICB0ZXh0OiB0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5zb21ldGhpbmdXcm9uZylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBlbHNle1xuICAgLy90aGlzLmxvYWRpbmc9ZmFsc2U7XG4gICBTd2FsLmZpcmUoe1xuICAgICBpY29uOiAnZXJyb3InLFxuICAgICB0ZXh0OiB0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5zb21ldGhpbmdXcm9uZylcbiAgIH0pO1xuICB9XG59LFxuKGVycm9yOmFueSkgPT57XG4gIHRoaXMubG9hZGluZz1mYWxzZTtcbiAgU3dhbC5maXJlKHtcbiAgICBpY29uOiAnZXJyb3InLFxuICAgIHRleHQ6dGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLnZhcmxpc3QuaW52YWxpZFJlc3BvbnNlKSxcbn0pO1xufSlcbiAgfVxuLy8gLy9cXFxcID09PT09PT09PT09PT09PT09PT09PT09PSAvLyBWaWV3IEFsbCByZWNvcmRzIC8vID09PT09PT09PT09PT09PT09PT09PT09PSAvL1xcXFwgXG4gXG5cblxuICAgb25DaGFuZ2UoY2hlY2tpZDogYW55LCBlOiBhbnksIHB1Ymxpc2hTdGF0dXM6IGFueSkge1xuXG4gICAgbGV0IHRvdGFsQ2hlY2tib3g6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvd0NoZWNrJykubGVuZ3RoO1xuICAgIGxldCB0b3RhbENoZWNrZWQ6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvd0NoZWNrOmNoZWNrZWQnKS5sZW5ndGg7XG4gICAgbGV0IHBhcmVudGNoZWNrOmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2FsbCcpO1xuIFxuICAgIGlmKHRvdGFsQ2hlY2tib3ggPT0gdG90YWxDaGVja2VkKSB7XG4gICAgICBwYXJlbnRjaGVja1swXS5jaGVja2VkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50Y2hlY2tbMF0uY2hlY2tlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBcblxuICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICBpZiAoIXRoaXMuZ2V0d2F5SWRBcnJheS5pbmNsdWRlcyhjaGVja2lkKSkge1xuICAgICAgICB0aGlzLmdldHdheUlkQXJyYXkucHVzaChjaGVja2lkKTtcbiAgICAgICAgdGhpcy5wdWJVbnBTdGF0dXMucHVzaCh7ICdsZXR0ZXJJZCc6IGNoZWNraWQsICdwdWJsaXNoVW5wdWJsaXNTdGF0dXMnOiBwdWJsaXNoU3RhdHVzIH0pO1xuICAgICAgfVxuIFxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLmdldHdheUlkQXJyYXkuaW5kZXhPZihjaGVja2lkKTtcbiAgICAgIGxldCBpbmR4QWRkOiBudW1iZXIgPSAwO1xuICAgICAgZm9yIChsZXQgbWsgb2YgdGhpcy5wdWJVbnBTdGF0dXMpIHtcbiAgICAgICAgaWYgKG1rLmxldHRlcklkID09IGNoZWNraWQpIHtcbiAgICAgICAgICB0aGlzLnB1YlVucFN0YXR1cy5zcGxpY2UoaW5keEFkZCwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaW5keEFkZCsrO1xuICAgICAgfVxuICAgICAgdGhpcy5nZXR3YXlJZEFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cblxuICBzZWxlY3RBbGwoZTogYW55KSB7XG4gICAgbGV0IGFsbGlkPWUudGFyZ2V0LmlkO1xuICAgLy8gYWxlcnQoYWxsaWQpXG4gICAgXG4gICAgbGV0IGNoZWNrQm94ZXM6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvd0NoZWNrJyk7XG4gXG4gICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrQm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGlkcyA9IGNoZWNrQm94ZXNbaV0uaWQ7XG4gICAgICAgIHRoaXMuZ2V0d2F5SWRBcnJheS5wdXNoKHBhcnNlSW50KGlkcykpO1xuICAgICAgICB0aGlzLnB1YlVucFN0YXR1cy5wdXNoKHsgJ2xldHRlcklkJzogaWRzLCAncHVibGlzaFVucHVibGlzU3RhdHVzJzogY2hlY2tCb3hlc1tpXS5nZXRBdHRyaWJ1dGUoXCJwdWJzdGF0dXNcIikgfSlcblxuICAgICAgICBjaGVja0JveGVzW2ldLmNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICB9XG5cbiAgIFxuICAgICAgXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICBcbiAgICAgIHRoaXMuZ2V0d2F5SWRBcnJheSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja0JveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNoZWNrQm94ZXNbaV0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5wdWJVbnBTdGF0dXMgPSBbXVxuICAgIH1cbiAgfVxuXG4vLyAvL1xcXFwgPT09PT09PT09PT09PT09PT09PT09PT09IC8vIEdldCBvbGQgZ2V0d2F5IGRldGFpbHMgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IC8vXFxcXFxuICAgZmlsZWRhdGEoaW50SWQ6IGFueSwgdHlwZUlkOiBhbnksdHlwZU5hbWU6YW55KSB7XG4gICAgdGhpcy5vcGVuKHRoaXMucHJldmlld01vZGFsKTtcbiAgICBsZXQgZm9ybVBhcmFtcyA9XG4gICAge1xuICAgICAgXCJ0eXBlSWRcIjogdHlwZUlkLFxuICAgICAgXCJpbnRJZFwiOiBpbnRJZFxuICAgIH07XG4gICAgdGhpcy50eXBlTmFtZT10eXBlTmFtZTtcbiAgICBjb25zb2xlLmxvZyhmb3JtUGFyYW1zKVxuICAgIHRoaXMuY29tbW9uc2VydmVpY2UuZ2V0UHJldkRldGFpbHMoZm9ybVBhcmFtcykuc3Vic2NyaWJlKChyZXNwb25zZTogYW55KSA9PiB7XG5cbiBsZXQgcmVzcERhdGEgPSByZXNwb25zZS5SRVNQT05TRV9EQVRBO1xuIGxldCByZXNwVG9rZW4gPSByZXNwb25zZS5SRVNQT05TRV9UT0tFTjtcblxuIGxldCB2ZXJpZnlUb2tlbiA9IENyeXB0b0pTLkhtYWNTSEEyNTYocmVzcERhdGEsIHRoaXMudmFybGlzdC5hcGlIYXNoaW5nS2V5KS50b1N0cmluZygpO1xuICAgIFxuIGlmIChyZXNwVG9rZW4gPT0gdmVyaWZ5VG9rZW4pIHtcbmxldCByZXM6YW55ID0gQnVmZmVyLmZyb20ocmVzcERhdGEsJ2Jhc2U2NCcpOyBcbmxldCByZXNwb25zZVJlc3VsdD0gSlNPTi5wYXJzZShyZXMpXG4gIFxuICAgaWYgKHJlc3BvbnNlUmVzdWx0LnN0YXR1cyA9PSAyMDApIHtcbiAgICB0aGlzLmdldHdheURldGFpbHMgPSByZXNwb25zZVJlc3VsdC5yZXN1bHQuZGF0YTtcbiAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlUmVzdWx0LnJlc3VsdClcbiAgICAgdGhpcy5nZXREZXRhaWxzbGlzdCA9IHJlc3BvbnNlUmVzdWx0LnJlc3VsdC5yZXN1bHQ7XG4gICAgXG4gIFxuICAgICBcbiAgICB9XG5cbiAgIGVsc2UgaWYocmVzcG9uc2VSZXN1bHQuc3RhdHVzPT01MDEpe1xuICAgICBcbiAgIC8vdGhpcy5jb21tb25zZXJ2ZWljZS5kaXJlY3Rsb2dvdXRsaWIoKVxuICAgfVxuICAgZWxzZXtcbiAgICBcbiAgICAgU3dhbC5maXJlKHtcbiAgICAgICBpY29uOiAnZXJyb3InLFxuICAgICAgIHRleHQ6IHRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LnNvbWV0aGluZ1dyb25nKVxuICAgICB9KTtcbiAgIH1cbiAgfVxuICBlbHNle1xuICAgLy90aGlzLmxvYWRpbmc9ZmFsc2U7XG4gICBTd2FsLmZpcmUoe1xuICAgICBpY29uOiAnZXJyb3InLFxuICAgICB0ZXh0OiB0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5zb21ldGhpbmdXcm9uZylcbiAgIH0pO1xuICB9XG59LFxuKGVycm9yOmFueSkgPT57XG5cbiBTd2FsLmZpcmUoe1xuICAgaWNvbjogJ2Vycm9yJyxcbiAgIHRleHQ6dGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLnZhcmxpc3QuaW52YWxpZFJlc3BvbnNlKSxcbn0pO1xufSlcblxuICB9XG5cbi8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gR2V0IG9sZCBnZXR3YXkgZGV0YWlscyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcXG5cbiAgLy8gYWRkQ2hhbmdlRXZlbnRGb3JMYWJlbCgpIHtcbiAgLy8gICBsZXQgc2Vzc2lvblVzZXJMYW5ndG9rZW46IGFueSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1VTRVJfTEFOR1BSRUYnKTtcbiAgLy8gICBsZXQgc2Vzc2lvblVzZXJMYW5nID0gSlNPTi5wYXJzZShDcnlwdG9KUy5BRVMuZGVjcnlwdChzZXNzaW9uVXNlckxhbmd0b2tlbiwgdGhpcy52YXJsaXN0LmFwaUhhc2hpbmdLZXkpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KSk7XG4gIC8vICAgc2V0VGltZW91dCgoKSA9PiB7XG4gIC8vICAgICB0aGlzLmxhbmdLZXkgPSBzZXNzaW9uVXNlckxhbmc7XG4gIC8vICAgICBsZXQgbGFiZWxDaGFuZ2VFbGU6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5ndWFnZUxpc3RIJyk7XG4gIC8vICAgICBsYWJlbENoYW5nZUVsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIC8vICAgICAgIHRoaXMubGFuZ0tleSA9IGxhYmVsQ2hhbmdlRWxlLnZhbHVlO1xuXG4gIC8vICAgICB9KTtcbiAgLy8gICB9LCAxMDAwKTtcblxuICAvLyB9XG4gIC8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gTW9kYWwgT3BlbiAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuICBvcGVuKGNvbnRlbnQ6IGFueSkge1xuICAgIHRoaXMubW9kYWxTZXJ2aWNlLm9wZW4oY29udGVudCwgeyBzaXplOiAnbGcnLCBiYWNrZHJvcDogJ3N0YXRpYycsIGtleWJvYXJkOiBmYWxzZSwgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC1iYXNpYy10aXRsZScgfSkucmVzdWx0LnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XG4gICAgfSwgKHJlYXNvbjogYW55KSA9PiB7IH0pO1xuICB9XG4gIC8vXFxcXCA9PT09PT09PT09PT09PT09PT09PT09PT0gLy8gTW9kYWwgT3BlbiAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gLy9cXFxcIFxuICBjbG9zZU1vZGFsKCkge1xuICAgIHRoaXMubW9kYWxTZXJ2aWNlLmRpc21pc3NBbGwoKTtcbiAgfVxuICAvL1xcXFwgPT09PT09PT09PT09PT09PT09PT09PT09IC8vIE1vZGFsIENsb3NlIC8vID09PT09PT09PT09PT09PT09PT09PT09PSAvL1xcXFxcbn1cbiIsIjwhLS09PT1QYWdlIFRpdGxlPT09LS0+XG48ZGl2IGNsYXNzPVwicGFnZS10aXRsZVwiPlxuXG4gICAgPGg0Pnt7dGl0bGUgfCB0cmFuc2xhdGV9fTwvaDQ+XG4gIDwvZGl2PlxuICA8IS0tPT09UGFnZSBUaXRsZT09PS0tPlxuICA8IS0tPT09Y29udHJvbGUgc2VjdGlvbj09PS0tPlxuICA8ZGl2IGNsYXNzPVwicGFnZS1jb250cm9scy1zZWN0aW9uXCIgaWQ9XCJwYWdlLWNvbnRlbnRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzLXNlY3Rpb24taGVhZGVyXCI+XG4gICAgICAgIDx1bCBjbGFzcz1cIm5hdiBuYXYtdGFicyBuYXYtZmlsbFwiIHJvbGU9XCJ0YWJsaXN0XCI+XG4gICAgICAgICAgICA8bGliLWxpYnRhYnMgKm5nRm9yPVwibGV0IHRhYmxpc3Qgb2YgdGFibGlzdFwiIFt0YWJNZXNzYWdlXT1cInRhYmxpc3RcIj48L2xpYi1saWJ0YWJzPlxuICAgIFxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5kaWNhdG9yc2xpc3RcIj5cblxuICAgICAgICAgICAgPGxpYi1saWJ1dGlscyAqbmdGb3I9XCJsZXQgdXRpbGxpc3Qgb2YgdXRpbGxpc3RcIiBbY2hpbGRNZXNzYWdlXT1cInV0aWxsaXN0XCIgW3NlbmRJZHNdPVwiZ2V0d2F5SWRBcnJheVwiXG4gICAgICAgICAgICBbZnVuVHlwZV09XCJzZXZOYW1lXCIgW3B1YlVucHViU3RhdHVzXT1cInB1YlVucFN0YXR1c1wiICAoY2FsbGZ1bmN0aW9uKT1cInZpZXdBbGxyZWNyZHMoc2VsVHlwZSx0eHROYW1lKVwiXG4gICAgICAgICAgICAoY2FsbGZ1bmN0aW9uMik9J3NlbGVjdEFsbCgkZXZlbnQpJz48L2xpYi1saWJ1dGlscz5cbiAgICAgICAgIFxuICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICBcbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICBcblxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtc2VjdGlvblwiPlxuICBcbiAgICAgICAgICA8IS0tIFNlYXJjaCBQYW5lbCAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLWNvbnRhaW5lciBhY3RpdmVcIiBpZD1cInNlYXJjaC1jb250YWluZXJcIj5cbiAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLXNlY1wiPlxuICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1tZC0zIGNvbC1sZy0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1zZWxlY3RcIiBbKG5nTW9kZWwpXT1cInNlbFR5cGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiID57e1wiU2VsZWN0IEdhdGV3YXkgVHlwZVwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uICpuZ0Zvcj1cImxldCBnZXR0eXBlIG9mIGdldHdheXR5cGVzOyBsZXQgaSBpbmRleFwiIFt2YWx1ZV09XCJnZXR0eXBlLnR5cGVJZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3tnZXR0eXBlLnR5cGVOYW1lfX08L29wdGlvbj5cbiAgXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTMgY29sLWxnLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cIkZvcm0gTmFtZVwiIFsobmdNb2RlbCldPVwidHh0TmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7eydFbnRlciBOYW1lJyB8IHRyYW5zbGF0ZX19XCI+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTMgY29sLWxnLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwidmlld0FsbHJlY3JkcyhzZWxUeXBlLHR4dE5hbWUpXCI+e3tcIlNlYXJjaFwiIHwgdHJhbnNsYXRlfX0gPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlciBtbC0xXCIgKGNsaWNrKT1cInZpZXdBbGxyZWNyZHMoMCwnJylcIj4ge3tcIlJlc2V0XCIgfCB0cmFuc2xhdGV9fTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICBcbiAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG4gIFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwhLS0gU2VhcmNoIFBhbmVsIC0tPlxuICBcbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZ2V0d2F5TGlzdD8ubGVuZ3RoID4gMDsgZWxzZSBub3JlY29yZFwiPlxuICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxlZ2VuZHNcIj5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiZy1zdWNjZXNzXCI+PC9zcGFuPnt7XCJQdWJsaXNoXCIgfCB0cmFuc2xhdGV9fVxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiZy1kYW5nZXJcIj48L3NwYW4+IHt7XCJVbnB1Ymxpc2hcIiB8IHRyYW5zbGF0ZX19XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PlxuICBcbiAgICAgICAgICAgICAgICA8IS0tIHt7XCJQZXIgUGFnZVwifX06XG4gICAgICAgICAgICAgICAgPHNlbGVjdCAoY2hhbmdlKT1cIm9uVGFibGVTaXplQ2hhbmdlKCRldmVudClcIj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gKm5nRm9yPVwibGV0IHNpemUgb2YgcGFnZVNpemVzXCIgW25nVmFsdWVdPVwic2l6ZVwiPlxuICAgICAgICAgICAgICAgICAgICB7eyBzaXplIH19XG4gICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD4gLS0+XG4gIFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZSBcIiBpZD1cInByaW50LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPHRhYmxlIGRhdGEtdG9nZ2xlPVwidGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIFwiPlxuICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJub1ByaW50XCIgc3R5bGU9XCJ3aWR0aDoyNXB4XCIgdmFsaWduPVwidG9wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgY2hlY2thbGxcIiB0eXBlPVwiY2hlY2tib3hcIiAoY2hhbmdlKT1cInNlbGVjdEFsbCgkZXZlbnQpXCIgaWQ9XCJjaGVja2FsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjaGVja2FsbFwiIHZhbHVlPVwiY2hlY2thbGxcIj5cbiAgXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIHN0eWxlPVwid2lkdGg6NTBweFwiPnt7XCJTbCBOb1wiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiVHlwZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiTmFtZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICBcbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIlVSTFwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cIm5vUHJpbnRcIiBzdHlsZT1cIndpZHRoOjE0MHB4XCI+e3tcIkFjdGlvblwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgZ2V0d2F5cyBvZiBnZXR3YXlMaXN0fCBwYWdpbmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IHRhYmxlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsSXRlbXM6IGNvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJub1ByaW50IGJvcmRlci1sZWZ0LTJcIlxuICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnYm9yZGVyLWxlZnQtZGFuZ2VyJzogZ2V0d2F5cy50aW5TdGF0dXMgPT0gMCAsICdib3JkZXItbGVmdC1zdWNjZXNzJzogZ2V0d2F5cy50aW5TdGF0dXMgPT0gMSB9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgcm93Q2hlY2tcIiB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIm9uQ2hhbmdlKGdldHdheXMuaW50SWQsICRldmVudCxnZXR3YXlzLnRpblN0YXR1cylcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5wdWJzdGF0dXNdPVwiZ2V0d2F5cy50aW5TdGF0dXNcIiBuYW1lPVwie3tnZXR3YXlzLmludElkIH19XCIgW2lkXT1cImdldHdheXMuaW50SWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVdPVwiZ2V0d2F5cy5pbnRJZFwiPlxuICBcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7aSsxK2luZGV4TnVtYmVyfX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+e3tnZXR3YXlzLnR5cGVOYW1lfX0gPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7Z2V0d2F5cy52Y2hOYW1lfX08L3RkPlxuICBcbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7Z2V0d2F5cy52Y2hVcmx9fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm5vUHJpbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInRleHQtaW5mb1wiICAoY2xpY2spPVwiZmlsZWRhdGEoZ2V0d2F5cy5pbnRJZCxnZXR3YXlzLnRpblR5cGUsZ2V0d2F5cy50eXBlTmFtZSlcIiA+e3tcIlZpZXdcIiB8IHRyYW5zbGF0ZX19PC9hPlxuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFxuICBcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gIFxuICBcbiAgXG4gIFxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG5cbiAgICAgICAgICAgIDwhLS0gPGxpYi1wYWdpbmF0aW9uIFtwYWdlXT1cInBhZ2VcIiBbY291bnRdPVwiY291bnRcIiBbdGFibGVTaXplXT1cInRhYmxlU2l6ZVwiIChjYWxsZnVuY3Rpb24pPVwib25UYWJsZURhdGFDaGFuZ2UoJGV2ZW50KVwiPjwvbGliLXBhZ2luYXRpb24+IC0tPlxuICAgICAgICAgICAgPGxpYi1saWJwYWdpbmF0aW9uIFtwYWdlXT1cInBhZ2VcIiBbY291bnRdPVwiY291bnRcIiBbdGFibGVTaXplXT1cInRhYmxlU2l6ZVwiIChjYWxsZnVuY3Rpb24pPVwib25UYWJsZURhdGFDaGFuZ2UoJGV2ZW50KVwiPjwvbGliLWxpYnBhZ2luYXRpb24+XG4gICAgICAgICAgICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgI25vcmVjb3JkPlxuICAgICAgICAgICAgPGg2IGNsYXNzPVwibm8tY29udGVudFwiPiB7e1wiTm8gUmVjb3JkIEZvdW5kXCIgfCB0cmFuc2xhdGV9fTwvaDY+XG4gIFxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gIFxuICBcbiAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgPC9kaXY+XG4gIFxuICAgIDwvZGl2PlxuICBcbiAgXG4gIFxuICA8L2Rpdj5cbiAgPG5nLXRlbXBsYXRlICNwcmV2aWV3TW9kYWwgaWQ9XCJwcmV2aWV3TW9kYWxcIiBsZXQtbW9kYWw+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGUgbWItMFwiIGlkPVwibW92ZXRvRm9sZGVyTW9kYWxMYWJlbFwiPlxuICAgICAgICB7e1wiR2F0ZXdheSBEZXRhaWxzXCIgfCB0cmFuc2xhdGV9fVxuICAgICAgPC9oNT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzPVwiYnRuLWNsb3NlXCJcbiAgICAgICAgKGNsaWNrKT1cImNsb3NlTW9kYWwoKVwiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICA+PC9idXR0b24+XG4gICAgPC9kaXY+XG5cblxuXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgZ2V0d2F5cyBvZiBnZXR3YXlEZXRhaWxzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyByb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tNCBcIj57e1wiVHlwZVwiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICAgICAgOiA8bGFiZWwgY2xhc3M9XCJ0ZXh0LWRhcmtcIj57e3R5cGVOYW1lfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTMgcm93XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTQgXCI+e3tcIk5hbWVcIiB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgICAgICAgIDogPGxhYmVsIGNsYXNzPVwidGV4dC1kYXJrXCI+e3tnZXR3YXlzLnZjaE5hbWV9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyByb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tNCBcIj57e1wiVXJsXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICAgICAgICA6IDxsYWJlbCBjbGFzcz1cInRleHQtZGFya1wiPnt7Z2V0d2F5cy51cmx9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyByb3dcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tNCBcIj57e1wiRGF0YSBwb3N0IG1ldGhvZFwiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICAgICAgOiA8bGFiZWwgY2xhc3M9XCJ0ZXh0LWRhcmtcIj57e2dldHdheXMuZGF0YVBvc3RNZXRob2R9fSA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTMgcm93XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29sLXNtLTQgXCI+e3tcIkNvbnRhY3QgQWRkcmVzc1wiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICAgICAgOiA8bGFiZWwgY2xhc3M9XCJ0ZXh0LWRhcmtcIj57e2dldHdheXMuY29udGFjdGFkZHJlc3N9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICBcbiAgICAgICBcbiAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgbXQtM1wiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIkxhYmVsXCIgfCB0cmFuc2xhdGV9fTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIktleVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7XCJWYWx1ZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuXG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuXG4gICAgICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgYXBpbGlzdCBvZiBnZXREZXRhaWxzbGlzdDsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgIDx0ZD57e2FwaWxpc3QudmNoTGFiZWx9fTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPnt7YXBpbGlzdC52Y2hLZXl9fTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPnt7YXBpbGlzdC52Y2hWYWx1ZX19PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cblxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgIDwvZGl2PlxuICA8L25nLXRlbXBsYXRlPiJdfQ==