import { Component } from '@angular/core';
import Swal from 'sweetalert2';
import * as CryptoJS from 'crypto-js';
import { Buffer } from 'buffer';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/common/http";
import * as i3 from "../msgengine-lib.service";
import * as i4 from "../varlist.service";
import * as i5 from "@ng-bootstrap/ng-bootstrap";
import * as i6 from "../encrypy-decrpy.service";
import * as i7 from "@angular/common";
import * as i8 from "@angular/forms";
import * as i9 from "../libtabs/libtabs.component";
import * as i10 from "../libutils/libutils.component";
import * as i11 from "../libpagination/libpagination.component";
import * as i12 from "ngx-pagination";
import * as i13 from "../translate.pipe";
export class ViewmsgengineComponent {
    constructor(route, httpClient, 
    // public commonserveice: CommonvarlistService,
    // private getwayService: GetwayvarlistuartionService,
    commonserveice, varlist, modalService, encDec) {
        this.route = route;
        this.httpClient = httpClient;
        this.commonserveice = commonserveice;
        this.varlist = varlist;
        this.modalService = modalService;
        this.encDec = encDec;
        this.jsonurl = [
            {
                "pagetitle": "View Message Engine",
                "tabList": [
                    { "tabName": "Add", "tabUrl": "../addmessageengine" },
                    { "tabName": "View", "tabUrl": "../viewmessageengine", "tabClass": "active" },
                    { "tabName": "Reminder", "tabUrl": "../viewmessagereminder" }
                ],
                "utils": [
                    { "utilName": "search" },
                    { "utilName": "print" },
                    { "utilName": "delete" },
                    { "utilName": "publish" },
                    { "utilName": "unpublish" },
                ],
                "messages": {
                    "successMsg": "Date saved successfully",
                    "errorMsg": "Something Went Wrong",
                    "warningtype": "You want to delete this record",
                    "deleteMsg": "Record has been deleted"
                }
            }
        ];
        this.letterID = "";
        // editor: any = ClassicEditor;
        this.isFlag = true;
        this.page = 1;
        this.count = 0;
        this.tableSize = 10;
        this.pageSizes = [10, 20, 50, 100, 500, 1000];
        this.loading = false;
        this.letterIdArray = [];
        this.pubUnpStatus = [];
        this.sevName = "";
        this.selFormName = 0;
        this.txtLetterName = null;
        this.langKey = 'en';
        this.indexNumber = 0;
        this.formenable = this.varlist.formEnable;
        this.sevName = varlist.serviceModuleconfig;
    }
    ngOnInit() {
        this.loadconfig();
        this.viewItems('', '', '', '', 1);
        if (this.formenable == true) {
            this.getForms();
        }
        //this.addChangeEventForLabel();
    }
    loadconfig() {
        this.tablist = this.jsonurl[0].tabList;
        this.utillist = this.jsonurl[0].utils;
        this.messaageslist = this.jsonurl[0].messages;
        this.title = this.jsonurl[0].pagetitle;
    }
    multilingual(test) {
        return test;
    }
    getForms() {
        let params = {};
        this.commonserveice.getForms(params).subscribe({
            next: (response) => {
                let respData = response.RESPONSE_DATA;
                let respToken = response.RESPONSE_TOKEN;
                let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
                if (respToken == verifyToken) {
                    let res = Buffer.from(respData, 'base64');
                    res = JSON.parse(res.toString());
                    //console.log('res');
                    if (res.status === 200) {
                        this.formNames = res.result;
                    }
                    else {
                        console.log(res.messages);
                    }
                }
                else {
                    this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.invalidResponse));
                }
            },
            error: (msg) => {
                this.commonserveice.directlogoutlib();
            }
        });
    }
    viewItems(MessageConfigId, intMessageConfigType, formId, formName, messageType) {
        this.letterIdArray = [];
        this.txtMessageConfigType = 0;
        this.selFormName = null;
        let messageParams = {
            "intMessageConfigId": MessageConfigId,
            "intMessageConfigType": intMessageConfigType,
            "formId": formId,
            "formName": formName,
            "messageType": messageType
        };
        this.loading = true;
        this.pubUnpStatus = [];
        this.commonserveice.viewMessage(messageParams).subscribe({
            next: (response) => {
                let respData = response.RESPONSE_DATA;
                let respToken = response.RESPONSE_TOKEN;
                let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
                if (respToken == verifyToken) {
                    let res = Buffer.from(respData, 'base64');
                    res = JSON.parse(res.toString());
                    if (res.status == 200) {
                        this.messageList = res.result;
                        // console.log(this.messageList)
                        this.isFlag = true;
                        this.loading = false;
                    }
                    else if (res.status == 417) {
                        this.isFlag = false;
                        this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.invalidResponse));
                    }
                    else {
                        this.isFlag = false;
                        this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.invalidResponse));
                    }
                }
                else {
                    this.isFlag = false;
                    this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.varlist.invalidResponse));
                }
            },
            error: (msg) => {
                this.commonserveice.directlogoutlib();
            }
        });
    }
    viewSearchList() {
        let Formid = this.selFormName;
        let MessageConfigType = this.txtMessageConfigType;
        this.viewItems('', MessageConfigType, Formid, '', 1);
    }
    onTableDataChange(event) {
        this.page = event;
        this.indexNumber = (this.page - 1) * this.tableSize;
    }
    onTableSizeChange(event) {
        this.tableSize = event.target.value;
        this.page = 1;
        this.indexNumber = 0;
    }
    onChange(checkid, e, publishStatus) {
        let totalCheckbox = document.querySelectorAll('.rowCheck').length;
        let totalChecked = document.querySelectorAll('.rowCheck:checked').length;
        let parentcheck = document.querySelectorAll('.checkall');
        if (totalCheckbox == totalChecked) {
            parentcheck[0].checked = true;
        }
        else {
            parentcheck[0].checked = false;
        }
        if (e.target.checked) {
            if (!this.letterIdArray.includes(checkid)) {
                this.letterIdArray.push(checkid);
                this.pubUnpStatus.push({ 'letterId': checkid, 'publishUnpublisStatus': publishStatus });
            }
        }
        else {
            let index = this.letterIdArray.indexOf(checkid);
            let indxAdd = 0;
            for (let mk of this.pubUnpStatus) {
                if (mk.letterId == checkid) {
                    this.pubUnpStatus.splice(indxAdd, 1);
                    break;
                }
                indxAdd++;
            }
            this.letterIdArray.splice(index, 1);
        }
    }
    selectAll(e) {
        let checkBoxes = document.querySelectorAll('.rowCheck');
        if (e.target.checked) {
            for (let i = 0; i < checkBoxes.length; i++) {
                let ids = checkBoxes[i].id;
                this.letterIdArray.push(parseInt(ids));
                this.pubUnpStatus.push({ 'letterId': ids, 'publishUnpublisStatus': checkBoxes[i].getAttribute("pubstatus") });
                checkBoxes[i].checked = true;
            }
        }
        else {
            this.pubUnpStatus = [];
            this.letterIdArray = [];
            for (let i = 0; i < checkBoxes.length; i++) {
                checkBoxes[i].checked = false;
            }
        }
    }
    //edit function call for edit id================================
    editMessage(messageStr) {
        let encSchemeStr = this.encDec.encText(messageStr.toString());
        this.route.navigate(['/admin/addmessageengine', encSchemeStr]);
    }
    deleteLetter(messageId) {
        let messageParams = {
            "itemId": messageId,
            "itemStatus": "1"
        };
        Swal.fire({
            title: 'Are you sure' + '?',
            text: this.messaageslist.warningtype,
            icon: 'warning',
            showCancelButton: true,
            cancelButtonText: 'Cancel',
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes' + ', ' + 'delete it' + "!"
        }).then((result) => {
            if (result.isConfirmed) {
                this.commonserveice.newMessage(messageParams).subscribe({
                    next: (response) => {
                        if (response.status == 200) {
                            this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.messaageslist.deleteMsg));
                            this.viewItems('', '', '', '', 1);
                        }
                        else {
                            this.commonserveice.swalfire('error', this.commonserveice.langReplace(this.messaageslist.errorMsg));
                        }
                    },
                    error: (msg) => {
                        this.commonserveice.directlogoutlib();
                    }
                });
            }
        });
    }
    htmldecode(data) {
        let doc = new DOMParser().parseFromString(data, "text/html");
        return doc.documentElement.textContent;
    }
}
ViewmsgengineComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewmsgengineComponent, deps: [{ token: i1.Router }, { token: i2.HttpClient }, { token: i3.MsgengineLibService }, { token: i4.VarlistService }, { token: i5.NgbModal }, { token: i6.EncrypyDecrpyService }], target: i0.ɵɵFactoryTarget.Component });
ViewmsgengineComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: ViewmsgengineComponent, selector: "lib-viewmsgengine", ngImport: i0, template: "<!--===Page Title===-->\r\n<div class=\"page-title\">\r\n\r\n    <h4>{{title | translate}}</h4>\r\n  </div>\r\n  <!--===Page Title===-->\r\n  <!--===controle section===-->\r\n  <div class=\"page-controls-section\" id=\"page-content\">\r\n    <div class=\"card\">\r\n      <div class=\"controls-section-header\">\r\n       \r\n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\r\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\r\n    \r\n        </ul>\r\n        <div class=\"indicatorslist\">\r\n\r\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"letterIdArray\" \r\n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewItems('','','','',1)\"\r\n            (callfunction2)='selectAll($event)'></lib-libutils>\r\n          \r\n         \r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"card-body\">\r\n  \r\n  \r\n        <div class=\"controls-section\">\r\n          <!-- Search Panel -->\r\n          <div class=\"search-container active\" id=\"search-container\">\r\n  \r\n            <div class=\"search-sec\">\r\n  \r\n              <div class=\"row\">\r\n  \r\n                <div class=\"col-12 col-md-3 col-lg-3\" *ngIf=\"formenable\">\r\n                  <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selFormName\" placeholder=\"Select Form Name\">\r\n                  </div>\r\n                </div>\r\n  \r\n                <div class=\"col-12 col-md-3 col-lg-3\">\r\n                  <div class=\"form-group\">\r\n                    <select class=\"form-select docSizeType\" [(ngModel)]=\"txtMessageConfigType\">\r\n                      <option value=\"0\" disabled selected>{{\"Select Message config Type\" | translate}}</option>\r\n                      <option value=1>Mail</option>\r\n                      <option value=2>SMS</option>\r\n                      <option value=3>Whatsapp</option>\r\n                    </select>\r\n  \r\n                  </div>\r\n                </div>\r\n  \r\n  \r\n                <div class=\"col-12 col-md-3 col-lg-3\">\r\n                  <div class=\"form-group\">\r\n                    <button class=\"btn btn-primary\" (click)=\"viewSearchList()\"> {{\"Search\" | translate}}</button>\r\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewItems('','','','',1)\"> {{\"Reset\" | translate}}</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n  \r\n  \r\n            </div>\r\n  \r\n  \r\n          </div>\r\n          <!-- Search Panel -->\r\n          <div *ngIf=\"messageList?.length > 0; else norecord\">\r\n  \r\n            <div class=\"d-flex justify-content-between mb-3\">\r\n              <div>\r\n                <ul class=\"legends\">\r\n                  <li><span class=\"bg-success\"></span> {{\"Publish\" | translate}}</li>\r\n                  <li><span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}</li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                {{\"Per Page\" | translate}}:\r\n                <select (change)=\"onTableSizeChange($event)\">\r\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\r\n                    {{ size }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive print-section\" id=\"print-section\"> \r\n              <table data-toggle=\"table\" class=\"table table-bordered valign-middle\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" style=\"width:40px\" class=\"noPrint\">\r\n                      <div class=\"form-check\">\r\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\r\n                          name=\"checkall\" value=\"checkall\">\r\n  \r\n                      </div>\r\n                    </th>\r\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:40px\">{{\"Sl No\"| translate }}</th>\r\n                    <th scope=\"col\" *ngIf=\"formenable\">{{\"Form Name\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Configuration Type\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"SMS TemplateId\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Message Type\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Language\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Created On\" | translate}}</th>\r\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:80px\">{{\"Action\" | translate}}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr  *ngFor=\"let messages of messageList | paginate\r\n                          : {\r\n                              itemsPerPage: tableSize,\r\n                              currentPage: page,\r\n                              totalItems: count\r\n                            };\r\n                      let i = index\">\r\n                    <td class=\"noPrint border-left-2\"\r\n                      [ngClass]=\"{'border-left-danger': messages.tinPublishStatus === 0 , 'border-left-success': messages.tinPublishStatus === 1 }\">\r\n                      <div>\r\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\r\n                          (change)=\"onChange(messages.intMessageConfigId, $event,messages.tinPublishStatus)\"\r\n                          name=\"{{messages.intMessageConfigId }}\" [id]=\"messages.intMessageConfigId\"\r\n                          [value]=\"messages.intMessageConfigId\" [attr.pubstatus]=\"messages.tinPublishStatus\">\r\n                      </div>\r\n                    </td>\r\n                    <td>{{i+1+indexNumber}} </td>\r\n                    <td *ngIf=\"formenable\"><a type=\"button\" class=\"text-primary\" data-bs-toggle=\"modal\"\r\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\r\n                        {{messages.vchProcessName}}\r\n                      </a>\r\n                    </td>\r\n                    <td>\r\n                      <a type=\"button\" *ngIf=\"!formenable\" class=\"text-primary\" data-bs-toggle=\"modal\"\r\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\r\n                        {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\r\n                      'Whatsapp'}}\r\n                      </a>\r\n                      <span *ngIf=\"formenable\">\r\n                      {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\r\n                      'Whatsapp'}}</span></td>\r\n                    <td>{{messages.vchSmsTemplateId !='' ? messages.vchSmsTemplateId: '--'}}</td>\r\n                    <td>{{messages.intmessageType == 1 ? 'Messaging': 'Reminder'}}</td>\r\n                    <td>{{messages.vchLanguage}}</td>\r\n                    <td>{{messages.dtmCreatedOn}}</td>\r\n                    <td class=\"noPrint\"><a class=\"text-primary\" data-toggle=\"tooltip\" title=\"\" data-original-title=\"Edit\"\r\n                        (click)=\"editMessage(messages.intMessageConfigId+':'+messages.intProcessId+':'+messages.vchProcessName)\"><i\r\n                          class=\"icon-edit-solid\"></i></a>\r\n                         \r\n                          <div class=\"modal fade noPrint\"  id=\"previewModal{{i}}\" tabindex=\"-1\" aria-labelledby=\"previewModalLabel\"\r\n                          aria-hidden=\"true\">\r\n                          <div class=\"modal-dialog modal-lg\">\r\n                            <div class=\"modal-content\">\r\n                              <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title mb-0\" id=\"previewModalLabel\">{{\"Message Details\" | translate}}\r\n                                </h5>\r\n                                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                              </div>\r\n                              <div class=\"modal-body\">\r\n                                <table class=\"table table-bordered\">\r\n                                  <tbody>\r\n                                    <tr *ngIf=\"formenable\">\r\n                                      <td class=\"w-25 fw-bold\">{{\"Form Name\" | translate}} </td>\r\n                                      <td colspan=\"2\">{{messages.vchProcessName}}</td>\r\n                                    </tr>\r\n      \r\n                                    <tr>\r\n                                      <td class=\"fw-bold\">{{\"Subject\" | translate}} </td>\r\n                                      <td colspan=\"2\">{{messages.vchSubject}}</td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 2\">\r\n                                      <td class=\"w-25 fw-bold\">{{\"SMS TemplateId\" | translate}} </td>\r\n                                      <td colspan=\"2\">{{messages.vchSmsTemplateId}}</td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 1\">\r\n                                      <td class=\"w-25 fw-bold\"> {{\"Audio\" | translate}} </td>\r\n                                      <td colspan=\"2\">\r\n                                        <audio controls>\r\n                                          <source src=\"{{messages.vchDocument}}\" type=\"audio/mp3\">\r\n                                          {{\"Your browser does not support the audio tag\"}}.\r\n                                        </audio>\r\n                                      </td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 2\">\r\n                                      <td class=\"w-25 fw-bold\"> {{\"Video\" | translate}} </td>\r\n                                      <td colspan=\"2\">\r\n                                        <video width=\"320\" height=\"240\" controls>\r\n                                          <source src=\"{{messages.vchDocument}}\" type=\"video/mp4\">\r\n                                          {{\"Your browser does not support the video tag\"}}.\r\n                                        </video>\r\n                                      </td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 3\">\r\n                                      <td class=\"w-25 fw-bold\"> {{\"Image\" | translate}} </td>\r\n                                      <td colspan=\"2\"><img src=\"{{messages.vchDocument}}\" style=\"max-width:100%\"\r\n                                          height=\"70px\"></td>\r\n                                    </tr>\r\n      \r\n                                    <tr>\r\n                                      <td class=\"fw-bold\">{{\"Message Content\" | translate}} </td>\r\n                                      <td>\r\n                                        <div class=\"pdfContainer\" [innerHtml]=\"htmldecode(messages.vchMessageContent)\">\r\n\r\n                                        \r\n                                        </div>\r\n                                      </td>\r\n                                    </tr>\r\n      \r\n      \r\n      \r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        </td>\r\n\r\n\r\n                \r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\r\n          </div>\r\n          <ng-template #norecord>\r\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\r\n          </ng-template>\r\n        </div>\r\n  \r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"loader\" *ngIf=\"loading\">\r\n    <div class=\"loader-item\"></div>\r\n    <p>{{\"Loading\"}}...</p>\r\n  </div>\r\n", styles: [""], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i9.LibtabsComponent, selector: "lib-libtabs", inputs: ["tabMessage", "activeid"] }, { kind: "component", type: i10.LibutilsComponent, selector: "lib-libutils", inputs: ["childMessage", "sendIds", "funType", "pubUnpubStatus", "reloadUrl"], outputs: ["callfunction", "callfunction3"] }, { kind: "component", type: i11.LibpaginationComponent, selector: "lib-libpagination", inputs: ["page", "count", "tableSize"], outputs: ["callfunction"] }, { kind: "pipe", type: i12.PaginatePipe, name: "paginate" }, { kind: "pipe", type: i13.TranslatePipe, name: "translate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewmsgengineComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-viewmsgengine', template: "<!--===Page Title===-->\r\n<div class=\"page-title\">\r\n\r\n    <h4>{{title | translate}}</h4>\r\n  </div>\r\n  <!--===Page Title===-->\r\n  <!--===controle section===-->\r\n  <div class=\"page-controls-section\" id=\"page-content\">\r\n    <div class=\"card\">\r\n      <div class=\"controls-section-header\">\r\n       \r\n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\r\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\r\n    \r\n        </ul>\r\n        <div class=\"indicatorslist\">\r\n\r\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"letterIdArray\" \r\n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewItems('','','','',1)\"\r\n            (callfunction2)='selectAll($event)'></lib-libutils>\r\n          \r\n         \r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"card-body\">\r\n  \r\n  \r\n        <div class=\"controls-section\">\r\n          <!-- Search Panel -->\r\n          <div class=\"search-container active\" id=\"search-container\">\r\n  \r\n            <div class=\"search-sec\">\r\n  \r\n              <div class=\"row\">\r\n  \r\n                <div class=\"col-12 col-md-3 col-lg-3\" *ngIf=\"formenable\">\r\n                  <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selFormName\" placeholder=\"Select Form Name\">\r\n                  </div>\r\n                </div>\r\n  \r\n                <div class=\"col-12 col-md-3 col-lg-3\">\r\n                  <div class=\"form-group\">\r\n                    <select class=\"form-select docSizeType\" [(ngModel)]=\"txtMessageConfigType\">\r\n                      <option value=\"0\" disabled selected>{{\"Select Message config Type\" | translate}}</option>\r\n                      <option value=1>Mail</option>\r\n                      <option value=2>SMS</option>\r\n                      <option value=3>Whatsapp</option>\r\n                    </select>\r\n  \r\n                  </div>\r\n                </div>\r\n  \r\n  \r\n                <div class=\"col-12 col-md-3 col-lg-3\">\r\n                  <div class=\"form-group\">\r\n                    <button class=\"btn btn-primary\" (click)=\"viewSearchList()\"> {{\"Search\" | translate}}</button>\r\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewItems('','','','',1)\"> {{\"Reset\" | translate}}</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n  \r\n  \r\n            </div>\r\n  \r\n  \r\n          </div>\r\n          <!-- Search Panel -->\r\n          <div *ngIf=\"messageList?.length > 0; else norecord\">\r\n  \r\n            <div class=\"d-flex justify-content-between mb-3\">\r\n              <div>\r\n                <ul class=\"legends\">\r\n                  <li><span class=\"bg-success\"></span> {{\"Publish\" | translate}}</li>\r\n                  <li><span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}</li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                {{\"Per Page\" | translate}}:\r\n                <select (change)=\"onTableSizeChange($event)\">\r\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\r\n                    {{ size }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive print-section\" id=\"print-section\"> \r\n              <table data-toggle=\"table\" class=\"table table-bordered valign-middle\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" style=\"width:40px\" class=\"noPrint\">\r\n                      <div class=\"form-check\">\r\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\r\n                          name=\"checkall\" value=\"checkall\">\r\n  \r\n                      </div>\r\n                    </th>\r\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:40px\">{{\"Sl No\"| translate }}</th>\r\n                    <th scope=\"col\" *ngIf=\"formenable\">{{\"Form Name\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Configuration Type\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"SMS TemplateId\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Message Type\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Language\" | translate}}</th>\r\n                    <th scope=\"col\">{{\"Created On\" | translate}}</th>\r\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:80px\">{{\"Action\" | translate}}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr  *ngFor=\"let messages of messageList | paginate\r\n                          : {\r\n                              itemsPerPage: tableSize,\r\n                              currentPage: page,\r\n                              totalItems: count\r\n                            };\r\n                      let i = index\">\r\n                    <td class=\"noPrint border-left-2\"\r\n                      [ngClass]=\"{'border-left-danger': messages.tinPublishStatus === 0 , 'border-left-success': messages.tinPublishStatus === 1 }\">\r\n                      <div>\r\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\r\n                          (change)=\"onChange(messages.intMessageConfigId, $event,messages.tinPublishStatus)\"\r\n                          name=\"{{messages.intMessageConfigId }}\" [id]=\"messages.intMessageConfigId\"\r\n                          [value]=\"messages.intMessageConfigId\" [attr.pubstatus]=\"messages.tinPublishStatus\">\r\n                      </div>\r\n                    </td>\r\n                    <td>{{i+1+indexNumber}} </td>\r\n                    <td *ngIf=\"formenable\"><a type=\"button\" class=\"text-primary\" data-bs-toggle=\"modal\"\r\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\r\n                        {{messages.vchProcessName}}\r\n                      </a>\r\n                    </td>\r\n                    <td>\r\n                      <a type=\"button\" *ngIf=\"!formenable\" class=\"text-primary\" data-bs-toggle=\"modal\"\r\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\r\n                        {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\r\n                      'Whatsapp'}}\r\n                      </a>\r\n                      <span *ngIf=\"formenable\">\r\n                      {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\r\n                      'Whatsapp'}}</span></td>\r\n                    <td>{{messages.vchSmsTemplateId !='' ? messages.vchSmsTemplateId: '--'}}</td>\r\n                    <td>{{messages.intmessageType == 1 ? 'Messaging': 'Reminder'}}</td>\r\n                    <td>{{messages.vchLanguage}}</td>\r\n                    <td>{{messages.dtmCreatedOn}}</td>\r\n                    <td class=\"noPrint\"><a class=\"text-primary\" data-toggle=\"tooltip\" title=\"\" data-original-title=\"Edit\"\r\n                        (click)=\"editMessage(messages.intMessageConfigId+':'+messages.intProcessId+':'+messages.vchProcessName)\"><i\r\n                          class=\"icon-edit-solid\"></i></a>\r\n                         \r\n                          <div class=\"modal fade noPrint\"  id=\"previewModal{{i}}\" tabindex=\"-1\" aria-labelledby=\"previewModalLabel\"\r\n                          aria-hidden=\"true\">\r\n                          <div class=\"modal-dialog modal-lg\">\r\n                            <div class=\"modal-content\">\r\n                              <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title mb-0\" id=\"previewModalLabel\">{{\"Message Details\" | translate}}\r\n                                </h5>\r\n                                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                              </div>\r\n                              <div class=\"modal-body\">\r\n                                <table class=\"table table-bordered\">\r\n                                  <tbody>\r\n                                    <tr *ngIf=\"formenable\">\r\n                                      <td class=\"w-25 fw-bold\">{{\"Form Name\" | translate}} </td>\r\n                                      <td colspan=\"2\">{{messages.vchProcessName}}</td>\r\n                                    </tr>\r\n      \r\n                                    <tr>\r\n                                      <td class=\"fw-bold\">{{\"Subject\" | translate}} </td>\r\n                                      <td colspan=\"2\">{{messages.vchSubject}}</td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 2\">\r\n                                      <td class=\"w-25 fw-bold\">{{\"SMS TemplateId\" | translate}} </td>\r\n                                      <td colspan=\"2\">{{messages.vchSmsTemplateId}}</td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 1\">\r\n                                      <td class=\"w-25 fw-bold\"> {{\"Audio\" | translate}} </td>\r\n                                      <td colspan=\"2\">\r\n                                        <audio controls>\r\n                                          <source src=\"{{messages.vchDocument}}\" type=\"audio/mp3\">\r\n                                          {{\"Your browser does not support the audio tag\"}}.\r\n                                        </audio>\r\n                                      </td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 2\">\r\n                                      <td class=\"w-25 fw-bold\"> {{\"Video\" | translate}} </td>\r\n                                      <td colspan=\"2\">\r\n                                        <video width=\"320\" height=\"240\" controls>\r\n                                          <source src=\"{{messages.vchDocument}}\" type=\"video/mp4\">\r\n                                          {{\"Your browser does not support the video tag\"}}.\r\n                                        </video>\r\n                                      </td>\r\n                                    </tr>\r\n      \r\n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 3\">\r\n                                      <td class=\"w-25 fw-bold\"> {{\"Image\" | translate}} </td>\r\n                                      <td colspan=\"2\"><img src=\"{{messages.vchDocument}}\" style=\"max-width:100%\"\r\n                                          height=\"70px\"></td>\r\n                                    </tr>\r\n      \r\n                                    <tr>\r\n                                      <td class=\"fw-bold\">{{\"Message Content\" | translate}} </td>\r\n                                      <td>\r\n                                        <div class=\"pdfContainer\" [innerHtml]=\"htmldecode(messages.vchMessageContent)\">\r\n\r\n                                        \r\n                                        </div>\r\n                                      </td>\r\n                                    </tr>\r\n      \r\n      \r\n      \r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        </td>\r\n\r\n\r\n                \r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\r\n          </div>\r\n          <ng-template #norecord>\r\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\r\n          </ng-template>\r\n        </div>\r\n  \r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"loader\" *ngIf=\"loading\">\r\n    <div class=\"loader-item\"></div>\r\n    <p>{{\"Loading\"}}...</p>\r\n  </div>\r\n" }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.HttpClient }, { type: i3.MsgengineLibService }, { type: i4.VarlistService }, { type: i5.NgbModal }, { type: i6.EncrypyDecrpyService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld21zZ2VuZ2luZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tc2dlbmdpbmUtbGliL3NyYy9saWIvdmlld21zZ2VuZ2luZS92aWV3bXNnZW5naW5lLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21zZ2VuZ2luZS1saWIvc3JjL2xpYi92aWV3bXNnZW5naW5lL3ZpZXdtc2dlbmdpbmUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBaUMsTUFBTSxlQUFlLENBQUM7QUFFekUsT0FBTyxJQUFJLE1BQU0sYUFBYSxDQUFDO0FBRS9CLE9BQU8sS0FBSyxRQUFRLE1BQU0sV0FBVyxDQUFDO0FBR3RDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQVNoQyxNQUFNLE9BQU8sc0JBQXNCO0lBMERqQyxZQUFvQixLQUFhLEVBQ3ZCLFVBQXNCO0lBRTlCLCtDQUErQztJQUMvQyxzREFBc0Q7SUFDL0MsY0FBa0MsRUFDakMsT0FBc0IsRUFDdEIsWUFBc0IsRUFDdEIsTUFBNEI7UUFSbEIsVUFBSyxHQUFMLEtBQUssQ0FBUTtRQUN2QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBSXZCLG1CQUFjLEdBQWQsY0FBYyxDQUFvQjtRQUNqQyxZQUFPLEdBQVAsT0FBTyxDQUFlO1FBQ3RCLGlCQUFZLEdBQVosWUFBWSxDQUFVO1FBQ3RCLFdBQU0sR0FBTixNQUFNLENBQXNCO1FBNUR0QyxZQUFPLEdBQU87WUFDWjtnQkFDRSxXQUFXLEVBQUMscUJBQXFCO2dCQUNqQyxTQUFTLEVBQUM7b0JBQ1IsRUFBQyxTQUFTLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxxQkFBcUIsRUFBQztvQkFDaEQsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxzQkFBc0IsRUFBQyxV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Q0FBQyxPQUFPLEVBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFBOzRCQUVuRyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLENBQUMsQ0FBQTt5QkFFOUI7NkJBQ0k7NEJBQ0gsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQTt5QkFFbkc7b0JBQ0gsQ0FBQztvQkFDRCxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTt3QkFDUixJQUFJLENBQUMsY0FBYyxDQUFDLGVBQWUsRUFBRSxDQUFBO29CQUM3QyxDQUFDO2lCQUNELENBQUMsQ0FBQTthQUVLO1FBQ0gsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsVUFBVSxDQUFDLElBQVE7UUFDakIsSUFBSSxHQUFHLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQy9ELE9BQU8sR0FBRyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUM7SUFFdkMsQ0FBQzs7b0hBaFNVLHNCQUFzQjt3R0FBdEIsc0JBQXNCLHlEQ2pCbkMsNG1aQWtQQTs0RkRqT2Esc0JBQXNCO2tCQUxsQyxTQUFTOytCQUNFLG1CQUFtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInO1xyXG5pbXBvcnQgeyBNc2dlbmdpbmVMaWJTZXJ2aWNlIH0gZnJvbSAnLi4vbXNnZW5naW5lLWxpYi5zZXJ2aWNlJztcclxuaW1wb3J0ICogYXMgQ3J5cHRvSlMgZnJvbSAnY3J5cHRvLWpzJztcclxuaW1wb3J0IHsgRW5jcnlweURlY3JweVNlcnZpY2UgfSBmcm9tICcuLi9lbmNyeXB5LWRlY3JweS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgVmFybGlzdFNlcnZpY2UgfSBmcm9tICcuLi92YXJsaXN0LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xyXG5cclxuaW1wb3J0IHsgTmdiTW9kYWwgfSBmcm9tICdAbmctYm9vdHN0cmFwL25nLWJvb3RzdHJhcCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2xpYi12aWV3bXNnZW5naW5lJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vdmlld21zZ2VuZ2luZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vdmlld21zZ2VuZ2luZS5jb21wb25lbnQuY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFZpZXdtc2dlbmdpbmVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICB0aXRsZTogYW55O1xyXG4gIHRhYmxpc3Q6IGFueTtcclxuICB1dGlsbGlzdDogYW55O1xyXG4gIG1lc3NhYWdlc2xpc3Q6IGFueTtcclxuICBqc29udXJsOmFueSA9IFtcclxuICAgIHtcclxuICAgICAgXCJwYWdldGl0bGVcIjpcIlZpZXcgTWVzc2FnZSBFbmdpbmVcIixcclxuICAgICAgXCJ0YWJMaXN0XCI6W1xyXG4gICAgICAgIHtcInRhYk5hbWVcIjpcIkFkZFwiLFwidGFiVXJsXCI6XCIuLi9hZGRtZXNzYWdlZW5naW5lXCJ9LFxyXG4gICAgICAgIHtcInRhYk5hbWVcIjpcIlZpZXdcIixcInRhYlVybFwiOlwiLi4vdmlld21lc3NhZ2VlbmdpbmVcIixcInRhYkNsYXNzXCI6XCJhY3RpdmVcIn0sXHJcbiAgICAgICAge1widGFiTmFtZVwiOlwiUmVtaW5kZXJcIixcInRhYlVybFwiOlwiLi4vdmlld21lc3NhZ2VyZW1pbmRlclwifV0sXHJcbiAgICBcclxuICAgICAgICBcclxuICAgICAgXCJ1dGlsc1wiOltcclxuICAgICAgIFxyXG4gICAgICAgIHtcInV0aWxOYW1lXCI6XCJzZWFyY2hcIn0sXHJcbiAgICAgICAge1widXRpbE5hbWVcIjpcInByaW50XCJ9LFxyXG4gICAgICAgIHtcInV0aWxOYW1lXCI6XCJkZWxldGVcIn0sXHJcbiAgICAgICAge1widXRpbE5hbWVcIjpcInB1Ymxpc2hcIn0sXHJcbiAgICAgICAge1widXRpbE5hbWVcIjpcInVucHVibGlzaFwifSxcclxuICAgICAgXHJcbiAgICAgICAgXSxcclxuICAgICAgXCJtZXNzYWdlc1wiOlxyXG4gICAgICAgIHtcclxuICAgICAgICBcInN1Y2Nlc3NNc2dcIjpcIkRhdGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIsXHJcbiAgICAgICAgXCJlcnJvck1zZ1wiOlwiU29tZXRoaW5nIFdlbnQgV3JvbmdcIixcclxuICAgICAgICBcIndhcm5pbmd0eXBlXCI6XCJZb3Ugd2FudCB0byBkZWxldGUgdGhpcyByZWNvcmRcIixcclxuICAgICAgICBcImRlbGV0ZU1zZ1wiOlwiUmVjb3JkIGhhcyBiZWVuIGRlbGV0ZWRcIlxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIF07XHJcbiAgbGV0dGVySUQ6IGFueSA9IFwiXCI7XHJcbiAgZWRpdG9yOiBhbnk7XHJcbiAgLy8gZWRpdG9yOiBhbnkgPSBDbGFzc2ljRWRpdG9yO1xyXG4gIGlzRmxhZyA9IHRydWU7XHJcblxyXG4gIHBhZ2U6IG51bWJlciA9IDE7XHJcbiAgY291bnQ6IG51bWJlciA9IDA7XHJcbiAgdGFibGVTaXplOiBudW1iZXIgPSAxMDtcclxuICBwYWdlU2l6ZXMgPSBbMTAsIDIwLCA1MCwgMTAwLCA1MDAsIDEwMDBdO1xyXG5cclxuICBsb2FkaW5nID0gZmFsc2U7XHJcbiAgbGV0dGVySWRBcnJheTogYW55ID0gW107XHJcbiAgcHViVW5wU3RhdHVzOiBhbnlbXSA9IFtdO1xyXG4gIHNldk5hbWU6IGFueSA9IFwiXCI7XHJcbiAgbWVzc2FnZUxpc3Q6IGFueTtcclxuICBzZWxGb3JtTmFtZTogYW55ID0gMDtcclxuICBmb3JtTmFtZXM6IGFueTtcclxuICB0eHRMZXR0ZXJOYW1lOiBhbnkgPSBudWxsO1xyXG4gIGludE1lc3NhZ2VDb25maWdUeXBlOiBhbnk7XHJcbiAgdHh0TWVzc2FnZUNvbmZpZ1R5cGU6IGFueTtcclxuICBsYW5nS2V5OiBhbnkgPSAnZW4nO1xyXG4gIGluZGV4TnVtYmVyOiBhbnkgPSAwO1xyXG4gIGZvcm1lbmFibGU6YW55O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdXRlOiBSb3V0ZXIsXHJcbiAgICBwcml2YXRlIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsXHJcbiAgIFxyXG4gICAgLy8gcHVibGljIGNvbW1vbnNlcnZlaWNlOiBDb21tb252YXJsaXN0U2VydmljZSxcclxuICAgIC8vIHByaXZhdGUgZ2V0d2F5U2VydmljZTogR2V0d2F5dmFybGlzdHVhcnRpb25TZXJ2aWNlLFxyXG4gICAgcHVibGljIGNvbW1vbnNlcnZlaWNlOk1zZ2VuZ2luZUxpYlNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHZhcmxpc3Q6VmFybGlzdFNlcnZpY2UsIFxyXG4gICAgcHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE5nYk1vZGFsLCBcclxuICAgIHByaXZhdGUgZW5jRGVjOiBFbmNyeXB5RGVjcnB5U2VydmljZVxyXG4gICAgKSB7IFxyXG4gICAgXHJcbiAgICAgIHRoaXMuZm9ybWVuYWJsZT10aGlzLnZhcmxpc3QuZm9ybUVuYWJsZTtcclxuICAgICAgdGhpcy5zZXZOYW1lPXZhcmxpc3Quc2VydmljZU1vZHVsZWNvbmZpZztcclxuICAgIH0gXHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5sb2FkY29uZmlnKCk7XHJcbiAgICB0aGlzLnZpZXdJdGVtcygnJywnJywnJywnJywxKTtcclxuICAgIGlmKHRoaXMuZm9ybWVuYWJsZT09dHJ1ZSl7XHJcbiAgICAgIHRoaXMuZ2V0Rm9ybXMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy90aGlzLmFkZENoYW5nZUV2ZW50Rm9yTGFiZWwoKTtcclxuXHJcbiAgfVxyXG4gIGxvYWRjb25maWcoKSB7XHJcbiAgIFxyXG4gICAgICB0aGlzLnRhYmxpc3QgPSB0aGlzLmpzb251cmxbMF0udGFiTGlzdDtcclxuICAgICAgdGhpcy51dGlsbGlzdCA9IHRoaXMuanNvbnVybFswXS51dGlsc1xyXG4gICAgICB0aGlzLm1lc3NhYWdlc2xpc3QgPSB0aGlzLmpzb251cmxbMF0ubWVzc2FnZXM7XHJcbiAgICAgIHRoaXMudGl0bGUgPSB0aGlzLmpzb251cmxbMF0ucGFnZXRpdGxlO1xyXG4gXHJcbiAgfVxyXG4gIG11bHRpbGluZ3VhbCh0ZXN0OiBhbnkpIHtcclxuICAgIHJldHVybiB0ZXN0O1xyXG4gIH1cclxuICBnZXRGb3JtcygpIHtcclxuXHJcblxyXG4gICAgbGV0IHBhcmFtcz17fVxyXG4gICAgdGhpcy5jb21tb25zZXJ2ZWljZS5nZXRGb3JtcyhwYXJhbXMpLnN1YnNjcmliZSh7XHJcbiAgICAgIG5leHQ6IChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGxldCByZXNwRGF0YSA9IHJlc3BvbnNlLlJFU1BPTlNFX0RBVEE7XHJcbiAgICAgICAgbGV0IHJlc3BUb2tlbiA9IHJlc3BvbnNlLlJFU1BPTlNFX1RPS0VOO1xyXG4gICAgICAgbGV0IHZlcmlmeVRva2VuID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihyZXNwRGF0YSwgdGhpcy52YXJsaXN0LmFwaUhhc2hpbmdLZXkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICBpZiAocmVzcFRva2VuID09IHZlcmlmeVRva2VuKSB7XHJcbiAgICAgICAgIGxldCByZXM6IGFueSA9IEJ1ZmZlci5mcm9tKHJlc3BEYXRhLCAnYmFzZTY0Jyk7XHJcbiAgICAgICAgIHJlcyA9IEpTT04ucGFyc2UocmVzLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAvL2NvbnNvbGUubG9nKCdyZXMnKTtcclxuICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgIHRoaXMuZm9ybU5hbWVzID0gcmVzLnJlc3VsdDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5tZXNzYWdlcylcclxuICAgICAgICAgfVxyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLnN3YWxmaXJlKCdlcnJvcicsdGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLnZhcmxpc3QuaW52YWxpZFJlc3BvbnNlKSlcclxuICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IChtc2cpID0+IHtcclxuICAgICAgICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2UuZGlyZWN0bG9nb3V0bGliKClcclxuICAgICB9XHJcbiAgIH0pXHJcbiAgIFxyXG5cclxuIFxyXG4gIH1cclxuICB2aWV3SXRlbXMoTWVzc2FnZUNvbmZpZ0lkOmFueSxpbnRNZXNzYWdlQ29uZmlnVHlwZTphbnksZm9ybUlkOmFueSxmb3JtTmFtZTphbnksbWVzc2FnZVR5cGU6YW55KSB7XHJcbiAgICB0aGlzLmxldHRlcklkQXJyYXkgPSBbXTtcclxuICAgIHRoaXMudHh0TWVzc2FnZUNvbmZpZ1R5cGUgPSAwO1xyXG4gICAgdGhpcy5zZWxGb3JtTmFtZSA9IG51bGw7XHJcbiAgICBsZXQgbWVzc2FnZVBhcmFtcyA9IHtcclxuICAgICAgXCJpbnRNZXNzYWdlQ29uZmlnSWRcIjogTWVzc2FnZUNvbmZpZ0lkLFxyXG4gICAgICBcImludE1lc3NhZ2VDb25maWdUeXBlXCI6IGludE1lc3NhZ2VDb25maWdUeXBlLFxyXG4gICAgICBcImZvcm1JZFwiOiBmb3JtSWQsXHJcbiAgICAgIFwiZm9ybU5hbWVcIjogZm9ybU5hbWUsXHJcbiAgICAgIFwibWVzc2FnZVR5cGVcIjogbWVzc2FnZVR5cGVcclxuICAgIH07XHJcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgdGhpcy5wdWJVbnBTdGF0dXMgPSBbXTtcclxuICAgIHRoaXMuY29tbW9uc2VydmVpY2Uudmlld01lc3NhZ2UobWVzc2FnZVBhcmFtcykuc3Vic2NyaWJlKHtcclxuICAgICAgbmV4dDogKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3BEYXRhID0gcmVzcG9uc2UuUkVTUE9OU0VfREFUQTtcclxuICAgICAgICBsZXQgcmVzcFRva2VuID0gcmVzcG9uc2UuUkVTUE9OU0VfVE9LRU47XHJcbiAgICAgICAgbGV0IHZlcmlmeVRva2VuID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihyZXNwRGF0YSwgdGhpcy52YXJsaXN0LmFwaUhhc2hpbmdLZXkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgaWYgKHJlc3BUb2tlbiA9PSB2ZXJpZnlUb2tlbikge1xyXG4gICAgICAgICAgbGV0IHJlczogYW55ID0gQnVmZmVyLmZyb20ocmVzcERhdGEsICdiYXNlNjQnKTtcclxuICAgICAgICAgIHJlcyA9IEpTT04ucGFyc2UocmVzLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUxpc3QgPSByZXMucmVzdWx0O1xyXG4gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWVzc2FnZUxpc3QpXHJcbiAgICAgICAgICAgIHRoaXMuaXNGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gNDE3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2Uuc3dhbGZpcmUoJ2Vycm9yJyx0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5pbnZhbGlkUmVzcG9uc2UpKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25zZXJ2ZWljZS5zd2FsZmlyZSgnZXJyb3InLHRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LmludmFsaWRSZXNwb25zZSkpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuaXNGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLnN3YWxmaXJlKCdlcnJvcicsdGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLnZhcmxpc3QuaW52YWxpZFJlc3BvbnNlKSlcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yOiAobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLmRpcmVjdGxvZ291dGxpYigpXHJcbiAgICAgfVxyXG4gICB9KVxyXG4gICBcclxuICB9XHJcbiAgdmlld1NlYXJjaExpc3QoKSB7XHJcbiAgICBsZXQgRm9ybWlkID0gdGhpcy5zZWxGb3JtTmFtZTtcclxuICAgIGxldCBNZXNzYWdlQ29uZmlnVHlwZSA9IHRoaXMudHh0TWVzc2FnZUNvbmZpZ1R5cGU7XHJcbiAgICB0aGlzLnZpZXdJdGVtcygnJyxNZXNzYWdlQ29uZmlnVHlwZSxGb3JtaWQsJycsMSk7XHJcbiBcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG4gIG9uVGFibGVEYXRhQ2hhbmdlKGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMucGFnZSA9IGV2ZW50O1xyXG4gICAgdGhpcy5pbmRleE51bWJlciA9ICh0aGlzLnBhZ2UgLSAxKSAqIHRoaXMudGFibGVTaXplO1xyXG5cclxuICB9XHJcbiAgb25UYWJsZVNpemVDaGFuZ2UoZXZlbnQ6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy50YWJsZVNpemUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICB0aGlzLnBhZ2UgPSAxO1xyXG4gICAgdGhpcy5pbmRleE51bWJlciA9IDA7XHJcbiAgfVxyXG4gIG9uQ2hhbmdlKGNoZWNraWQ6IGFueSwgZTogYW55LCBwdWJsaXNoU3RhdHVzOiBhbnkpIHtcclxuICAgIGxldCB0b3RhbENoZWNrYm94OmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3dDaGVjaycpLmxlbmd0aDtcclxuICAgIGxldCB0b3RhbENoZWNrZWQ6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvd0NoZWNrOmNoZWNrZWQnKS5sZW5ndGg7XHJcbiAgICBsZXQgcGFyZW50Y2hlY2s6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYWxsJyk7XHJcbiAgIFxyXG4gICAgaWYodG90YWxDaGVja2JveCA9PSB0b3RhbENoZWNrZWQpIHtcclxuICAgICAgcGFyZW50Y2hlY2tbMF0uY2hlY2tlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwYXJlbnRjaGVja1swXS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xyXG4gICAgICBpZiAoIXRoaXMubGV0dGVySWRBcnJheS5pbmNsdWRlcyhjaGVja2lkKSkge1xyXG4gICAgICAgIHRoaXMubGV0dGVySWRBcnJheS5wdXNoKGNoZWNraWQpO1xyXG4gICAgICAgIHRoaXMucHViVW5wU3RhdHVzLnB1c2goeyAnbGV0dGVySWQnOiBjaGVja2lkLCAncHVibGlzaFVucHVibGlzU3RhdHVzJzogcHVibGlzaFN0YXR1cyB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGluZGV4ID0gdGhpcy5sZXR0ZXJJZEFycmF5LmluZGV4T2YoY2hlY2tpZCk7XHJcbiAgICAgIGxldCBpbmR4QWRkOiBudW1iZXIgPSAwO1xyXG4gICAgICBmb3IgKGxldCBtayBvZiB0aGlzLnB1YlVucFN0YXR1cykge1xyXG4gICAgICAgIGlmIChtay5sZXR0ZXJJZCA9PSBjaGVja2lkKSB7XHJcbiAgICAgICAgICB0aGlzLnB1YlVucFN0YXR1cy5zcGxpY2UoaW5keEFkZCwgMSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5keEFkZCsrO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubGV0dGVySWRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZWxlY3RBbGwoZTogYW55KSB7XHJcbiAgICBsZXQgY2hlY2tCb3hlczphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93Q2hlY2snKTtcclxuICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tCb3hlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICBsZXQgaWRzID0gY2hlY2tCb3hlc1tpXS5pZDtcclxuICAgICAgICB0aGlzLmxldHRlcklkQXJyYXkucHVzaChwYXJzZUludChpZHMpKTtcclxuICAgICAgICB0aGlzLnB1YlVucFN0YXR1cy5wdXNoKHsgJ2xldHRlcklkJzogaWRzLCAncHVibGlzaFVucHVibGlzU3RhdHVzJzogY2hlY2tCb3hlc1tpXS5nZXRBdHRyaWJ1dGUoXCJwdWJzdGF0dXNcIikgfSlcclxuICAgICAgICBjaGVja0JveGVzW2ldLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMucHViVW5wU3RhdHVzID0gW107XHJcbiAgICAgIHRoaXMubGV0dGVySWRBcnJheSA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrQm94ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjaGVja0JveGVzW2ldLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9lZGl0IGZ1bmN0aW9uIGNhbGwgZm9yIGVkaXQgaWQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGVkaXRNZXNzYWdlKG1lc3NhZ2VTdHI6IGFueSkge1xyXG4gICAgXHJcbiAgICBsZXQgZW5jU2NoZW1lU3RyID0gdGhpcy5lbmNEZWMuZW5jVGV4dChtZXNzYWdlU3RyLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5yb3V0ZS5uYXZpZ2F0ZShbJy9hZG1pbi9hZGRtZXNzYWdlZW5naW5lJywgZW5jU2NoZW1lU3RyXSk7XHJcbiAgfVxyXG4gIGRlbGV0ZUxldHRlcihtZXNzYWdlSWQ6IGFueSkge1xyXG4gICAgbGV0IG1lc3NhZ2VQYXJhbXMgPSB7XHJcbiAgICAgIFwiaXRlbUlkXCI6IG1lc3NhZ2VJZCxcclxuICAgICAgXCJpdGVtU3RhdHVzXCI6IFwiMVwiXHJcbiAgICB9O1xyXG4gICAgU3dhbC5maXJlKHtcclxuICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUnICsgJz8nLFxyXG4gICAgICB0ZXh0OiB0aGlzLm1lc3NhYWdlc2xpc3Qud2FybmluZ3R5cGUsXHJcbiAgICAgIGljb246ICd3YXJuaW5nJyxcclxuICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsXHJcbiAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLFxyXG4gICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLFxyXG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcycgKyAnLCAnICsgJ2RlbGV0ZSBpdCcgKyBcIiFcIlxyXG4gICAgfSkudGhlbigocmVzdWx0OiBhbnkpID0+IHtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLm5ld01lc3NhZ2UobWVzc2FnZVBhcmFtcykuc3Vic2NyaWJlKHtcclxuICBuZXh0OiAocmVzcG9uc2UpID0+IHtcclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgIHRoaXMuY29tbW9uc2VydmVpY2Uuc3dhbGZpcmUoJ2Vycm9yJyx0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMubWVzc2FhZ2VzbGlzdC5kZWxldGVNc2cpKVxyXG4gIFxyXG4gICAgICB0aGlzLnZpZXdJdGVtcygnJywnJywnJywnJywxKVxyXG5cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLnN3YWxmaXJlKCdlcnJvcicsdGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLm1lc3NhYWdlc2xpc3QuZXJyb3JNc2cpKVxyXG4gICBcclxuICAgIH1cclxuICB9LFxyXG4gIGVycm9yOiAobXNnKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2UuZGlyZWN0bG9nb3V0bGliKClcclxuIH1cclxufSlcclxuICAgXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIGh0bWxkZWNvZGUoZGF0YTphbnkpe1xyXG4gICAgbGV0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZGF0YSwgXCJ0ZXh0L2h0bWxcIik7XHJcbiAgcmV0dXJuIGRvYy5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XHJcblxyXG4gIH1cclxuICAvLyBhZGRDaGFuZ2VFdmVudEZvckxhYmVsKCkge1xyXG4gIC8vICAgbGV0IHNlc3Npb25Vc2VyTGFuZ3Rva2VuOiBhbnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdVU0VSX0xBTkdQUkVGJyk7XHJcbiAgLy8gICBsZXQgc2Vzc2lvblVzZXJMYW5nID0gSlNPTi5wYXJzZShDcnlwdG9KUy5BRVMuZGVjcnlwdChzZXNzaW9uVXNlckxhbmd0b2tlbiwgdGhpcy52YXJsaXN0LmFwaUhhc2hpbmdLZXkpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KSk7XHJcbiAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAvLyAgICAgdGhpcy5sYW5nS2V5ID0gc2Vzc2lvblVzZXJMYW5nO1xyXG4gIC8vICAgICBsZXQgbGFiZWxDaGFuZ2VFbGU6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5ndWFnZUxpc3RIJyk7XHJcbiAgLy8gICAgIGxhYmVsQ2hhbmdlRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAvLyAgICAgICB0aGlzLmxhbmdLZXkgPSBsYWJlbENoYW5nZUVsZS52YWx1ZTtcclxuXHJcbiAgLy8gICAgIH0pO1xyXG5cclxuICAvLyAgIH0sIDEwMDApO1xyXG5cclxuICAvLyB9XHJcblxyXG59XHJcbiIsIjwhLS09PT1QYWdlIFRpdGxlPT09LS0+XHJcbjxkaXYgY2xhc3M9XCJwYWdlLXRpdGxlXCI+XHJcblxyXG4gICAgPGg0Pnt7dGl0bGUgfCB0cmFuc2xhdGV9fTwvaDQ+XHJcbiAgPC9kaXY+XHJcbiAgPCEtLT09PVBhZ2UgVGl0bGU9PT0tLT5cclxuICA8IS0tPT09Y29udHJvbGUgc2VjdGlvbj09PS0tPlxyXG4gIDxkaXYgY2xhc3M9XCJwYWdlLWNvbnRyb2xzLXNlY3Rpb25cIiBpZD1cInBhZ2UtY29udGVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzLXNlY3Rpb24taGVhZGVyXCI+XHJcbiAgICAgICBcclxuICAgICAgICA8dWwgY2xhc3M9XCJuYXYgbmF2LXRhYnMgbmF2LWZpbGxcIiByb2xlPVwidGFibGlzdFwiPlxyXG4gICAgICAgICAgICA8bGliLWxpYnRhYnMgKm5nRm9yPVwibGV0IHRhYmxpc3Qgb2YgdGFibGlzdFwiIFt0YWJNZXNzYWdlXT1cInRhYmxpc3RcIj48L2xpYi1saWJ0YWJzPlxyXG4gICAgXHJcbiAgICAgICAgPC91bD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5kaWNhdG9yc2xpc3RcIj5cclxuXHJcbiAgICAgICAgICAgIDxsaWItbGlidXRpbHMgKm5nRm9yPVwibGV0IHV0aWxsaXN0IG9mIHV0aWxsaXN0XCIgW2NoaWxkTWVzc2FnZV09XCJ1dGlsbGlzdFwiIFtzZW5kSWRzXT1cImxldHRlcklkQXJyYXlcIiBcclxuICAgICAgICAgICAgW2Z1blR5cGVdPVwic2V2TmFtZVwiIFtwdWJVbnB1YlN0YXR1c109XCJwdWJVbnBTdGF0dXNcIiAgKGNhbGxmdW5jdGlvbik9XCJ2aWV3SXRlbXMoJycsJycsJycsJycsMSlcIlxyXG4gICAgICAgICAgICAoY2FsbGZ1bmN0aW9uMik9J3NlbGVjdEFsbCgkZXZlbnQpJz48L2xpYi1saWJ1dGlscz5cclxuICAgICAgICAgIFxyXG4gICAgICAgICBcclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcbiAgXHJcbiAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzLXNlY3Rpb25cIj5cclxuICAgICAgICAgIDwhLS0gU2VhcmNoIFBhbmVsIC0tPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlYXJjaC1jb250YWluZXIgYWN0aXZlXCIgaWQ9XCJzZWFyY2gtY29udGFpbmVyXCI+XHJcbiAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtc2VjXCI+XHJcbiAgXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtMyBjb2wtbGctM1wiICpuZ0lmPVwiZm9ybWVuYWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgWyhuZ01vZGVsKV09XCJzZWxGb3JtTmFtZVwiIHBsYWNlaG9sZGVyPVwiU2VsZWN0IEZvcm0gTmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtMyBjb2wtbGctM1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLXNlbGVjdCBkb2NTaXplVHlwZVwiIFsobmdNb2RlbCldPVwidHh0TWVzc2FnZUNvbmZpZ1R5cGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIwXCIgZGlzYWJsZWQgc2VsZWN0ZWQ+e3tcIlNlbGVjdCBNZXNzYWdlIGNvbmZpZyBUeXBlXCIgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0xPk1haWw8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Mj5TTVM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Mz5XaGF0c2FwcDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG4gIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtMyBjb2wtbGctM1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwidmlld1NlYXJjaExpc3QoKVwiPiB7e1wiU2VhcmNoXCIgfCB0cmFuc2xhdGV9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlciBtbC0xXCIgKGNsaWNrKT1cInZpZXdJdGVtcygnJywnJywnJywnJywxKVwiPiB7e1wiUmVzZXRcIiB8IHRyYW5zbGF0ZX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgXHJcbiAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG4gIFxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8IS0tIFNlYXJjaCBQYW5lbCAtLT5cclxuICAgICAgICAgIDxkaXYgKm5nSWY9XCJtZXNzYWdlTGlzdD8ubGVuZ3RoID4gMDsgZWxzZSBub3JlY29yZFwiPlxyXG4gIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTNcIj5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibGVnZW5kc1wiPlxyXG4gICAgICAgICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJiZy1zdWNjZXNzXCI+PC9zcGFuPiB7e1wiUHVibGlzaFwiIHwgdHJhbnNsYXRlfX08L2xpPlxyXG4gICAgICAgICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJiZy1kYW5nZXJcIj48L3NwYW4+IHt7XCJVbnB1Ymxpc2hcIiB8IHRyYW5zbGF0ZX19PC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIHt7XCJQZXIgUGFnZVwiIHwgdHJhbnNsYXRlfX06XHJcbiAgICAgICAgICAgICAgICA8c2VsZWN0IChjaGFuZ2UpPVwib25UYWJsZVNpemVDaGFuZ2UoJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uICpuZ0Zvcj1cImxldCBzaXplIG9mIHBhZ2VTaXplc1wiIFtuZ1ZhbHVlXT1cInNpemVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7eyBzaXplIH19XHJcbiAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZSBwcmludC1zZWN0aW9uXCIgaWQ9XCJwcmludC1zZWN0aW9uXCI+IFxyXG4gICAgICAgICAgICAgIDx0YWJsZSBkYXRhLXRvZ2dsZT1cInRhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB2YWxpZ24tbWlkZGxlXCI+XHJcbiAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBzdHlsZT1cIndpZHRoOjQwcHhcIiBjbGFzcz1cIm5vUHJpbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgY2hlY2thbGxcIiB0eXBlPVwiY2hlY2tib3hcIiAoY2hhbmdlKT1cInNlbGVjdEFsbCgkZXZlbnQpXCIgaWQ9XCJjaGVja2FsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNoZWNrYWxsXCIgdmFsdWU9XCJjaGVja2FsbFwiPlxyXG4gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cIm5vUHJpbnRcIiBzdHlsZT1cIndpZHRoOjQwcHhcIj57e1wiU2wgTm9cInwgdHJhbnNsYXRlIH19PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiAqbmdJZj1cImZvcm1lbmFibGVcIj57e1wiRm9ybSBOYW1lXCIgfCB0cmFuc2xhdGV9fTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3tcIkNvbmZpZ3VyYXRpb24gVHlwZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7XCJTTVMgVGVtcGxhdGVJZFwiIHwgdHJhbnNsYXRlfX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7XCJNZXNzYWdlIFR5cGVcIiB8IHRyYW5zbGF0ZX19PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiTGFuZ3VhZ2VcIiB8IHRyYW5zbGF0ZX19PC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiQ3JlYXRlZCBPblwiIHwgdHJhbnNsYXRlfX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwibm9QcmludFwiIHN0eWxlPVwid2lkdGg6ODBweFwiPnt7XCJBY3Rpb25cIiB8IHRyYW5zbGF0ZX19PC90aD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIDx0ciAgKm5nRm9yPVwibGV0IG1lc3NhZ2VzIG9mIG1lc3NhZ2VMaXN0IHwgcGFnaW5hdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiB0YWJsZVNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zOiBjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgIGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJub1ByaW50IGJvcmRlci1sZWZ0LTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydib3JkZXItbGVmdC1kYW5nZXInOiBtZXNzYWdlcy50aW5QdWJsaXNoU3RhdHVzID09PSAwICwgJ2JvcmRlci1sZWZ0LXN1Y2Nlc3MnOiBtZXNzYWdlcy50aW5QdWJsaXNoU3RhdHVzID09PSAxIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgcm93Q2hlY2tcIiB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwib25DaGFuZ2UobWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ0lkLCAkZXZlbnQsbWVzc2FnZXMudGluUHVibGlzaFN0YXR1cylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ7e21lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdJZCB9fVwiIFtpZF09XCJtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnSWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnSWRcIiBbYXR0ci5wdWJzdGF0dXNdPVwibWVzc2FnZXMudGluUHVibGlzaFN0YXR1c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+e3tpKzEraW5kZXhOdW1iZXJ9fSA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cImZvcm1lbmFibGVcIj48YSB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0ZXh0LXByaW1hcnlcIiBkYXRhLWJzLXRvZ2dsZT1cIm1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZGF0YS1icy10YXJnZXRdPVwiJyNwcmV2aWV3TW9kYWwnK2lcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3ttZXNzYWdlcy52Y2hQcm9jZXNzTmFtZX19XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YSB0eXBlPVwiYnV0dG9uXCIgKm5nSWY9XCIhZm9ybWVuYWJsZVwiIGNsYXNzPVwidGV4dC1wcmltYXJ5XCIgZGF0YS1icy10b2dnbGU9XCJtb2RhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmRhdGEtYnMtdGFyZ2V0XT1cIicjcHJldmlld01vZGFsJytpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7KG1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDEpID8gJ01haWwnOihtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnVHlwZSA9PSAyKSA/J1NNUyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAnV2hhdHNhcHAnfX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiZm9ybWVuYWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3sobWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ1R5cGUgPT0gMSkgPyAnTWFpbCc6KG1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDIpID8nU01TJzpcclxuICAgICAgICAgICAgICAgICAgICAgICdXaGF0c2FwcCd9fTwvc3Bhbj48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD57e21lc3NhZ2VzLnZjaFNtc1RlbXBsYXRlSWQgIT0nJyA/IG1lc3NhZ2VzLnZjaFNtc1RlbXBsYXRlSWQ6ICctLSd9fTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7bWVzc2FnZXMuaW50bWVzc2FnZVR5cGUgPT0gMSA/ICdNZXNzYWdpbmcnOiAnUmVtaW5kZXInfX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD57e21lc3NhZ2VzLnZjaExhbmd1YWdlfX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD57e21lc3NhZ2VzLmR0bUNyZWF0ZWRPbn19PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJub1ByaW50XCI+PGEgY2xhc3M9XCJ0ZXh0LXByaW1hcnlcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIlwiIGRhdGEtb3JpZ2luYWwtdGl0bGU9XCJFZGl0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImVkaXRNZXNzYWdlKG1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdJZCsnOicrbWVzc2FnZXMuaW50UHJvY2Vzc0lkKyc6JyttZXNzYWdlcy52Y2hQcm9jZXNzTmFtZSlcIj48aVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbi1lZGl0LXNvbGlkXCI+PC9pPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlIG5vUHJpbnRcIiAgaWQ9XCJwcmV2aWV3TW9kYWx7e2l9fVwiIHRhYmluZGV4PVwiLTFcIiBhcmlhLWxhYmVsbGVkYnk9XCJwcmV2aWV3TW9kYWxMYWJlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyBtb2RhbC1sZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlIG1iLTBcIiBpZD1cInByZXZpZXdNb2RhbExhYmVsXCI+e3tcIk1lc3NhZ2UgRGV0YWlsc1wiIHwgdHJhbnNsYXRlfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyICpuZ0lmPVwiZm9ybWVuYWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInctMjUgZnctYm9sZFwiPnt7XCJGb3JtIE5hbWVcIiB8IHRyYW5zbGF0ZX19IDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCI+e3ttZXNzYWdlcy52Y2hQcm9jZXNzTmFtZX19PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJmdy1ib2xkXCI+e3tcIlN1YmplY3RcIiB8IHRyYW5zbGF0ZX19IDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCI+e3ttZXNzYWdlcy52Y2hTdWJqZWN0fX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyICpuZ0lmPVwibWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ1R5cGUgPT0gMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInctMjUgZnctYm9sZFwiPnt7XCJTTVMgVGVtcGxhdGVJZFwiIHwgdHJhbnNsYXRlfX0gPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIj57e21lc3NhZ2VzLnZjaFNtc1RlbXBsYXRlSWR9fTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgKm5nSWY9XCJtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnVHlwZSA9PSAzICYmIG1lc3NhZ2VzLmludERvY3VtZW50VHlwZSA9PSAxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidy0yNSBmdy1ib2xkXCI+IHt7XCJBdWRpb1wiIHwgdHJhbnNsYXRlfX0gPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdWRpbyBjb250cm9scz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9XCJ7e21lc3NhZ2VzLnZjaERvY3VtZW50fX1cIiB0eXBlPVwiYXVkaW8vbXAzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7XCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYXVkaW8gdGFnXCJ9fS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYXVkaW8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciAqbmdJZj1cIm1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDMgJiYgbWVzc2FnZXMuaW50RG9jdW1lbnRUeXBlID09IDJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ3LTI1IGZ3LWJvbGRcIj4ge3tcIlZpZGVvXCIgfCB0cmFuc2xhdGV9fSA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZpZGVvIHdpZHRoPVwiMzIwXCIgaGVpZ2h0PVwiMjQwXCIgY29udHJvbHM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPVwie3ttZXNzYWdlcy52Y2hEb2N1bWVudH19XCIgdHlwZT1cInZpZGVvL21wNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e1wiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIHZpZGVvIHRhZ1wifX0uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgKm5nSWY9XCJtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnVHlwZSA9PSAzICYmIG1lc3NhZ2VzLmludERvY3VtZW50VHlwZSA9PSAzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidy0yNSBmdy1ib2xkXCI+IHt7XCJJbWFnZVwiIHwgdHJhbnNsYXRlfX0gPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIj48aW1nIHNyYz1cInt7bWVzc2FnZXMudmNoRG9jdW1lbnR9fVwiIHN0eWxlPVwibWF4LXdpZHRoOjEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCI3MHB4XCI+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJmdy1ib2xkXCI+e3tcIk1lc3NhZ2UgQ29udGVudFwiIHwgdHJhbnNsYXRlfX0gPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGRmQ29udGFpbmVyXCIgW2lubmVySHRtbF09XCJodG1sZGVjb2RlKG1lc3NhZ2VzLnZjaE1lc3NhZ2VDb250ZW50KVwiPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxsaWItbGlicGFnaW5hdGlvbiBbcGFnZV09XCJwYWdlXCIgW2NvdW50XT1cImNvdW50XCIgW3RhYmxlU2l6ZV09XCJ0YWJsZVNpemVcIiAoY2FsbGZ1bmN0aW9uKT1cIm9uVGFibGVEYXRhQ2hhbmdlKCRldmVudClcIj48L2xpYi1saWJwYWdpbmF0aW9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8bmctdGVtcGxhdGUgI25vcmVjb3JkPlxyXG4gICAgICAgICAgICA8aDYgY2xhc3M9XCJuby1jb250ZW50XCI+IHt7XCJObyBSZWNvcmQgRm91bmRcIiB8IHRyYW5zbGF0ZX19PC9oNj5cclxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cImxvYWRlclwiICpuZ0lmPVwibG9hZGluZ1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cImxvYWRlci1pdGVtXCI+PC9kaXY+XHJcbiAgICA8cD57e1wiTG9hZGluZ1wifX0uLi48L3A+XHJcbiAgPC9kaXY+XHJcbiJdfQ==