import { Component } from '@angular/core';
import Swal from 'sweetalert2';
import * as CryptoJS from 'crypto-js';
import { Buffer } from 'buffer';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/common/http";
import * as i3 from "../msgengine-lib.service";
import * as i4 from "../varlist.service";
import * as i5 from "@ng-bootstrap/ng-bootstrap";
import * as i6 from "../encrypy-decrpy.service";
import * as i7 from "@angular/common";
import * as i8 from "@angular/forms";
import * as i9 from "../libtabs/libtabs.component";
import * as i10 from "../libutils/libutils.component";
import * as i11 from "../libpagination/libpagination.component";
import * as i12 from "ngx-pagination";
import * as i13 from "../translate.pipe";
export class ViewmsgengineComponent {
    constructor(route, httpClient, 
    // public commonserveice: CommonvarlistService,
    // private getwayService: GetwayvarlistuartionService,
    commonserveice, varlist, modalService, encDec) {
        this.route = route;
        this.httpClient = httpClient;
        this.commonserveice = commonserveice;
        this.varlist = varlist;
        this.modalService = modalService;
        this.encDec = encDec;
        this.jsonurl = [
            {
                "pagetitle": "View Message Engine",
                "tabList": [
                    { "tabName": "Add", "tabUrl": "../addmessageengine" },
                    { "tabName": "View", "tabUrl": "../viewmessageengine", "tabClass": "active" },
                    { "tabName": "Reminder", "tabUrl": "../viewmessagereminder" }
                ],
                "utils": [
                    { "utilName": "search" },
                    { "utilName": "print" },
                    { "utilName": "delete" },
                    { "utilName": "publish" },
                    { "utilName": "unpublish" },
                ],
                "messages": {
                    "successMsg": "Date saved successfully",
                    "errorMsg": "Something Went Wrong",
                    "warningtype": "You want to delete this record",
                    "deleteMsg": "Record has been deleted"
                }
            }
        ];
        this.letterID = "";
        // editor: any = ClassicEditor;
        this.isFlag = true;
        this.page = 1;
        this.count = 0;
        this.tableSize = 10;
        this.pageSizes = [10, 20, 50, 100, 500, 1000];
        this.loading = false;
        this.letterIdArray = [];
        this.pubUnpStatus = [];
        this.sevName = "";
        this.selFormName = 0;
        this.txtLetterName = null;
        this.langKey = 'en';
        this.indexNumber = 0;
        this.formenable = this.varlist.formEnable;
        this.sevName = varlist.serviceModuleconfig;
    }
    ngOnInit() {
        this.loadconfig();
        this.viewItems('', '', '', '', 1);
        this.getForms();
        //this.addChangeEventForLabel();
    }
    loadconfig() {
        this.tablist = this.jsonurl[0].tabList;
        this.utillist = this.jsonurl[0].utils;
        this.messaageslist = this.jsonurl[0].messages;
        this.title = this.jsonurl[0].pagetitle;
    }
    multilingual(test) {
        return test;
    }
    getForms() {
        let params = {};
        this.commonserveice.getForms(params).subscribe((resp) => {
            let respData = resp.RESPONSE_DATA;
            let respToken = resp.RESPONSE_TOKEN;
            let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
            if (respToken == verifyToken) {
                let res = Buffer.from(respData, 'base64');
                res = JSON.parse(res.toString());
                //console.log('res');
                if (res.status === 200) {
                    this.formNames = res.result;
                }
                else {
                    console.log(res.messages);
                }
            }
            else {
                Swal.fire({
                    icon: 'error',
                    text: this.commonserveice.langReplace(this.varlist.invalidResponse),
                });
            }
        });
    }
    viewItems(MessageConfigId, intMessageConfigType, formId, formName, messageType) {
        this.letterIdArray = [];
        this.txtMessageConfigType = 0;
        this.selFormName = null;
        let messageParams = {
            "intMessageConfigId": MessageConfigId,
            "intMessageConfigType": intMessageConfigType,
            "formId": formId,
            "formName": formName,
            "messageType": messageType
        };
        this.loading = true;
        this.pubUnpStatus = [];
        this.commonserveice.viewMessage(messageParams).subscribe((response) => {
            let respData = response.RESPONSE_DATA;
            let respToken = response.RESPONSE_TOKEN;
            let verifyToken = CryptoJS.HmacSHA256(respData, this.varlist.apiHashingKey).toString();
            if (respToken == verifyToken) {
                let res = Buffer.from(respData, 'base64');
                res = JSON.parse(res.toString());
                if (res.status == 200) {
                    this.messageList = res.result;
                    // console.log(this.messageList)
                    this.isFlag = true;
                    this.loading = false;
                }
                else if (res.status == 417) {
                    this.isFlag = false;
                    Swal.fire({
                        icon: 'error',
                        text: this.commonserveice.langReplace(this.varlist.invalidResponse),
                    });
                }
                else {
                    this.isFlag = false;
                    Swal.fire({
                        icon: 'error',
                        text: this.commonserveice.langReplace(this.varlist.errorApiResponse)
                    });
                }
            }
            else {
                this.isFlag = false;
                Swal.fire({
                    icon: 'error',
                    text: this.commonserveice.langReplace(this.varlist.invalidResponse),
                });
            }
        });
    }
    viewSearchList() {
        let Formid = this.selFormName;
        let MessageConfigType = this.txtMessageConfigType;
        this.viewItems('', MessageConfigType, Formid, '', 1);
    }
    onTableDataChange(event) {
        this.page = event;
        this.indexNumber = (this.page - 1) * this.tableSize;
    }
    onTableSizeChange(event) {
        this.tableSize = event.target.value;
        this.page = 1;
        this.indexNumber = 0;
    }
    onChange(checkid, e, publishStatus) {
        let totalCheckbox = document.querySelectorAll('.rowCheck').length;
        let totalChecked = document.querySelectorAll('.rowCheck:checked').length;
        let parentcheck = document.querySelectorAll('.checkall');
        if (totalCheckbox == totalChecked) {
            parentcheck[0].checked = true;
        }
        else {
            parentcheck[0].checked = false;
        }
        if (e.target.checked) {
            if (!this.letterIdArray.includes(checkid)) {
                this.letterIdArray.push(checkid);
                this.pubUnpStatus.push({ 'letterId': checkid, 'publishUnpublisStatus': publishStatus });
            }
        }
        else {
            let index = this.letterIdArray.indexOf(checkid);
            let indxAdd = 0;
            for (let mk of this.pubUnpStatus) {
                if (mk.letterId == checkid) {
                    this.pubUnpStatus.splice(indxAdd, 1);
                    break;
                }
                indxAdd++;
            }
            this.letterIdArray.splice(index, 1);
        }
    }
    selectAll(e) {
        let checkBoxes = document.querySelectorAll('.rowCheck');
        if (e.target.checked) {
            for (let i = 0; i < checkBoxes.length; i++) {
                let ids = checkBoxes[i].id;
                this.letterIdArray.push(parseInt(ids));
                this.pubUnpStatus.push({ 'letterId': ids, 'publishUnpublisStatus': checkBoxes[i].getAttribute("pubstatus") });
                checkBoxes[i].checked = true;
            }
        }
        else {
            this.pubUnpStatus = [];
            this.letterIdArray = [];
            for (let i = 0; i < checkBoxes.length; i++) {
                checkBoxes[i].checked = false;
            }
        }
    }
    //edit function call for edit id================================
    editMessage(messageStr) {
        let encSchemeStr = this.encDec.encText(messageStr.toString());
        this.route.navigate(['/admin/addmessageengine', encSchemeStr]);
    }
    deleteLetter(messageId) {
        let messageParams = {
            "itemId": messageId,
            "itemStatus": "1"
        };
        Swal.fire({
            title: 'Are you sure' + '?',
            text: this.messaageslist.warningtype,
            icon: 'warning',
            showCancelButton: true,
            cancelButtonText: 'Cancel',
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes' + ', ' + 'delete it' + "!"
        }).then((result) => {
            if (result.isConfirmed) {
                this.commonserveice.newMessage(messageParams).subscribe((res) => {
                    if (res.status == 200) {
                        Swal.fire('Deleted!', "this.messaageslist.deleteMsg", 'success');
                        this.viewItems('', '', '', '', 1);
                    }
                    else {
                        Swal.fire({
                            icon: 'error',
                            text: "this.messaageslist.errorMsg",
                        });
                    }
                });
            }
        });
    }
    htmldecode(data) {
        let doc = new DOMParser().parseFromString(data, "text/html");
        return doc.documentElement.textContent;
    }
}
ViewmsgengineComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewmsgengineComponent, deps: [{ token: i1.Router }, { token: i2.HttpClient }, { token: i3.MsgengineLibService }, { token: i4.VarlistService }, { token: i5.NgbModal }, { token: i6.EncrypyDecrpyService }], target: i0.ɵɵFactoryTarget.Component });
ViewmsgengineComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: ViewmsgengineComponent, selector: "lib-viewmsgengine", ngImport: i0, template: "<!--===Page Title===-->\n<div class=\"page-title\">\n\n    <h4>{{title | translate}}</h4>\n  </div>\n  <!--===Page Title===-->\n  <!--===controle section===-->\n  <div class=\"page-controls-section\" id=\"page-content\">\n    <div class=\"card\">\n      <div class=\"controls-section-header\">\n       \n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\n    \n        </ul>\n        <div class=\"indicatorslist\">\n\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"letterIdArray\" \n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewItems('','','','',1)\"\n            (callfunction2)='selectAll($event)'></lib-libutils>\n          \n         \n        </div>\n\n      </div>\n      <div class=\"card-body\">\n  \n  \n        <div class=\"controls-section\">\n          <!-- Search Panel -->\n          <div class=\"search-container active\" id=\"search-container\">\n  \n            <div class=\"search-sec\">\n  \n              <div class=\"row\">\n  \n                <div class=\"col-12 col-md-3 col-lg-3\" *ngIf=\"formenable\">\n                  <div class=\"form-group\">\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selFormName\" placeholder=\"Select Form Name\">\n                  </div>\n                </div>\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <select class=\"form-select docSizeType\" [(ngModel)]=\"txtMessageConfigType\">\n                      <option value=\"0\" disabled selected>{{\"Select Message config Type\" | translate}}</option>\n                      <option value=1>Mail</option>\n                      <option value=2>SMS</option>\n                      <option value=3>Whatsapp</option>\n                    </select>\n  \n                  </div>\n                </div>\n  \n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary\" (click)=\"viewSearchList()\"> {{\"Search\" | translate}}</button>\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewItems('','','','',1)\"> {{\"Reset\" | translate}}</button>\n                  </div>\n                </div>\n              </div>\n  \n  \n            </div>\n  \n  \n          </div>\n          <!-- Search Panel -->\n          <div *ngIf=\"messageList?.length > 0; else norecord\">\n  \n            <div class=\"d-flex justify-content-between mb-3\">\n              <div>\n                <ul class=\"legends\">\n                  <li><span class=\"bg-success\"></span> {{\"Publish\" | translate}}</li>\n                  <li><span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}</li>\n                </ul>\n              </div>\n              <div>\n                {{\"Per Page\" | translate}}:\n                <select (change)=\"onTableSizeChange($event)\">\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\n                    {{ size }}\n                  </option>\n                </select>\n              </div>\n            </div>\n            <div class=\"table-responsive print-section\" id=\"print-section\"> \n              <table data-toggle=\"table\" class=\"table table-bordered valign-middle\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" style=\"width:40px\" class=\"noPrint\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\n                          name=\"checkall\" value=\"checkall\">\n  \n                      </div>\n                    </th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:40px\">{{\"Sl No\"| translate }}</th>\n                    <th scope=\"col\" *ngIf=\"formenable\">{{\"Form Name\" | translate}}</th>\n                    <th scope=\"col\">{{\"Configuration Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"SMS TemplateId\" | translate}}</th>\n                    <th scope=\"col\">{{\"Message Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"Language\" | translate}}</th>\n                    <th scope=\"col\">{{\"Created On\" | translate}}</th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:80px\">{{\"Action\" | translate}}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr  *ngFor=\"let messages of messageList | paginate\n                          : {\n                              itemsPerPage: tableSize,\n                              currentPage: page,\n                              totalItems: count\n                            };\n                      let i = index\">\n                    <td class=\"noPrint border-left-2\"\n                      [ngClass]=\"{'border-left-danger': messages.tinPublishStatus === 0 , 'border-left-success': messages.tinPublishStatus === 1 }\">\n                      <div>\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\n                          (change)=\"onChange(messages.intMessageConfigId, $event,messages.tinPublishStatus)\"\n                          name=\"{{messages.intMessageConfigId }}\" [id]=\"messages.intMessageConfigId\"\n                          [value]=\"messages.intMessageConfigId\" [attr.pubstatus]=\"messages.tinPublishStatus\">\n                      </div>\n                    </td>\n                    <td>{{i+1+indexNumber}} </td>\n                    <td *ngIf=\"formenable\"><a type=\"button\" class=\"text-primary\" data-bs-toggle=\"modal\"\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\n                        {{messages.vchProcessName}}\n                      </a>\n                    </td>\n                    <td>\n                      <a type=\"button\" *ngIf=\"!formenable\" class=\"text-primary\" data-bs-toggle=\"modal\"\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\n                        {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\n                      'Whatsapp'}}\n                      </a>\n                      <span *ngIf=\"formenable\">\n                      {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\n                      'Whatsapp'}}</span></td>\n                    <td>{{messages.vchSmsTemplateId !='' ? messages.vchSmsTemplateId: '--'}}</td>\n                    <td>{{messages.intmessageType == 1 ? 'Messaging': 'Reminder'}}</td>\n                    <td>{{messages.vchLanguage}}</td>\n                    <td>{{messages.dtmCreatedOn}}</td>\n                    <td class=\"noPrint\"><a class=\"text-primary\" data-toggle=\"tooltip\" title=\"\" data-original-title=\"Edit\"\n                        (click)=\"editMessage(messages.intMessageConfigId+':'+messages.intProcessId+':'+messages.vchProcessName)\"><i\n                          class=\"icon-edit-solid\"></i></a>\n                         \n                          <div class=\"modal fade noPrint\"  id=\"previewModal{{i}}\" tabindex=\"-1\" aria-labelledby=\"previewModalLabel\"\n                          aria-hidden=\"true\">\n                          <div class=\"modal-dialog modal-lg\">\n                            <div class=\"modal-content\">\n                              <div class=\"modal-header\">\n                                <h5 class=\"modal-title mb-0\" id=\"previewModalLabel\">{{\"Message Details\" | translate}}\n                                </h5>\n                                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                              </div>\n                              <div class=\"modal-body\">\n                                <table class=\"table table-bordered\">\n                                  <tbody>\n                                    <tr *ngIf=\"formenable\">\n                                      <td class=\"w-25 fw-bold\">{{\"Form Name\" | translate}} </td>\n                                      <td colspan=\"2\">{{messages.vchProcessName}}</td>\n                                    </tr>\n      \n                                    <tr>\n                                      <td class=\"fw-bold\">{{\"Subject\" | translate}} </td>\n                                      <td colspan=\"2\">{{messages.vchSubject}}</td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 2\">\n                                      <td class=\"w-25 fw-bold\">{{\"SMS TemplateId\" | translate}} </td>\n                                      <td colspan=\"2\">{{messages.vchSmsTemplateId}}</td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 1\">\n                                      <td class=\"w-25 fw-bold\"> {{\"Audio\" | translate}} </td>\n                                      <td colspan=\"2\">\n                                        <audio controls>\n                                          <source src=\"{{messages.vchDocument}}\" type=\"audio/mp3\">\n                                          {{\"Your browser does not support the audio tag\"}}.\n                                        </audio>\n                                      </td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 2\">\n                                      <td class=\"w-25 fw-bold\"> {{\"Video\" | translate}} </td>\n                                      <td colspan=\"2\">\n                                        <video width=\"320\" height=\"240\" controls>\n                                          <source src=\"{{messages.vchDocument}}\" type=\"video/mp4\">\n                                          {{\"Your browser does not support the video tag\"}}.\n                                        </video>\n                                      </td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 3\">\n                                      <td class=\"w-25 fw-bold\"> {{\"Image\" | translate}} </td>\n                                      <td colspan=\"2\"><img src=\"{{messages.vchDocument}}\" style=\"max-width:100%\"\n                                          height=\"70px\"></td>\n                                    </tr>\n      \n                                    <tr>\n                                      <td class=\"fw-bold\">{{\"Message Content\" | translate}} </td>\n                                      <td>\n                                        <div class=\"pdfContainer\" [innerHtml]=\"htmldecode(messages.vchMessageContent)\">\n\n                                        \n                                        </div>\n                                      </td>\n                                    </tr>\n      \n      \n      \n                                  </tbody>\n                                </table>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        </td>\n\n\n                \n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\n          </div>\n          <ng-template #norecord>\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\n          </ng-template>\n        </div>\n  \n      </div>\n    </div>\n  </div>\n  <div class=\"loader\" *ngIf=\"loading\">\n    <div class=\"loader-item\"></div>\n    <p>{{\"Loading\"}}...</p>\n  </div>\n", styles: [""], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i9.LibtabsComponent, selector: "lib-libtabs", inputs: ["tabMessage", "activeid"] }, { kind: "component", type: i10.LibutilsComponent, selector: "lib-libutils", inputs: ["childMessage", "sendIds", "funType", "pubUnpubStatus", "reloadUrl"], outputs: ["callfunction", "callfunction3"] }, { kind: "component", type: i11.LibpaginationComponent, selector: "lib-libpagination", inputs: ["page", "count", "tableSize"], outputs: ["callfunction"] }, { kind: "pipe", type: i12.PaginatePipe, name: "paginate" }, { kind: "pipe", type: i13.TranslatePipe, name: "translate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ViewmsgengineComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-viewmsgengine', template: "<!--===Page Title===-->\n<div class=\"page-title\">\n\n    <h4>{{title | translate}}</h4>\n  </div>\n  <!--===Page Title===-->\n  <!--===controle section===-->\n  <div class=\"page-controls-section\" id=\"page-content\">\n    <div class=\"card\">\n      <div class=\"controls-section-header\">\n       \n        <ul class=\"nav nav-tabs nav-fill\" role=\"tablist\">\n            <lib-libtabs *ngFor=\"let tablist of tablist\" [tabMessage]=\"tablist\"></lib-libtabs>\n    \n        </ul>\n        <div class=\"indicatorslist\">\n\n            <lib-libutils *ngFor=\"let utillist of utillist\" [childMessage]=\"utillist\" [sendIds]=\"letterIdArray\" \n            [funType]=\"sevName\" [pubUnpubStatus]=\"pubUnpStatus\"  (callfunction)=\"viewItems('','','','',1)\"\n            (callfunction2)='selectAll($event)'></lib-libutils>\n          \n         \n        </div>\n\n      </div>\n      <div class=\"card-body\">\n  \n  \n        <div class=\"controls-section\">\n          <!-- Search Panel -->\n          <div class=\"search-container active\" id=\"search-container\">\n  \n            <div class=\"search-sec\">\n  \n              <div class=\"row\">\n  \n                <div class=\"col-12 col-md-3 col-lg-3\" *ngIf=\"formenable\">\n                  <div class=\"form-group\">\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selFormName\" placeholder=\"Select Form Name\">\n                  </div>\n                </div>\n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <select class=\"form-select docSizeType\" [(ngModel)]=\"txtMessageConfigType\">\n                      <option value=\"0\" disabled selected>{{\"Select Message config Type\" | translate}}</option>\n                      <option value=1>Mail</option>\n                      <option value=2>SMS</option>\n                      <option value=3>Whatsapp</option>\n                    </select>\n  \n                  </div>\n                </div>\n  \n  \n                <div class=\"col-12 col-md-3 col-lg-3\">\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary\" (click)=\"viewSearchList()\"> {{\"Search\" | translate}}</button>\n                    <button class=\"btn btn-danger ml-1\" (click)=\"viewItems('','','','',1)\"> {{\"Reset\" | translate}}</button>\n                  </div>\n                </div>\n              </div>\n  \n  \n            </div>\n  \n  \n          </div>\n          <!-- Search Panel -->\n          <div *ngIf=\"messageList?.length > 0; else norecord\">\n  \n            <div class=\"d-flex justify-content-between mb-3\">\n              <div>\n                <ul class=\"legends\">\n                  <li><span class=\"bg-success\"></span> {{\"Publish\" | translate}}</li>\n                  <li><span class=\"bg-danger\"></span> {{\"Unpublish\" | translate}}</li>\n                </ul>\n              </div>\n              <div>\n                {{\"Per Page\" | translate}}:\n                <select (change)=\"onTableSizeChange($event)\">\n                  <option *ngFor=\"let size of pageSizes\" [ngValue]=\"size\">\n                    {{ size }}\n                  </option>\n                </select>\n              </div>\n            </div>\n            <div class=\"table-responsive print-section\" id=\"print-section\"> \n              <table data-toggle=\"table\" class=\"table table-bordered valign-middle\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" style=\"width:40px\" class=\"noPrint\">\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input checkall\" type=\"checkbox\" (change)=\"selectAll($event)\" id=\"checkall\"\n                          name=\"checkall\" value=\"checkall\">\n  \n                      </div>\n                    </th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:40px\">{{\"Sl No\"| translate }}</th>\n                    <th scope=\"col\" *ngIf=\"formenable\">{{\"Form Name\" | translate}}</th>\n                    <th scope=\"col\">{{\"Configuration Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"SMS TemplateId\" | translate}}</th>\n                    <th scope=\"col\">{{\"Message Type\" | translate}}</th>\n                    <th scope=\"col\">{{\"Language\" | translate}}</th>\n                    <th scope=\"col\">{{\"Created On\" | translate}}</th>\n                    <th scope=\"col\" class=\"noPrint\" style=\"width:80px\">{{\"Action\" | translate}}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr  *ngFor=\"let messages of messageList | paginate\n                          : {\n                              itemsPerPage: tableSize,\n                              currentPage: page,\n                              totalItems: count\n                            };\n                      let i = index\">\n                    <td class=\"noPrint border-left-2\"\n                      [ngClass]=\"{'border-left-danger': messages.tinPublishStatus === 0 , 'border-left-success': messages.tinPublishStatus === 1 }\">\n                      <div>\n                        <input class=\"form-check-input rowCheck\" type=\"checkbox\"\n                          (change)=\"onChange(messages.intMessageConfigId, $event,messages.tinPublishStatus)\"\n                          name=\"{{messages.intMessageConfigId }}\" [id]=\"messages.intMessageConfigId\"\n                          [value]=\"messages.intMessageConfigId\" [attr.pubstatus]=\"messages.tinPublishStatus\">\n                      </div>\n                    </td>\n                    <td>{{i+1+indexNumber}} </td>\n                    <td *ngIf=\"formenable\"><a type=\"button\" class=\"text-primary\" data-bs-toggle=\"modal\"\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\n                        {{messages.vchProcessName}}\n                      </a>\n                    </td>\n                    <td>\n                      <a type=\"button\" *ngIf=\"!formenable\" class=\"text-primary\" data-bs-toggle=\"modal\"\n                        [attr.data-bs-target]=\"'#previewModal'+i\">\n                        {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\n                      'Whatsapp'}}\n                      </a>\n                      <span *ngIf=\"formenable\">\n                      {{(messages.intMessageConfigType == 1) ? 'Mail':(messages.intMessageConfigType == 2) ?'SMS':\n                      'Whatsapp'}}</span></td>\n                    <td>{{messages.vchSmsTemplateId !='' ? messages.vchSmsTemplateId: '--'}}</td>\n                    <td>{{messages.intmessageType == 1 ? 'Messaging': 'Reminder'}}</td>\n                    <td>{{messages.vchLanguage}}</td>\n                    <td>{{messages.dtmCreatedOn}}</td>\n                    <td class=\"noPrint\"><a class=\"text-primary\" data-toggle=\"tooltip\" title=\"\" data-original-title=\"Edit\"\n                        (click)=\"editMessage(messages.intMessageConfigId+':'+messages.intProcessId+':'+messages.vchProcessName)\"><i\n                          class=\"icon-edit-solid\"></i></a>\n                         \n                          <div class=\"modal fade noPrint\"  id=\"previewModal{{i}}\" tabindex=\"-1\" aria-labelledby=\"previewModalLabel\"\n                          aria-hidden=\"true\">\n                          <div class=\"modal-dialog modal-lg\">\n                            <div class=\"modal-content\">\n                              <div class=\"modal-header\">\n                                <h5 class=\"modal-title mb-0\" id=\"previewModalLabel\">{{\"Message Details\" | translate}}\n                                </h5>\n                                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                              </div>\n                              <div class=\"modal-body\">\n                                <table class=\"table table-bordered\">\n                                  <tbody>\n                                    <tr *ngIf=\"formenable\">\n                                      <td class=\"w-25 fw-bold\">{{\"Form Name\" | translate}} </td>\n                                      <td colspan=\"2\">{{messages.vchProcessName}}</td>\n                                    </tr>\n      \n                                    <tr>\n                                      <td class=\"fw-bold\">{{\"Subject\" | translate}} </td>\n                                      <td colspan=\"2\">{{messages.vchSubject}}</td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 2\">\n                                      <td class=\"w-25 fw-bold\">{{\"SMS TemplateId\" | translate}} </td>\n                                      <td colspan=\"2\">{{messages.vchSmsTemplateId}}</td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 1\">\n                                      <td class=\"w-25 fw-bold\"> {{\"Audio\" | translate}} </td>\n                                      <td colspan=\"2\">\n                                        <audio controls>\n                                          <source src=\"{{messages.vchDocument}}\" type=\"audio/mp3\">\n                                          {{\"Your browser does not support the audio tag\"}}.\n                                        </audio>\n                                      </td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 2\">\n                                      <td class=\"w-25 fw-bold\"> {{\"Video\" | translate}} </td>\n                                      <td colspan=\"2\">\n                                        <video width=\"320\" height=\"240\" controls>\n                                          <source src=\"{{messages.vchDocument}}\" type=\"video/mp4\">\n                                          {{\"Your browser does not support the video tag\"}}.\n                                        </video>\n                                      </td>\n                                    </tr>\n      \n                                    <tr *ngIf=\"messages.intMessageConfigType == 3 && messages.intDocumentType == 3\">\n                                      <td class=\"w-25 fw-bold\"> {{\"Image\" | translate}} </td>\n                                      <td colspan=\"2\"><img src=\"{{messages.vchDocument}}\" style=\"max-width:100%\"\n                                          height=\"70px\"></td>\n                                    </tr>\n      \n                                    <tr>\n                                      <td class=\"fw-bold\">{{\"Message Content\" | translate}} </td>\n                                      <td>\n                                        <div class=\"pdfContainer\" [innerHtml]=\"htmldecode(messages.vchMessageContent)\">\n\n                                        \n                                        </div>\n                                      </td>\n                                    </tr>\n      \n      \n      \n                                  </tbody>\n                                </table>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        </td>\n\n\n                \n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <lib-libpagination [page]=\"page\" [count]=\"count\" [tableSize]=\"tableSize\" (callfunction)=\"onTableDataChange($event)\"></lib-libpagination>\n          </div>\n          <ng-template #norecord>\n            <h6 class=\"no-content\"> {{\"No Record Found\" | translate}}</h6>\n          </ng-template>\n        </div>\n  \n      </div>\n    </div>\n  </div>\n  <div class=\"loader\" *ngIf=\"loading\">\n    <div class=\"loader-item\"></div>\n    <p>{{\"Loading\"}}...</p>\n  </div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.HttpClient }, { type: i3.MsgengineLibService }, { type: i4.VarlistService }, { type: i5.NgbModal }, { type: i6.EncrypyDecrpyService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld21zZ2VuZ2luZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tc2dlbmdpbmUtbGliL3NyYy9saWIvdmlld21zZ2VuZ2luZS92aWV3bXNnZW5naW5lLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21zZ2VuZ2luZS1saWIvc3JjL2xpYi92aWV3bXNnZW5naW5lL3ZpZXdtc2dlbmdpbmUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBaUMsTUFBTSxlQUFlLENBQUM7QUFFekUsT0FBTyxJQUFJLE1BQU0sYUFBYSxDQUFDO0FBRS9CLE9BQU8sS0FBSyxRQUFRLE1BQU0sV0FBVyxDQUFDO0FBR3RDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQVNoQyxNQUFNLE9BQU8sc0JBQXNCO0lBMERqQyxZQUFvQixLQUFhLEVBQ3ZCLFVBQXNCO0lBRTlCLCtDQUErQztJQUMvQyxzREFBc0Q7SUFDL0MsY0FBa0MsRUFDakMsT0FBc0IsRUFDdEIsWUFBc0IsRUFDdEIsTUFBNEI7UUFSbEIsVUFBSyxHQUFMLEtBQUssQ0FBUTtRQUN2QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBSXZCLG1CQUFjLEdBQWQsY0FBYyxDQUFvQjtRQUNqQyxZQUFPLEdBQVAsT0FBTyxDQUFlO1FBQ3RCLGlCQUFZLEdBQVosWUFBWSxDQUFVO1FBQ3RCLFdBQU0sR0FBTixNQUFNLENBQXNCO1FBNUR0QyxZQUFPLEdBQU87WUFDWjtnQkFDRSxXQUFXLEVBQUMscUJBQXFCO2dCQUNqQyxTQUFTLEVBQUM7b0JBQ1IsRUFBQyxTQUFTLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxxQkFBcUIsRUFBQztvQkFDaEQsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxzQkFBc0IsRUFBQyxV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eUJBRXBDLENBQUMsQ0FBQztxQkFDSjtnQkFDSCxDQUFDLENBQUMsQ0FBQzthQUNKO1FBQ0gsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBQ0QsVUFBVSxDQUFDLElBQVE7UUFDakIsSUFBSSxHQUFHLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQy9ELE9BQU8sR0FBRyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUM7SUFFdkMsQ0FBQzs7b0hBN1JVLHNCQUFzQjt3R0FBdEIsc0JBQXNCLHlEQ2pCbkMsd29ZQWtQQTs0RkRqT2Esc0JBQXNCO2tCQUxsQyxTQUFTOytCQUNFLG1CQUFtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInO1xuaW1wb3J0IHsgTXNnZW5naW5lTGliU2VydmljZSB9IGZyb20gJy4uL21zZ2VuZ2luZS1saWIuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnO1xuaW1wb3J0IHsgRW5jcnlweURlY3JweVNlcnZpY2UgfSBmcm9tICcuLi9lbmNyeXB5LWRlY3JweS5zZXJ2aWNlJztcbmltcG9ydCB7IFZhcmxpc3RTZXJ2aWNlIH0gZnJvbSAnLi4vdmFybGlzdC5zZXJ2aWNlJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbmltcG9ydCB7IE5nYk1vZGFsIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItdmlld21zZ2VuZ2luZScsXG4gIHRlbXBsYXRlVXJsOiAnLi92aWV3bXNnZW5naW5lLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdmlld21zZ2VuZ2luZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgVmlld21zZ2VuZ2luZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgdGl0bGU6IGFueTtcbiAgdGFibGlzdDogYW55O1xuICB1dGlsbGlzdDogYW55O1xuICBtZXNzYWFnZXNsaXN0OiBhbnk7XG4gIGpzb251cmw6YW55ID0gW1xuICAgIHtcbiAgICAgIFwicGFnZXRpdGxlXCI6XCJWaWV3IE1lc3NhZ2UgRW5naW5lXCIsXG4gICAgICBcInRhYkxpc3RcIjpbXG4gICAgICAgIHtcInRhYk5hbWVcIjpcIkFkZFwiLFwidGFiVXJsXCI6XCIuLi9hZGRtZXNzYWdlZW5naW5lXCJ9LFxuICAgICAgICB7XCJ0YWJOYW1lXCI6XCJWaWV3XCIsXCJ0YWJVcmxcIjpcIi4uL3ZpZXdtZXNzYWdlZW5naW5lXCIsXCJ0YWJDbGFzc1wiOlwiYWN0aXZlXCJ9LFxuICAgICAgICB7XCJ0YWJOYW1lXCI6XCJSZW1pbmRlclwiLFwidGFiVXJsXCI6XCIuLi92aWV3bWVzc2FnZXJlbWluZGVyXCJ9XSxcbiAgICBcbiAgICAgICAgXG4gICAgICBcInV0aWxzXCI6W1xuICAgICAgIFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwic2VhcmNoXCJ9LFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwicHJpbnRcIn0sXG4gICAgICAgIHtcInV0aWxOYW1lXCI6XCJkZWxldGVcIn0sXG4gICAgICAgIHtcInV0aWxOYW1lXCI6XCJwdWJsaXNoXCJ9LFxuICAgICAgICB7XCJ1dGlsTmFtZVwiOlwidW5wdWJsaXNoXCJ9LFxuICAgICAgXG4gICAgICAgIF0sXG4gICAgICBcIm1lc3NhZ2VzXCI6XG4gICAgICAgIHtcbiAgICAgICAgXCJzdWNjZXNzTXNnXCI6XCJEYXRlIHNhdmVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgICAgICBcImVycm9yTXNnXCI6XCJTb21ldGhpbmcgV2VudCBXcm9uZ1wiLFxuICAgICAgICBcIndhcm5pbmd0eXBlXCI6XCJZb3Ugd2FudCB0byBkZWxldGUgdGhpcyByZWNvcmRcIixcbiAgICAgICAgXCJkZWxldGVNc2dcIjpcIlJlY29yZCBoYXMgYmVlbiBkZWxldGVkXCJcbiAgICAgIH1cbiAgICAgIFxuICAgIH1cbiAgXTtcbiAgbGV0dGVySUQ6IGFueSA9IFwiXCI7XG4gIGVkaXRvcjogYW55O1xuICAvLyBlZGl0b3I6IGFueSA9IENsYXNzaWNFZGl0b3I7XG4gIGlzRmxhZyA9IHRydWU7XG5cbiAgcGFnZTogbnVtYmVyID0gMTtcbiAgY291bnQ6IG51bWJlciA9IDA7XG4gIHRhYmxlU2l6ZTogbnVtYmVyID0gMTA7XG4gIHBhZ2VTaXplcyA9IFsxMCwgMjAsIDUwLCAxMDAsIDUwMCwgMTAwMF07XG5cbiAgbG9hZGluZyA9IGZhbHNlO1xuICBsZXR0ZXJJZEFycmF5OiBhbnkgPSBbXTtcbiAgcHViVW5wU3RhdHVzOiBhbnlbXSA9IFtdO1xuICBzZXZOYW1lOiBhbnkgPSBcIlwiO1xuICBtZXNzYWdlTGlzdDogYW55O1xuICBzZWxGb3JtTmFtZTogYW55ID0gMDtcbiAgZm9ybU5hbWVzOiBhbnk7XG4gIHR4dExldHRlck5hbWU6IGFueSA9IG51bGw7XG4gIGludE1lc3NhZ2VDb25maWdUeXBlOiBhbnk7XG4gIHR4dE1lc3NhZ2VDb25maWdUeXBlOiBhbnk7XG4gIGxhbmdLZXk6IGFueSA9ICdlbic7XG4gIGluZGV4TnVtYmVyOiBhbnkgPSAwO1xuICBmb3JtZW5hYmxlOmFueTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdXRlOiBSb3V0ZXIsXG4gICAgcHJpdmF0ZSBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LFxuICAgXG4gICAgLy8gcHVibGljIGNvbW1vbnNlcnZlaWNlOiBDb21tb252YXJsaXN0U2VydmljZSxcbiAgICAvLyBwcml2YXRlIGdldHdheVNlcnZpY2U6IEdldHdheXZhcmxpc3R1YXJ0aW9uU2VydmljZSxcbiAgICBwdWJsaWMgY29tbW9uc2VydmVpY2U6TXNnZW5naW5lTGliU2VydmljZSxcbiAgICBwcml2YXRlIHZhcmxpc3Q6VmFybGlzdFNlcnZpY2UsIFxuICAgIHByaXZhdGUgbW9kYWxTZXJ2aWNlOiBOZ2JNb2RhbCwgXG4gICAgcHJpdmF0ZSBlbmNEZWM6IEVuY3J5cHlEZWNycHlTZXJ2aWNlXG4gICAgKSB7IFxuICAgIFxuICAgICAgdGhpcy5mb3JtZW5hYmxlPXRoaXMudmFybGlzdC5mb3JtRW5hYmxlO1xuICAgICAgdGhpcy5zZXZOYW1lPXZhcmxpc3Quc2VydmljZU1vZHVsZWNvbmZpZztcbiAgICB9IFxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMubG9hZGNvbmZpZygpO1xuICAgIHRoaXMudmlld0l0ZW1zKCcnLCcnLCcnLCcnLDEpO1xuICAgIHRoaXMuZ2V0Rm9ybXMoKTtcbiAgICAvL3RoaXMuYWRkQ2hhbmdlRXZlbnRGb3JMYWJlbCgpO1xuXG4gIH1cbiAgbG9hZGNvbmZpZygpIHtcbiAgIFxuICAgICAgdGhpcy50YWJsaXN0ID0gdGhpcy5qc29udXJsWzBdLnRhYkxpc3Q7XG4gICAgICB0aGlzLnV0aWxsaXN0ID0gdGhpcy5qc29udXJsWzBdLnV0aWxzXG4gICAgICB0aGlzLm1lc3NhYWdlc2xpc3QgPSB0aGlzLmpzb251cmxbMF0ubWVzc2FnZXM7XG4gICAgICB0aGlzLnRpdGxlID0gdGhpcy5qc29udXJsWzBdLnBhZ2V0aXRsZTtcbiBcbiAgfVxuICBtdWx0aWxpbmd1YWwodGVzdDogYW55KSB7XG4gICAgcmV0dXJuIHRlc3Q7XG4gIH1cbiAgZ2V0Rm9ybXMoKSB7XG5cblxuICAgIGxldCBwYXJhbXM9e31cbiAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLmdldEZvcm1zKHBhcmFtcykuc3Vic2NyaWJlKChyZXNwOiBhbnkpID0+IHtcbiAgICAgIGxldCByZXNwRGF0YSA9IHJlc3AuUkVTUE9OU0VfREFUQTtcbiAgICAgIGxldCByZXNwVG9rZW4gPSByZXNwLlJFU1BPTlNFX1RPS0VOO1xuICAgICBsZXQgdmVyaWZ5VG9rZW4gPSBDcnlwdG9KUy5IbWFjU0hBMjU2KHJlc3BEYXRhLCB0aGlzLnZhcmxpc3QuYXBpSGFzaGluZ0tleSkudG9TdHJpbmcoKTtcbiAgICAgaWYgKHJlc3BUb2tlbiA9PSB2ZXJpZnlUb2tlbikge1xuICAgICAgIGxldCByZXM6IGFueSA9IEJ1ZmZlci5mcm9tKHJlc3BEYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMudG9TdHJpbmcoKSk7XG4gICAgICAgLy9jb25zb2xlLmxvZygncmVzJyk7XG4gICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgdGhpcy5mb3JtTmFtZXMgPSByZXMucmVzdWx0O1xuICAgICAgICBcbiAgICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgICBjb25zb2xlLmxvZyhyZXMubWVzc2FnZXMpXG4gICAgICAgfVxuICAgICB9IGVsc2Uge1xuICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICBpY29uOiAnZXJyb3InLFxuICAgICAgICAgdGV4dDp0aGlzLmNvbW1vbnNlcnZlaWNlLmxhbmdSZXBsYWNlKHRoaXMudmFybGlzdC5pbnZhbGlkUmVzcG9uc2UpLFxuICAgICAgIH0pO1xuICAgICB9XG5cbiAgICB9KTtcbiBcbiAgfVxuICB2aWV3SXRlbXMoTWVzc2FnZUNvbmZpZ0lkOmFueSxpbnRNZXNzYWdlQ29uZmlnVHlwZTphbnksZm9ybUlkOmFueSxmb3JtTmFtZTphbnksbWVzc2FnZVR5cGU6YW55KSB7XG4gICAgdGhpcy5sZXR0ZXJJZEFycmF5ID0gW107XG4gICAgdGhpcy50eHRNZXNzYWdlQ29uZmlnVHlwZSA9IDA7XG4gICAgdGhpcy5zZWxGb3JtTmFtZSA9IG51bGw7XG4gICAgbGV0IG1lc3NhZ2VQYXJhbXMgPSB7XG4gICAgICBcImludE1lc3NhZ2VDb25maWdJZFwiOiBNZXNzYWdlQ29uZmlnSWQsXG4gICAgICBcImludE1lc3NhZ2VDb25maWdUeXBlXCI6IGludE1lc3NhZ2VDb25maWdUeXBlLFxuICAgICAgXCJmb3JtSWRcIjogZm9ybUlkLFxuICAgICAgXCJmb3JtTmFtZVwiOiBmb3JtTmFtZSxcbiAgICAgIFwibWVzc2FnZVR5cGVcIjogbWVzc2FnZVR5cGVcbiAgICB9O1xuICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy5wdWJVbnBTdGF0dXMgPSBbXTtcbiAgICB0aGlzLmNvbW1vbnNlcnZlaWNlLnZpZXdNZXNzYWdlKG1lc3NhZ2VQYXJhbXMpLnN1YnNjcmliZSgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgbGV0IHJlc3BEYXRhID0gcmVzcG9uc2UuUkVTUE9OU0VfREFUQTtcbiAgICAgIGxldCByZXNwVG9rZW4gPSByZXNwb25zZS5SRVNQT05TRV9UT0tFTjtcbiAgICAgIGxldCB2ZXJpZnlUb2tlbiA9IENyeXB0b0pTLkhtYWNTSEEyNTYocmVzcERhdGEsIHRoaXMudmFybGlzdC5hcGlIYXNoaW5nS2V5KS50b1N0cmluZygpO1xuICAgICAgaWYgKHJlc3BUb2tlbiA9PSB2ZXJpZnlUb2tlbikge1xuICAgICAgICBsZXQgcmVzOiBhbnkgPSBCdWZmZXIuZnJvbShyZXNwRGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcy50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgdGhpcy5tZXNzYWdlTGlzdCA9IHJlcy5yZXN1bHQ7XG4gICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1lc3NhZ2VMaXN0KVxuICAgICAgICAgIHRoaXMuaXNGbGFnID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09IDQxNykge1xuICAgICAgICAgIHRoaXMuaXNGbGFnID0gZmFsc2U7XG4gICAgICAgICAgU3dhbC5maXJlKHtcbiAgICAgICAgICAgIGljb246ICdlcnJvcicsXG4gICAgICAgICAgICB0ZXh0OnRoaXMuY29tbW9uc2VydmVpY2UubGFuZ1JlcGxhY2UodGhpcy52YXJsaXN0LmludmFsaWRSZXNwb25zZSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5pc0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgICBTd2FsLmZpcmUoe1xuICAgICAgICAgICAgaWNvbjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHRleHQ6dGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLnZhcmxpc3QuZXJyb3JBcGlSZXNwb25zZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgU3dhbC5maXJlKHtcbiAgICAgICAgICBpY29uOiAnZXJyb3InLFxuICAgICAgICAgIHRleHQ6dGhpcy5jb21tb25zZXJ2ZWljZS5sYW5nUmVwbGFjZSh0aGlzLnZhcmxpc3QuaW52YWxpZFJlc3BvbnNlKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdmlld1NlYXJjaExpc3QoKSB7XG4gICAgbGV0IEZvcm1pZCA9IHRoaXMuc2VsRm9ybU5hbWU7XG4gICAgbGV0IE1lc3NhZ2VDb25maWdUeXBlID0gdGhpcy50eHRNZXNzYWdlQ29uZmlnVHlwZTtcbiAgICB0aGlzLnZpZXdJdGVtcygnJyxNZXNzYWdlQ29uZmlnVHlwZSxGb3JtaWQsJycsMSk7XG4gXG4gIH1cblxuXG5cblxuICBvblRhYmxlRGF0YUNoYW5nZShldmVudDogYW55KSB7XG4gICAgdGhpcy5wYWdlID0gZXZlbnQ7XG4gICAgdGhpcy5pbmRleE51bWJlciA9ICh0aGlzLnBhZ2UgLSAxKSAqIHRoaXMudGFibGVTaXplO1xuXG4gIH1cbiAgb25UYWJsZVNpemVDaGFuZ2UoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgIHRoaXMudGFibGVTaXplID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMucGFnZSA9IDE7XG4gICAgdGhpcy5pbmRleE51bWJlciA9IDA7XG4gIH1cbiAgb25DaGFuZ2UoY2hlY2tpZDogYW55LCBlOiBhbnksIHB1Ymxpc2hTdGF0dXM6IGFueSkge1xuICAgIGxldCB0b3RhbENoZWNrYm94OmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3dDaGVjaycpLmxlbmd0aDtcbiAgICBsZXQgdG90YWxDaGVja2VkOmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3dDaGVjazpjaGVja2VkJykubGVuZ3RoO1xuICAgIGxldCBwYXJlbnRjaGVjazphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2thbGwnKTtcbiAgIFxuICAgIGlmKHRvdGFsQ2hlY2tib3ggPT0gdG90YWxDaGVja2VkKSB7XG4gICAgICBwYXJlbnRjaGVja1swXS5jaGVja2VkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50Y2hlY2tbMF0uY2hlY2tlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgaWYgKCF0aGlzLmxldHRlcklkQXJyYXkuaW5jbHVkZXMoY2hlY2tpZCkpIHtcbiAgICAgICAgdGhpcy5sZXR0ZXJJZEFycmF5LnB1c2goY2hlY2tpZCk7XG4gICAgICAgIHRoaXMucHViVW5wU3RhdHVzLnB1c2goeyAnbGV0dGVySWQnOiBjaGVja2lkLCAncHVibGlzaFVucHVibGlzU3RhdHVzJzogcHVibGlzaFN0YXR1cyB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGluZGV4ID0gdGhpcy5sZXR0ZXJJZEFycmF5LmluZGV4T2YoY2hlY2tpZCk7XG4gICAgICBsZXQgaW5keEFkZDogbnVtYmVyID0gMDtcbiAgICAgIGZvciAobGV0IG1rIG9mIHRoaXMucHViVW5wU3RhdHVzKSB7XG4gICAgICAgIGlmIChtay5sZXR0ZXJJZCA9PSBjaGVja2lkKSB7XG4gICAgICAgICAgdGhpcy5wdWJVbnBTdGF0dXMuc3BsaWNlKGluZHhBZGQsIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGluZHhBZGQrKztcbiAgICAgIH1cbiAgICAgIHRoaXMubGV0dGVySWRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICBzZWxlY3RBbGwoZTogYW55KSB7XG4gICAgbGV0IGNoZWNrQm94ZXM6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvd0NoZWNrJyk7XG4gICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tCb3hlcy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIGxldCBpZHMgPSBjaGVja0JveGVzW2ldLmlkO1xuICAgICAgICB0aGlzLmxldHRlcklkQXJyYXkucHVzaChwYXJzZUludChpZHMpKTtcbiAgICAgICAgdGhpcy5wdWJVbnBTdGF0dXMucHVzaCh7ICdsZXR0ZXJJZCc6IGlkcywgJ3B1Ymxpc2hVbnB1Ymxpc1N0YXR1cyc6IGNoZWNrQm94ZXNbaV0uZ2V0QXR0cmlidXRlKFwicHVic3RhdHVzXCIpIH0pXG4gICAgICAgIGNoZWNrQm94ZXNbaV0uY2hlY2tlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnB1YlVucFN0YXR1cyA9IFtdO1xuICAgICAgdGhpcy5sZXR0ZXJJZEFycmF5ID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrQm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hlY2tCb3hlc1tpXS5jaGVja2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy9lZGl0IGZ1bmN0aW9uIGNhbGwgZm9yIGVkaXQgaWQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBlZGl0TWVzc2FnZShtZXNzYWdlU3RyOiBhbnkpIHtcbiAgICBcbiAgICBsZXQgZW5jU2NoZW1lU3RyID0gdGhpcy5lbmNEZWMuZW5jVGV4dChtZXNzYWdlU3RyLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMucm91dGUubmF2aWdhdGUoWycvYWRtaW4vYWRkbWVzc2FnZWVuZ2luZScsIGVuY1NjaGVtZVN0cl0pO1xuICB9XG4gIGRlbGV0ZUxldHRlcihtZXNzYWdlSWQ6IGFueSkge1xuICAgIGxldCBtZXNzYWdlUGFyYW1zID0ge1xuICAgICAgXCJpdGVtSWRcIjogbWVzc2FnZUlkLFxuICAgICAgXCJpdGVtU3RhdHVzXCI6IFwiMVwiXG4gICAgfTtcbiAgICBTd2FsLmZpcmUoe1xuICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUnICsgJz8nLFxuICAgICAgdGV4dDogdGhpcy5tZXNzYWFnZXNsaXN0Lndhcm5pbmd0eXBlLFxuICAgICAgaWNvbjogJ3dhcm5pbmcnLFxuICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcbiAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLFxuICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsXG4gICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMnICsgJywgJyArICdkZWxldGUgaXQnICsgXCIhXCJcbiAgICB9KS50aGVuKChyZXN1bHQ6IGFueSkgPT4ge1xuXG4gICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7XG4gICAgICAgIHRoaXMuY29tbW9uc2VydmVpY2UubmV3TWVzc2FnZShtZXNzYWdlUGFyYW1zKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICBTd2FsLmZpcmUoXG4gICAgICAgICAgICAgICdEZWxldGVkIScsXG4gICAgICAgICAgICAgIFwidGhpcy5tZXNzYWFnZXNsaXN0LmRlbGV0ZU1zZ1wiLFxuICAgICAgICAgICAgICAnc3VjY2VzcydcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHRoaXMudmlld0l0ZW1zKCcnLCcnLCcnLCcnLDEpXG5cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICAgICAgIGljb246ICdlcnJvcicsXG4gICAgICAgICAgICAgIHRleHQ6IFwidGhpcy5tZXNzYWFnZXNsaXN0LmVycm9yTXNnXCIsXG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBodG1sZGVjb2RlKGRhdGE6YW55KXtcbiAgICBsZXQgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCBcInRleHQvaHRtbFwiKTtcbiAgcmV0dXJuIGRvYy5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XG5cbiAgfVxuICAvLyBhZGRDaGFuZ2VFdmVudEZvckxhYmVsKCkge1xuICAvLyAgIGxldCBzZXNzaW9uVXNlckxhbmd0b2tlbjogYW55ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnVVNFUl9MQU5HUFJFRicpO1xuICAvLyAgIGxldCBzZXNzaW9uVXNlckxhbmcgPSBKU09OLnBhcnNlKENyeXB0b0pTLkFFUy5kZWNyeXB0KHNlc3Npb25Vc2VyTGFuZ3Rva2VuLCB0aGlzLnZhcmxpc3QuYXBpSGFzaGluZ0tleSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpKTtcbiAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgLy8gICAgIHRoaXMubGFuZ0tleSA9IHNlc3Npb25Vc2VyTGFuZztcbiAgLy8gICAgIGxldCBsYWJlbENoYW5nZUVsZTogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhbmd1YWdlTGlzdEgnKTtcbiAgLy8gICAgIGxhYmVsQ2hhbmdlRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgLy8gICAgICAgdGhpcy5sYW5nS2V5ID0gbGFiZWxDaGFuZ2VFbGUudmFsdWU7XG5cbiAgLy8gICAgIH0pO1xuXG4gIC8vICAgfSwgMTAwMCk7XG5cbiAgLy8gfVxuXG59XG4iLCI8IS0tPT09UGFnZSBUaXRsZT09PS0tPlxuPGRpdiBjbGFzcz1cInBhZ2UtdGl0bGVcIj5cblxuICAgIDxoND57e3RpdGxlIHwgdHJhbnNsYXRlfX08L2g0PlxuICA8L2Rpdj5cbiAgPCEtLT09PVBhZ2UgVGl0bGU9PT0tLT5cbiAgPCEtLT09PWNvbnRyb2xlIHNlY3Rpb249PT0tLT5cbiAgPGRpdiBjbGFzcz1cInBhZ2UtY29udHJvbHMtc2VjdGlvblwiIGlkPVwicGFnZS1jb250ZW50XCI+XG4gICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9scy1zZWN0aW9uLWhlYWRlclwiPlxuICAgICAgIFxuICAgICAgICA8dWwgY2xhc3M9XCJuYXYgbmF2LXRhYnMgbmF2LWZpbGxcIiByb2xlPVwidGFibGlzdFwiPlxuICAgICAgICAgICAgPGxpYi1saWJ0YWJzICpuZ0Zvcj1cImxldCB0YWJsaXN0IG9mIHRhYmxpc3RcIiBbdGFiTWVzc2FnZV09XCJ0YWJsaXN0XCI+PC9saWItbGlidGFicz5cbiAgICBcbiAgICAgICAgPC91bD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImluZGljYXRvcnNsaXN0XCI+XG5cbiAgICAgICAgICAgIDxsaWItbGlidXRpbHMgKm5nRm9yPVwibGV0IHV0aWxsaXN0IG9mIHV0aWxsaXN0XCIgW2NoaWxkTWVzc2FnZV09XCJ1dGlsbGlzdFwiIFtzZW5kSWRzXT1cImxldHRlcklkQXJyYXlcIiBcbiAgICAgICAgICAgIFtmdW5UeXBlXT1cInNldk5hbWVcIiBbcHViVW5wdWJTdGF0dXNdPVwicHViVW5wU3RhdHVzXCIgIChjYWxsZnVuY3Rpb24pPVwidmlld0l0ZW1zKCcnLCcnLCcnLCcnLDEpXCJcbiAgICAgICAgICAgIChjYWxsZnVuY3Rpb24yKT0nc2VsZWN0QWxsKCRldmVudCknPjwvbGliLWxpYnV0aWxzPlxuICAgICAgICAgIFxuICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgXG4gIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtc2VjdGlvblwiPlxuICAgICAgICAgIDwhLS0gU2VhcmNoIFBhbmVsIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtY29udGFpbmVyIGFjdGl2ZVwiIGlkPVwic2VhcmNoLWNvbnRhaW5lclwiPlxuICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtc2VjXCI+XG4gIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTMgY29sLWxnLTNcIiAqbmdJZj1cImZvcm1lbmFibGVcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgWyhuZ01vZGVsKV09XCJzZWxGb3JtTmFtZVwiIHBsYWNlaG9sZGVyPVwiU2VsZWN0IEZvcm0gTmFtZVwiPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTMgY29sLWxnLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLXNlbGVjdCBkb2NTaXplVHlwZVwiIFsobmdNb2RlbCldPVwidHh0TWVzc2FnZUNvbmZpZ1R5cGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiIGRpc2FibGVkIHNlbGVjdGVkPnt7XCJTZWxlY3QgTWVzc2FnZSBjb25maWcgVHlwZVwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPTE+TWFpbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Mj5TTVM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPTM+V2hhdHNhcHA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gIFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gIFxuICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1tZC0zIGNvbC1sZy0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgKGNsaWNrKT1cInZpZXdTZWFyY2hMaXN0KClcIj4ge3tcIlNlYXJjaFwiIHwgdHJhbnNsYXRlfX08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIG1sLTFcIiAoY2xpY2spPVwidmlld0l0ZW1zKCcnLCcnLCcnLCcnLDEpXCI+IHt7XCJSZXNldFwiIHwgdHJhbnNsYXRlfX08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gIFxuICAgICAgICAgICAgPC9kaXY+XG4gIFxuICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8IS0tIFNlYXJjaCBQYW5lbCAtLT5cbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwibWVzc2FnZUxpc3Q/Lmxlbmd0aCA+IDA7IGVsc2Ugbm9yZWNvcmRcIj5cbiAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTNcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJsZWdlbmRzXCI+XG4gICAgICAgICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XCJiZy1zdWNjZXNzXCI+PC9zcGFuPiB7e1wiUHVibGlzaFwiIHwgdHJhbnNsYXRlfX08L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPVwiYmctZGFuZ2VyXCI+PC9zcGFuPiB7e1wiVW5wdWJsaXNoXCIgfCB0cmFuc2xhdGV9fTwvbGk+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAge3tcIlBlciBQYWdlXCIgfCB0cmFuc2xhdGV9fTpcbiAgICAgICAgICAgICAgICA8c2VsZWN0IChjaGFuZ2UpPVwib25UYWJsZVNpemVDaGFuZ2UoJGV2ZW50KVwiPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiAqbmdGb3I9XCJsZXQgc2l6ZSBvZiBwYWdlU2l6ZXNcIiBbbmdWYWx1ZV09XCJzaXplXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7IHNpemUgfX1cbiAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmUgcHJpbnQtc2VjdGlvblwiIGlkPVwicHJpbnQtc2VjdGlvblwiPiBcbiAgICAgICAgICAgICAgPHRhYmxlIGRhdGEtdG9nZ2xlPVwidGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHZhbGlnbi1taWRkbGVcIj5cbiAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIHN0eWxlPVwid2lkdGg6NDBweFwiIGNsYXNzPVwibm9QcmludFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0IGNoZWNrYWxsXCIgdHlwZT1cImNoZWNrYm94XCIgKGNoYW5nZSk9XCJzZWxlY3RBbGwoJGV2ZW50KVwiIGlkPVwiY2hlY2thbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiY2hlY2thbGxcIiB2YWx1ZT1cImNoZWNrYWxsXCI+XG4gIFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cIm5vUHJpbnRcIiBzdHlsZT1cIndpZHRoOjQwcHhcIj57e1wiU2wgTm9cInwgdHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgKm5nSWY9XCJmb3JtZW5hYmxlXCI+e3tcIkZvcm0gTmFtZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiQ29uZmlndXJhdGlvbiBUeXBlXCIgfCB0cmFuc2xhdGV9fTwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7XCJTTVMgVGVtcGxhdGVJZFwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiTWVzc2FnZSBUeXBlXCIgfCB0cmFuc2xhdGV9fTwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7XCJMYW5ndWFnZVwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57e1wiQ3JlYXRlZCBPblwiIHwgdHJhbnNsYXRlfX08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cIm5vUHJpbnRcIiBzdHlsZT1cIndpZHRoOjgwcHhcIj57e1wiQWN0aW9uXCIgfCB0cmFuc2xhdGV9fTwvdGg+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgPHRyICAqbmdGb3I9XCJsZXQgbWVzc2FnZXMgb2YgbWVzc2FnZUxpc3QgfCBwYWdpbmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zUGVyUGFnZTogdGFibGVTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zOiBjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJub1ByaW50IGJvcmRlci1sZWZ0LTJcIlxuICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnYm9yZGVyLWxlZnQtZGFuZ2VyJzogbWVzc2FnZXMudGluUHVibGlzaFN0YXR1cyA9PT0gMCAsICdib3JkZXItbGVmdC1zdWNjZXNzJzogbWVzc2FnZXMudGluUHVibGlzaFN0YXR1cyA9PT0gMSB9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgcm93Q2hlY2tcIiB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIm9uQ2hhbmdlKG1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdJZCwgJGV2ZW50LG1lc3NhZ2VzLnRpblB1Ymxpc2hTdGF0dXMpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInt7bWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ0lkIH19XCIgW2lkXT1cIm1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdJZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnSWRcIiBbYXR0ci5wdWJzdGF0dXNdPVwibWVzc2FnZXMudGluUHVibGlzaFN0YXR1c1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+e3tpKzEraW5kZXhOdW1iZXJ9fSA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgKm5nSWY9XCJmb3JtZW5hYmxlXCI+PGEgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidGV4dC1wcmltYXJ5XCIgZGF0YS1icy10b2dnbGU9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5kYXRhLWJzLXRhcmdldF09XCInI3ByZXZpZXdNb2RhbCcraVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3ttZXNzYWdlcy52Y2hQcm9jZXNzTmFtZX19XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgdHlwZT1cImJ1dHRvblwiICpuZ0lmPVwiIWZvcm1lbmFibGVcIiBjbGFzcz1cInRleHQtcHJpbWFyeVwiIGRhdGEtYnMtdG9nZ2xlPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZGF0YS1icy10YXJnZXRdPVwiJyNwcmV2aWV3TW9kYWwnK2lcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7KG1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDEpID8gJ01haWwnOihtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnVHlwZSA9PSAyKSA/J1NNUyc6XG4gICAgICAgICAgICAgICAgICAgICAgJ1doYXRzYXBwJ319XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiZm9ybWVuYWJsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt7KG1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDEpID8gJ01haWwnOihtZXNzYWdlcy5pbnRNZXNzYWdlQ29uZmlnVHlwZSA9PSAyKSA/J1NNUyc6XG4gICAgICAgICAgICAgICAgICAgICAgJ1doYXRzYXBwJ319PC9zcGFuPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57e21lc3NhZ2VzLnZjaFNtc1RlbXBsYXRlSWQgIT0nJyA/IG1lc3NhZ2VzLnZjaFNtc1RlbXBsYXRlSWQ6ICctLSd9fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57e21lc3NhZ2VzLmludG1lc3NhZ2VUeXBlID09IDEgPyAnTWVzc2FnaW5nJzogJ1JlbWluZGVyJ319PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPnt7bWVzc2FnZXMudmNoTGFuZ3VhZ2V9fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57e21lc3NhZ2VzLmR0bUNyZWF0ZWRPbn19PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibm9QcmludFwiPjxhIGNsYXNzPVwidGV4dC1wcmltYXJ5XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJcIiBkYXRhLW9yaWdpbmFsLXRpdGxlPVwiRWRpdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZWRpdE1lc3NhZ2UobWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ0lkKyc6JyttZXNzYWdlcy5pbnRQcm9jZXNzSWQrJzonK21lc3NhZ2VzLnZjaFByb2Nlc3NOYW1lKVwiPjxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvbi1lZGl0LXNvbGlkXCI+PC9pPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsIGZhZGUgbm9QcmludFwiICBpZD1cInByZXZpZXdNb2RhbHt7aX19XCIgdGFiaW5kZXg9XCItMVwiIGFyaWEtbGFiZWxsZWRieT1cInByZXZpZXdNb2RhbExhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJtb2RhbC10aXRsZSBtYi0wXCIgaWQ9XCJwcmV2aWV3TW9kYWxMYWJlbFwiPnt7XCJNZXNzYWdlIERldGFpbHNcIiB8IHRyYW5zbGF0ZX19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgKm5nSWY9XCJmb3JtZW5hYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInctMjUgZnctYm9sZFwiPnt7XCJGb3JtIE5hbWVcIiB8IHRyYW5zbGF0ZX19IDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiMlwiPnt7bWVzc2FnZXMudmNoUHJvY2Vzc05hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImZ3LWJvbGRcIj57e1wiU3ViamVjdFwiIHwgdHJhbnNsYXRlfX0gPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCI+e3ttZXNzYWdlcy52Y2hTdWJqZWN0fX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyICpuZ0lmPVwibWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ1R5cGUgPT0gMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ3LTI1IGZ3LWJvbGRcIj57e1wiU01TIFRlbXBsYXRlSWRcIiB8IHRyYW5zbGF0ZX19IDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiMlwiPnt7bWVzc2FnZXMudmNoU21zVGVtcGxhdGVJZH19PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciAqbmdJZj1cIm1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDMgJiYgbWVzc2FnZXMuaW50RG9jdW1lbnRUeXBlID09IDFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidy0yNSBmdy1ib2xkXCI+IHt7XCJBdWRpb1wiIHwgdHJhbnNsYXRlfX0gPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGF1ZGlvIGNvbnRyb2xzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9XCJ7e21lc3NhZ2VzLnZjaERvY3VtZW50fX1cIiB0eXBlPVwiYXVkaW8vbXAzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e1wiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGF1ZGlvIHRhZ1wifX0uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hdWRpbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciAqbmdJZj1cIm1lc3NhZ2VzLmludE1lc3NhZ2VDb25maWdUeXBlID09IDMgJiYgbWVzc2FnZXMuaW50RG9jdW1lbnRUeXBlID09IDJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidy0yNSBmdy1ib2xkXCI+IHt7XCJWaWRlb1wiIHwgdHJhbnNsYXRlfX0gPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZpZGVvIHdpZHRoPVwiMzIwXCIgaGVpZ2h0PVwiMjQwXCIgY29udHJvbHM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz1cInt7bWVzc2FnZXMudmNoRG9jdW1lbnR9fVwiIHR5cGU9XCJ2aWRlby9tcDRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7XCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgdmlkZW8gdGFnXCJ9fS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyICpuZ0lmPVwibWVzc2FnZXMuaW50TWVzc2FnZUNvbmZpZ1R5cGUgPT0gMyAmJiBtZXNzYWdlcy5pbnREb2N1bWVudFR5cGUgPT0gM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ3LTI1IGZ3LWJvbGRcIj4ge3tcIkltYWdlXCIgfCB0cmFuc2xhdGV9fSA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIj48aW1nIHNyYz1cInt7bWVzc2FnZXMudmNoRG9jdW1lbnR9fVwiIHN0eWxlPVwibWF4LXdpZHRoOjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiNzBweFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImZ3LWJvbGRcIj57e1wiTWVzc2FnZSBDb250ZW50XCIgfCB0cmFuc2xhdGV9fSA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBkZkNvbnRhaW5lclwiIFtpbm5lckh0bWxdPVwiaHRtbGRlY29kZShtZXNzYWdlcy52Y2hNZXNzYWdlQ29udGVudClcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgIFxuICAgICAgXG4gICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG5cblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8bGliLWxpYnBhZ2luYXRpb24gW3BhZ2VdPVwicGFnZVwiIFtjb3VudF09XCJjb3VudFwiIFt0YWJsZVNpemVdPVwidGFibGVTaXplXCIgKGNhbGxmdW5jdGlvbik9XCJvblRhYmxlRGF0YUNoYW5nZSgkZXZlbnQpXCI+PC9saWItbGlicGFnaW5hdGlvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgI25vcmVjb3JkPlxuICAgICAgICAgICAgPGg2IGNsYXNzPVwibm8tY29udGVudFwiPiB7e1wiTm8gUmVjb3JkIEZvdW5kXCIgfCB0cmFuc2xhdGV9fTwvaDY+XG4gICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibG9hZGVyXCIgKm5nSWY9XCJsb2FkaW5nXCI+XG4gICAgPGRpdiBjbGFzcz1cImxvYWRlci1pdGVtXCI+PC9kaXY+XG4gICAgPHA+e3tcIkxvYWRpbmdcIn19Li4uPC9wPlxuICA8L2Rpdj5cbiJdfQ==