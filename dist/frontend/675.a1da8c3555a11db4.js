var uw=Object.defineProperty,fw=(Ee,G,be)=>G in Ee?uw(Ee,G,{enumerable:!0,configurable:!0,writable:!0,value:be}):Ee[G]=be,So=(Ee,G,be)=>(fw(Ee,"symbol"!=typeof G?G+"":G,be),be),Xs=(Ee,G,be)=>{if(!G.has(Ee))throw TypeError("Cannot "+be)},Ze=(Ee,G,be)=>(Xs(Ee,G,"read from private field"),be?be.call(Ee):G.get(Ee)),je=(Ee,G,be)=>{if(G.has(Ee))throw TypeError("Cannot add the same private member more than once");G instanceof WeakSet?G.add(Ee):G.set(Ee,be)},lt=(Ee,G,be,C)=>(Xs(Ee,G,"write to private field"),C?C.call(Ee,be):G.set(Ee,be),be),jl=(Ee,G,be,C)=>({set _(Ce){lt(Ee,G,Ce,be)},get _(){return Ze(Ee,G,C)}}),Be=(Ee,G,be)=>(Xs(Ee,G,"access private method"),be);(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[675],{9675:(Ee,G,be)=>{"use strict";be.r(G),be.d(G,{AdminModule:()=>cw});var C=be(6895),Ce=be(8087),e=be(4650),D=be(4698),V=be(5355);let Y=(()=>{class n{constructor(){}ngOnInit(){}showHide(){let t=document.querySelector(".page-container"),i=document.querySelector(".sidemenu");window.outerWidth<800?(t.classList.add("display-full"),i.classList.remove("active")):(t.classList.remove("display-full"),i.classList.add("active"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin"]],decls:8,vars:0,consts:[[1,"header"],[1,"page-container"],[1,"overlay","d-flex","d-lg-none",3,"click"],[1,"sidemenu"],[1,"mainpanel"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e.NdJ("click",function(){return i.showHide()}),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-leftmenu"),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"router-outlet"),e.qZA()())},dependencies:[Ce.lC,D.G,V.Y],styles:[".page-container[_ngcontent-%COMP%]{transition:all ease-in-out .5s;position:relative;margin-top:0;margin-right:0}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]:before{position:absolute;z-index:-1}}.page-container[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:-275px;width:255px;display:block;z-index:99;padding:0 0 1rem;font-weight:200;border-radius:0;background:var(--base-color);transition:all ease-in-out .5s}.page-container[_ngcontent-%COMP%]   .sidemenu.active[_ngcontent-%COMP%]{left:0;z-index:99999}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{top:0;left:0}}.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{background:var(--body-color);position:relative;transition:all ease-in-out .5s;max-width:100%;background-size:100%;padding-top:3rem}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{margin-left:255px;overflow:hidden;overflow-y:auto;padding:60px 1rem 0;height:100vh}}@media screen and (min-width: 1200px){.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{padding:60px 1rem 0}}@media screen and (min-width: 1500px){.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{padding:62px 1rem 0}}.page-container.display-full[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{margin-left:0}.page-container.display-full[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{left:-275px;box-shadow:none;z-index:-1}@media screen and (min-width: 992px){.page-container.display-full[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{max-width:100%;margin-left:0}}.page-container.display-full[_ngcontent-%COMP%]:before{z-index:0;bottom:auto}@media screen and (min-width: 992px){.page-container.display-full[_ngcontent-%COMP%]   .fixed-topmenu[_ngcontent-%COMP%]{left:0}}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]{height:100vh;overflow:hidden}}@media screen and (min-width: 992px){.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:0}.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.5);border-radius:0}.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--white) -theme-color}}.page-controls-section[_ngcontent-%COMP%]{padding:0 1rem;transition:all ease-in 1.2s}.page-controls-section.active[_ngcontent-%COMP%]{transition:all ease-out .1s}@media screen and (min-width: 768px){.page-controls-section[_ngcontent-%COMP%]{padding:0 1rem}}@media screen and (min-width: 992px){.page-controls-section[_ngcontent-%COMP%]{margin-top:0;padding:0;position:relative}}.page-controls-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem}.overlay[_ngcontent-%COMP%]{inset:0;height:100%;width:100%;background-color:#00000080;visibility:hidden;z-index:1031;position:fixed}.page-container.display-full[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{visibility:hidden}.page-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{visibility:visible}"]}),n})();var _=be(3470),p=be(5226),f=be.n(p),u=be(2340),l=be(7206),c=be(3172),a=be(529);let d=(()=>{class n{constructor(t,i){this.router=t,this.http=i}pendingFileLIst(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"dashboard_module/getPendingFilesListForApproval",{REQUEST_DATA:i,REQUEST_TOKEN:o})}recentFiles(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"file_module/getRecentFiles",{REQUEST_DATA:i,REQUEST_TOKEN:o})}gettotalDocuments(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"dashboard_module/totalDocument",{REQUEST_DATA:i,REQUEST_TOKEN:o})}gettotalFolder(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"dashboard_module/totalFolder",{REQUEST_DATA:i,REQUEST_TOKEN:o})}recentactivitylog(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"master_module/getUserActivity",{REQUEST_DATA:i,REQUEST_TOKEN:o})}totalSharedfiles(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"dashboard_module/totalSharedfile",{REQUEST_DATA:i,REQUEST_TOKEN:o})}graphDetails(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"dashboard_module/getPendingFilesListGraph",{REQUEST_DATA:i,REQUEST_TOKEN:o})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ce.F0),e.LFG(a.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=be(5721),h=be(7053),m=be(3489),b=be(3516),v=be(3673),y=be(1481),M=be(1837),w=be(433),E=be(1789);const Z=["viewer"];function U(n,s){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function q(n,s){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"iframe",7),e.YNc(2,U,4,0,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.publicurl,e.uOi),e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function Q(n,s){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function re(n,s){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,Q,4,0,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function le(n,s){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function ue(n,s){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,le,4,0,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function W(n,s){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function ce(n,s){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,W,4,0,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function pe(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,q,3,2,"div",2),e.YNc(2,re,2,1,"div",3),e.YNc(3,ue,2,1,"div",4),e.YNc(4,ce,2,1,"div",5),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!("mp3"==t.filetype||"mp4"==t.filetype||"zip"==t.filetype)),e.xp6(1),e.Q6J("ngIf","mp4"==t.filetype||"MP4"==t.filetype||"WebM"==t.filetype||"mkv"==t.filetype||"avi"==t.filetype||"webm"==t.filetype),e.xp6(1),e.Q6J("ngIf","mp3"==t.filetype||"MP3"==t.filetype),e.xp6(1),e.Q6J("ngIf","zip"==t.filetype||"ZIP"==t.filetype)}}function _e(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"h5",16),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",17)(6,"div",18)(7,"div",19)(8,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtPassword=o)}),e.qZA()()(),e.TgZ(9,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.unsetPassword())}),e._uU(10),e.ALo(11,"langReplace"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,3,"Lock File"),""),e.xp6(5),e.Q6J("ngModel",t.txtPassword),e.xp6(2),e.hij(" ",e.lcZ(11,5,"Submit")," ")}}let B=(()=>{class n{constructor(t,i,o,r,x,T,L,R,J){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.sanitizer=L,this.modalService=R,this.vldChkLst=J,this.siteURL=u.N.siteURL,this.jsonurl="assets/js/_configs/filePreview.config.json",this.letterID="",this.viewer="pdf",this.selectedType="docx",this.DemoDoc="https://unec.edu.az/application/uploads/2014/12/pdf-sample.pdf",this.loading=!1,this.fileLoading=!1,this.currenttime=new Date}ngOnInit(){this.token=sessionStorage.getItem("TOKEN"),this.loadconfig(),this.fileLoading=!0,this.publicurl="",1==this.lockstatus||(this.prevstatus=!0,this.downloadfils(this.fileId,this.vfilepath))}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}downloadfils(t,i){this.commonserveice.fileDownload({fileId:t,url:i,logId:this.logid}).subscribe(r=>{let x=r.RESPONSE_DATA,T=r.RESPONSE_TOKEN;if(this.fileLoading=!0,T==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?(this.downloaditem=J.result,this.downloadlink=this.downloaditem.filePath,this.dcoSrc=this.downloaditem.filePath,"pdf"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}`),this.fileLoading=!1},1e3):"mp4"==this.filetype?setTimeout(()=>{const se=document.createElement("video");se.controls=!0,se.muted=!1,(se.canPlayType("video/mp4")||se.canPlayType("video/ogg"))&&(se.src=this.dcoSrc),se.height=380,se.width=560;let me=document.getElementById("videopreviewdiv");me.innerHTML="",me.appendChild(se),this.fileLoading=!1},200):"xlsx"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.excelViewer}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+&type=1`),this.fileLoading=!1},200):"docx"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+&type=1`),this.fileLoading=!1},200):"mp3"==this.filetype?(setTimeout(()=>{const se=document.createElement("AUDIO");se.setAttribute("src",this.dcoSrc),se.setAttribute("controls","controls"),document.body.appendChild(se);let me=document.getElementById("audiopreviewdiv");me.innerHTML="",me.appendChild(se)},200),this.fileLoading=!1):"zip"==this.filetype?(setTimeout(()=>{const se=document.createElement("a"),me=document.createTextNode("Downlod .zip File");se.setAttribute("target","_blank"),se.setAttribute("href",this.dcoSrc),se.classList.add("btn","btn-primary"),se.appendChild(me);let Me=document.getElementById("zipdiv");Me.innerHTML="",Me.appendChild(se)},200),this.fileLoading=!1):setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+type=1`),this.fileLoading=!1},200)):501==J.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.fileLoading=!1,this.authService.directlogout()},r=>{this.loading=!1,this.authService.directlogout()})}onError(t){console.log("some thing went wrong")}shareDoc(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/shareFile",i])}open(t){this.modalService.open(t,{size:"",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}unsetPassword(){let t=this.txtPassword;this.vldChkLst.blankCheck(t,this.commonserveice.langReplace("Please Enter Password"),"txtPassword")&&this.commonserveice.fileLockUnlock({fileId:this.fileId,password:t,action:3}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?(this.prevstatus=!0,this.downloadfils(this.fileId,this.vfilepath)):400==R.status?f().fire({icon:"error",text:R.message}):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(y.H7),e.Y36(b.FF),e.Y36(M._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-preview-file"]],viewQuery:function(t,i){if(1&t&&e.Gf(Z,5),2&t){let o;e.iGM(o=e.CRH())&&(i.viewerRef=o.first)}},inputs:{fileId:"fileId",filetype:"filetype",logid:"logid",vfilepath:"vfilepath",lockstatus:"lockstatus"},decls:2,vars:2,consts:[[4,"ngIf"],["class","lockmodaldiv",4,"ngIf"],["class","previewdiv","id","previewdiv",4,"ngIf"],["class","videopreviewdiv","id","videopreviewdiv",4,"ngIf"],["class","audiopreviewdiv","id","audiopreviewdiv",4,"ngIf"],["class","zipdiv","id","zipdiv",4,"ngIf"],["id","previewdiv",1,"previewdiv"],[3,"src"],["class","loader loader2",4,"ngIf"],[1,"loader","loader2"],[1,"loader-item"],["id","videopreviewdiv",1,"videopreviewdiv"],["id","audiopreviewdiv",1,"audiopreviewdiv"],["id","zipdiv",1,"zipdiv"],[1,"lockmodaldiv"],[1,"div-body"],["id","lockModalLabel",1,"modal-title","mb-2"],[1,"text-center"],[1,"form-group"],[1,"input-group"],["type","password","placeholder","Enter File Password","id","txtPassword",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,pe,5,4,"div",0),e.YNc(1,_e,12,7,"div",1)),2&t&&(e.Q6J("ngIf",i.prevstatus),e.xp6(1),e.Q6J("ngIf",!i.prevstatus))},dependencies:[C.O5,w.Fj,w.JJ,w.On,E.c],styles:["ngx-doc-viewer[_ngcontent-%COMP%], .frame[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:55vh;padding:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}iframe[_ngcontent-%COMP%]{width:100%;min-height:82.5vh}canvas[_ngcontent-%COMP%], .canvas-container[_ngcontent-%COMP%]{box-shadow:10px 10px 5px #000000bf}#pdf-container[_ngcontent-%COMP%]{margin-top:60px;padding-left:10px;text-align:center}.pdf-container[_ngcontent-%COMP%]{position:relative;height:70vh;overflow:hidden;overflow-y:auto;width:100%;background-color:#00000080}.viewer[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;right:0;height:70vh}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center;position:relative;min-height:100px}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:1rem;position:relative;min-height:100px}"]}),n})();const F=["previewModal"];function k(n,s){1&n&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Pending At")," "))}function P(n,s){1&n&&(e.TgZ(0,"th",48),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Action")," "))}function S(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.pendingAtName)}}function A(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.takeAction(o.fileId+":"+o.folderId+":"+o.stageNo+":"+o.workflowFolderId+":"+o.intApprovalId+":"+o.filePath+":"+o.fileName+":0:"+o.lockStatus+":"+o.fileType))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Take Action")))}function O(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",49),e._UZ(6,"i",50),e.qZA(),e.TgZ(7,"td")(8,"a",8),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadpreview(r.fileId,r.fileType,r.filePath,0,r.lockStatus))}),e._uU(9),e._UZ(10,"i",51),e.qZA()(),e.YNc(11,S,2,1,"td",45),e.YNc(12,A,4,3,"td",45),e.qZA()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(2);e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.fileRefNo),e.xp6(2),e.Q6J("ngClass",o.getfiletype(t.fileType)),e.xp6(3),e.hij("",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(1),e.Q6J("ngIf",1==o.userLoginId),e.xp6(1),e.Q6J("ngIf",1!=o.userLoginId)}}function I(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",41)(2,"table",42)(3,"thead")(4,"tr")(5,"th",43),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"th",44),e._uU(12),e.ALo(13,"langReplace"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"langReplace"),e.qZA(),e.YNc(17,k,3,3,"th",45),e.YNc(18,P,3,3,"th",46),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,O,13,9,"tr",47),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.hij("",e.lcZ(7,7,"Sl No")," "),e.xp6(3),e.hij("",e.lcZ(10,9,"Document No"),"."),e.xp6(3),e.hij("",e.lcZ(13,11,"Type")," "),e.xp6(3),e.Oqu(e.lcZ(16,13,"Name")),e.xp6(2),e.Q6J("ngIf",1==t.userLoginId),e.xp6(1),e.Q6J("ngIf",1!=t.userLoginId),e.xp6(2),e.Q6J("ngForOf",t.pendingDocList)}}function N(n,s){1&n&&(e.TgZ(0,"h6",53),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Pending Applications")," "))}function H(n,s){1&n&&(e.TgZ(0,"div",54),e._UZ(1,"div",55),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function z(n,s){if(1&n&&(e.TgZ(0,"li")(1,"a",57),e._UZ(2,"i",50),e._uU(3),e.TgZ(4,"span",58),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()()),2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngClass",t.fileType?i.getfiletype(t.fileType):"bi-folder-fill text-warning"),e.xp6(1),e.hij(" ",t.folderName?t.folderName:t.fileName," "),e.xp6(2),e.hij(" ",t.activityPerformed," "),e.xp6(2),e.AsE("",t.createdBy," . ",t.createdOn," ")}}function X(n,s){if(1&n&&(e.TgZ(0,"ul",56),e.YNc(1,z,8,5,"li",47),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.activitylist)}}function ee(n,s){1&n&&(e.TgZ(0,"h6",53),e._uU(1," No log found"),e.qZA())}function de(n,s){1&n&&(e.TgZ(0,"div",54),e._UZ(1,"div",55),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",59),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadpreview(r.fileId,r.fileName,r.filePath,0,r.lockStatus))}),e._UZ(2,"i",50),e._uU(3),e._UZ(4,"i",60),e.TgZ(5,"span"),e._uU(6),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngClass",i.getfiletype(t.fileType)),e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(1),e.Gre("position-relative  ",1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":"",""),e.xp6(2),e.hij(" ",t.CreatedOn,"")}}function K(n,s){if(1&n&&(e.TgZ(0,"ul",56),e.YNc(1,ne,7,6,"li",47),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.recentlist)}}function ve(n,s){1&n&&(e.TgZ(0,"h6",53),e._uU(1," No Recent Documents"),e.qZA())}function ye(n,s){1&n&&(e.TgZ(0,"div",54),e._UZ(1,"div",55),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"h5",62),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",64),e._UZ(6,"app-preview-file",65),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,6,"Document Preview")," "),e.xp6(4),e.Q6J("fileId",t.previewfileid)("filetype",t.filetype)("vfilepath",t.filePath)("lockstatus",t.lockstatus)("logid",t.logId)}}let ge=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.httpClient=i,this.dashboardServices=o,this.encDec=r,this.authService=x,this.commonserveice=T,this.modalService=L,this.jsonurl="assets/js/_configs/dashboard.config.json",this.Highcharts=_,this.chartOptions="",this.pendingDocList=[],this.recentlist=[],this.activitylist=[],this.graphdata=[],this.finalobj={Name:[],Reference:[],Size:[],Document:[],pendingAtName:[],Createdby:[],Meta:[],Tags:[]},this.pendingLoader=!1,this.recentdocLoader=!1,this.logLoader=!1,this.logId=0}ngOnInit(){this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.userLoginId=t.USER_LOGINID,this.loadconfig(),setTimeout(()=>{this.summarygraph(),this.totalDocs(),this.totalFolders(),this.recentActivity(),this.totalFilesShared(),this.viewPendingList(this.finalobj),this.recentfilelist("1",this.finalobj)},1e3)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}previewDoc(t){this.route.navigate(["/admin/previewfile",t])}viewPendingList(t){let i={searchfilter:t};this.pendingLoader=!0,this.dashboardServices.pendingFileLIst(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?(this.pendingLoader=!1,this.pendingDocList=R.result):400==R.status?this.pendingLoader=!1:501==R.status?this.authService.directlogout():(this.pendingLoader=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.pendingLoader=!1,this.authService.directlogout()},o=>{this.pendingLoader=!1,this.authService.directlogout()})}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}takeAction(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/workflow/takeaction",i])}downloadfils(t,i){this.commonserveice.fileDownload({fileId:t,url:i}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);if(200==J.status){this.downloaditem=J.result,this.downloadlink=this.downloaditem.filePath;let se=document.createElement("a");se.download=this.downloadlink,se.href=this.downloadlink,se.target="_blank",se.click()}else 501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},r=>{this.authService.directlogout()})}recentfilelist(t,i){let o={searchfilter:i};this.recentdocLoader=!0,this.dashboardServices.recentFiles(o).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?(this.recentdocLoader=!1,this.recentlist=J.result):400==J.status?(this.recentdocLoader=!1,f().fire({icon:"error",text:J.message})):501==J.status?this.authService.directlogout():(this.recentdocLoader=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.recentdocLoader=!1,this.authService.directlogout()},r=>{this.recentdocLoader=!1,this.authService.directlogout()})}totalDocs(){this.dashboardServices.gettotalDocuments({mode:1}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);if(200==L.status){let R=L.result[0];this.noofdocumets=R.totalDocumentCount,this.sizeofdocuments=R.totalSize[2],this.sizeofdocumentsingb=R.totalSize[0]}else 400==L.status?f().fire({icon:"error",text:L.message}):f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},i=>{this.authService.directlogout()})}totalFolders(){this.dashboardServices.gettotalFolder({}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);if(200==L.status){let R=L.result;this.nooffolders=R.totalFolderCount,this.sizeoffolders=R.childsize[0],this.folderfreespace=R.freeSpaceLeft[0]}else 400==L.status?f().fire({icon:"error",text:L.message}):501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},i=>{this.authService.directlogout()})}totalFilesShared(){this.dashboardServices.totalSharedfiles({}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);if(200==L.status){let R=L.result[0];this.noofsharedfiles=R.totalDocumentCount,this.sizeofsharedfiles=R.totalSize[2]}else 400==L.status?f().fire({icon:"error",text:L.message}):501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},i=>{this.authService.directlogout()})}recentActivity(){this.logLoader=!0,this.dashboardServices.recentactivitylog({type:1}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?(this.logLoader=!1,this.activitylist=L.result):501==L.status?this.authService.directlogout():(this.logLoader=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.logLoader=!1,this.authService.directlogout()},i=>{this.logLoader=!1,this.authService.directlogout()})}viewAll(t){1==t?this.route.navigateByUrl("/workflow/pendingdocs"):2==t?this.route.navigateByUrl("/admin/recentactivities"):3==t&&this.route.navigateByUrl("/admin/recentFiles")}summarygraph(){this.logLoader=!0,this.dashboardServices.graphDetails({}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);if(200==L.status){this.logLoader=!1;let R=L.result;this.approvedfiles=R.approvedFile,this.pendingfiles=R.pendingFile,this.rejectfiles=R.rerejectedFile,setTimeout(()=>{this.chartOptions={chart:{backgroundColor:"rgba(0,0,0,0)",type:"pie"},colors:["#00bdab","#ff6f6f","#ffbc5a"],accessibility:{description:""},title:{text:""},credits:{enabled:!1},tooltip:{enable:!1},plotOptions:{pie:{allowPointSelect:!0,showInLegend:!0,cursor:"pointer",innerSize:"50%",dataLabels:{format:"{point.percentage:.1f} %",enabled:!0,color:"black"}}},series:[{name:"Documents",data:[{name:this.commonserveice.langReplace("Approved"),y:this.approvedfiles},{name:this.commonserveice.langReplace("Reject"),y:this.rejectfiles},{name:this.commonserveice.langReplace("Inprogress"),y:this.pendingfiles}]}]}},200)}else 501==L.status?this.authService.directlogout():(this.logLoader=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.logLoader=!1,this.authService.directlogout()},i=>{this.logLoader=!1,this.authService.directlogout()})}open(t){}closeModal(){this.modalService.dismissAll()}loadpreview(t,i,o,r,x){this.previewfileid=t,this.filePath=o,this.lockstatus=x,this.logId=r,this.filetype=i;let T=this.encDec.encText((this.previewfileid+":"+this.filePath+":"+this.lockstatus+":"+this.logId+":"+this.filetype).toString());const L=u.N.siteURL+"#/windowPrev/"+T,R=.9*screen.width,J=.8*screen.height,se=screen.width/2-R/2,me=screen.height/2-J/2,Me=Math.floor(100*Math.random()+1);window.open(L,"_blank","PopUp"+Me+",scrollbars=1,menubar=0,resizable=1,width = "+R+", height = "+J+", top = "+me+", left = "+se)}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(d),e.Y36(g.Z),e.Y36(h.$),e.Y36(m.l),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(t,i){if(1&t&&e.Gf(F,5),2&t){let o;e.iGM(o=e.CRH())&&(i.previewModal=o.first)}},decls:139,vars:80,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"row"],[1,"col-md-6","col-lg-8"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"text-primary",3,"click"],[1,"card-body"],[1,"fix-height"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader loader3",4,"ngIf"],[1,"col-md-4"],[1,"icon-div"],[1,"bi","bi-file-text","text-primary"],[1,"card-title","mb-3"],[1,"w-100","d-flex","justify-content-between","portletdata"],["href","javascript:voaid(0)",1,"text-primary"],[1,"icon-div","bg-light-yellow"],[1,"bi","bi-folder-fill","text-warning"],["href","javascript:voaid(0)",1,"text-warning"],[1,"icon-div","bg-light-sky"],[1,"bi","bi-share-fill","text-info"],["href","javascript:voaid(0)",1,"text-info"],[1,"col-md-6"],["class","listing",4,"ngIf","ngIfElse"],[1,"col-md-6","col-lg-4"],[1,"card-body","mb-4"],[2,"width","100%","display","block",3,"Highcharts","options","runOutsideAngular","oneToOne"],[1,"w-100","mb-3","d-flex","justify-content-between","align-items-center"],[1,"mb-3","storage-list-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-block"],[1,"text-primary"],[1,"storage-list-item"],[1,"bi","bi-hdd","text-info"],[1,"text-info"],["id","previewModal"],["previewModal",""],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],["width","50px",1,"text-center"],[4,"ngIf"],["width","140px",4,"ngIf"],[4,"ngFor","ngForOf"],["width","140px"],[1,"text-center"],[1,"h6",3,"ngClass"],["ngbTooltip","Locked File"],["href","javascript:void(0)",1,"btn","btn-sm","btn-success",3,"click"],[1,"no-content"],[1,"loader","loader3"],[1,"loader-item"],[1,"listing"],["href","javascript:void(0)",1,"docs"],[1,"text-primary","mt-2"],[1,"docs",3,"click"],["ngbTooltip","Locked File",2,"font-size","1rem"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","90vh","min-height","300px","overflow-y","auto","position","relative"],[3,"fileId","filetype","vfilepath","lockstatus","logid"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",2)(8,"div",4)(9,"div",5)(10,"div",6)(11,"h6",7),e._uU(12),e.ALo(13,"langReplace"),e.qZA(),e.TgZ(14,"a",8),e.NdJ("click",function(){return i.viewAll(1)}),e.TgZ(15,"small"),e._uU(16),e.ALo(17,"langReplace"),e.qZA()()(),e.TgZ(18,"div",9)(19,"div",10),e.YNc(20,I,21,15,"div",11),e.YNc(21,N,3,3,"ng-template",null,12,e.W1O),e.YNc(23,H,4,0,"div",13),e.qZA()()()(),e.TgZ(24,"div",14)(25,"div",5)(26,"div",9)(27,"div",15),e._UZ(28,"i",16),e.qZA(),e.TgZ(29,"h6",17),e._uU(30),e.ALo(31,"langReplace"),e.qZA(),e.TgZ(32,"div",18)(33,"a",19),e._uU(34),e.ALo(35,"langReplace"),e.qZA(),e.TgZ(36,"span"),e._uU(37),e.qZA()()()()(),e.TgZ(38,"div",14)(39,"div",5)(40,"div",9)(41,"div",20),e._UZ(42,"i",21),e.qZA(),e.TgZ(43,"h6",17),e._uU(44),e.ALo(45,"langReplace"),e.qZA(),e.TgZ(46,"div",18)(47,"a",22),e._uU(48),e.ALo(49,"langReplace"),e.qZA(),e.TgZ(50,"span"),e._uU(51),e.qZA()()()()(),e.TgZ(52,"div",14)(53,"div",5)(54,"div",9)(55,"div",23),e._UZ(56,"i",24),e.qZA(),e.TgZ(57,"h6",17),e._uU(58),e.ALo(59,"langReplace"),e.qZA(),e.TgZ(60,"div",18)(61,"a",25),e._uU(62),e.ALo(63,"langReplace"),e.qZA(),e.TgZ(64,"span"),e._uU(65),e.qZA()()()()(),e.TgZ(66,"div",26)(67,"div",5)(68,"div",6)(69,"h6",7),e._uU(70),e.ALo(71,"langReplace"),e.qZA(),e.TgZ(72,"a",8),e.NdJ("click",function(){return i.viewAll(2)}),e.TgZ(73,"small"),e._uU(74),e.ALo(75,"langReplace"),e.qZA()()(),e.TgZ(76,"div",9)(77,"div",10),e.YNc(78,X,2,1,"ul",27),e.YNc(79,ee,2,0,"ng-template",null,12,e.W1O),e.YNc(81,de,4,0,"div",13),e.qZA()()()(),e.TgZ(82,"div",26)(83,"div",5)(84,"div",6)(85,"h6",7),e._uU(86),e.ALo(87,"langReplace"),e.qZA(),e.TgZ(88,"a",8),e.NdJ("click",function(){return i.viewAll(3)}),e.TgZ(89,"small"),e._uU(90),e.ALo(91,"langReplace"),e.qZA()()(),e.TgZ(92,"div",9)(93,"div",10),e.YNc(94,K,2,1,"ul",27),e.YNc(95,ve,2,0,"ng-template",null,12,e.W1O),e.YNc(97,ye,4,0,"div",13),e.qZA()()()()()(),e.TgZ(98,"div",28)(99,"div",5)(100,"div",6)(101,"h6",7),e._uU(102),e.ALo(103,"langReplace"),e.qZA()(),e.TgZ(104,"div",29),e._UZ(105,"highcharts-chart",30),e.qZA()(),e.TgZ(106,"div",5)(107,"div",6)(108,"h6",7),e._uU(109),e.ALo(110,"langReplace"),e.qZA()(),e.TgZ(111,"div",9)(112,"div",31)(113,"h6"),e._uU(114),e.ALo(115,"langReplace"),e.qZA(),e.TgZ(116,"h6"),e._uU(117),e.qZA()(),e.TgZ(118,"div",32)(119,"div",33),e._UZ(120,"i",16),e.TgZ(121,"div"),e._uU(122),e.ALo(123,"langReplace"),e.TgZ(124,"span",34),e._uU(125),e.ALo(126,"langReplace"),e.qZA()()(),e.TgZ(127,"span",35),e._uU(128),e.qZA()(),e.TgZ(129,"div",36)(130,"div",33),e._UZ(131,"i",37),e.TgZ(132,"div"),e._uU(133),e.ALo(134,"langReplace"),e.qZA()(),e.TgZ(135,"span",38),e._uU(136),e.qZA()()()()()()(),e.YNc(137,oe,7,8,"ng-template",39,40,e.W1O)),2&t){const o=e.MAs(22);e.xp6(2),e.hij("",e.lcZ(3,42,i.title)," "),e.xp6(10),e.hij("",e.lcZ(13,44,"Pending Documents")," "),e.xp6(4),e.Oqu(e.lcZ(17,46,"View All")),e.xp6(4),e.Q6J("ngIf",(null==i.pendingDocList?null:i.pendingDocList.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.pendingLoader),e.xp6(7),e.Oqu(e.lcZ(31,48,"documents")),e.xp6(4),e.AsE("",i.noofdocumets," ",e.lcZ(35,50,"Documents")," "),e.xp6(3),e.Oqu(i.sizeofdocuments),e.xp6(7),e.hij("",e.lcZ(45,52,"Folders")," "),e.xp6(4),e.AsE("",i.nooffolders," ",e.lcZ(49,54,"Folders")," "),e.xp6(3),e.Oqu(i.sizeoffolders),e.xp6(7),e.hij("",e.lcZ(59,56,"Share")," "),e.xp6(4),e.AsE("",i.noofsharedfiles," ",e.lcZ(63,58,"Documents")," "),e.xp6(3),e.hij("",i.sizeofsharedfiles," "),e.xp6(5),e.hij("",e.lcZ(71,60,"Recent Activities")," "),e.xp6(4),e.Oqu(e.lcZ(75,62,"View All")),e.xp6(4),e.Q6J("ngIf",(null==i.activitylist?null:i.activitylist.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.logLoader),e.xp6(5),e.hij("",e.lcZ(87,64,"Recent Documents")," "),e.xp6(4),e.Oqu(e.lcZ(91,66,"View All")),e.xp6(4),e.Q6J("ngIf",(null==i.recentlist?null:i.recentlist.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.recentdocLoader),e.xp6(5),e.Oqu(e.lcZ(103,68,"Document Summary")),e.xp6(3),e.Q6J("Highcharts",i.Highcharts)("options",i.chartOptions)("runOutsideAngular",!0)("oneToOne",!0),e.xp6(4),e.hij("",e.lcZ(110,70,"Storage Details")," "),e.xp6(5),e.hij(" ",e.lcZ(115,72,"Total Space Allocation")," "),e.xp6(3),e.Oqu(i.sizeoffolders),e.xp6(5),e.hij(" ",e.lcZ(123,74,"Documents")," "),e.xp6(3),e.AsE("",i.noofdocumets," ",e.lcZ(126,76,"Documents")," "),e.xp6(3),e.Oqu(i.sizeofdocumentsingb),e.xp6(5),e.hij(" ",e.lcZ(134,78,"Free Space")," "),e.xp6(3),e.Oqu(i.folderfreespace)}},dependencies:[C.mk,C.sg,C.O5,b._L,v.x,B,E.c],styles:['.fix-height[_ngcontent-%COMP%]{height:260px;overflow:hidden;overflow-y:auto}.fix-height2[_ngcontent-%COMP%]{height:200px}.fix-height[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}.fix-height[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.fix-height[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:rgba(255,255,255,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}.fix-height[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:window-inactive{background:rgba(255,255,255,.3)}.icon-div[_ngcontent-%COMP%]{height:3rem;width:3rem;justify-content:center;align-items:center;display:flex;background-color:var(--base-color-100);border-radius:5px;font-size:1.6rem;margin-bottom:1rem}.portletdata[_ngcontent-%COMP%]{font-size:1.1rem;padding-top:1rem;border-top:2px solid var(--bs-gray-200)}@media screen and (max-width: 1440px){.portletdata[_ngcontent-%COMP%]{padding-top:.5rem;font-size:.9rem}}.bg-light-yellow[_ngcontent-%COMP%]{background-color:#fff2df!important}.bg-light-sky[_ngcontent-%COMP%]{background-color:#e3f6ff!important}.listing[_ngcontent-%COMP%]{margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-gray-700);display:block;padding:.8rem 1rem .8rem 3rem;position:relative;border-bottom:1px dashed var(--bs-gray-300);line-height:1.3}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\\f633";color:var(--base-color-600);font-family:bootstrap-icons!important;position:absolute;left:0;font-size:1.4rem;border-radius:4px;background:var(--base-color-100);height:2rem;width:2rem;overflow:hidden;display:flex;align-items:center;justify-content:center}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:5px;font-size:1.5rem;border-radius:4px;margin:0;line-height:1.5}@media screen and (max-width: 1440px){.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem}}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.approved[_ngcontent-%COMP%]:before{content:"\\f633";color:var(--bs-success);background:#e2ffe4}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.rejected[_ngcontent-%COMP%]:before{content:"\\f62a";color:var(--bs-danger);background:#ffecea}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.docs[_ngcontent-%COMP%]:before{content:"";color:transparent;background:transparent}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:.2rem;color:var(--bs-gray-500);font-size:95%}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--base-color-600)}.storage-list-item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;padding:1rem;border-radius:4px;border:2px solid var(--base-color-100);align-items:center;font-size:1rem}.storage-list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;margin-right:1rem}.storage-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:.2rem;color:var(--bs-gray-500)}@media screen and (max-width: 1440px){.storage-list-item[_ngcontent-%COMP%]{font-size:.9rem}.storage-list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;margin-right:.5rem}}highcharts-chart[_ngcontent-%COMP%]{height:300px;width:100%}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:0;position:relative}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:before{content:"";width:60px;height:3px;position:absolute;background:#f9a533;bottom:0;border-radius:4px}']}),n})();var fe=be(8438);let j=(()=>{class n{constructor(t,i){this.router=t,this.http=i}uploadFile(t){return this.http.post(u.N.serviceURL+"file_module/fileUpload",t)}finaluploadFile(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"file_module/fileUploadFinal",{REQUEST_DATA:i,REQUEST_TOKEN:o})}fileEdit(t){let i=c.lW.from(JSON.stringify(t),"utf8").toString("base64"),o=l.HmacSHA256(i,u.N.apiHashingKey).toString();return this.http.post(u.N.serviceURL+"file_module/fileEditFinal",{REQUEST_DATA:i,REQUEST_TOKEN:o})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ce.F0),e.LFG(a.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var te=be(1894);class ie{constructor(s,t){this.open=s,this.close=t||s}isManual(){return"manual"===this.open||"manual"===this.close}}const we={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Se(n,s=we){const t=(n||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(r=>r.split(":")).map(r=>{const x=s[r[0]]||r;return new ie(x[0],x[1])}),o=i.filter(r=>r.isManual());if(o.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===o.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const Ie=typeof window<"u"&&window||{};var Qe=(()=>{return(n=Qe||(Qe={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",Qe;var n})();let nt;function ot(){if(typeof Ie.document>"u")return"bs4";const n=Ie.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Ie.document.head.appendChild(n);const s=n.getBoundingClientRect(),t=Ie.getComputedStyle(n).paddingLeft;return!s||s&&0!==s.top?(Ie.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Ie.document.head.removeChild(n),"bs4"):(Ie.document.head.removeChild(n),"bs5")}function it(){return typeof Ie>"u"||(typeof Ie.__theme>"u"?(nt||(nt=ot()),"bs3"===nt):"bs3"===Ie.__theme)}function bt(){return!it()&&(nt||(nt=ot()),"bs4"===nt)}function gt(){return{isBs3:it(),isBs4:bt(),isBs5:!it()&&!bt()&&(nt||(nt=ot()),"bs5"===nt)}}function At(){const n="Change";return function(t,i){const o=` __${i}Value`;Object.defineProperty(t,i,{get(){return this[o]},set(r){const x=this[o];this[o]=r,x!==r&&this[i+n]&&this[i+n].emit(r)}})}}class bn{static reflow(s){}static getStyles(s){let t=s.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Ie),t.getComputedStyle(s)}static stackOverflowConfig(){const s=function kt(){const n=gt(),s=Object.keys(n).find(t=>n[t]);return Qe[s]}();return{crossorigin:"bs3"!==s?"anonymous":void 0,integrity:"bs5"===s?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===s?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===s?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===s?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}const ei={},ac=typeof console>"u"||!("warn"in console);function Et(n){!(0,e.X6Q)()||ac||n in ei||(ei[n]=!0,console.warn(n))}var Cn=be(7579),lc=be(6451),hr=be(4968),cc=be(9646),ur=be(4408),ti=be(727);const Ci={schedule(n){let s=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Ci;i&&(s=i.requestAnimationFrame,t=i.cancelAnimationFrame);const o=s(r=>{t=void 0,n(r)});return new ti.w0(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:s}=Ci;return(s?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:s}=Ci;return(s?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var fr=be(640);const uc=new class hc extends fr.v{flush(s){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;s=s||i.shift();do{if(o=s.execute(s.state,s.delay))break}while((s=i[0])&&s.id===t&&i.shift());if(this._active=!1,o){for(;(s=i[0])&&s.id===t&&i.shift();)s.unsubscribe();throw o}}}(class dc extends ur.o{constructor(s,t){super(s,t),this.scheduler=s,this.work=t}requestAsyncId(s,t,i=0){return null!==i&&i>0?super.requestAsyncId(s,t,i):(s.actions.push(this),s._scheduled||(s._scheduled=Ci.requestAnimationFrame(()=>s.flush(void 0))))}recycleAsyncId(s,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(s,t,i);const{actions:r}=s;null!=t&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==t&&(Ci.cancelAnimationFrame(t),s._scheduled=void 0)}});var Vi=(()=>{return(n=Vi||(Vi={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",Vi;var n})(),ni=(()=>{return(n=ni||(ni={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",ni;var n})();function En(n,s){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return s?i&&i[s]:i}function Oo(n){if(!n)return document.documentElement;let i,t=n?.offsetParent;for(;null===t&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,t=i.offsetParent;const o=t&&t.nodeName;return o&&"BODY"!==o&&"HTML"!==o?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===En(t,"position")?Oo(t):t:i?i.ownerDocument.documentElement:document.documentElement}function Po(n){return null!==n.parentNode?Po(n.parentNode):n}function zi(n,s){if(!(n&&n.nodeType&&s&&s.nodeType))return document.documentElement;const t=n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING,i=t?n:s,o=t?s:n,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);const x=r.commonAncestorContainer;if(n!==x&&s!==x||i.contains(o))return function fc(n){const{nodeName:s}=n;return"BODY"!==s&&("HTML"===s||Oo(n.firstElementChild)===n)}(x)?x:Oo(x);const T=Po(n);return T.host?zi(T.host,s):zi(n,Po(s).host)}function pr(n){if(!n||!n.parentElement)return document.documentElement;let s=n.parentElement;for(;s?.parentElement&&"none"===En(s,"transform");)s=s.parentElement;return s||document.documentElement}function gr(n,s){const t="x"===s?"Left":"Top",i="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${i}Width`])}function _r(n,s,t,i){return Math.max(s[`offset${n}`],s[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function mr(n){const s=n.body,t=n.documentElement;return{height:_r("Height",s,t),width:_r("Width",s,t)}}function yi(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function dt(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function vr(n){const s=n.getBoundingClientRect();if(!(s&&dt(s.top)&&dt(s.left)&&dt(s.bottom)&&dt(s.right)))return s;const t={left:s.left,top:s.top,width:s.right-s.left,height:s.bottom-s.top},i="HTML"===n.nodeName?mr(n.ownerDocument):void 0,o=i?.width||n.clientWidth||dt(s.right)&&dt(t.left)&&s.right-t.left||0,r=i?.height||n.clientHeight||dt(s.bottom)&&dt(t.top)&&s.bottom-t.top||0;let x=n.offsetWidth-o,T=n.offsetHeight-r;if(x||T){const L=En(n);x-=gr(L,"x"),T-=gr(L,"y"),t.width-=x,t.height-=T}return yi(t)}function Do(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function Eo(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:s,overflowX:t,overflowY:i}=En(n);return/(auto|scroll|overlay)/.test(String(s)+String(i)+String(t))?n:Eo(Do(n))}function Lo(n,s,t=!1){const i="HTML"===s.nodeName,o=vr(n),r=vr(s),T=(Eo(n),En(s)),L=parseFloat(T.borderTopWidth),R=parseFloat(T.borderLeftWidth);t&&i&&(r.top=Math.max(r.top??0,0),r.left=Math.max(r.left??0,0));const J=yi({top:(o.top??0)-(r.top??0)-L,left:(o.left??0)-(r.left??0)-R,width:o.width,height:o.height});if(J.marginTop=0,J.marginLeft=0,i){const se=parseFloat(T.marginTop),me=parseFloat(T.marginLeft);dt(J.top)&&(J.top-=L-se),dt(J.bottom)&&(J.bottom-=L-se),dt(J.left)&&(J.left-=R-me),dt(J.right)&&(J.right-=R-me),J.marginTop=se,J.marginLeft=me}return J}function br(n,s="top"){const t="top"===s?"scrollTop":"scrollLeft",i=n.nodeName;if("BODY"===i||"HTML"===i){const o=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||o)[t]}return n[t]}function Cr(n){const s=n.nodeName;return"BODY"!==s&&"HTML"!==s&&("fixed"===En(n,"position")||Cr(Do(n)))}function Fo(n,s,t=0,i,o=!1){let r={top:0,left:0};const x=o?pr(n):zi(n,s);if("viewport"===i)r=function gc(n,s=!1){const t=n.ownerDocument.documentElement,i=Lo(n,t),o=Math.max(t.clientWidth,window.innerWidth||0),r=Math.max(t.clientHeight,window.innerHeight||0),x=s?0:br(t),T=s?0:br(t,"left");return yi({top:x-Number(i?.top)+Number(i?.marginTop),left:T-Number(i?.left)+Number(i?.marginLeft),width:o,height:r})}(x,o);else{let T;"scrollParent"===i?(T=Eo(Do(s)),"BODY"===T.nodeName&&(T=n.ownerDocument.documentElement)):T="window"===i?n.ownerDocument.documentElement:i;const L=Lo(T,x,o);if(L&&"HTML"===T.nodeName&&!Cr(x)){const{height:R,width:J}=mr(n.ownerDocument);dt(r.top)&&dt(L.top)&&dt(L.marginTop)&&(r.top+=L.top-L.marginTop),dt(r.top)&&(r.bottom=Number(R)+Number(L.top)),dt(r.left)&&dt(L.left)&&dt(L.marginLeft)&&(r.left+=L.left-L.marginLeft),dt(r.top)&&(r.right=Number(J)+Number(L.left))}else L&&(r=L)}return dt(r.left)&&(r.left+=t),dt(r.top)&&(r.top+=t),dt(r.right)&&(r.right-=t),dt(r.bottom)&&(r.bottom-=t),r}function _c({width:n,height:s}){return n*s}function yr(n,s,t,i,o=["top","bottom","right","left"],r="viewport",x=0){if(-1===n.indexOf("auto"))return n;const T=Fo(t,i,x,r),L={top:{width:T?.width??0,height:(s?.top??0)-(T?.top??0)},right:{width:(T?.right??0)-(s?.right??0),height:T?.height??0},bottom:{width:T?.width??0,height:(T?.bottom??0)-(s?.bottom??0)},left:{width:(s.left??0)-(T?.left??0),height:T?.height??0}},R=Object.keys(L).map(Me=>({position:Me,...L[Me],area:_c(L[Me])})).sort((Me,Ae)=>Ae.area-Me.area);let J=R.filter(({width:Me,height:Ae})=>Me>=t.clientWidth&&Ae>=t.clientHeight);J=J.filter(({position:Me})=>o.some(Ae=>Ae===Me));const se=J.length>0?J[0].position:R[0].position,me=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${gt().isBs5?ni[se]:se}`),se+(me?`-${me}`:"")}const Ji=(n,s=0)=>n?parseFloat(n):s;function xr(n){const t=n.ownerDocument.defaultView?.getComputedStyle(n),i=Ji(t?.marginTop)+Ji(t?.marginBottom),o=Ji(t?.marginLeft)+Ji(t?.marginRight);return{width:Number(n.offsetWidth)+o,height:Number(n.offsetHeight)+i}}function wr(n,s,t){return Lo(s,t?pr(n):zi(n,s),t)}function Io(n,s,t){const i=t.split(" ")[0],o=xr(n),r={width:o.width,height:o.height},x=-1!==["right","left"].indexOf(i),T=x?"top":"left",L=x?"left":"top",R=x?"height":"width",J=x?"width":"height";return r[T]=(s[T]??0)+s[R]/2-o[R]/2,r[L]=i===L?(s[L]??0)-o[J]:s[function vc(n){const s={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>s[t])}(L)]??0,r}function Mr(n,s){return!!n.modifiers[s]?.enabled}const Cc={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Wi(n,s){return!!gt().isBs5&&Cc[s].includes(n)}function Sr(n,s,t){!n||!s||Object.keys(s).forEach(i=>{let o="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function pc(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(s[i])&&(o="px"),t?t.setStyle(n,i,`${String(s[i])}${o}`):n.style[i]=String(s[i])+o})}function wc(n){let s=n.offsets.target;const t=n.instance.target.querySelector(".arrow");if(!t)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),o=i?"height":"width",r=i?"Top":"Left",x=r.toLowerCase(),T=i?"left":"top",L=i?"bottom":"right",R=xr(t)[o],J=n.placement.split(" ")[1];(n.offsets.host[L]??0)-R<(s[x]??0)&&(s[x]-=(s[x]??0)-((n.offsets.host[L]??0)-R)),Number(n.offsets.host[x])+Number(R)>(s[L]??0)&&(s[x]+=Number(n.offsets.host[x])+Number(R)-Number(s[L])),s=yi(s);const se=En(n.instance.target),me=parseFloat(se[`margin${r}`])||0,Me=parseFloat(se[`border${r}Width`])||0;let Ae;if(J){const Ne=parseFloat(se.borderRadius)||0,Ye=Number(me+Me+Ne);Ae=x===J?Number(n.offsets.host[x])+Ye:Number(n.offsets.host[x])+Number(n.offsets.host[o]-Ye)}else Ae=Number(n.offsets.host[x])+Number(n.offsets.host[o]/2-R/2);let Re=Ae-(s[x]??0)-me-Me;return Re=Math.max(Math.min(s[o]-(R+5),Re),0),n.offsets.arrow={[x]:Math.round(Re),[T]:""},n.instance.arrow=t,n}function Mc(n){if(n.offsets.target=yi(n.offsets.target),!Mr(n.options,"flip"))return n.offsets.target={...n.offsets.target,...Io(n.instance.target,n.offsets.host,n.placement)},n;const s=Fo(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const T=yr("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),L=[t,T];return L.forEach((R,J)=>{if(t!==R||L.length===J+1)return;t=n.placement.split(" ")[0];const se="left"===t&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===t&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===t&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===t&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),me=Math.floor(n.offsets.target.left??0)<Math.floor(s.left??0),Me=Math.floor(n.offsets.target.right??0)>Math.floor(s.right??0),Ae=Math.floor(n.offsets.target.top??0)<Math.floor(s.top??0),Re=Math.floor(n.offsets.target.bottom??0)>Math.floor(s.bottom??0),Ne="left"===t&&me||"right"===t&&Me||"top"===t&&Ae||"bottom"===t&&Re,Ye=-1!==["top","bottom"].indexOf(t),qe=Ye&&"left"===i&&me||Ye&&"right"===i&&Me||!Ye&&"left"===i&&Ae||!Ye&&"right"===i&&Re;(se||Ne||qe)&&((se||Ne)&&(t=L[J+1]),qe&&(i=function bc(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=t+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...Io(n.instance.target,n.offsets.host,n.placement)})}),n}function Tc(n){if(!Mr(n.options,"preventOverflow"))return n;const s="transform",t=n.instance.target.style,{top:i,left:o,[s]:r}=t;t.top="",t.left="",t[s]="";const x=Fo(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=i,t.left=o,t[s]=r;const L={primary(R){let J=n.offsets.target[R];return(n.offsets.target[R]??0)<(x[R]??0)&&(J=Math.max(n.offsets.target[R]??0,x[R]??0)),{[R]:J}},secondary(R){const J="right"===R,se=J?"left":"top";let Me=n.offsets.target[se];return(n.offsets.target[R]??0)>(x[R]??0)&&(Me=Math.min(n.offsets.target[se]??0,(x[R]??0)-n.offsets.target[J?"width":"height"])),{[se]:Me}}};return["left","right","top","bottom"].forEach(R=>{const J=-1!==["left","top","start"].indexOf(R)?L.primary:L.secondary;n.offsets.target={...n.offsets.target,...J(R)}}),n}function kc(n){const s=n.placement,t=s.split(" ")[0],i=s.split(" ")[1];if(i){const{host:o,target:r}=n.offsets,x=-1!==["bottom","top"].indexOf(t),T=x?"left":"top",L=x?"width":"height",R={start:{[T]:o[T]},end:{[T]:(o[T]??0)+o[L]-r[L]}};n.offsets.target={...r,[T]:T===i?R.start[T]:R.end[T]}}return n}const Oc=new class Ac{position(s,t){return this.offset(s,t)}offset(s,t){return wr(t,s)}positionElements(s,t,i,o,r){const x=[Mc,kc,Tc,wc],L=function Sc(n,s,t,i){if(!n||!s)return;const o=wr(n,s);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const r=!!t.match(/auto/g);let x=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const T=x.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return T&&(x=T[1]+(T[2]?` ${T[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(x)&&(x="auto"),x=yr(x,o,n,s,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:s,arrow:void 0},offsets:{target:Io(n,o,x),host:o,arrow:void 0},positionFixed:!1,placement:x,placementAuto:r}}(t,s,Vi[i],r);if(L)return x.reduce((R,J)=>J(R),L)}};function Pc(n,s,t,i,o,r){const x=Oc.positionElements(n,s,t,i,o);if(!x)return;const T=function mc(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(x);Sr(s,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${T.left}px, ${T.top}px, 0px)`},r),x.instance.arrow&&Sr(x.instance.arrow,x.offsets.arrow,r),function xc(n,s){const t=n.instance.target;let i=t.className;const o=gt().isBs5?ni[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${o}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${o}`),i=i.replace(/\sauto/g,` ${o}`),-1!==i.indexOf("popover")&&(i=i+" "+function yc(n){return gt().isBs5?Wi(n,"end")?"ms-2":Wi(n,"start")?"me-2":Wi(n,"top")?"mb-2":Wi(n,"bottom")?"mt-2":"":""}(o)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${o.split(" ")[0]}`),s?s.setAttribute(t,"class",i):t.className=i}(x,r)}let yn=(()=>{class n{constructor(t,i,o){this.update$$=new Cn.x,this.positionElements=new Map,this.isDisabled=!1,(0,C.NF)(o)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,lc.T)((0,hr.R)(window,"scroll",{passive:!0}),(0,hr.R)(window,"resize",{passive:!0}),(0,cc.of)(0,uc),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(r=>{Pc(Gi(r.target),Gi(r.element),r.attachment,r.appendToBody,this.options,i.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Gi(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Gi(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(e.FYo),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gi(n){return"string"==typeof n?document.querySelector(n):n instanceof e.SBq?n.nativeElement:n??null}var No=be(9751),Tr=be(576);function Ro(n){return!!n&&(n instanceof No.y||(0,Tr.m)(n.lift)&&(0,Tr.m)(n.subscribe))}var kr=be(515),Dc=be(457),st=be(7340);class xi{constructor(s,t,i){this.nodes=s,this.viewRef=t,this.componentRef=i}}class Ec{constructor(s,t,i,o,r,x,T,L){this._viewContainerRef=s,this._renderer=t,this._elementRef=i,this._injector=o,this._componentFactoryResolver=r,this._ngZone=x,this._applicationRef=T,this._posService=L,this.onBeforeShow=new e.vpe,this.onShown=new e.vpe,this.onBeforeHide=new e.vpe,this.onHidden=new e.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(s){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(s),this}to(s){return this.container=s||this.container,this}position(s){return s?(this.attachment=s.attachment||this.attachment,this._elementRef=s.target||this._elementRef,this):this}provide(s){return this._providers.push(s),this}show(s={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(s.content,s.context,s.initialState);const t=e.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,s),this.container instanceof e.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof document<"u"){const i=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(s.id?{id:s.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(s){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(s?{id:s}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(s){this.triggers=s.triggers||this.triggers,this._listenOpts.outsideClick=s.outsideClick,this._listenOpts.outsideEsc=s.outsideEsc,s.target=s.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>s.hide?s.hide():void this.hide(),i=this._listenOpts.show=r=>{s.show?s.show(r):this.show(r),r()};return this._renderer&&(this._unregisterListenersFn=function De(n,s){const t=Se(s.triggers),i=s.target;if(1===t.length&&t[0].isManual())return Function.prototype;const o=[],r=[],x=()=>{r.forEach(T=>o.push(T())),r.length=0};return t.forEach(T=>{const L=T.open===T.close,R=L?s.toggle:s.show;if(!L&&T.close&&s.hide){const J=n.listen(i,T.close,s.hide);r.push(()=>J)}R&&o.push(n.listen(i,T.open,()=>R(x)))}),()=>{o.forEach(T=>T())}}(this._renderer,{target:s.target,triggers:s.triggers,show:i,hide:t,toggle:r=>{this.isShown?t():i(r)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(s,t){return s&&t&&(this._inlineViewRef=s.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const s=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function Oe(n,s){return s.outsideClick?n.listen("document","click",t=>{s.target&&s.target.contains(t.target)||s.targets&&s.targets.some(i=>i.contains(t.target))||s.hide&&s.hide()}):Function.prototype}(this._renderer,{targets:[s,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function He(n,s){return s.outsideEsc?n.listen("document","keyup.esc",t=>{s.target&&s.target.contains(t.target)||s.targets&&s.targets.some(i=>i.contains(t.target))||s.hide&&s.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(s,t,i){if(!s)return new xi([]);if(s instanceof e.Rgc){if(this._viewContainerRef){const x=this._viewContainerRef.createEmbeddedView(s,t);return x.markForCheck(),new xi([x.rootNodes],x)}const r=s.createEmbeddedView({});return this._applicationRef.attachView(r),new xi([r.rootNodes],r)}if("function"==typeof s){const r=this._componentFactoryResolver.resolveComponentFactory(s),x=e.zs3.create({providers:this._providers,parent:this._injector}),T=r.create(x);return Object.assign(T.instance,i),this._applicationRef.attachView(T.hostView),new xi([[T.location.nativeElement]],T.hostView,T)}const o=this._renderer?[this._renderer.createText(`${s}`)]:[];return new xi([o])}}let Ln=(()=>{class n{constructor(t,i,o,r,x){this._componentFactoryResolver=t,this._ngZone=i,this._injector=o,this._posService=r,this._applicationRef=x}createLoader(t,i,o){return new Ec(i,o,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.R0b),e.LFG(e.zs3),e.LFG(yn),e.LFG(e.z2F))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ar=be(4986),Zo=be(4482),Lc=be(5403);function Bo(n,s=Ar.z){return(0,Zo.e)((t,i)=>{let o=null,r=null,x=null;const T=()=>{if(o){o.unsubscribe(),o=null;const R=r;r=null,i.next(R)}};function L(){const R=x+n,J=s.now();if(J<R)return o=this.schedule(void 0,R-J),void i.add(o);T()}t.subscribe((0,Lc.x)(i,R=>{r=R,x=s.now(),o||(o=s.schedule(L,n),i.add(o))},()=>{T(),i.complete()},void 0,()=>{r=o=null}))})}var Or=be(8505),Fc=be(3900),Ic=be(5577),xt=be(9300),Nc=be(7359);const Zc=(n,s)=>(n.push(s),n);const Hc=["ulElement"],Yc=["liElements"];function Uc(n,s){}function jc(n,s){if(1&n&&e._UZ(0,"span",4),2&n){const t=s.match,i=s.query,o=e.oxw();e.Q6J("innerHtml",o.highlight(t,i),e.oJD)}}function qc(n,s){if(1&n&&(e.TgZ(0,"li",10,11),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t)}}function Vc(n,s){}const Pr=function(n,s,t,i){return{item:n,index:s,match:t,query:i}};function zc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",12,11),e.NdJ("mouseenter",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.selectActive(o))}),e.TgZ(2,"a",13),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.selectMatch(r,o))}),e.YNc(3,Vc,0,0,"ng-template",0),e.qZA()()}if(2&n){const t=e.oxw(),i=t.$implicit,o=t.index,r=e.oxw(2),x=e.MAs(2);e.ekj("active",r.isActive(i)),e.Q6J("id",r.popupId+"-"+o)("@typeaheadAnimation",r.animationState),e.xp6(3),e.Q6J("ngTemplateOutlet",r.itemTemplate||x)("ngTemplateOutletContext",e.l5B(6,Pr,i.item,o,i,r.query))}}function Jc(n,s){if(1&n&&(e.YNc(0,qc,3,1,"li",8),e.YNc(1,zc,4,11,"li",9)),2&n){const t=s.$implicit;e.Q6J("ngIf",t.isHeader()),e.xp6(1),e.Q6J("ngIf",!t.isHeader())}}function Wc(n,s){if(1&n&&(e.TgZ(0,"ul",5,6),e.YNc(2,Jc,2,2,"ng-template",7),e.qZA()),2&n){const t=e.oxw();e.Udp("overflow-y",t.needScrollbar?"scroll":"auto")("height",t.needScrollbar?t.guiHeight:"auto"),e.xp6(2),e.Q6J("ngForOf",t.matches)}}function Gc(n,s){if(1&n&&(e.TgZ(0,"h6",10),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function Qc(n,s){}function Kc(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",15,11),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.selectMatch(r,o))})("mouseenter",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.selectActive(o))}),e.YNc(2,Qc,0,0,"ng-template",0),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,o=t.index,r=e.oxw(2),x=e.MAs(2);e.ekj("active",r.isActive(i)),e.Q6J("id",r.popupId+"-"+o)("@typeaheadAnimation",r.animationState),e.xp6(2),e.Q6J("ngTemplateOutlet",r.itemTemplate||x)("ngTemplateOutletContext",e.l5B(6,Pr,i.item,o,i,r.query))}}function $c(n,s){if(1&n&&(e.YNc(0,Gc,2,1,"h6",8),e.YNc(1,Kc,3,11,"ng-template",14)),2&n){const t=s.$implicit;e.Q6J("ngIf",t.isHeader()),e.xp6(1),e.Q6J("ngIf",!t.isHeader())}}function Xc(n,s){if(1&n&&e.YNc(0,$c,2,2,"ng-template",7),2&n){const t=e.oxw();e.Q6J("ngForOf",t.matches)}}const ed=function(n,s,t,i){return{matches:n,itemTemplate:s,query:t,$implicit:i}},td={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Qi{constructor(s,t=s,i=!1){this.item=s,this.value=t,this.header=i}isHeader(){return this.header}toString(){return this.value}}function wi(n){return n?n.replace(/[^A-Za-z0-9[\] ]/g,function(s){return td[s]||s}):""}function Ho(n,s=" ",t="",i){let o=[];if(i){const x=n.split(new RegExp(`([${i}]+)`,"g")),T=x[x.length-1];T>""&&(s&&t?o=Dr(T,s,t):o.push(T))}else o=Dr(n,s,t);return o}function Dr(n,s,t){const i=[],r=n.split(new RegExp(`(?:[${t}])([^${t}]+)(?:[${t}])|([^${s}]+)`,"g")),x=r.length;let T;const L=new RegExp(`[${t}]+`,"g");for(let R=0;R<x;R+=1)T=r[R],T&&T.length&&T!==s&&i.push(T.replace(L,""));return i}function Fn(n,s){if(!s||"object"!=typeof n)return n.toString();if(s.endsWith("()"))return n[s.slice(0,s.length-2)]().toString();const i=s.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const o of i)o in n&&(n=n[o]);return n?n.toString():""}const Er="220ms cubic-bezier(0, 0, 0.2, 1)",nd=(0,st.X$)("typeaheadAnimation",[(0,st.SB)("animated-down",(0,st.oB)({height:"*",overflow:"hidden"})),(0,st.eR)("* => animated-down",[(0,st.oB)({height:0,overflow:"hidden"}),(0,st.jt)(Er)]),(0,st.SB)("animated-up",(0,st.oB)({height:"*",overflow:"hidden"})),(0,st.eR)("* => animated-up",[(0,st.oB)({height:"*",overflow:"hidden"}),(0,st.jt)(Er)]),(0,st.eR)("* => unanimated",(0,st.jt)("0s"))]);let id=0,od=(()=>{class n{constructor(t,i,o,r){this.positionService=t,this.renderer=i,this.element=o,this.changeDetectorRef=r,this.activeChangeEvent=new e.vpe,this.isFocused=!1,this.positionServiceSubscription=new ti.w0,this.height=0,this.popupId="ngb-typeahead-"+id++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get isBs4(){return!it()}get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}get active(){return this._active}set active(t){this._active=t,this.activeChanged()}get matches(){return this._matches}set matches(t){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=t,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const i=this._matches.find(o=>o.value===this._active?.value);if(i)return void this.selectActive(i);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(t){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&t&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const t=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${t}`)}prevActiveMatch(){if(!this._active)return;const t=this.matches.indexOf(this._active);this.setActive(this.matches[t-1<0?this.matches.length-1:t-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(t)}nextActiveMatch(){const t=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[t+1>this.matches.length-1?0:t+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(t)}selectActive(t){this.isFocused=!0,this.setActive(t)}highlight(t,i){let x,T,o=t.value,r=(this.parent&&this.parent.typeaheadLatinize?wi(o):o).toLowerCase();if("object"==typeof i){const L=i.length;for(let R=0;R<L;R+=1)x=r.indexOf(i[R]),T=i[R].length,x>=0&&T>0&&(o=`${o.substring(0,x)}<strong>${o.substring(x,x+T)}</strong>${o.substring(x+T)}`,r=`${r.substring(0,x)}        ${" ".repeat(T)}         ${r.substring(x+T)}`)}else i&&(x=r.indexOf(i),T=i.length,x>=0&&T>0&&(o=`${o.substring(0,x)}<strong>${o.substring(x,x+T)}</strong>${o.substring(x+T)}`));return o}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(t){return this.active===t}selectMatch(t,i){return i&&(i.stopPropagation(),i.preventDefault()),this.parent?.changeModel(t),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(t),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const t=bn.getStyles(this.ulElement.nativeElement),i=bn.getStyles(this.liElements.first.nativeElement),o=parseFloat((t["padding-bottom"]?t["padding-bottom"]:"").replace("px","")),r=parseFloat((t["padding-top"]?t["padding-top"]:"0").replace("px","")),x=parseFloat((i.height?i.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*x+r+o}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(t){if(0!==t){if(this.liElements&&this.ulElement){const i=this.liElements.toArray()[t-1];i&&!this.isScrolledIntoView(i.nativeElement)&&(this.ulElement.nativeElement.scrollTop=i.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(t){if(t+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const i=this.liElements.toArray()[t+1];i&&!this.isScrolledIntoView(i.nativeElement)&&(this.ulElement.nativeElement.scrollTop=i.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(i.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(t){let i;this._active=t,null==this._active||this._active.isHeader()||(i=t),this.parent?.typeaheadOnPreview.emit(i)}isScrolledIntoView(t){if(!this.ulElement)return!1;const i=this.ulElement.nativeElement.scrollTop,o=i+Number(this.ulElement.nativeElement.offsetHeight),r=t.offsetTop;return r+t.offsetHeight<=o&&r>=i}scrollToBottom(){!this.ulElement?.nativeElement||(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){!this.ulElement?.nativeElement||(this.ulElement.nativeElement.scrollTop=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yn),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["typeahead-container"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Hc,5),e.Gf(Yc,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.ulElement=o.first),e.iGM(o=e.CRH())&&(i.liElements=o)}},hostAttrs:[1,"dropdown","open","bottom",2,"position","absolute","display","block"],hostVars:9,hostBindings:function(t,i){1&t&&e.NdJ("mouseleave",function(){return i.focusLost()})("blur",function(){return i.focusLost()}),2&t&&(e.uIk("role",i.isBs4?"listbox":null),e.Udp("height",i.isBs4&&i.needScrollbar?i.guiHeight:"auto")("visibility","inherit"),e.ekj("dropdown-menu",i.isBs4)("dropup",i.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:7,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bsItemTemplate",""],["bs3Template",""],["bs4Template",""],[3,"innerHtml"],["role","listbox",1,"dropdown-menu"],["ulElement",""],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],["role","option",3,"id","active","mouseenter",4,"ngIf"],[1,"dropdown-header"],["liElements",""],["role","option",3,"id","mouseenter"],["href","#","tabindex","-1",3,"click"],[3,"ngIf"],["role","option",1,"dropdown-item",3,"id","click","mouseenter"]],template:function(t,i){if(1&t&&(e.YNc(0,Uc,0,0,"ng-template",0),e.YNc(1,jc,1,1,"ng-template",null,1,e.W1O),e.YNc(3,Wc,3,5,"ng-template",null,2,e.W1O),e.YNc(5,Xc,1,1,"ng-template",null,3,e.W1O)),2&t){const o=e.MAs(2),r=e.MAs(4),x=e.MAs(6);e.Q6J("ngTemplateOutlet",i.optionsListTemplate||(i.isBs4?x:r))("ngTemplateOutletContext",e.l5B(2,ed,i.matches,i.itemTemplate||o,i.query,i.typeaheadTemplateMethods))}},dependencies:[C.tP,C.sg,C.O5],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[nd]}}),n})(),Lr=(()=>{class n{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sd=(()=>{class n{constructor(t,i,o,r,x,T,L){this.changeDetection=o,this.element=r,this.ngControl=x,this.renderer=T,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new e.vpe,this.typeaheadNoResults=new e.vpe,this.typeaheadOnSelect=new e.vpe,this.typeaheadOnPreview=new e.vpe,this.typeaheadOnBlur=new e.vpe,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new e.vpe,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=t.createLoader(r,L,T).provide({provide:Lr,useValue:i}),Object.assign(this,{typeaheadHideResultsOnBlur:i.hideResultsOnBlur,cancelRequestOnFocusLost:i.cancelRequestOnFocusLost,typeaheadSelectFirstItem:i.selectFirstItem,typeaheadIsFirstItemActive:i.isFirstItemActive,typeaheadMinLength:i.minLength,adaptivePosition:i.adaptivePosition,isAnimated:i.isAnimated,selectItemOnBlur:i.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!Ro(this.typeahead)&&(this.typeaheadAsync=!1),Ro(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(t){const i=void 0!==t.target.value?t.target.value:void 0!==t.target.textContent?t.target.textContent:t.target.innerText;null!=i&&i.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(t.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(t){if(this._container){if(27===t.keyCode||"Escape"===t.key)return void this.hide();if(38===t.keyCode||"ArrowUp"===t.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===t.keyCode||"ArrowDown"===t.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===t.keyCode||"Enter"===t.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Qi(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(t){if(this._container&&((9===t.keyCode||"Tab"===t.key)&&this.onBlur(),9===t.keyCode||"Tab"===t.key||13===t.keyCode||"Enter"===t.key)){if(t.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(t){if(!t)return;let i;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const o=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=o.slice(0,o.length-1).concat(t.value).join(""),i=this._allEnteredValue}else i=t.value;this.ngControl.viewToModelUpdate(i),this.ngControl.control?.setValue(i),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(od).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",i=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(i.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(i.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const t=(this.typeaheadLatinize?wi(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(t),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(i=>{this.activeDescendant=i,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe(Bo(this.typeaheadWaitMs),(0,Or.b)(t=>this._allEnteredValue=t),(0,Fc.w)(()=>this.typeahead?this.typeahead:kr.E)).subscribe(t=>{this.finalizeAsyncCall(t)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe(Bo(this.typeaheadWaitMs),(0,Ic.z)(t=>{this._allEnteredValue=t;const i=this.normalizeQuery(t);return this.typeahead?(Ro(this.typeahead)?this.typeahead:(0,Dc.D)(this.typeahead)).pipe((0,xt.h)(r=>!!r&&this.testMatch(this.normalizeOption(r),i)),function Bc(){return(0,Zo.e)((n,s)=>{(function Rc(n,s){return(0,Zo.e)((0,Nc.U)(n,s,arguments.length>=2,!1,!0))})(Zc,[])(n).subscribe(s)})}()):kr.E})).subscribe(t=>{this.finalizeAsyncCall(t)}))}normalizeOption(t){const i=Fn(t,this.typeaheadOptionField);return(this.typeaheadLatinize?wi(i):i).toLowerCase()}tokenizeQuery(t){let i=t;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(i=Ho(i,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):i=this.typeaheadSingleWords?Ho(i,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Ho(i,void 0,void 0,this.typeaheadMultipleSearchDelimiters),i}normalizeQuery(t){let i=(this.typeaheadLatinize?wi(t):t).toString().toLowerCase();return i=this.tokenizeQuery(i),i}testMatch(t,i){let o;if("object"==typeof i){o=i.length;for(let r=0;r<o;r+=1)if(i[r].length>0&&t.indexOf(i[r])<0)return!1;return!0}return t.indexOf(i)>=0}finalizeAsyncCall(t){if(this.prepareMatches(t||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const o=((this.typeaheadLatinize?wi(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(o),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(t){const i=t.slice(0,this.typeaheadOptionsLimit),o=this.typeaheadOrderBy?this.orderMatches(i):i;if(this.typeaheadGroupField){let r=[];o.map(T=>Fn(T,this.typeaheadGroupField)).filter((T,L,R)=>R.indexOf(T)===L).forEach(T=>{r.push(new Qi(T,T,!0)),r=r.concat(o.filter(L=>Fn(L,this.typeaheadGroupField)===T).map(L=>new Qi(L,Fn(L,this.typeaheadOptionField))))}),this._matches=r}else this._matches=o.map(r=>new Qi(r,Fn(r,this.typeaheadOptionField)))}orderMatches(t){if(!t.length)return t;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),t;const{field:i,direction:o}=this.typeaheadOrderBy||{};return!o||"asc"!==o&&"desc"!==o?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),t):"string"==typeof t[0]?"asc"===o?t.sort():t.sort().reverse():i&&"string"==typeof i?t.sort((r,x)=>{const T=Fn(r,i),L=Fn(x,i);return T<L?"asc"===o?-1:1:T>L?"asc"===o?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),t)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(t,i){for(let o=0;o<t.length;o++)if(t.charAt(o).indexOf(i)>-1)return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ln),e.Y36(Lr),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(w.a5),e.Y36(e.Qsj),e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(t,i){1&t&&e.NdJ("input",function(r){return i.onInput(r)})("keyup",function(r){return i.onChange(r)})("click",function(){return i.onFocus()})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keydown",function(r){return i.onKeydown(r)}),2&t&&e.uIk("aria-activedescendant",i.activeDescendant)("aria-owns",i.isOpen?i._container.popupId:null)("aria-expanded",i.isOpen)("aria-autocomplete",i.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]}),n})(),rd=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Ln,yn]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.ez]]}),n})();function ad(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeTag(o))})("touch",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeTag(o))}),e.TgZ(1,"span",7),e._uU(2,"\xd7"),e.qZA(),e.TgZ(3,"span",8),e._uU(4,"Close"),e.qZA()()}}function ld(n,s){if(1&n&&(e.TgZ(0,"span",4),e._uU(1),e.YNc(2,ad,5,0,"span",5),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",t[i.displayField]," "),e.xp6(1),e.Q6J("ngIf",i.isDeleteable(t))}}function cd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",9,10),e.NdJ("keyup.enter",function(){e.CHM(t);const o=e.MAs(1),r=e.oxw();return e.KtG(r.addTag(o))})("keydown.backspace",function(){e.CHM(t);const o=e.MAs(1),r=e.oxw();return e.KtG(r.removeLastTag(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("placeholder",t.getPlaceholder())("disabled",!t.canAddTags||t.maximumOfTagsReached())("hidden",!t.canAddTags||t.maximumOfTagsReached())}}function dd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",12,10),e.NdJ("keydown.backspace",function(){e.CHM(t);const o=e.MAs(1),r=e.oxw(2);return e.KtG(r.removeLastTag(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selected=o)})("typeaheadOnSelect",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.typeaheadOnSelect(o))})("typeaheadNoResults",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.typeaheadOnNoMatch(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("placeholder",t.getPlaceholder())("ngModel",t.selected)("typeahead",t.options)("typeaheadOptionField",t.displayField)("typeaheadMinLength",t.minLengthBeforeOptions)("typeaheadScrollable",t.scrollableOptions)("typeaheadLatinize",!0)("typeaheadOptionsInScrollableView",t.scrollableOptionsInView)("disabled",!t.canAddTags||t.maximumOfTagsReached())("hidden",!t.canAddTags||t.maximumOfTagsReached())}}function hd(n,s){if(1&n&&e.YNc(0,dd,2,10,"input",11),2&n){const t=e.oxw();e.Q6J("ngIf",null!==t.options)}}const Fr=()=>{},ud={provide:w.JU,useExisting:(0,e.Gpc)(()=>Ki),multi:!0};let Ki=(()=>{class n{constructor(){this.selected="",this.tags=[],this.onTouchedCallback=Fr,this.onChangeCallback=Fr,this.removeLastOnBackspace=!1,this.canDeleteTags=!0,this.canAddTags=!0,this.placeholder="",this.options=null,this.displayField="displayValue",this.minLengthBeforeOptions=1,this.scrollableOptions=!1,this.scrollableOptionsInView=5,this.onTagsChanged=new e.vpe,this.onMaxTagsReached=new e.vpe,this.onNoOptionsMatch=new e.vpe}getPlaceholder(){return this.tags&&this.tags.length>0?"":this.placeholder}tagsChanged(t,i){this.onChangeCallback(this.tags),this.onTagsChanged.emit({change:t,tag:i}),this.maximumOfTagsReached()&&this.onMaxTagsReached.emit()}removeLastTag(t){!this.removeLastOnBackspace||!this.tags.length||""===t.value&&this.removeTag(this.tags[this.tags.length-1])}addTag(t){""!==t.value.trim()&&this.addPredefinedTag({[this.displayField]:t.value}),t.value=""}addPredefinedTag(t){this.maximumOfTagsReached()||(this.tags.push(t),this.tagsChanged("add",t))}removeTag(t){!this.isDeleteable(t)||(this.tags=this.tags.filter(i=>t!==i),this.tagsChanged("remove",t))}maximumOfTagsReached(){return typeof this.maxTags<"u"&&this.tags&&this.tags.length>=this.maxTags}isDeleteable(t){return!(typeof t.deleteable<"u"&&!t.deleteable)&&this.canDeleteTags}typeaheadOnSelect(t){this.addPredefinedTag("string"==typeof t.item?{[this.displayField]:t.value}:t.item),this.selected=""}typeaheadOnNoMatch(t){typeof this.onNoOptionsMatch<"u"&&this.onNoOptionsMatch.emit(t)}writeValue(t){t!==this.tags&&(this.tags=t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-tags-input"]],inputs:{removeLastOnBackspace:"removeLastOnBackspace",canDeleteTags:"canDeleteTags",canAddTags:"canAddTags",placeholder:"placeholder",options:"options",displayField:"displayField",minLengthBeforeOptions:"minLengthBeforeOptions",scrollableOptions:"scrollableOptions",scrollableOptionsInView:"scrollableOptionsInView",maxTags:"maxTags"},outputs:{onTagsChanged:"onTagsChanged",onMaxTagsReached:"onMaxTagsReached",onNoOptionsMatch:"onNoOptionsMatch"},features:[e._Bn([ud])],decls:5,vars:3,consts:[[1,"tags-input"],["class","tags-input__tag label label-primary badge badge-primary",4,"ngFor","ngForOf"],["class","tags-input__input-field","type","text","name","tags",3,"placeholder","disabled","hidden","keyup.enter","keydown.backspace",4,"ngIf","ngIfElse"],["withTypeahead",""],[1,"tags-input__tag","label","label-primary","badge","badge-primary"],["role","button","class","tags-input__tag-remove-btn",3,"click","touch",4,"ngIf"],["role","button",1,"tags-input__tag-remove-btn",3,"click","touch"],["aria-hidden","true"],[1,"sr-only"],["type","text","name","tags",1,"tags-input__input-field",3,"placeholder","disabled","hidden","keyup.enter","keydown.backspace"],["tagInput",""],["class","tags-input__input-field","type","text","name","tags",3,"placeholder","ngModel","typeahead","typeaheadOptionField","typeaheadMinLength","typeaheadScrollable","typeaheadLatinize","typeaheadOptionsInScrollableView","disabled","hidden","keydown.backspace","ngModelChange","typeaheadOnSelect","typeaheadNoResults",4,"ngIf"],["type","text","name","tags",1,"tags-input__input-field",3,"placeholder","ngModel","typeahead","typeaheadOptionField","typeaheadMinLength","typeaheadScrollable","typeaheadLatinize","typeaheadOptionsInScrollableView","disabled","hidden","keydown.backspace","ngModelChange","typeaheadOnSelect","typeaheadNoResults"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,ld,3,2,"span",1),e.YNc(2,cd,2,3,"input",2),e.YNc(3,hd,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&t){const o=e.MAs(4);e.xp6(1),e.Q6J("ngForOf",i.tags),e.xp6(1),e.Q6J("ngIf",null===i.options)("ngIfElse",o)}},dependencies:[w.Fj,w.JJ,w.On,C.sg,C.O5,sd],styles:["[_nghost-%COMP%] {\n        overflow: auto;\n        white-space: nowrap;\n    }\n\n    .tags-input[_ngcontent-%COMP%] {\n        align-items: center;\n        display: flex;\n        flex-wrap: wrap;\n    }\n\n    .tags-input__tag[_ngcontent-%COMP%] {\n        display: inline-block;\n        margin-bottom: 2px;\n        margin-right: 5px;\n        padding-right: 0.3em;\n    }\n\n    .tags-input__tag-remove-btn[_ngcontent-%COMP%] {\n        cursor: pointer;\n        display: inline-block;\n        font-size: 12px;\n        margin: -3px 0 0 3px;\n        padding: 0;\n        vertical-align: top;\n    }\n\n    .tags-input__input-field[_ngcontent-%COMP%] {\n        border: none;\n        flex-grow: 1;\n        outline: none;\n    }"]}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[w.u5,C.ez,rd.forRoot()]}),n})();function pd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onSelect(o))}),e.TgZ(2,"ngx-dropzone-label")(3,"div"),e.O4$(),e.TgZ(4,"svg",5)(5,"g",6),e._UZ(6,"path",7)(7,"path",8)(8,"path",9),e.qZA()(),e.kcU(),e.TgZ(9,"h3"),e._uU(10),e.ALo(11,"langReplace"),e.qZA(),e.TgZ(12,"h3"),e._uU(13),e.ALo(14,"langReplace"),e.qZA(),e.TgZ(15,"label",10),e._uU(16),e.ALo(17,"langReplace"),e.qZA()()()()()}2&n&&(e.xp6(10),e.hij(" ",e.lcZ(11,3,"Drag and drop document here")," "),e.xp6(3),e.hij(" ",e.lcZ(14,5,"or")," "),e.xp6(3),e.hij(" ",e.lcZ(17,7,"Browse file")," "))}function gd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadDocPreview(r.fileType,r.filePath))}),e.TgZ(1,"div"),e._UZ(2,"i",47),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"a",48),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.onRemove(r))}),e._UZ(6,"i",49),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngClass",i.getfiletypeicon(t.fileType)),e.xp6(2),e.Oqu(t.fileName)}}function _d(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",17)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.txtExpDate=o)}),e.ALo(6,"date"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij("* ",e.lcZ(4,3,"Retention Date"),""),e.xp6(2),e.s9C("min",e.xi3(6,5,t.currenttime,"yyyy-MM-dd")),e.Q6J("ngModel",t.txtExpDate)}}function md(n,s){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.intMetaId),e.xp6(1),e.Oqu(t.metaName)}}function vd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function bd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function Cd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function yd(n,s){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,vd,5,4,"div",1),e.YNc(2,bd,5,4,"div",1),e.YNc(3,Cd,5,4,"div",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==t.getmetaType),e.xp6(1),e.Q6J("ngIf",2==t.getmetaType),e.xp6(1),e.Q6J("ngIf",3==t.getmetaType)}}function xd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"a",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMetaVals())}),e._UZ(2,"i",58),e.qZA()()}}function wd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",63),e.NdJ("click",function(){const r=e.CHM(t).index,x=e.oxw(3);return e.KtG(x.removeSectionval(r))}),e._UZ(9,"i",64),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.metaName),e.xp6(2),e.Oqu(t.metaDetails)}}function Md(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"table",60)(2,"thead")(3,"tr")(4,"th",61),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"langReplace"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"langReplace"),e.qZA(),e.TgZ(13,"th",61),e._uU(14),e.ALo(15,"langReplace"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,wd,10,3,"tr",62),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,5,"Sl No")),e.xp6(3),e.hij(" ",e.lcZ(9,7,"Meta Name"),""),e.xp6(3),e.hij(" ",e.lcZ(12,9,"Details"),""),e.xp6(3),e.hij(" ",e.lcZ(15,11,"Action"),""),e.xp6(3),e.Q6J("ngForOf",t.metaListDetails)}}function Sd(n,s){1&n&&(e.TgZ(0,"div",73),e._UZ(1,"div",74),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function Td(n,s){if(1&n&&(e.TgZ(0,"div",70),e._UZ(1,"iframe",71),e.YNc(2,Sd,4,0,"div",72),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.publicurl,e.uOi),e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function kd(n,s){1&n&&e._UZ(0,"div",75)}function Ad(n,s){1&n&&e._UZ(0,"div",76)}function Od(n,s){1&n&&e._UZ(0,"div",77)}function Pd(n,s){if(1&n&&(e.TgZ(0,"div",13)(1,"div",65)(2,"h5"),e._uU(3),e.ALo(4,"langReplace"),e.qZA()(),e.YNc(5,Td,3,2,"div",66),e.YNc(6,kd,1,0,"div",67),e.YNc(7,Ad,1,0,"div",68),e.YNc(8,Od,1,0,"div",69),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,5,"Preview File"),""),e.xp6(2),e.Q6J("ngIf",!("mp4"==t.getfiletype||"mp3"==t.getfiletype||"zip"==t.getfiletype)),e.xp6(1),e.Q6J("ngIf","mp4"==t.getfiletype||"MP4"==t.getfiletype||"WebM"==t.getfiletype||"mkv"==t.getfiletype||"avi"==t.getfiletype||"webm"==t.getfiletype),e.xp6(1),e.Q6J("ngIf","mp3"==t.getfiletype||"MP3"==t.getfiletype),e.xp6(1),e.Q6J("ngIf","zip"==t.getfiletype||"ZIP"==t.getfiletype)}}function Dd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),e.YNc(4,gd,7,2,"div",15),e.qZA(),e.TgZ(5,"div",12)(6,"div",16)(7,"div",17)(8,"label"),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtFileName=o)}),e.qZA(),e.TgZ(12,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.folderName=o)}),e.qZA(),e.TgZ(13,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.folderid=o)}),e.qZA()()(),e.TgZ(14,"div",13)(15,"div",17)(16,"label"),e._uU(17),e.ALo(18,"langReplace"),e.qZA(),e.TgZ(19,"select",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selOcrLang=o)}),e.TgZ(20,"option",20),e._uU(21),e.ALo(22,"langReplace"),e.qZA(),e.TgZ(23,"option",21),e._uU(24,"English"),e.qZA(),e.TgZ(25,"option",22),e._uU(26,"Hindi"),e.qZA(),e.TgZ(27,"option",23),e._uU(28,"Odia"),e.qZA()()()(),e.TgZ(29,"div",13)(30,"div",17)(31,"label"),e._uU(32),e.ALo(33,"langReplace"),e.qZA(),e.TgZ(34,"div")(35,"div",24)(36,"input",25),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rtrdoClick(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rdoSetretention=o)}),e.qZA(),e.TgZ(37,"label",26),e._uU(38),e.ALo(39,"langReplace"),e.qZA()(),e.TgZ(40,"div",24)(41,"input",27),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rtrdoClick(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rdoSetretention=o)}),e.qZA(),e.TgZ(42,"label",28),e._uU(43),e.ALo(44,"langReplace"),e.qZA()()()()(),e.YNc(45,_d,7,8,"div",29),e.TgZ(46,"div",30)(47,"div",17)(48,"label"),e._uU(49),e.ALo(50,"langReplace"),e.qZA(),e.TgZ(51,"textarea",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtSubject=o)}),e._uU(52,"\n                                                        "),e.qZA()()(),e.TgZ(53,"div",30)(54,"div",17)(55,"label"),e._uU(56),e.ALo(57,"langReplace"),e.qZA(),e.TgZ(58,"ngx-tags-input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtTags=o)}),e.qZA(),e.TgZ(59,"small",33),e._uU(60),e.ALo(61,"langReplace"),e.qZA()()(),e.TgZ(62,"div",30)(63,"div",17)(64,"div",12)(65,"div",34)(66,"label"),e._uU(67),e.ALo(68,"langReplace"),e.qZA(),e.TgZ(69,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selMeta=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getMetaType(o.selMeta))}),e.TgZ(70,"option",20),e._uU(71),e.ALo(72,"langReplace"),e.qZA(),e.YNc(73,md,2,2,"option",36),e.qZA()(),e.YNc(74,yd,4,3,"div",37),e.YNc(75,xd,3,0,"div",38),e.qZA()(),e.YNc(76,Md,18,13,"div",39),e.qZA(),e.TgZ(77,"div",40)(78,"div",17)(79,"div",41)(80,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.chkIndexing=o)}),e.qZA(),e.TgZ(81,"label",43),e._uU(82," Set Indexing "),e.qZA()()()()(),e.TgZ(83,"div",11)(84,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.finalfileupload())}),e._uU(85),e.ALo(86,"langReplace"),e.qZA(),e._uU(87,"\xa0 "),e.TgZ(88,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetform())}),e._uU(89),e.ALo(90,"langReplace"),e.qZA()()(),e.YNc(91,Pd,9,7,"div",29),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.fileeList),e.xp6(5),e.hij("* ",e.lcZ(10,30,"File Name"),""),e.xp6(2),e.Q6J("ngModel",t.txtFileName),e.xp6(1),e.Q6J("ngModel",t.folderName),e.xp6(1),e.Q6J("ngModel",t.folderid),e.xp6(4),e.hij(" ",e.lcZ(18,32,"OCR Language"),""),e.xp6(2),e.Q6J("ngModel",t.selOcrLang),e.xp6(2),e.hij(" ",e.lcZ(22,34,"Select"),""),e.xp6(11),e.hij(" ",e.lcZ(33,36,"Set retention period of a file"),""),e.xp6(4),e.Q6J("ngModel",t.rdoSetretention),e.xp6(2),e.Oqu(e.lcZ(39,38,"Yes")),e.xp6(3),e.Q6J("ngModel",t.rdoSetretention),e.xp6(2),e.Oqu(e.lcZ(44,40,"No")),e.xp6(2),e.Q6J("ngIf",1==t.rdoSetretention),e.xp6(4),e.hij("* ",e.lcZ(50,42,"Subject"),""),e.xp6(2),e.Q6J("ngModel",t.txtSubject),e.xp6(5),e.hij(" ",e.lcZ(57,44,"Tags"),""),e.xp6(2),e.Q6J("ngModel",t.txtTags),e.xp6(2),e.hij("",e.lcZ(61,46,"Please press enter to set the tag")," "),e.xp6(7),e.hij("* ",e.lcZ(68,48,"Meta Type"),""),e.xp6(2),e.Q6J("ngModel",t.selMeta),e.xp6(2),e.hij(" ",e.lcZ(72,50,"Select")," "),e.xp6(2),e.Q6J("ngForOf",t.metalist),e.xp6(1),e.Q6J("ngIf",t.metaDesable),e.xp6(1),e.Q6J("ngIf",t.metaDesable),e.xp6(1),e.Q6J("ngIf",(null==t.metaListDetails?null:t.metaListDetails.length)>0),e.xp6(4),e.Q6J("ngModel",t.chkIndexing),e.xp6(5),e.hij(" ",e.lcZ(86,52,"Submit"),""),e.xp6(4),e.hij(" ",e.lcZ(90,54,"Reset"),""),e.xp6(2),e.Q6J("ngIf",t.previewFile)}}function Ed(n,s){1&n&&(e.TgZ(0,"div",78),e._UZ(1,"div",74),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Ir=(()=>{class n{constructor(t,i,o,r,x,T,L,R,J){this.route=t,this.httpClient=i,this.uploadfiles=o,this.commonserveice=r,this.authService=x,this.encDec=T,this.router=L,this.vldChkLst=R,this.sanitizer=J,this.callfunction=new e.vpe,this.date=new Date,this.jsonurl="assets/js/_configs/uploadDocument.config.json",this.letterID="",this.files_dropped=[],this.file=null,this.viewer="google",this.selectedType="docx",this.chkIndexing=!0,this.txtTags=[],this.selMeta="0",this.selFolderName="0",this.txtFileName="",this.folderlist=[],this.rdoSetretention="2",this.metalist=[],this.metasellist=[],this.tags=[],this.loading=!1,this.metatype="",this.metaDesable=!1,this.metaListDetails=[],this.fileId=0,this.txtEfminDate="",this.txtEtminDate="",this.txtExpDate=null,this.selOcrLang="0",this.txtFileNumber="",this.metatypelist=[],this.fileLoading=!1,this.rolewisepermissions=[],this.userwisepermissions=[],this.permissionlistitems=[{label:"Read"},{label:"Write"},{label:"Download"},{label:"Create Folder"},{label:"Delete"},{label:"Rename"},{label:"Archive"},{label:"WorkFlow"},{label:"Move to folder"}],this.currenttime=new Date,this.fileeList=[],this.previewFile=!1}ngOnInit(){this.token=sessionStorage.getItem("TOKEN"),this.dropdownSettings={singleSelection:!1,text:"Select Meta",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},this.loadconfig(),this.viewMetaList(),this.getFolderbased(this.folderid),this.router.paramMap.subscribe(i=>{let o=i.get("id"),x=this.encDec.decText(o).split(":");this.fileId=x[0]}),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION"),JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8))}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}onSelect(t){this.files_dropped.push(...t.addedFiles);let i=t.addedFiles.length;for(let o=0;o<t.addedFiles.length;o++){let r=new FormData;r.append("file",t.addedFiles[o]);let x=t.addedFiles[o].name;this.fileLoading=!0;let T=x.split(".",2);r.append("fileType",T[1]),r.append("folderId",this.folderid),this.uploadfiles.uploadFile(r).subscribe(L=>{let R=L.RESPONSE_DATA;if(L.RESPONSE_TOKEN==l.HmacSHA256(R,u.N.apiHashingKey).toString()){let me=c.lW.from(R,"base64"),Me=JSON.parse(me);if(200==Me.status){console.log(Me);let Ae={};Ae.fileName=Me.result.fileName,Ae.filePath=Me.result.filePath,Ae.fileType=Me.result.fileType,this.fileeList.push(Ae),1==i?(this.getfiletype=Me.result.fileType,this.loadDocPreview(Me.result.fileType,Me.result.filePath)):this.previewFile=!1}else 400==Me.status?f().fire({icon:"error",text:Me.message}):501==Me.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},L=>{this.authService.directlogout()})}}onRemove(t){this.fileeList.splice(this.fileeList.indexOf(t),1),this.previewFile=!1}getFolderbased(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);"200"==R.status?(this.folderlist=R.result,this.folderlist.length>0&&(this.folderName=this.folderlist[0].folderName,this.selFolderName=this.folderlist[0].parentFolderId,this.permissionlist=this.folderlist[0].folderPermission)):501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}viewMetaList(){this.commonserveice.viewMeta({intMetaId:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?this.metalist=L.result:501==L.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()})}getMetaType(t){this.metaDesable=!0,this.commonserveice.viewMeta({intMetaId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?this.getmetaType=R.result[0].metaType:501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()})}onTagsChanged(t){}rtrdoClick(t){this.txtExpDate=""}finalfileupload(){let o=this.txtSubject;if((1!=this.rdoSetretention||this.vldChkLst.blankCheck(this.txtExpDate,this.commonserveice.langReplace("Please select the retention date"),"expiryDate"))&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace(this.messaageslist.subject),"txtSubject"))if(0==this.metaListDetails.length)f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.addMeta)});else{let L=this.fileeList.length,R=0;for(let J=0;J<this.fileeList.length;J++){let se={folderId:this.folderid,fileName:this.fileeList[J].fileName,subject:this.txtSubject,meta:this.metaListDetails,tags:this.txtTags,indexing:!0,expiryDate:this.txtExpDate,ocrLanguage:this.selOcrLang,filePermission:this.permissionlist};this.loading=!0,this.uploadfiles.finaluploadFile(se).subscribe(me=>{let Me=me.RESPONSE_DATA;if(me.RESPONSE_TOKEN==l.HmacSHA256(Me,u.N.apiHashingKey).toString()){let Ne=c.lW.from(Me,"base64"),Ye=JSON.parse(Ne);200==Ye.status?(R++,L==R&&(this.loading=!1,f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(qe=>{let ze=this.encDec.encText((this.folderid+":0").toString());this.route.navigate(["/admin/viewupload",ze]),this.resetform()}))):400==Ye.status||500==Ye.status?(this.loading=!1,f().fire({icon:"error",text:Ye.message})):501==Ye.status?this.authService.directlogout():this.loading=!1}else this.loading=!1,this.authService.directlogout()},me=>{this.loading=!1,this.authService.directlogout()})}}}resetform(){this.txtFileName="",this.selFolderName="0",this.txtSubject="",this.metasellist=[],this.txtTags=[],this.chkIndexing=!1,this.rolewisepermissions=[],this.userwisepermissions=[],this.fileeList=[]}addMetaVals(){if(this.vldChkLst.selectDropdown(this.selMeta,this.commonserveice.langReplace(this.messaageslist.selMeta),"selMeta")&&this.vldChkLst.blankCheck(this.metatype,this.commonserveice.langReplace(this.messaageslist.entermetadesc),"metatype")){let t=document.getElementById("selMetaType"),i=t.options[t.selectedIndex].text,o={};o.metaId=this.selMeta,o.metaName=i,o.metaDetails=this.metatype,this.metaListDetails.push(o),this.metatype="",this.selMeta="0",this.metaDesable=!1}}removeSectionval(t){this.metaListDetails.splice(t,1)}getfiletypeicon(t){let i;return i="pdf"==t?"bi-file-pdf text-danger":"jpg"==t||"jpeg"==t||"png"==t||"gif"==t?"bi-card-image":"mp4"==t||"mkv"==t?"bi-camera-video":"mp3"==t||"WAV"==t?"bi-file-earmark-music":"doc"==t||"docx"==t?"bi-filetype-doc text-primary":"ppt"==t||"pptx"==t?"bi-filetype-ppt text-danger":"xls"==t||"xlsx"==t||"ods"==t?"bi-filetype-xls text-success":"zip"==t?"bi-file-zip text-warning":"bi-folder-fill text-warning",i}loadDocPreview(t,i){this.previewFile=!0,this.getfiletype=t,"mp4"==t||"MP4"==t||"MKV"==t||"AVI"==t||"WebM"==t||"mkv"==t||"avi"==t||"webm"==t?setTimeout(()=>{const o=document.createElement("video");o.controls=!0,o.muted=!1,(o.canPlayType("video/mp4")||o.canPlayType("video/ogg"))&&(o.src=i),o.height=320,o.width=400,document.getElementById("videopreviewdiv").appendChild(o),this.fileLoading=!1},200):"mp3"==t||"MP3"==t?setTimeout(()=>{let o=document.createElement("AUDIO");o.setAttribute("src",i),o.setAttribute("controls","controls");let r=document.getElementById("audiopreviewdiv");r.innerHTML="",r.appendChild(o),this.fileLoading=!1},200):"zip"==t||"ZIP"==t?setTimeout(()=>{const o=document.createElement("a"),r=document.createTextNode("Downlod .zip File");o.setAttribute("target","_blank"),o.setAttribute("href",i),o.classList.add("btn","btn-primary"),o.appendChild(r);let x=document.getElementById("zipdiv");x.innerHTML="",x.appendChild(o),this.fileLoading=!1},200):setTimeout(()=>{this.fileLoading=!1,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId=''+&token=${this.token}+&date=${this.currenttime}+&filePath=${i}`)},1e3)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(j),e.Y36(m.l),e.Y36(h.$),e.Y36(g.Z),e.Y36(Ce.gz),e.Y36(M._),e.Y36(y.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-uploadfile"]],inputs:{folderid:"folderid"},outputs:{callfunction:"callfunction"},decls:4,vars:3,consts:[[1,"controls-section"],[4,"ngIf"],["class","",4,"ngIf"],["class","loader",4,"ngIf"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],["xmlns","http://www.w3.org/2000/svg","width","63","height","64","viewBox","0 0 63 64"],["fill-rule","nonzero"],["d","M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z"],["d","M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z"],["d","M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z"],["for","fileDropRef"],[1,""],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["class","files-list","href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],[1,"col-md-6","d-none"],[1,"form-group"],["type","hidden","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],[1,"form-check","form-check-inline"],["type","radio","name","rdoSetretention","id","rdoSetretention1","value","1",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","rdoSetretention1",1,"form-check-label"],["type","radio","name","rdoSetretention","id","rdoSetretention2","value","2","checked","",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","rdoSetretention2",1,"form-check-label"],["class","col-md-6",4,"ngIf"],[1,"col-md-12"],["id","txtSubject","cols","3","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","input-lg",3,"ngModel","ngModelChange"],[1,"text-danger"],[1,"col-6"],["id","selMetaType",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","col-5",4,"ngIf"],["class","col-1 pt-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"col-md-12","d-none"],[1,"form-check"],["type","checkbox","value","","id","flexCheckChecked","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckChecked",1,"form-check-label"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"files-list",3,"click"],[1,"h6","mr-1",3,"ngClass"],["ngbTooltip","Back to upload","title","","data-original-title","Cancel",1,"text-danger",3,"click"],[1,"bi","bi-trash"],["type","date","placeholder","DD-MM-YYYY","id","expiryDate",1,"form-control",3,"min","ngModel","ngModelChange"],[3,"value"],[1,"col-5"],["type","text","id","metatype",1,"form-control",3,"ngModel","ngModelChange"],["type","date","id","metatype","max","2100-12-31",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","metatype",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-1","pt-4"],[1,"btn","btn-info","px-2",3,"click"],[1,"icon-plus-solid"],[1,"table-responsive"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],[1,"text-danger","px-2",3,"click"],[1,"icon-trash-alt"],[1,"d-flex","justify-content-between","align-items-center"],["class","previewdiv","id","previewdiv",4,"ngIf"],["class","videopreviewdiv","id","videopreviewdiv",4,"ngIf"],["class","audiopreviewdiv","id","audiopreviewdiv",4,"ngIf"],["class","zipdiv","id","zipdiv",4,"ngIf"],["id","previewdiv",1,"previewdiv"],[3,"src"],["class","loader loader2",4,"ngIf"],[1,"loader","loader2"],[1,"loader-item"],["id","videopreviewdiv",1,"videopreviewdiv"],["id","audiopreviewdiv",1,"audiopreviewdiv"],["id","zipdiv",1,"zipdiv"],[1,"loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,pd,18,9,"div",1),e.YNc(2,Dd,92,56,"div",2),e.qZA(),e.YNc(3,Ed,4,0,"div",3)),2&t&&(e.xp6(1),e.Q6J("ngIf",0==(null==i.fileeList?null:i.fileeList.length)),e.xp6(1),e.Q6J("ngIf",(null==i.fileeList?null:i.fileeList.length)>0),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.wV,w.Wl,w.EJ,w._,w.JJ,w.On,te._f,te.NP,b._L,Ki,C.uU,E.c],styles:[".custom-dropzone[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}.custom-dropzone[_ngcontent-%COMP%]{height:auto;background:var(--bg-white);border:3px dashed var(--bs-gray-200);border-radius:5px;padding:2.5rem 1rem}.custom-dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:auto;border-radius:21.5px;background-color:var(--base-color-600);padding:.6rem 1.8rem;transition:all ease-in-out .5s}.custom-dropzone[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--bs-gray-200);margin-bottom:1rem}.custom-dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--bs-gray-400)}.custom-dropzone[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:var(--base-color-700)}ngx-doc-viewer[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:60vh;padding:1rem}iframe[_ngcontent-%COMP%]{width:100%;height:75vh}video[_ngcontent-%COMP%]{width:100%;height:320px}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:2rem 1rem}.files-list[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;padding:.8rem 1rem;background:#f7f7f7;border-radius:2px;align-items:center;justify-content:space-between;border:1px solid #e1e1e1;cursor:pointer}.files-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.files-list[_ngcontent-%COMP%]:hover{background:#dedede}"]}),n})();var Mi=be(9585),en=be(2562),Jt=be(9001);function Ld(n,s){if(1&n&&e._UZ(0,"app-tabs",37),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.letterID)("tabMessage",t)}}function Fd(n,s){1&n&&e._UZ(0,"app-utils",38),2&n&&e.Q6J("childMessage",s.$implicit)}function Id(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.folderId),e.xp6(1),e.Oqu(t.folderName)}}function Nd(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",40),e._uU(2),e.ALo(3,"langReplace"),e.TgZ(4,"span",41),e._uU(5),e.qZA()(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"langReplace"),e.TgZ(9,"span",42),e._uU(10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"Folder Space")," : "),e.xp6(3),e.hij(" ",t.formatBytes(t.parentSizeinKb,2)," "),e.xp6(2),e.hij(" ",e.lcZ(8,6,"Available Space")," : "),e.xp6(3),e.hij(" ",t.formatBytes(t.parentSizeinKb-t.childSizeInKb,2)," ")}}function Rd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtDepartmentName=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.txtDepartmentName)}}function Zd(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.deptId),e.xp6(1),e.Oqu(t.departmentName)}}function Bd(n,s){1&n&&(e.TgZ(0,"option",24),e._uU(1,"Default"),e.qZA())}function Hd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"select",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selDepartmentName=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deptChange(o.selDepartmentName))}),e.TgZ(1,"option",45),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.YNc(4,Zd,2,2,"option",16),e.YNc(5,Bd,2,0,"option",46),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.selDepartmentName),e.xp6(2),e.Oqu(e.lcZ(3,4,"Select")),e.xp6(2),e.Q6J("ngForOf",t.departmentsList),e.xp6(1),e.Q6J("ngIf",0==(null==t.departmentsList?null:t.departmentsList.length))}}function Yd(n,s){if(1&n&&(e.TgZ(0,"th",52),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.label)," ")}}function Ud(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",52)(1,"input",60),e.NdJ("change",function(o){const x=e.CHM(t).index,T=e.oxw().index,L=e.oxw(3);return e.KtG(L.checkchanged(o,T,x))}),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw().index;e.xp6(1),e.hYB("id","",t.label,"_",i,""),e.Q6J("checked",t.selected)}}function jd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",55)(1,"td")(2,"div",56)(3,"input",57),e.NdJ("change",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index,L=e.oxw(3);return x.checked=!x.checked,e.KtG(L.rolechange(o,T))}),e.qZA(),e.TgZ(4,"label",58),e._uU(5),e.qZA()()(),e.TgZ(6,"td",52)(7,"input",59),e.NdJ("change",function(o){const x=e.CHM(t).index,T=e.oxw(3);return e.KtG(T.checkUncheckAll(o,x))}),e.qZA()(),e.YNc(8,Ud,2,3,"td",53),e.qZA()}if(2&n){const t=s.$implicit,i=s.index;e.MGl("id","rolerow_",i,""),e.xp6(3),e.MGl("id","chkPerRole_",t.roleId,""),e.Q6J("checked",t.checked),e.xp6(1),e.MGl("for","chkPerRole_",t.roleId,""),e.xp6(1),e.hij(" ",t.roleName," "),e.xp6(2),e.MGl("id","chkSelectAll_",i,""),e.xp6(1),e.Q6J("ngForOf",t.permission)}}function qd(n,s){if(1&n&&(e.TgZ(0,"table",50)(1,"thead")(2,"tr")(3,"th",51),e._uU(4),e.ALo(5,"langReplace"),e.qZA(),e.TgZ(6,"th",52),e._uU(7),e.ALo(8,"langReplace"),e.qZA(),e.YNc(9,Yd,3,3,"th",53),e.qZA()(),e.TgZ(10,"tbody"),e.YNc(11,jd,9,7,"tr",54),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,4,"Role")," "),e.xp6(3),e.hij(" ",e.lcZ(8,6,"Select All")," "),e.xp6(2),e.Q6J("ngForOf",t.permissionlistitems),e.xp6(2),e.Q6J("ngForOf",t.rolelist)}}function Vd(n,s){if(1&n&&(e.TgZ(0,"div")(1,"label",47),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"div",48),e.YNc(5,qd,12,8,"table",49),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("* ",e.lcZ(3,2,"Permissions")," "),e.xp6(3),e.Q6J("ngIf",(null==t.rolelist?null:t.rolelist.length)>0)}}function zd(n,s){if(1&n&&(e.TgZ(0,"th",52),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.label)," ")}}function Jd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",52)(1,"input",60),e.NdJ("change",function(o){const x=e.CHM(t).index,T=e.oxw().index,L=e.oxw(3);return e.KtG(L.fcheckchanged(o,T,x))}),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw().index;e.xp6(1),e.hYB("id","",t.label,"_",i,""),e.Q6J("checked",t.selected)}}function Wd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",55)(1,"td")(2,"div",56)(3,"input",57),e.NdJ("change",function(o){const x=e.CHM(t).index,T=e.oxw(3);return e.KtG(T.frolechange(o,x))}),e.qZA(),e.TgZ(4,"label",58),e._uU(5),e.qZA()()(),e.TgZ(6,"td",52)(7,"input",59),e.NdJ("change",function(o){const x=e.CHM(t).index,T=e.oxw(3);return e.KtG(T.usercheckUncheckAll(o,x))}),e.qZA()(),e.YNc(8,Jd,2,3,"td",53),e.qZA()}if(2&n){const t=s.$implicit,i=s.index;e.MGl("id","rolerow_",i,""),e.xp6(3),e.MGl("id","chkPerRole_",t.roleId,""),e.Q6J("checked",t.checked),e.xp6(1),e.MGl("for","chkPerRole_",t.roleId,""),e.xp6(1),e.hij(" ",t.roleName," "),e.xp6(2),e.MGl("id","chkSelectAll_",i,""),e.xp6(1),e.Q6J("ngForOf",t.permission)}}function Gd(n,s){if(1&n&&(e.TgZ(0,"div")(1,"label",47),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"div",13)(5,"table",50)(6,"thead")(7,"tr")(8,"th",51),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"th",52),e._uU(12),e.ALo(13,"langReplace"),e.qZA(),e.YNc(14,zd,3,3,"th",53),e.qZA()(),e.TgZ(15,"tbody"),e.YNc(16,Wd,9,7,"tr",54),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("* ",e.lcZ(3,5,"Permissions")," "),e.xp6(7),e.hij(" ",e.lcZ(10,7,"Role")," "),e.xp6(3),e.hij(" ",e.lcZ(13,9,"Select All")," "),e.xp6(2),e.Q6J("ngForOf",t.permissionlistitems),e.xp6(2),e.Q6J("ngForOf",t.rolewisepermissions)}}function Qd(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Gd,17,11,"div",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.rolewisepermissions?null:t.rolewisepermissions.length)>0)}}function Kd(n,s){if(1&n&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&n){const t=s.row,i=e.oxw(2);e.xp6(1),e.hij(" ",i.formatBytes(t.parentSizeinKb,2)," ")}}function $d(n,s){if(1&n&&(e.TgZ(0,"span",74)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=s.row,i=e.oxw(2);e.xp6(2),e.hij(" ",i.formatBytes(t.parentSizeinKb-t.childSizeInKb,2)," ")}}function Xd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().value,r=e.oxw(2);return e.KtG(r.gotoEdit(o))}),e._UZ(1,"i",78),e.qZA()}}function eh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().value,r=e.oxw(2);return e.KtG(r.delete(o))}),e._UZ(1,"i",80),e.qZA()}}function th(n,s){if(1&n&&(e.YNc(0,Xd,2,0,"a",75),e.YNc(1,eh,2,0,"a",76)),2&n){const t=s.value;e.Q6J("ngIf",t>1),e.xp6(1),e.Q6J("ngIf",t>1)}}function nh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",61),e._UZ(2,"div"),e.TgZ(3,"div",62)(4,"input",63),e.NdJ("keyup",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateFilter(o))}),e.qZA()()(),e.TgZ(5,"ngx-datatable",64,65),e.NdJ("treeAction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTreeAction(o))}),e._UZ(7,"ngx-datatable-column",66),e.ALo(8,"langReplace"),e.TgZ(9,"ngx-datatable-column",67),e.ALo(10,"langReplace"),e.YNc(11,Kd,2,1,"ng-template",68),e.qZA(),e.TgZ(12,"ngx-datatable-column",69),e.ALo(13,"langReplace"),e.YNc(14,$d,3,1,"ng-template",68),e.qZA(),e._UZ(15,"ngx-datatable-column",70),e.ALo(16,"langReplace"),e._UZ(17,"ngx-datatable-column",71),e.ALo(18,"langReplace"),e.TgZ(19,"ngx-datatable-column",72),e.ALo(20,"langReplace"),e.YNc(21,th,2,2,"ng-template",68),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("rows",t.rows)("loadingIndicator",!1)("columnMode","force")("rowHeight","auto")("columns",t.columns)("treeFromRelation","parentFolderId")("treeToRelation","folderId"),e.xp6(2),e.MGl("name","",e.lcZ(8,16,"Name")," "),e.Q6J("width",350)("isTreeColumn",!0),e.xp6(2),e.MGl("name","",e.lcZ(10,18,"Allocated Size")," "),e.xp6(3),e.s9C("name",e.lcZ(13,20,"Free Space")),e.xp6(3),e.s9C("name",e.lcZ(16,22,"Created On")),e.xp6(2),e.MGl("name","",e.lcZ(18,24,"Created By")," "),e.xp6(2),e.MGl("name","",e.lcZ(20,26,"Action")," "),e.Q6J("width",100)}}function ih(n,s){1&n&&(e.TgZ(0,"h6",81),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function oh(n,s){1&n&&(e.TgZ(0,"div",82),e._UZ(1,"div",83),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Nr=(()=>{class n{constructor(t,i,o,r,x,T){this.route=t,this.authService=i,this.httpClient=o,this.commonserveice=r,this.authentication=x,this.vldChkLst=T,this.jsonurl="assets/js/_configs/newFolder.config.json",this.letterID="",this.files_dropped=[],this.folderlist=[],this.sizetypelist=["-","KB","MB","GB","TB"],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.selParentFolderName="0",this.txtFolderName="",this.rdoPermissiontype="0",this.isSelected=!0,this.nameList=[],this.selSizeType="0",this.rolelist=[],this.selectroleList=[],this.userslist=[],this.folderId="",this.dataviewtype=1,this.rolewisepermissions=[],this.userwisepermissions=[],this.rolepermissions=[],this.permissionlistitems=[{label:"Read"},{label:"Write"},{label:"Download"},{label:"Create Folder"},{label:"Delete"},{label:"Rename"},{label:"Archive"},{label:"WorkFlow"},{label:"Move to folder"}],this.loading=!1,this.folderlistItmes=[],this.reorderable=!0,this.loadingIndicator=!0,this.rows=[],this.columns=[{prop:"Name"},{name:"Allocated Size"},{name:"Free Space"},{name:"Created On"},{name:"Created By"},{name:"Action"}],this.data=[],this.filteredData=[],this.temp=[],this.departmentsList=[],this.selDepartmentName="0",this.selFileSizeType="0"}ngOnInit(){this.dropdownSettings={singleSelection:!1,text:"Select Name",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},this.loadconfig(),this.getFolders(),this.getFolderList(""),this.getDepartmentList(),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.username=t.USER_NAME,this.userid=t.USER_ID,this.getDesignation(this.userid)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}getDesignation(t){this.commonserveice.getDesignation({desgId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L={status:0,result:{}};L=c.lW.from(r,"base64");let R=JSON.parse(L);200==R.status?this.designationid=R.result[0].desgId:501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)})},o=>{f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.errorApiResponse)})})}getFolders(){this.commonserveice.getFolders({folderId:"0"}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T={status:0,result:{}};T=c.lW.from(o,"base64");let L=JSON.parse(T);if("200"==L.status){this.folderlist=L.result;for(let R=0;R<L.result.length;R++)this.rows.push(L.result[R]);this.temp=this.rows}else 501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)})},i=>{f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.errorApiResponse)})})}showdubfolder(t,i){i.select=!i.select,this.getFolderList(t)}getFolderList(t){this.commonserveice.getParentwiseFolders({parentFolderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L={status:0,result:{}};L=c.lW.from(r,"base64");let R=JSON.parse(L);"200"==R.status?this.folderlistItmes=R.result:501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)})},o=>{f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.errorApiResponse)})})}getDepartmentList(){this.commonserveice.loadDepartment({deptId:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T={status:0,result:{}};T=c.lW.from(o,"base64");let L=JSON.parse(T);"200"==L.status?this.departmentsList=L.result:501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},i=>{this.authService.directlogout()})}deptChange(t){this.getRole(t)}getRole(t){this.rolelist=[],this.commonserveice.getRoles({roleId:"0",deptId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L={status:0,result:{}};L=c.lW.from(r,"base64");let R=JSON.parse(L);if(200==R.status){let J=R.result;for(let se=0;se<J.length;se++){let me={};me.roleName=J[se].roleName,me.roleId=J[se].roleId,me.checked=!1,me.permission=[{label:"Read",selected:!1},{label:"Write",selected:!1},{label:"Download",selected:!1},{label:"Create Folder",selected:!1},{label:"Delete",selected:!1},{label:"Rename",selected:!1},{label:"Archive",selected:!1},{label:"WorkFlow",selected:!1},{label:"Move to folder",selected:!1}],this.rolelist.push(me)}}else 501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}rolechange(t,i){if(1==t.target.checked)for(let o=0;o<this.rolelist[i].permission.length;o++)this.rolelist[i].permission[0].selected=t.target.checked;else{$("#rolerow_"+i).find(".roleselectAll").prop("checked",!1);for(let o=0;o<this.rolelist[i].permission.length;o++)this.rolelist[i].permission[o].selected=t.target.checked}}checkchanged(t,i,o){this.rolelist[i].permission[o].selected=t.target.checked;let r=document.querySelectorAll("#rolerow_"+i+" .permissionChk").length,x=document.querySelectorAll("#rolerow_"+i+" .permissionChk:checked").length;1==this.rolelist[i].permission[o].selected?($("#rolerow_"+i).find(".roleselectAll").prop("checked",!1),$("#rolerow_"+i).find(".chkrole").prop("checked",!0),r==x&&$("#rolerow_"+i).find(".roleselectAll").prop("checked",!0)):0==x?$("#rolerow_"+i).find(".chkrole").prop("checked",!1):$("#rolerow_"+i).find(".roleselectAll").prop("checked",!1)}checkUncheckAll(t,i){if(1==t.target.checked){$("#rolerow_"+i).find(".chkrole").prop("checked",!0);for(let o=0;o<this.rolelist[i].permission.length;o++)this.rolelist[i].permission[o].selected=t.target.checked}else{$("#rolerow_"+i).find(".chkrole").prop("checked",!1);for(let o=0;o<this.rolelist[i].permission.length;o++)this.rolelist[i].permission[o].selected=t.target.checked}}frolechange(t,i){if(1==t.target.checked)for(let o=0;o<this.rolewisepermissions[i].permission.length;o++)this.rolewisepermissions[i].permission[0].selected=t.target.checked;else{$("#rolerow_"+i).find(".roleselectAll").prop("checked",!1);for(let o=0;o<this.rolewisepermissions[i].permission.length;o++)this.rolewisepermissions[i].permission[o].selected=t.target.checked}}fcheckchanged(t,i,o){this.rolewisepermissions[i].permission[o].selected=t.target.checked;let r=document.querySelectorAll("#rolerow_"+i+" .permissionChk").length,x=document.querySelectorAll("#rolerow_"+i+" .permissionChk:checked").length;1==this.rolewisepermissions[i].permission[o].selected?($("#rolerow_"+i).find(".roleselectAll").prop("checked",!1),$("#rolerow_"+i).find(".chkrole").prop("checked",!0),r==x&&$("#rolerow_"+i).find(".roleselectAll").prop("checked",!0)):0==x?$("#rolerow_"+i).find(".chkrole").prop("checked",!1):$("#rolerow_"+i).find(".roleselectAll").prop("checked",!1)}usercheckUncheckAll(t,i){if(1==t.target.checked){$("#rolerow_"+i).find(".chkrole").prop("checked",!0);for(let o=0;o<this.rolewisepermissions[i].permission.length;o++)this.rolewisepermissions[i].permission[o].selected=t.target.checked}else{$("#rolerow_"+i).find(".chkrole").prop("checked",!1);for(let o=0;o<this.rolewisepermissions[i].permission.length;o++)this.rolewisepermissions[i].permission[o].selected=t.target.checked}}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}validaterolebased(){if(this.selectroleList.length>0){let t=!0;for(let i=0;i<this.selectroleList.length;i++){let o=this.selectroleList[i].roleName,r=this.selectroleList[i].permission,x=this.selectroleList[i].checked;if(0==x||null==typeof x||null==x){f().fire({icon:"error",text:o+" "+this.messaageslist.chkrolename}),t=!1;break}if(1==x){let T=[];for(let L=0;L<r.length;L++)1==r[L].selected&&T.push(r[L].label);if(0==T.length){f().fire({icon:"error",text:this.commonserveice.langReplace("Please select one permission type")}),t=!1;break}return t}}return t}return!1}childvalidaterolebased(){if(this.rolewisepermissions.length>0){let t=!0;for(let i=0;i<this.rolewisepermissions.length;i++){let r=this.rolewisepermissions[i].permission;if(1==this.rolewisepermissions[i].checked&&!this.vldChkLst.selectDropdown(r,this.messaageslist.chkrolepermission)){t=!1;break}}return t}return!1}resetform(){this.folderId="",this.selParentFolderName="0",this.txtFolderName="",this.rdoPermissiontype="0",this.txtAllowSize="",this.selSizeType="0",this.selDepartmentName="0",this.userslist=[],this.rolelist=[],this.txtAllowFileSize="",this.selFileSizeType="0",this.rolelist=[]}crateFolder(){this.selectroleList=[];let t=this.selParentFolderName,i=this.txtFolderName,o=this.rdoPermissiontype,r=this.txtAllowSize,x=this.selSizeType,T=this.selDepartmentName,L=this.txtAllowFileSize,R=this.selFileSizeType;for(let J=0;J<this.rolelist.length;J++)if(1==this.rolelist[J].checked){let se={};se.roleName=this.rolelist[J].roleName,se.roleId=this.rolelist[J].roleId,se.permission=this.rolelist[J].permission,se.checked=this.rolelist[J].checked,se.deptId=this.selDepartmentName,this.selectroleList.push(se)}if(this.vldChkLst.selectDropdown(t,this.commonserveice.langReplace(this.messaageslist.parentfolder),"parentFId")&&this.vldChkLst.blankCheck(i,this.commonserveice.langReplace(this.messaageslist.foldername),"txtfoldername"))if(this.vldChkLst.containsSpecialChars(i)){if(this.vldChkLst.blankCheck(r,this.commonserveice.langReplace(this.messaageslist.allowsize),"foldersize")&&(""==r||this.vldChkLst.selectDropdown(x,this.commonserveice.langReplace(this.messaageslist.allowsizeType),"foldersizetype"))&&this.vldChkLst.blankCheck(L,this.commonserveice.langReplace(this.messaageslist.allowfileSize),"allowfilesizesize")&&(""==L||this.vldChkLst.selectDropdown(R,this.commonserveice.langReplace(this.messaageslist.allowfilesizeType),"allowfilesizesizetype"))&&this.vldChkLst.selectDropdown(T,this.commonserveice.langReplace(this.messaageslist.selectdepartment),"seldept")&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace(this.messaageslist.permisstionType)))if(1==t&&0==this.selectroleList.length)f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.selectRole)});else if(1!=t||this.validaterolebased()){let J=[],se={};t>1?(se.rolebased=this.rolewisepermissions,se.userbased=[]):(se.rolebased=this.selectroleList,se.userbased=[]),J.push(se);let me={folderId:this.folderId,parentFolderId:t,folderName:i.trim(),folderPermission:J,allowedSize:r,allowedSizeType:x,allowedFileSize:L,allowedFileSizeType:R,deptId:T,retentionDate:"",archieveDate:""};this.commonserveice.createFolders(me).subscribe(Me=>{let Ae=Me.RESPONSE_DATA;if(Me.RESPONSE_TOKEN==l.HmacSHA256(Ae,u.N.apiHashingKey).toString()){let Ye=c.lW.from(Ae,"base64"),qe=JSON.parse(Ye);200==qe.status?f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(We=>{this.getFolders(),this.resetform(),this.route.navigateByUrl("/admin/newfolder"),window.location.reload()}):202==qe.status?f().fire({text:this.commonserveice.langReplace(this.messaageslist.updatesuccessMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(We=>{this.getFolders(),this.resetform(),window.location.reload(),this.route.navigateByUrl("/admin/newfolder")}):400==qe.status||401==qe.status?f().fire({icon:"error",text:qe.message}):501==qe.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},Me=>{this.authService.directlogout()})}}else f().fire({icon:"error",text:this.commonserveice.langReplace("Special Char Not allowed in foldername")})}onItemSelect(t){this.userslist=this.selectedItems}OnItemDeSelect(t){this.userslist=this.selectedItems}onSelectAll(t){this.userslist=this.selectedItems}onDeSelectAll(t){this.userslist=this.selectedItems}gotoEdit(t){this.folderId=t;let i={folderId:this.folderId};this.loading=!0,this.commonserveice.getFoldersSingle(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){let J=R.result;this.selParentFolderName=J[0].parentFolderId,this.txtFolderName=J[0].folderName,this.selSizeType=J[0].folderSizeType,this.txtAllowSize=Math.round(J[0].folderSize),this.txtAllowFileSize=Math.round(J[0].allowedFileSize),this.selFileSizeType=J[0].allowedFileSizeType,this.txtDepartmentName=J[0].departmentName,this.selDepartmentName=J[0].departmentId?J[0].departmentId:"0";let me=J[0].folderPermission[0];1==this.selParentFolderName?(setTimeout(()=>{let Me=document.getElementById("seldept");(null!=Me||null!=Me)&&Me.dispatchEvent(new Event("change"))},500),me.rolebased.length>0?(this.rdoPermissiontype="1",setTimeout(()=>{let Me=me.rolebased,Ae=document.getElementById("rdoPermissiontype"+this.rdoPermissiontype);(null!=Ae||null!=Ae)&&Ae.dispatchEvent(new Event("click")),setTimeout(()=>{let Re={get(Ne){return this[Ne]},set(Ne){this[Ne.roleId]=Ne}};Me.forEach(Ne=>{Re.set(Ne)}),this.rolelist.forEach((Ne,Ye)=>{Re.get(Ne.roleId)&&Ne.roleId==Re.get(Ne.roleId).roleId&&(Ne.checked=Re.get(Ne.roleId).checked,Ne.permission=Re.get(Ne.roleId).permission),setTimeout(()=>{document.querySelectorAll("#rolerow_"+Ye+" .permissionChk").length==document.querySelectorAll("#rolerow_"+Ye+" .permissionChk:checked").length&&$("#rolerow_"+Ye).find(".roleselectAll").prop("checked",!0)},1e3)}),this.loading=!1},1e3)},1500)):this.loading=!1):(setTimeout(()=>{let Me=document.getElementById("parentFId");(null!=Me||null!=Me)&&Me.dispatchEvent(new Event("change"))},500),this.loading=!1)}else 501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}tableview(){this.dataviewtype=1}boxview(){this.dataviewtype=2}delete(t){let i={folderId:t,deleteConfirmation:1};f().fire({title:this.commonserveice.langReplace("Are you sure")+" ?",text:this.messaageslist.warningtype,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.commonserveice.langReplace("Yes")+","+this.commonserveice.langReplace("delete it")+" !"}).then(o=>{o.isConfirmed&&this.commonserveice.deleteFolder(i).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?(f().fire(this.commonserveice.langReplace("Deleted")+"!",this.commonserveice.langReplace(this.messaageslist.deleteMsg),"success"),window.location.reload(),this.getFolders()):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})})}getPermissions(t){this.userwisepermissions=[],this.rolewisepermissions=[],this.commonserveice.getFolders({folderId:t.target.value}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);if("200"==J.status){if(this.permissionlist=J.result,this.permissionlist.length>0){this.folderSizeType=this.permissionlist[0].folderSizeType,this.parentSizeinKb=this.permissionlist[0].parentSizeinKb,this.childSizeInKb=this.permissionlist[0].childSizeInKb,this.txtDepartmentName=this.permissionlist[0].departmentName,this.selDepartmentName=this.permissionlist[0].departmentId?this.permissionlist[0].departmentId:"0";let me=JSON.parse(this.permissionlist[0].folderPermission)[0].rolebased;for(let Ae=0;Ae<me.length;Ae++){let Re={};Re.roleName=me[Ae].roleName,Re.roleId=me[Ae].roleId,Re.checked=me[Ae].checked,Re.permission=me[Ae].permission,Re.deptId=this.selDepartmentName,this.rolewisepermissions.push(Re),setTimeout(()=>{document.querySelectorAll("#rolerow_"+Ae+" .permissionChk").length==document.querySelectorAll("#rolerow_"+Ae+" .permissionChk:checked").length&&$("#rolerow_"+Ae).find(".roleselectAll").prop("checked",!0)},1e3)}}}else 501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}onTreeAction(t){const o=t.row;o.treeStatus="collapsed"==o.treeStatus||null==o.treeStatus?"expanded":"collapsed",this.rows=[...this.rows]}updateFilter(t){const i=t.target.value.toLowerCase(),o=this.temp.filter(function(r){return-1!==r.folderName.toLowerCase().indexOf(i)||!i});this.rows=o,this.table.offset=0}clickCheck(t){}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(h.$),e.Y36(a.eN),e.Y36(m.l),e.Y36(h.$),e.Y36(M._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-newfolder"]],viewQuery:function(t,i){if(1&t&&e.Gf(Mi.nE,5),2&t){let o;e.iGM(o=e.CRH())&&(i.table=o.first)}},decls:100,vars:53,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"col-md-6","col-lg-4"],[1,"form-group"],["id","parentFId",1,"form-select",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","id","txtfoldername",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex"],["type","text","id","foldersize","maxlength","3",1,"form-control",3,"ngModel","ngModelChange","keypress"],["id","foldersizetype",1,"form-select","ml-2","w-50",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","id","allowfilesizesize","maxlength","2",1,"form-control",3,"ngModel","ngModelChange","keypress"],["id","allowfilesizesizetype",1,"form-select","ml-2","w-50",3,"ngModel","ngModelChange"],["class","form-control ","readonly","",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-select","id","seldept",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"col-md-9"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"card-title","mb-0"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[3,"value"],[1,"mb-1"],[1,"text-primary"],[1,"text-success"],["readonly","",1,"form-control",3,"ngModel","ngModelChange"],["id","seldept",1,"form-select",3,"ngModel","ngModelChange","change"],["value","0","selected","","disabled",""],["value","3",4,"ngIf"],[1,"mb-2"],[1,"table-responsive","form-group"],["class","table table-bordered",4,"ngIf"],[1,"table","table-bordered"],["width","300px"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"form-check"],["type","checkbox",1,"form-check-input","chkrole",3,"checked","id","change"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input","roleselectAll",3,"id","change"],["type","checkbox",1,"form-check-input","permissionChk",3,"checked","id","change"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","align-items-center"],["type","search","placeholder","Search by folder name...","aria-label","Search",1,"form-control",2,"width","400px",3,"keyup"],[1,"bootstrap",3,"rows","loadingIndicator","columnMode","rowHeight","columns","treeFromRelation","treeToRelation","treeAction"],["table",""],["prop","folderName",3,"name","width","isTreeColumn"],[3,"name"],["ngx-datatable-cell-template",""],["prop","childSizeInKb",3,"name"],["prop","createdAt",3,"name"],["prop","createdByName",3,"name"],["prop","folderId",3,"name","width"],[1,"d-block","text-right"],[1,"d-block","text-right","text-success"],["class","text-primary","title","Edit","href","javascript:void(0)",3,"click",4,"ngIf"],["class","text-danger","title","Delete","href","javascript:void(0)",3,"click",4,"ngIf"],["title","Edit","href","javascript:void(0)",1,"text-primary",3,"click"],[1,"icon-edit-solid"],["title","Delete","href","javascript:void(0)",1,"text-danger",3,"click"],[1,"icon-trash-solid"],[1,"no-content"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,Ld,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,Fd,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15),e.ALo(16,"langReplace"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"select",14),e.NdJ("ngModelChange",function(r){return i.selParentFolderName=r})("change",function(r){return i.getPermissions(r)}),e.TgZ(20,"option",15),e._uU(21),e.ALo(22,"langReplace"),e.qZA(),e.YNc(23,Id,2,2,"option",16),e.qZA()()(),e.TgZ(24,"div",12),e.YNc(25,Nd,11,8,"div",17),e.qZA()(),e.TgZ(26,"div",10)(27,"label",11),e._uU(28),e.ALo(29,"langReplace"),e.qZA(),e.TgZ(30,"div",12)(31,"div",13)(32,"input",18),e.NdJ("ngModelChange",function(r){return i.txtFolderName=r}),e.qZA()()()(),e.TgZ(33,"div",10)(34,"label",11),e._uU(35),e.ALo(36,"langReplace"),e.qZA(),e.TgZ(37,"div",12)(38,"div",13)(39,"div",19)(40,"input",20),e.NdJ("ngModelChange",function(r){return i.txtAllowSize=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(41,"select",21),e.NdJ("ngModelChange",function(r){return i.selSizeType=r}),e.TgZ(42,"option",15),e._uU(43),e.ALo(44,"langReplace"),e.qZA(),e.TgZ(45,"option",22),e._uU(46,"KB"),e.qZA(),e.TgZ(47,"option",23),e._uU(48,"MB"),e.qZA(),e.TgZ(49,"option",24),e._uU(50,"GB"),e.qZA(),e.TgZ(51,"option",25),e._uU(52,"TB"),e.qZA()()()()()(),e.TgZ(53,"div",10)(54,"label",11),e._uU(55),e.ALo(56,"langReplace"),e.qZA(),e.TgZ(57,"div",12)(58,"div",13)(59,"div",19)(60,"input",26),e.NdJ("ngModelChange",function(r){return i.txtAllowFileSize=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(61,"select",27),e.NdJ("ngModelChange",function(r){return i.selFileSizeType=r}),e.TgZ(62,"option",15),e._uU(63),e.ALo(64,"langReplace"),e.qZA(),e.TgZ(65,"option",22),e._uU(66,"KB"),e.qZA(),e.TgZ(67,"option",23),e._uU(68,"MB"),e.qZA()()()()()(),e.TgZ(69,"div",10)(70,"label",11),e._uU(71),e.ALo(72,"langReplace"),e.qZA(),e.TgZ(73,"div",12)(74,"div",13),e.YNc(75,Rd,1,1,"input",28),e.YNc(76,Hd,6,6,"select",29),e.qZA()()(),e.TgZ(77,"div",10),e.YNc(78,Vd,6,4,"div",17),e.YNc(79,Qd,2,1,"div",17),e._UZ(80,"div"),e.qZA(),e.TgZ(81,"div",10),e._UZ(82,"label",11),e.TgZ(83,"div",30)(84,"button",31),e.NdJ("click",function(){return i.crateFolder()}),e._uU(85),e.ALo(86,"langReplace"),e.qZA(),e.TgZ(87,"button",32),e.NdJ("click",function(){return i.resetform()}),e._uU(88),e.ALo(89,"langReplace"),e.qZA()()()()()(),e.TgZ(90,"div",2)(91,"div",3)(92,"h6",33),e._uU(93),e.ALo(94,"langReplace"),e.qZA()(),e.TgZ(95,"div",8),e.YNc(96,nh,22,28,"div",34),e.YNc(97,ih,3,3,"ng-template",null,35,e.W1O),e.qZA()(),e.YNc(99,oh,4,0,"div",36),e.qZA()),2&t){const o=e.MAs(98);e.xp6(2),e.Oqu(e.lcZ(3,29,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(5),e.hij("* ",e.lcZ(16,31,"Parent Folder")," "),e.xp6(4),e.Q6J("ngModel",i.selParentFolderName),e.xp6(2),e.hij("",e.lcZ(22,33,"Select")," "),e.xp6(2),e.Q6J("ngForOf",i.folderlist),e.xp6(2),e.Q6J("ngIf",i.selParentFolderName>0),e.xp6(3),e.hij("* ",e.lcZ(29,35,"Folder Name")," "),e.xp6(4),e.Q6J("ngModel",i.txtFolderName),e.xp6(3),e.hij("* ",e.lcZ(36,37,"Max Allow Folder Size")," "),e.xp6(5),e.Q6J("ngModel",i.txtAllowSize),e.xp6(1),e.Q6J("ngModel",i.selSizeType),e.xp6(2),e.Oqu(e.lcZ(44,39,"Select")),e.xp6(12),e.hij("* ",e.lcZ(56,41,"Max Allow File Size")," "),e.xp6(5),e.Q6J("ngModel",i.txtAllowFileSize),e.xp6(1),e.Q6J("ngModel",i.selFileSizeType),e.xp6(2),e.Oqu(e.lcZ(64,43,"Select")),e.xp6(8),e.hij("* ",e.lcZ(72,45,"Department")," "),e.xp6(4),e.Q6J("ngIf",i.selParentFolderName>1),e.xp6(1),e.Q6J("ngIf",i.selParentFolderName<=1),e.xp6(2),e.Q6J("ngIf",(1==i.selParentFolderName||0==i.selParentFolderName)&&(null==i.rolelist?null:i.rolelist.length)>0),e.xp6(1),e.Q6J("ngIf",i.selParentFolderName>1),e.xp6(6),e.hij(" ",e.lcZ(86,47,i.folderId>0?"Update":"Save"),""),e.xp6(3),e.hij("",e.lcZ(89,49,i.folderId>0?"Cancel":"Reset")," "),e.xp6(5),e.hij("",e.lcZ(94,51,"View Folder List")," "),e.xp6(3),e.Q6J("ngIf",(null==i.folderlist?null:i.folderlist.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.sg,C.O5,w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.nD,w.On,en.n,Jt.t,Mi.nE,Mi.UC,Mi.vq,E.c]}),n})();var Yo=be(5861);const sh=["lockModal"],rh=["checkinCheckoutModal"];function ah(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.metaDetails,", ")}}function lh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadfils(o.fileid,o.filePath))}),e.ALo(1,"langReplace"),e._UZ(2,"i",16),e.qZA()}2&n&&e.s9C("ngbTooltip",e.lcZ(1,1,"Download"))}function ch(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.moveTrash(o.fileid,o.folderId))}),e.ALo(1,"langReplace"),e._UZ(2,"i",18),e.qZA()}2&n&&e.MGl("ngbTooltip","",e.lcZ(1,1,"Move to trash")," ")}function dh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.fileDuplicate(o.fileid,o.folderId))}),e.ALo(1,"langReplace"),e._UZ(2,"i",19),e.qZA()}2&n&&e.MGl("ngbTooltip","",e.lcZ(1,1,"Duplicate")," ")}function hh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.lockFile(o.fileid,o.folderId,o.lockStatus))}),e.ALo(1,"langReplace"),e._UZ(2,"i",21),e.qZA()}2&n&&e.s9C("ngbTooltip",e.lcZ(1,1,"Lock File"))}function uh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.lockFile(o.fileid,o.folderId,o.lockStatus))}),e.ALo(1,"langReplace"),e._UZ(2,"i",22),e.qZA()}2&n&&e.s9C("ngbTooltip",e.lcZ(1,1,"Unlock File"))}function fh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkinCheckoutFile(o.fileid,o.folderId,o.checkInCheckoutStatus))}),e.ALo(1,"langReplace"),e._UZ(2,"i",23),e.qZA()}2&n&&e.s9C("ngbTooltip",e.lcZ(1,1,"CheckOut File"))}function ph(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkinCheckoutFile(o.fileid,o.folderId,o.checkInCheckoutStatus))}),e.ALo(1,"langReplace"),e._UZ(2,"i",24),e.qZA()}2&n&&e.MGl("ngbTooltip","",e.lcZ(1,1,"CheckIn File")," ")}function gh(n,s){1&n&&e._UZ(0,"i",41)}function _h(n,s){1&n&&e._UZ(0,"i",42)}function mh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",0)(2,"label",30),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",31)(6,"div",32)(7,"div",33)(8,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.txtUPassword=o)}),e.qZA(),e.TgZ(9,"span",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFieldUTextType())}),e.YNc(10,gh,1,0,"i",36),e.YNc(11,_h,1,0,"i",37),e.qZA()()()()(),e.TgZ(12,"div",38),e._UZ(13,"label",39),e.TgZ(14,"div",31)(15,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.unsetPassword(o.folderId))}),e._uU(16),e.ALo(17,"langReplace"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,6,"Password")," "),e.xp6(5),e.Q6J("type",t.upassword)("ngModel",t.txtUPassword),e.xp6(2),e.Q6J("ngIf",!t.ushow),e.xp6(1),e.Q6J("ngIf",t.ushow),e.xp6(5),e.hij(" ",e.lcZ(17,8,"Unlock")," ")}}function vh(n,s){1&n&&e._UZ(0,"i",41)}function bh(n,s){1&n&&e._UZ(0,"i",42)}function Ch(n,s){1&n&&e._UZ(0,"i",41)}function yh(n,s){1&n&&e._UZ(0,"i",42)}function xh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",0)(2,"label",43),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",44)(6,"div",32)(7,"div",33)(8,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.txtPassword=o)}),e.qZA(),e.TgZ(9,"span",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFieldTextType())}),e.YNc(10,vh,1,0,"i",36),e.YNc(11,bh,1,0,"i",37),e.qZA()()()()(),e.TgZ(12,"div",0)(13,"label",43),e._uU(14),e.ALo(15,"langReplace"),e.qZA(),e.TgZ(16,"div",44)(17,"div",32)(18,"div",33)(19,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.txtConPassword=o)}),e.qZA(),e.TgZ(20,"span",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFieldCTextType())}),e.YNc(21,Ch,1,0,"i",36),e.YNc(22,yh,1,0,"i",37),e.qZA()()()()(),e.TgZ(23,"div",38),e._UZ(24,"label",47),e.TgZ(25,"div",44)(26,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setPassword(o.folderId))}),e._uU(27),e.ALo(28,"langReplace"),e.qZA()()(),e.TgZ(29,"div",48),e._uU(30," Note : "),e.TgZ(31,"i"),e._uU(32,"Password Must 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij("* ",e.lcZ(4,11,"Password")," "),e.xp6(5),e.Q6J("type",t.password)("ngModel",t.txtPassword),e.xp6(2),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(3),e.hij("* ",e.lcZ(15,13,"Confirm Password"),""),e.xp6(5),e.Q6J("type",t.cpassword)("ngModel",t.txtConPassword),e.xp6(2),e.Q6J("ngIf",!t.cshow),e.xp6(1),e.Q6J("ngIf",t.cshow),e.xp6(5),e.hij(" ",e.lcZ(28,15,"Save")," ")}}function wh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"h5",26),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",28),e.YNc(6,mh,18,10,"div",29),e.YNc(7,xh,33,17,"div",29),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,t.showlockfields?"Lock File":"Unlock File")," "),e.xp6(4),e.Q6J("ngIf",!t.showlockfields),e.xp6(1),e.Q6J("ngIf",t.showlockfields)}}function Mh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",0)(2,"label",30),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",31)(6,"div",32)(7,"div",51)(8,"textarea",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.userRemark=o)}),e.qZA()()()()(),e.TgZ(9,"div",38),e._UZ(10,"label",39),e.TgZ(11,"div",31)(12,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkoutFile(o.fileid))}),e._uU(13),e.ALo(14,"langReplace"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,3,"Remark"),""),e.xp6(5),e.Q6J("ngModel",t.userRemark),e.xp6(5),e.hij(" ",e.lcZ(14,5,"Check Out")," ")}}function Sh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"h5",26),e._uU(2),e.qZA(),e.TgZ(3,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",50),e.YNc(5,Mh,15,7,"div",29),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.showCheckinCheckoutField?"Check in File":"Check out File"," "),e.xp6(3),e.Q6J("ngIf",!t.showCheckinCheckoutField)}}function Th(n,s){1&n&&(e.TgZ(0,"div",53),e._UZ(1,"div",54),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Si=(()=>{class n{constructor(t,i,o,r,x,T,L,R,J,se){this.route=t,this.router=i,this.httpClient=o,this.commonserveice=r,this.encDec=x,this.authService=T,this.vldChkLst=L,this.modalService=R,this.uploadfiles=J,this.sanitizer=se,this.callfunction=new e.vpe,this.callfunction2=new e.vpe,this.files_dropped=[],this.metaListDetails=[],this.loading=!1,this.showlockfields=!0,this.show=!1,this.password="password",this.cshow=!1,this.cpassword="password",this.ushow=!1,this.upassword="password",this.showCheckinCheckoutField=!0,this.fileeList=[],this.previewFile=!1,this.currenttime=new Date}ngOnInit(){this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION"),this.token=sessionStorage.getItem("TOKEN");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.desgId=t.USER_ID,this.roleId=t.ROLE_ID,"1"==this.roleId&&(this.folderDelete=!0,this.folderFileDownload=!0,this.folderModify=!0),this.viewFileDetails(this.fileid)}viewFileDetails(t){let i={fileId:t};this.loading=!0,this.commonserveice.getFileDetails(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if(200==R.status){this.loading=!1,this.filedetails=R.result.fileDetails,this.files_dropped.push(this.filedetails),this.metaListDetails=this.filedetails.metaDetail,this.txtFileName=this.filedetails.fileName,this.txtFileNumber=this.filedetails.fileRefNo,this.filesize=this.filedetails.fileSize,this.fileType=this.getfiletype(this.filedetails.fileType),this.ocrLanguage=this.filedetails.ocrLanguage,this.txtExpDate=this.filedetails.retentionDate,this.txtSubject=this.filedetails.subject,this.filePath=this.filedetails.filePath,this.fileid=this.filedetails.fileId,this.createdby=this.filedetails.createdByName,this.fileCreatedById=this.filedetails.fileCreatedBy,this.createdOn=this.filedetails.CreatedOn,this.updatedOn=this.filedetails.updatedOn;let J=JSON.parse(this.filedetails.fileTags),se=[];for(let me=0;me<J.length;me++)se.push(J[me].displayValue);this.fileTags=se.join(),this.metadetails=this.filedetails.metaDetail,this.folderId=this.filedetails.folderId,this.lockStatus=this.filedetails.lockStatus,this.fileVersion=this.filedetails.fileVersion,this.checkInCheckoutStatus=this.filedetails.checkInCheckoutStatus,this.checkinEligibility=this.filedetails.checkinEligibility}400==R.status?(this.loading=!1,this.filedetails=R.result):501==R.status?this.authService.directlogout():this.loading=!1}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}fileModify(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/modifyfile",i])}downloadfils(t,i){this.commonserveice.fileDownload({fileId:t,url:i}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);if(200==J.status){this.downloaditem=J.result,this.downloadlink=this.downloaditem.filePath;let se=document.createElement("a");se.download=this.downloadlink,se.href=this.downloadlink,se.target="_blank",se.click()}else 501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}moveTrash(t,i){let o={fileId:t};f().fire({title:this.commonserveice.langReplace("Are you sure")+" ?",text:this.commonserveice.langReplace("Files will be move to trash"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.commonserveice.langReplace("No"),confirmButtonText:this.commonserveice.langReplace("Yes")}).then(r=>{r.isConfirmed&&this.commonserveice.moveToTash(o).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?f().fire({icon:"success",text:this.commonserveice.langReplace("Record has been trashed"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{if(me.isConfirmed){let Me=this.encDec.encText(i.toString());this.route.navigate(["/admin/viewupload",Me]),this.callfunction.emit(),this.callfunction2.emit()}}):501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})})}fileDuplicate(t,i){this.commonserveice.createDuplicate({fileId:t}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?f().fire({icon:"success",text:this.commonserveice.langReplace("Duplicate file created successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(se=>{if(se.isConfirmed){let me=this.encDec.encText(i.toString());this.route.navigate(["/admin/viewupload",me]),this.callfunction.emit(),this.callfunction2.emit()}}):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}open(t){this.modalService.open(t,{size:"",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}lockFile(t,i,o){this.open(this.lockModal),this.showlockfields=1!=o}setPassword(t){let i=this.txtPassword,o=this.txtConPassword;this.vldChkLst.blankCheck(i,this.commonserveice.langReplace("Please Enter Password","txtPassword"),"txtPassword")&&this.vldChkLst.chkPassword(i)&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace("Enter Confirm Password","txtConPassword"),"txtConPassword")&&this.vldChkLst.chkPassword(o)&&(i!==o?f().fire({icon:"error",text:this.commonserveice.langReplace("Entered password and Confirm Password not matched")}):this.commonserveice.fileLockUnlock({fileId:this.fileid,password:i,action:1}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?f().fire({icon:"success",text:this.commonserveice.langReplace("File Locked Successfully")}).then(me=>{if(me.isConfirmed){this.modalService.dismissAll();let Me=this.encDec.encText(t.toString());this.route.navigate(["/admin/viewupload",Me]),this.callfunction.emit(),this.callfunction2.emit()}}):400==se.status?f().fire({icon:"error",text:se.message}):501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()}))}unsetPassword(t){let i=this.txtUPassword;this.vldChkLst.blankCheck(i,this.commonserveice.langReplace("Please Enter Password"),"txtUPassword")&&this.commonserveice.fileLockUnlock({fileId:this.fileid,password:i,action:2}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?f().fire({icon:"success",text:this.commonserveice.langReplace("File Unlocked Successfully")}).then(se=>{if(se.isConfirmed){this.modalService.dismissAll();let me=this.encDec.encText(t.toString());this.route.navigate(["/admin/viewupload",me]),this.callfunction.emit(),this.callfunction2.emit()}}):400==J.status?f().fire({icon:"error",text:J.message}):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}toggleFieldTextType(){"password"==this.password?(this.password="text",this.show=!0):(this.password="password",this.show=!1)}toggleFieldCTextType(){"password"==this.cpassword?(this.cpassword="text",this.cshow=!0):(this.cpassword="password",this.cshow=!1)}toggleFieldUTextType(){"password"==this.upassword?(this.upassword="text",this.ushow=!0):(this.upassword="password",this.ushow=!1)}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}checkinCheckoutFile(t,i,o){if(o<=1)this.showCheckinCheckoutField=!1,this.open(this.checkinCheckoutModal);else if(2==o){this.showCheckinCheckoutField=!0;let r=this.encDec.encText((this.folderId+":::"+t).toString());this.route.navigate(["/admin/viewupload",r])}}checkoutFile(t){let i=this.userRemark;this.vldChkLst.blankCheck(i,this.commonserveice.langReplace("Please Enter Remark"),"userRemark")&&this.commonserveice.checkinCheckout({fileId:t,remark:i,action:2}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?f().fire({icon:"success",text:"File Check out Successful"}).then(se=>{if(se.isConfirmed){this.downloadfils(t,this.filePath),this.modalService.dismissAll();let me=this.encDec.encText(this.folderId.toString());this.route.navigate(["/admin/viewupload",me]),this.callfunction.emit(),this.callfunction2.emit()}}):400==J.status?f().fire({icon:"error",text:J.message}):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}onSelect(t){this.files_dropped.push(...t.addedFiles);let i=t.addedFiles.length,o=new FormData;o.append("file",t.addedFiles[0]);let r=t.addedFiles[0].name;this.fileLoading=!0;let x=r.split(".",2);o.append("fileType",x[1]),o.append("folderId",this.folderId),this.uploadfiles.uploadFile(o).subscribe(T=>{let L=T.RESPONSE_DATA;if(T.RESPONSE_TOKEN==l.HmacSHA256(L,u.N.apiHashingKey).toString()){let se=c.lW.from(L,"base64"),me=JSON.parse(se);if(200==me.status){let Me={};Me.fileName=me.result.fileName,this.checkinfileName=me.result.fileName,Me.filePath=me.result.filePath,Me.fileType=me.result.fileType,this.fileeList.push(Me),1==i?this.loadDocPreview(me.result.fileType,me.result.filePath):this.previewFile=!1}else 400==me.status?f().fire({icon:"error",text:me.message}):501==me.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},T=>{this.authService.directlogout()})}loadDocPreview(t,i){this.previewFile=!0,"mp4"==t||"MP4"==t||"MKV"==t||"AVI"==t||"WebM"==t||"mkv"==t||"avi"==t||"webm"==t?setTimeout(()=>{const o=document.createElement("video");o.controls=!0,o.muted=!1,(o.canPlayType("video/mp4")||o.canPlayType("video/ogg"))&&(o.src=i),o.height=320,o.width=400;let r=document.getElementById("videopreviewdiv");r.innerHTML="",r.appendChild(o),this.fileLoading=!1},200):"mp3"==t||"MP3"==t?setTimeout(()=>{const o=document.createElement("AUDIO");o.setAttribute("src",i),o.setAttribute("controls","controls"),document.body.appendChild(o);let r=document.getElementById("audiopreviewdiv");r.innerHTML="",r.appendChild(o)},200):"zip"==t||"ZIP"==t?setTimeout(()=>{const o=document.createElement("a"),r=document.createTextNode("Downlod .zip File");o.setAttribute("target","_blank"),o.setAttribute("href",i),o.classList.add("btn","btn-primary"),o.appendChild(r);let x=document.getElementById("zipdiv");x.innerHTML="",x.appendChild(o)},200):setTimeout(()=>{this.fileLoading=!1,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId=''+&token=${this.token}+&date=${this.currenttime}+&filePath=${i}`)},1e3)}onRemove(t){this.fileeList.splice(this.fileeList.indexOf(t),1),this.previewFile=!1}getfiletypeicon(t){let i;return i="pdf"==t?"bi-file-pdf text-danger":"jpg"==t||"jpeg"==t||"png"==t||"gif"==t?"bi-card-image":"mp4"==t||"mkv"==t?"bi-camera-video":"mp3"==t||"WAV"==t?"bi-file-earmark-music":"doc"==t||"docx"==t?"bi-filetype-doc text-primary":"ppt"==t||"pptx"==t?"bi-filetype-ppt text-danger":"xls"==t||"xlsx"==t||"ods"==t?"bi-filetype-xls text-success":"zip"==t?"bi-file-zip text-warning":"bi-folder-fill text-warning",i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(Ce.gz),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._),e.Y36(b.FF),e.Y36(j),e.Y36(y.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-fileproperties"]],viewQuery:function(t,i){if(1&t&&(e.Gf(sh,5),e.Gf(rh,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.lockModal=o.first),e.iGM(o=e.CRH())&&(i.checkinCheckoutModal=o.first)}},inputs:{fileid:"fileid",folderFileDownload:"folderFileDownload",folderDelete:"folderDelete",folderModify:"folderModify",roleId:"roleId"},outputs:{callfunction:"callfunction",callfunction2:"callfunction2"},decls:91,vars:61,consts:[[1,"row"],[1,"col-md-12","col-lg-8","col-xxl-6"],[1,"table","table-bordered"],["width","200px"],[4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-4","col-xxl-6"],[1,"file-property-btns"],["class","","target","_blank",3,"ngbTooltip","click",4,"ngIf"],["class","",3,"ngbTooltip","click",4,"ngIf"],[3,"ngbTooltip","click",4,"ngIf"],["id","lockModal"],["lockModal",""],["id","checkinCheckoutModal","class","modal-lg"],["checkinCheckoutModal",""],["class","loader",4,"ngIf"],["target","_blank",1,"",3,"ngbTooltip","click"],[1,"bi","bi-download"],[1,"",3,"ngbTooltip","click"],[1,"bi","bi-trash"],[1,"bi","bi-files"],[3,"ngbTooltip","click"],[1,"bi","bi-lock"],[1,"bi","bi-unlock"],[1,"bi","bi-check-circle-fill"],[1,"bi","bi-check-circle"],[1,"modal-header"],["id","lockModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"col-4","pt-1"],[1,"col-8"],[1,"form-group"],[1,"input-group"],["id","txtUPassword",1,"form-control","form-control-sm","border-end-0",3,"type","ngModel","ngModelChange"],[1,"input-group-text","border-start-0",3,"click"],["class","bi bi-eye","aria-hidden","true",4,"ngIf"],["class","bi bi-eye-slash","aria-hidden","true",4,"ngIf"],[1,"row","mb-3"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"bi","bi-eye"],["aria-hidden","true",1,"bi","bi-eye-slash"],[1,"col-5","pt-1"],[1,"col-7"],["id","txtPassword",1,"form-control","form-control-sm","border-end-0",3,"type","ngModel","ngModelChange"],["id","txtConPassword",1,"form-control","form-control-sm","border-end-0",3,"type","ngModel","ngModelChange"],[1,"col-5"],[1,"text-danger"],[1,"modal-header","modal-lg"],[1,"modal-body","modal-lg"],[1,""],["rows","3","cols","5","id","userRemark",1,"form-control",3,"ngModel","ngModelChange"],[1,"loader"],[1,"loader-item"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tbody")(4,"tr")(5,"th",3),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()(),e.TgZ(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"langReplace"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"langReplace"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()(),e.TgZ(22,"tr")(23,"th"),e._uU(24),e.ALo(25,"langReplace"),e.qZA(),e.TgZ(26,"td"),e._UZ(27,"i"),e.qZA()(),e.TgZ(28,"tr")(29,"th"),e._uU(30),e.ALo(31,"langReplace"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.ALo(34,"number"),e.qZA()(),e.TgZ(35,"tr")(36,"th"),e._uU(37),e.ALo(38,"langReplace"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA()(),e.TgZ(41,"tr")(42,"th"),e._uU(43),e.ALo(44,"langReplace"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA()(),e.TgZ(47,"tr")(48,"th"),e._uU(49),e.ALo(50,"langReplace"),e.qZA(),e.TgZ(51,"td"),e.YNc(52,ah,2,1,"span",4),e.qZA()(),e.TgZ(53,"tr")(54,"th"),e._uU(55),e.ALo(56,"langReplace"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA()(),e.TgZ(59,"tr")(60,"th"),e._uU(61),e.ALo(62,"langReplace"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA()(),e.TgZ(65,"tr")(66,"th"),e._uU(67),e.ALo(68,"langReplace"),e.qZA(),e.TgZ(69,"td"),e._uU(70),e.qZA()(),e.TgZ(71,"tr")(72,"th"),e._uU(73),e.ALo(74,"langReplace"),e.qZA(),e.TgZ(75,"td"),e._uU(76),e.qZA()()()()(),e.TgZ(77,"div",5)(78,"div",6),e.YNc(79,lh,3,3,"a",7),e.YNc(80,ch,3,3,"a",8),e.YNc(81,dh,3,3,"a",8),e.YNc(82,hh,3,3,"a",9),e.YNc(83,uh,3,3,"a",9),e.YNc(84,fh,3,3,"a",9),e.YNc(85,ph,3,3,"a",9),e.qZA()()(),e.YNc(86,wh,8,5,"ng-template",10,11,e.W1O),e.YNc(88,Sh,6,2,"ng-template",12,13,e.W1O),e.YNc(90,Th,4,0,"div",14)),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,34,"Document Name")),e.xp6(3),e.Oqu(i.txtFileName),e.xp6(3),e.hij("",e.lcZ(13,36,"Document No")," ."),e.xp6(3),e.Oqu(i.txtFileNumber),e.xp6(3),e.Oqu(e.lcZ(19,38,"Size")),e.xp6(3),e.Oqu(i.formatBytes(i.filesize,2)),e.xp6(3),e.hij("",e.lcZ(25,40,"Type")," "),e.xp6(3),e.Gre("h6 ",i.fileType,""),e.xp6(3),e.hij("",e.lcZ(31,42,"Version")," "),e.xp6(3),e.hij("v",e.xi3(34,44,i.fileVersion,"1.1-5"),""),e.xp6(4),e.hij("",e.lcZ(38,47,"Subject")," "),e.xp6(3),e.Oqu(i.txtSubject),e.xp6(3),e.Oqu(e.lcZ(44,49,"Tags")),e.xp6(3),e.hij(" ",i.fileTags," "),e.xp6(3),e.hij("",e.lcZ(50,51,"Meta Details")," "),e.xp6(3),e.Q6J("ngForOf",i.metadetails),e.xp6(3),e.Oqu(e.lcZ(56,53,"Created By")),e.xp6(3),e.Oqu(i.createdby),e.xp6(3),e.hij("",e.lcZ(62,55,"Created On")," "),e.xp6(3),e.Oqu(i.createdOn),e.xp6(3),e.hij("",e.lcZ(68,57,"Last Updated On")," "),e.xp6(3),e.Oqu(i.updatedOn),e.xp6(3),e.hij("",e.lcZ(74,59,"Retention Date")," "),e.xp6(3),e.Oqu(i.txtExpDate),e.xp6(3),e.Q6J("ngIf",1==i.folderFileDownload),e.xp6(1),e.Q6J("ngIf",1==i.folderDelete&&i.checkInCheckoutStatus<=1),e.xp6(1),e.Q6J("ngIf",1==i.folderModify&&i.checkInCheckoutStatus<=1),e.xp6(1),e.Q6J("ngIf","0"==i.lockStatus&&i.fileCreatedById==i.desgId&&i.checkInCheckoutStatus<=1),e.xp6(1),e.Q6J("ngIf","1"==i.lockStatus&&i.fileCreatedById==i.desgId&&i.checkInCheckoutStatus<=1),e.xp6(1),e.Q6J("ngIf",i.checkInCheckoutStatus<=1),e.xp6(1),e.Q6J("ngIf",2==i.checkInCheckoutStatus&&1==i.checkinEligibility),e.xp6(5),e.Q6J("ngIf",i.loading))},dependencies:[C.sg,C.O5,w.Fj,w.JJ,w.On,b._L,C.JJ,E.c],styles:[".custom-dropzone[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}.custom-dropzone[_ngcontent-%COMP%]{height:auto;background:var(--bg-white);border:3px dashed var(--bs-gray-200);border-radius:5px;padding:2.5rem 1rem}.custom-dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:auto;border-radius:21.5px;background-color:var(--base-color-600);padding:.6rem 1.8rem;transition:all ease-in-out .5s}.custom-dropzone[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--bs-gray-200);margin-bottom:1rem}.custom-dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--bs-gray-400)}.custom-dropzone[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:var(--base-color-700)}ngx-doc-viewer[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:60vh;padding:1rem}iframe[_ngcontent-%COMP%]{width:100%;height:75vh}video[_ngcontent-%COMP%]{width:100%;height:320px}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:2rem 1rem}.files-list[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;padding:.8rem 1rem;background:#f7f7f7;border-radius:2px;align-items:center;justify-content:space-between;border:1px solid #e1e1e1;cursor:pointer}.files-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.files-list[_ngcontent-%COMP%]:hover{background:#dedede}"]}),n})();function kh(n,s){if(1&n&&(e.TgZ(0,"button",8),e._uU(1),e.TgZ(2,"span",9),e._uU(3),e.qZA()()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.type," "),e.xp6(2),e.Oqu(t.count)}}function Ah(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"td")(5,"div"),e.YNc(6,kh,4,2,"button",7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,2,"Type of documents")," "),e.xp6(4),e.Q6J("ngForOf",t.typeoffiles)}}function Oh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.delete(o.folderid))}),e.ALo(1,"langReplace"),e._UZ(2,"i",15),e.qZA()}2&n&&e.s9C("ngbTooltip",e.lcZ(1,1,"Delete Folder"))}function Ph(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.duplicateFolder(o.folderid))}),e.ALo(1,"langReplace"),e._UZ(2,"i",17),e.qZA()}2&n&&e.s9C("ngbTooltip",e.lcZ(1,1,"Duplicate Folder"))}function Dh(n,s){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e.YNc(2,Oh,3,3,"a",12),e.YNc(3,Ph,3,3,"a",13),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",1==t.folderDelete),e.xp6(1),e.Q6J("ngIf",1==t.folderModify)}}let Rr=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.authService=i,this.httpClient=o,this.commonserveice=r,this.authentication=x,this.vldChkLst=T,this.encDec=L,this._document=R,this.callfunction=new e.vpe,this.folderName="",this.folderPermission=[],this.createdByName="",this.createdAt="",this.folderpermissions=[],this.noofFiles="-",this.noofFolders="-"}ngOnInit(){null!=this.folderid&&this.getFolders(this.folderid),"1"==this.roleId&&(this.folderDelete=!0,this.folderModify=!0)}getFolders(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){let J=R.result;if(J.length>0){this.folderName=J[0].folderName,this.folderSize=J[0].folderSize,this.parentFolderId=J[0].parentFolderId,this.typeText=J[0].typeText,this.childSizeInKb=J[0].childSizeInKb,this.createdByName=J[0].createdByName,this.createdAt=J[0].createdAt,this.folderSizeType=J[0].folderSizeType,this.parentSizeinKb=J[0].parentSizeinKb;let se=J[0].count;this.noofFiles=se.noOfFile,this.noofFolders=se.noOfSubFolder,this.typeoffiles=se.fileCountDetail,this.callfunction.emit()}}else 400==R.status||(501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.authService.directlogout()},o=>{this.authService.directlogout()})}delete(t){let i={folderId:t,deleteConfirmation:1};f().fire({title:this.commonserveice.langReplace("Are you sure")+" ?",text:this.commonserveice.langReplace("Files and Folders will be permanently deleted"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.commonserveice.langReplace("Cancel"),confirmButtonText:this.commonserveice.langReplace("Yes")+","+this.commonserveice.langReplace("delete it")+" !"}).then(o=>{o.isConfirmed&&this.commonserveice.deleteFolder(i).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?f().fire({title:this.commonserveice.langReplace("Deleted")+" !",text:this.commonserveice.langReplace("Record has been trashed"),icon:"success",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(se=>{if(se.isConfirmed){let Me=this.encDec.encText((this.parentFolderId+":0").toString());this.route.navigate(["/admin/viewupload",Me])}}):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},r=>{this.authService.directlogout()})})}duplicateFolder(t){this.commonserveice.duplicateFolder({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?f().fire({icon:"success",text:this.commonserveice.langReplace("Duplicate Folder created successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(J=>{if(J.isConfirmed){window.location.reload();let se=this.encDec.encText(t.toString());this.route.navigate(["/admin/viewupload",se])}}):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},o=>{this.authService.directlogout()})}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(h.$),e.Y36(a.eN),e.Y36(m.l),e.Y36(h.$),e.Y36(M._),e.Y36(g.Z),e.Y36(C.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-single-folderdetails"]],inputs:{folderid:"folderid",folderDelete:"folderDelete",folderModify:"folderModify",roleId:"roleId"},outputs:{callfunction:"callfunction"},decls:49,vars:30,consts:[[1,"row"],[1,"col-md-12","col-lg-8","col-xxl-6"],[1,"table","table-bordered"],["width","200px"],[1,"bg-success-subtle","text-emphasis-success"],[4,"ngIf"],["class","col-md-12 col-lg-4 col-xxl-6 text-center pt-5",4,"ngIf"],["type","button","class","btn btn-primary btn-sm me-2",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-sm","me-2"],[1,"badge","text-bg-warning"],[1,"col-md-12","col-lg-4","col-xxl-6","text-center","pt-5"],[1,"file-property-btns"],["href","javascript:void(0)","class","",3,"ngbTooltip","click",4,"ngIf"],["class","","ngbTooltip","Duplicate",3,"ngbTooltip","click",4,"ngIf"],["href","javascript:void(0)",1,"",3,"ngbTooltip","click"],[1,"bi","bi-trash"],["ngbTooltip","Duplicate",1,"",3,"ngbTooltip","click"],[1,"bi","bi-folder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tbody")(4,"tr")(5,"th",3),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()(),e.TgZ(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"langReplace"),e.qZA(),e.TgZ(14,"td")(15,"span"),e._uU(16),e.qZA()()(),e.TgZ(17,"tr")(18,"th"),e._uU(19),e.ALo(20,"langReplace"),e.qZA(),e.TgZ(21,"td",4),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"th"),e._uU(25),e.ALo(26,"langReplace"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA()(),e.TgZ(29,"tr")(30,"th"),e._uU(31),e.ALo(32,"langReplace"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA()(),e.YNc(35,Ah,7,4,"tr",5),e.TgZ(36,"tr")(37,"th"),e._uU(38),e.ALo(39,"langReplace"),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA()(),e.TgZ(42,"tr")(43,"th"),e._uU(44),e.ALo(45,"langReplace"),e.qZA(),e.TgZ(46,"td"),e._uU(47),e.qZA()()()()(),e.YNc(48,Dh,4,2,"div",6),e.qZA()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,16,"Folder Name")),e.xp6(3),e.Oqu(i.folderName),e.xp6(3),e.Oqu(e.lcZ(13,18,"Size Consumed")),e.xp6(4),e.Oqu(i.formatBytes(i.childSizeInKb,2)),e.xp6(3),e.Oqu(e.lcZ(20,20,"Free Space")),e.xp6(3),e.hij(" ",i.formatBytes(i.parentSizeinKb-i.childSizeInKb,2)," "),e.xp6(3),e.Oqu(e.lcZ(26,22,"No of Subfolders")),e.xp6(3),e.Oqu(i.noofFolders),e.xp6(3),e.Oqu(e.lcZ(32,24,"No of documents")),e.xp6(3),e.Oqu(i.noofFiles),e.xp6(1),e.Q6J("ngIf",i.noofFiles>0),e.xp6(3),e.Oqu(e.lcZ(39,26,"Created By")),e.xp6(3),e.hij("",i.createdByName," "),e.xp6(3),e.hij("",e.lcZ(45,28,"Created On")," "),e.xp6(3),e.hij("",i.createdAt," "),e.xp6(1),e.Q6J("ngIf",i.folderid>1))},dependencies:[C.sg,C.O5,b._L,E.c],styles:[".bg-success-subtle[_ngcontent-%COMP%]{background:#daffaf}"]}),n})();var xn=be(8935),Eh=be(60),Lh=be.n(Eh),Fh=be(836);const Ih=["sendMsgModal"];function Nh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",9),e.NdJ("dragstart",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.drag(o))}),e.TgZ(2,"span",10),e._UZ(3,"i",11),e.qZA(),e._uU(4),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.uIk("data-node",t.roleId),e.xp6(3),e.hij(" ",t.roleName," ")}}function Rh(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Nh,5,2,"div",61),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf","WorkFlow"==t.permission)}}function Zh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.validator())}),e.ALo(1,"langReplace"),e.qZA()}2&n&&e.MGl("value"," ",e.lcZ(1,1,"Submit"),"")}function Bh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetform())}),e._uU(1),e.ALo(2,"langReplace"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Reset"),""))}function Hh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.chooseAction(o.tinApprovalActionId,o.tinApprovalActionId))}),e._uU(1),e.ALo(2,"langReplace"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Edit")," "))}function Yh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",29)(1,"div")(2,"input",64),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw();return e.KtG(x.chooseAction(r.tinApprovalActionId,r.tinApprovalActionId))}),e.qZA(),e.TgZ(3,"label",65),e._uU(4),e.qZA()(),e.TgZ(5,"a",66),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.setApplicantAction(o))}),e._uU(6,"\xa0\xa0 "),e.TgZ(7,"i",31),e._uU(8,"\xa0\xa0"),e.qZA()(),e.YNc(9,Hh,3,3,"a",67),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.xp6(2),e.MGl("id","chk_",t.tinApprovalActionId,""),e.s9C("value",t.tinApprovalActionId),e.xp6(1),e.MGl("for","chk_",t.tinApprovalActionId,""),e.xp6(1),e.Oqu(t.vchActionName),e.xp6(1),e.uIk("data-actionid",t.tinApprovalActionId),e.xp6(2),e.uIk("data-actionid",t.tinApprovalActionId),e.xp6(2),e.Q6J("ngIf",15==t.tinApprovalActionId&&i.selAppDocuments)}}function Uh(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",83),e._UZ(2,"input",84),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"label",85),e.qZA()()),2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.MGl("id","chckBoxMail",i+1,""),e.Q6J("value",t.intMessageConfigId),e.uIk("data-mlsmstype",1),e.xp6(2),e.MGl("for","chckBoxMail",i+1,""),e.Q6J("innerHTML",t.vchMessageContent,e.oJD)}}function jh(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",83),e._UZ(2,"input",84),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"label",85),e.qZA()()),2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.MGl("id","chckBoxMailSms",i+1,""),e.Q6J("value",t.intMessageConfigId),e.uIk("data-mlsmstype",1),e.xp6(2),e.MGl("for","chckBoxMailSms",i+1,""),e.Q6J("innerHTML",t.vchMessageContent,e.oJD)}}function qh(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",83),e._UZ(2,"input",84),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"label",85),e.qZA()()),2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.MGl("id","chckBoxMailWhatsApp",i+1,""),e.Q6J("value",t.intMessageConfigId),e.uIk("data-mlsmstype",1),e.xp6(2),e.MGl("for","chckBoxMailWhatsApp",i+1,""),e.Q6J("innerHTML",t.vchMessageContent,e.oJD)}}function Vh(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"h5",69),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",56)(6,"div",20)(7,"div",21)(8,"h2",22)(9,"button",71),e._uU(10),e.ALo(11,"langReplace"),e.qZA()(),e.TgZ(12,"div",72)(13,"table",73)(14,"tbody"),e.YNc(15,Uh,5,5,"tr",12),e.qZA()()()(),e.TgZ(16,"div",21)(17,"h2",74)(18,"button",75),e._uU(19),e.ALo(20,"langReplace"),e.qZA()(),e.TgZ(21,"div",76)(22,"table",73)(23,"tbody"),e.YNc(24,jh,5,5,"tr",12),e.qZA()()()(),e.TgZ(25,"div",21)(26,"h2",77)(27,"button",78),e._uU(28),e.ALo(29,"langReplace"),e.qZA()(),e.TgZ(30,"div",79)(31,"table",73)(32,"tbody"),e.YNc(33,qh,5,5,"tr",12),e.qZA()()()()()(),e.TgZ(34,"div",80)(35,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveAllMailSmsActions())}),e._uU(36),e.ALo(37,"langReplace"),e.qZA(),e.TgZ(38,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeSMActions())}),e._uU(39),e.ALo(40,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,9,"Send Message")," "),e.xp6(8),e.hij(" ",e.lcZ(11,11,"Mail")," "),e.xp6(5),e.Q6J("ngForOf",t.mailConigDetails),e.xp6(4),e.hij(" ",e.lcZ(20,13,"SMS")," "),e.xp6(5),e.Q6J("ngForOf",t.smsConfigDetails),e.xp6(4),e.hij(" ",e.lcZ(29,15,"Whatsapp")," "),e.xp6(5),e.Q6J("ngForOf",t.whatsappConfigDetails),e.xp6(3),e.hij(" ",e.lcZ(37,17,"Save")," "),e.xp6(3),e.hij(" ",e.lcZ(40,19,"Close")," ")}}let zh=(()=>{class n{constructor(t,i,o,r,x,T,L,R,J,se){this.route=t,this.httpClient=i,this.workFlowServices=o,this.router=r,this.commonserveice=x,this.fb=T,this.encDec=L,this.authService=R,this.vldChkLst=J,this.modalService=se,this.loading=!1,this.jsonurl="assets/js/_configs/addWorkflow.config.json",this.txtModuleId=null,this.txtFormId=null,this.nodeSelected=null,this.formNames=null,this.txtFormName=null,this.txtModuleName=null,this.roleArr=[],this.applicantRole="applicant",this.docUploads=[],this.approvalDocuments="",this.approvalDocRow=[1],this.approvalDocEvents=[],this.allFormDocs=[],this.allAssignedVerifyDocs=[],this.curAssignedVerifyDocs=[],this.disabled=!1,this.ShowFilter=!1,this.limitSelection=!1,this.dropdownSettings={},this.arrAllFormDetails={},this.arrAllLabelParms=[],this.showConditionStatus=2,this.msgclickedEvent="",this.checkedMailSms="",this.mailConigDetails="",this.smsConfigDetails="",this.whatsappConfigDetails="",this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let me=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.userId=me.USER_ID,this.dynamicForm=this.fb.group({itemId:[this.folderid],sectionId:[this.getsectionId],formDetails:this.fb.array([]),status:0,otherStatus:"",updatedBy:[this.userId],createdBy:[this.userId]})}ngOnInit(){this.loadconfig(),this.id=document.querySelector("#drawflow"),this.editor=new(Lh())(this.id),this.registerEvents(this.editor),this.editor.reroute=!0,this.editor.reroute_fix_curvature=!0,this.editor.force_first_input=!1,this.editor.curvature=0,this.editor.line_path=2,this.editor.start();const i=document.getElementsByClassName("drag-drawflow");for(let r=0;r<i.length;r++)i[r].addEventListener("touchend",this.drop,!1),i[r].addEventListener("touchmove",this.positionMobile,!1),i[r].addEventListener("touchstart",this.drag,!1);this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let o=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.desgId=o.USER_ID,this.roleId=o.ROLE_ID,this.loadEvents(),this.getRoles(this.folderid),this.fillCanvasWorkflow(this.folderid),this.loadMessageEngine(),this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:this.ShowFilter}}onItemSelect(t){}onSelectAll(t){}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=this.multilingual(t[0].pagetitle),this.allConditions=t[0].condtions})}multilingual(t){return t}positionMobile(t){this.mobile_last_move=t}allowDrop(t){t.preventDefault()}drag(t){"touchstart"===t.type?this.mobile_item_selec=t.target.closest(".drag-drawflow").getAttribute("data-node"):t.dataTransfer.setData("node",t.target.getAttribute("data-node"))}drop(t){if("touchend"!==t.type){t.preventDefault();let i=t.dataTransfer.getData("node");this.addNodeToDrawFlow(i,t.clientX,t.clientY)}}addNodeToDrawFlow(t,i,o){if("fixed"===this.editor.editor_mode)return!1;i=i*(this.editor.precanvas.clientWidth/(this.editor.precanvas.clientWidth*this.editor.zoom))-this.editor.precanvas.getBoundingClientRect().x*(this.editor.precanvas.clientWidth/(this.editor.precanvas.clientWidth*this.editor.zoom)),o=o*(this.editor.precanvas.clientHeight/(this.editor.precanvas.clientHeight*this.editor.zoom))-this.editor.precanvas.getBoundingClientRect().y*(this.editor.precanvas.clientHeight/(this.editor.precanvas.clientHeight*this.editor.zoom));for(let r of this.roleArr)r.roleId==t&&this.editor.addNode(r.roleName,1,1,i,o,"AUTH",{userType:2,desgId:r.roleName,roleId:r.roleId},'\n      <div>\n      <div class="box">\n          '+r.roleName+"\n      </div>\n      </div>\n      ");return"applicant"===t&&this.editor.addNode("applicant",0,1,i,o,"applicant",{userType:1},'\n            <div>\n            <div class="box">\n                Applicant\n            </div>\n            </div>\n            '),!0}getRoleId(t){return t.roleId}registerEvents(t){t.on("nodeCreated",i=>{}),t.on("nodeRemoved",i=>{}),t.on("nodeSelected",i=>{$("#btnConfirmOk").off("click"),this.updateEvents(t,i)}),t.on("nodeUnselected",i=>{this.nodeSelected=null,$("#btnSaveEvent").hide(),$(".eventSection").find(".chk_actions").prop("checked",!1),$(".eventSection").find("#txtTimeLine").val("")}),t.on("moduleCreated",i=>{}),t.on("moduleChanged",i=>{}),t.on("connectionCreated",i=>{let o=i.input_id,r=this.getLavelCtr(t,o,0),T=t.getNodeFromId(o).data;T.lavel=Number(r),t.updateNodeDataFromId(o,T)}),t.on("connectionRemoved",i=>{}),t.on("mouseMove",i=>{}),t.on("nodeMoved",i=>{}),t.on("zoom",i=>{}),t.on("translate",i=>{}),t.on("addReroute",i=>{}),t.on("removeReroute",i=>{})}drawflow(){return{drawflow:{}}}loadEvents(){this.workFlowServices.getEvents([]).subscribe(i=>{let x=c.lW.from(i.RESPONSE_DATA,"base64"),T=JSON.parse(x);"200"==T.status?this.approvalActions=T.result:500==T.status&&f().fire({icon:"error",text:T.message})},i=>{this.authService.directlogout()})}getRoles(t){this.workFlowServices.getAdminRoles({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){let J=R.result;this.folderName=J.folderName;let se=[];se=J.data;for(let me=0;me<se.length;me++){let Me={};Me.fileOrFolderId=se[me].fileOrFolderId,Me.intId=se[me].intId,Me.type=se[me].type,Me.roleName=se[me].roleName,Me.roleId=se[me].roleId;let Ae=JSON.parse(se[me].permission);for(let Re=0;Re<Ae.length;Re++)"WorkFlow"==Ae[Re].label&&1==Ae[Re].selected&&(Me.permission=Ae[Re].label);this.roleArr.push(Me)}}else 500==R.status&&f().fire({icon:"error",text:R.message})}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}validator(){let t=this.editor.drawflow.drawflow.Home.data,i=Object.keys(t),o=[],x=[],T=!0,R=this,J="";if($(i).each(function(Me){console.log(i);let Ae=i[Me],Ne=Object.keys(t[Ae].inputs),Ye=Object.keys(t[Ae].outputs),qe=[],We=[];if(Ye.length>0?We=t[Ae].outputs.output_1.connections:t[Ae].outputs={},Ne.length<=0)t[Ae].inputs={};else if(t[Ae].inputs.input_1.connections.length>0)for(let vt=0;vt<t[Ae].inputs.input_1.connections.length;vt++)qe.push(t[Ae].inputs.input_1.connections[vt].node);let ze=t[Ae].data;if(We.length>1&&$(We).each(function(vt){o.push(We[vt].node)}),1==ze.userType&&(J=ze.allMailSms),2==ze.userType){let vt=ze.lavel>0?ze.lavel:0,qt=ze.desgId>0?ze.desgId:0,Pn=ze.roleId>0?ze.roleId:0,Vt=ze.events,$n=ze.timeline,vi=ze.approvalDocs,Dn=ze.approvalLetters,Xn=ze.demandPaymentStaus,vn=ze.approvalDocuments,ln=ze.calcStatus,cn=ze.calcDetails,Dt="",Xt=ze.allMailSms;if(!Vt)return f().fire({icon:"error",text:R.commonserveice.langReplace(R.messaageslist.chooseAction)}),T=!1,!1;if(Dt=Vt.join(),""==$n||$n<=0)return f().fire({icon:"error",text:R.commonserveice.langReplace(R.messaageslist.timeValid)}),T=!1,!1;if(1==ze.userType)return x.push({output:We,data:ze,currentId:Ae,stageNo:0}),!1;let $s=0;$s=o.includes(Ae)?1:2;let dw={tinStageNo:vt,desgId:qt,roleId:Pn,authActions:Dt,parallel:$s,selProject:0,selProcess:R.txtFormId,timeline:$n,authDocs:vi,authLetters:Dn,demandNoteStatus:Xn,approvalDocuments:vn,calcStatus:ln,calcDetails:cn,vchParentNodes:qe.join(),tinCurrentNode:Ae,authMailSmsDetails:""!=Xt&&null!=Xt?JSON.stringify(Xt):""};x.push(dw)}return Me}),!T)return!1;if(0==x.length)return f().fire({icon:"error",text:this.commonserveice.langReplace("Please configure the workflow")}),!1;let se=R.editor.drawflow;se=JSON.stringify(se);let me={folderId:this.folderid,serviceId:R.txtFormId,paymentType:1,stageData:x,drawData:this.encDec.escapeHtml(se),controlName:"",sectionName:"",projectCategory:0,applicantMailSmsDetails:""!=J&&null!=J?JSON.stringify(J):""};return this.workFlowServices.saveCanvasData(me).subscribe(Me=>{let Ae=Me.RESPONSE_DATA;if(Me.RESPONSE_TOKEN==l.HmacSHA256(Ae,u.N.apiHashingKey).toString()){let Ye=c.lW.from(Ae,"base64"),qe=JSON.parse(Ye);"200"==qe.status?f().fire({icon:"success",text:qe.message}).then(We=>{if(We.isConfirmed){let Pt=this.encDec.encText((this.folderid+":0").toString());this.route.navigate(["/admin/viewupload",Pt])}}):"405"==qe.status?f().fire({icon:"error",text:qe.message}):501==qe.status?this.authService.directlogout():f().fire({icon:"error",text:R.commonserveice.langReplace(R.messaageslist.errorMsg)})}else this.loading=!1,this.authService.directlogout()},Me=>{this.authService.directlogout()}),!0}updateEvents(t,i){this.checkedMailSms="",this.selAppDocuments=null,$("#btnSaveEvent").off("click"),$("#btnAlertOk").off("click"),$("#btnSaveEvent").show(),$(".eventSection").find(".chk_actions").prop("checked",!1),$(".eventSection").find("#txtTimeLine").val(""),$(".eventSection").find("#hdnApprovalDocs").val(""),$(".eventSection").find("#hdnApprovalLetters").val(""),$(".eventSection").find("#hdnAllApprovalDocuments").val(""),$(".eventSection").find("#lnkAuthType").hide(),$(".eventSection").find("#lnkLetterType").hide(),$(".eventSection").find("#approveDocType").hide(),$(".dm21").hide();let o=t.getNodeFromId(i);if(o){var r=o.data;let Me=o.data.userType;if(1==Me)document.getElementById("eventsUl")?.classList.add("d-none"),document.getElementById("ConditionDiv")?.classList.add("d-none"),document.getElementById("timelineDiv")?.classList.add("d-none"),document.getElementById("eventsU2")?.classList.remove("d-none"),this.checkedMailSms=o.data.allMailSms??"";else if(2==Me){document.getElementById("eventsU2")?.classList.add("d-none"),document.getElementById("eventsUl")?.classList.remove("d-none"),document.getElementById("ConditionDiv")?.classList.remove("d-none"),document.getElementById("timelineDiv")?.classList.remove("d-none"),this.checkedMailSms=o.data.allMailSms??"",$("#btnSaveEvent").show(),this.nodeSelected=i;var x=o.data.events,T=o.data.timeline,L=o.data.approvalDocs,R=o.data.demandPaymentStaus,J=o.data.approvalDocuments;J&&(this.selAppDocuments=J,this.approvalDocRow=J);let Ae=o.data.calcDetails;1==Number(o.data.calcStatus)?($("#calcStatus1").prop("checked",!0),$("#selFieldName").val(Ae[0].calcfield),$("#selCalc").val(Ae[0].selCalc),$("#txtValue").val(Ae[0].txtValue),document.getElementById("showYesDiv")?.setAttribute("style","display: block;"),document.getElementById("showYesDiv")?.classList.remove("d-none")):($("#calcStatus2").prop("checked",!0),$("#selFieldName").val("0"),$("#selCalc").val("0"),$("#txtValue").val(" "),document.getElementById("showYesDiv")?.setAttribute("style","display: none;"),document.getElementById("showYesDiv")?.classList.add("d-none")),$(x).each(function(Ne){$('.chk_actions[value="'+x[Ne]+'"]').prop("checked",!0)}),$("#txtTimeLine").val(T),""!=L&&typeof L<"u"&&$("#lnkAuthType").show(),""!=J&&typeof J<"u"&&$("#approveDocType").show(),""!=R&&typeof R<"u"?(2==Number(R)&&$("#dn").prop("checked",!0),$(".dem21").show()):$(".dem21").hide(),$("#hdnApprovalDocs").val(L),$("#hdnAllApprovalDocuments").val(J)}else $("#btnSaveEvent").hide()}let me=this;$("#btnSaveEvent").on("click",function(){let Me=t.getNodeFromId(i).data.userType;var Ae=[],Re=0,Ne=0,Ye=0;$(".chk_actions").each(function(){if($(this).is(":checked")){let cn=$(this).val();12==Number(cn)&&(Re=1),13==Number(cn)&&(Ne=1),32==Number(cn)&&(Ye=1),Ae.push(cn)}});let qe=0;$("#chk_21").is(":checked")&&(qe=1,$("#dn").is(":checked")&&(qe=2));let We=$("#txtTimeLine").val(),ze=$("#hdnAllDocs").val(),vt=(1==Re&&$("#hdnApprovalDocs").val(),$("#hdnAllLetters").val()),qt=1==Ne?$("#hdnApprovalLetters").val():"",Vt=(1==Ye&&$("#hdnAllApprovalDocuments").val(),$("#selFieldName").find(":selected").val()),$n=$("#selFieldName").find(":selected").attr("data-val"),vi=$("#selCalc").find(":selected").val(),Dn=$("#txtValue").val(),Xn=$('input[name="calStatus"]:checked').val(),vn=[],ln=!0;if(1==Number(Xn)&&(me.vldChkLst.selectDropdown(Vt," Select Field Name")||(ln=!1),me.vldChkLst.selectDropdown(vi," Select Condition")||(ln=!1),me.vldChkLst.blankCheck(Dn,'Value <span class="">cannot be left blank</span>')||(ln=!1),vn.push({calcfield:Vt,selCalc:vi,txtValue:Dn.trim(),dynTableName:$n.trim(),dyncolName:me.arrAllFormDetails[Vt][0].tablecolDetails[0].ctrlTblColName})),r.events=Ae,r.timeline=We.trim(),r.demandPaymentStaus=qe,r.approvalDocuments=me.approvalDocuments,r.verifyDocs=me.allAssignedVerifyDocs,r.calcStatus=Xn,r.calcDetails=vn,r.allMailSms=me.checkedMailSms,ln){if($("#hdnAllDocs").val(ze),$("#hdnAllLetters").val(vt),$("#hdnAllApprovalDocuments").val(me.approvalDocuments),$("#hdnCalcDetails").val(vn),$("#hdnAllSmsMail").val(me.checkedMailSms),2==Me){if(Ae.length<=0)return f().fire({icon:"error",text:me.commonserveice.langReplace(me.messaageslist.chooseAction)}),!1;if(""==We||We<=0)return f().fire({icon:"error",text:me.commonserveice.langReplace(me.messaageslist.timeValid)}),!1}return r.events=Ae,r.timeline=We,r.approvalLetters=qt,r.demandPaymentStaus=qe,r.approvalDocuments=me.approvalDocuments,r.verifyDocs=me.allAssignedVerifyDocs,r.calcStatus=Xn,r.calcDetails=vn,t.updateNodeDataFromId(i,r),f().fire({icon:"warning",text:me.commonserveice.langReplace(me.messaageslist.eventConfirm)}).then(cn=>{if(cn.isConfirmed){$(".eventSection").find(".chk_actions").prop("checked",!1),$(".eventSection").find("#txtTimeLine").val(""),$("#lnkAuthType").hide(),$("#lnkLetterType").hide(),$("#approveDocType").hide(),$("#hdnApprovalDocs").val(""),$("#hdnApprovalLetters").val(""),$("#hdnAllApprovalDocuments").val(""),$("#hdnAllSmsMail").val(""),$(".dem21").hide(),document.getElementById("showYesDiv")?.setAttribute("style","display: none;"),document.getElementById("showYesDiv")?.classList.add("d-none"),$(".calcStatus").prop("checked",!1),$("#calcStatus2").prop("checked",!0),me.checkedMailSms="",me.approvalDocuments="",me.approvalDocRow=[1];let Dt=document.getElementsByClassName("mailSmsChkBx");for(let Xt of Dt)Xt.checked=!1}}),!0}return!1})}getLavelCtr(t,i,o){let r=t.getNodeFromId(i);if(Object.keys(r.inputs).length>0){let T=r.inputs.input_1.connections;T.length>0&&(o++,o=this.getLavelCtr(t,T[0].node,o))}return o}fillCanvasWorkflow(t){this.editor.clearModuleSelected(),this.workFlowServices.fillWorkflowData({folderId:t}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let Me=c.lW.from(x,"base64"),Ae=JSON.parse(Me);if(200==Ae.status){var R=Ae.result.workflowDetail.canvasData;R=this.encDec.decodeHtml(R),R=JSON.parse(R),this.editor.import(R);var J=R.drawflow.Home.data,se=Object.keys(J),me="";$(se).each(function(Re){var qe=J[parseInt(se[Re])].data.approvalDocs;typeof qe<"u"&&""!=qe&&(me=me+qe+",")}),me=me.slice(0,-1),$("#hdnAllDocs").val(me)}else 400==Ae.status?f().fire({icon:"error",text:Ae.message}):402==Ae.status||(501==Ae.status?this.authService.directlogout():f().fire({icon:"error",text:"Something went wrong"}))}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}chooseAction(t,i){null==this.nodeSelected&&(document.getElementById("chk_"+t).checked=!1,f().fire({icon:"error",text:this.commonserveice.langReplace("Select the authority to set the document")}));let o=this.editor.getNodeFromId(this.nodeSelected),x=o.outputs.output_1.connections;if(null!=this.nodeSelected&&0==o.inputs.input_1.connections.length&&2==t)document.getElementById("chk_"+t).checked=!1,f().fire({icon:"error",text:this.commonserveice.langReplace("You can not chose markdown single or not connected authorities")});else if(null!=this.nodeSelected&&0==x.length&&1==t)document.getElementById("chk_"+t).checked=!1,f().fire({icon:"error",text:this.commonserveice.langReplace("You can not chose markup Please Connect the authorities first")});else if(this.approvalDocEvents=[],15==i&&document.getElementById("chk_"+t).checked){document.getElementById("docUpload").click();let T=this;$(".chk_actions").each(function(){if($(this).is(":checked")){let L=$(this).val(),R=$(this).attr("id"),J=$("label[for='"+R+"']").text();15!=L&&T.approvalDocEvents.push({eventId:L,eventText:J})}})}else 12==i&&document.getElementById("chk_"+t).checked&&document.getElementById("docVerify").click()}getMessage(t,i){}loadMessageEngine(){let t={intMessageConfigId:"",intMessageConfigType:"",formId:this.txtFormId,formName:"",messageType:"1"};this.loading=!0,this.workFlowServices.viewMessageConfigPublished(t).subscribe(i=>{let r=c.lW.from(i.RESPONSE_DATA,"base64");i=JSON.parse(r.toString()),console.log("res "+i),this.messageDataToBind=i.result,console.log(this.messageDataToBind);for(let x of this.messageDataToBind)1==x.intMessageConfigType?0==this.mailConigDetails.length?this.mailConigDetails=[x]:this.mailConigDetails.push(x):2==x.intMessageConfigType?0==this.smsConfigDetails.length?this.smsConfigDetails=[x]:this.smsConfigDetails.push(x):3==x.intMessageConfigType&&(0==this.whatsappConfigDetails.length?this.whatsappConfigDetails=[x]:this.whatsappConfigDetails.push(x))})}setApplicantAction(t){this.msgclickedEvent=t.target.getAttribute("data-actionid");let o=!0;if("Registration"!=this.msgclickedEvent&&(document.getElementById("chk_"+this.msgclickedEvent).checked||(o=!1,f().fire({icon:"error",text:this.commonserveice.langReplace("Select event first")}))),this.checkedMailSms.length>0)for(let r of this.checkedMailSms){if(this.msgclickedEvent==r.events){let x=r.allChedkMailMsgs.split(",");setTimeout(function(){let T=document.getElementsByClassName("mailSmsChkBx");for(let L of T)L.checked=!!x.includes(L.value)},500);break}{let x=document.getElementsByClassName("mailSmsChkBx");for(let T of x)T.checked=!1}}else{let r=document.getElementsByClassName("mailSmsChkBx");for(let x of r)x.checked=!1}o&&this.open(this.sendMsgModal)}closeSMActions(){this.closeModal()}saveAllMailSmsActions(){let t=document.getElementsByClassName("mailSmsChkBx"),i="";for(let o of t)o.checked&&(i.length>0?i+=","+o.value:i=o.value);if(this.checkedMailSms.length>0)if("Registration"!=this.msgclickedEvent){let o="";for(let r of this.checkedMailSms)this.msgclickedEvent!=r.events&&(o.length>0?o.push(r):o=r);this.checkedMailSms=[o],this.checkedMailSms.push({allChedkMailMsgs:i,events:this.msgclickedEvent})}else this.checkedMailSms=[{allChedkMailMsgs:i,events:this.msgclickedEvent}];else this.checkedMailSms=[{allChedkMailMsgs:i,events:this.msgclickedEvent}];this.msgclickedEvent="",this.closeModal()}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}resetform(){let i=this.encDec.encText((this.folderid+":0").toString());this.route.navigate(["/admin/viewupload",i])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Fh.z),e.Y36(Ce.gz),e.Y36(m.l),e.Y36(w.qu),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-configworkflow"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ih,5),2&t){let o;e.iGM(o=e.CRH())&&(i.sendMsgModal=o.first)}},inputs:{folderid:"folderid"},decls:78,vars:29,consts:[[3,"formGroup"],[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-2","mt-2"],[1,"col-md-8","col-lg-3"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"value"],["type","hidden","formControlName","itemId"],[1,"col-sm-2"],["draggable","true",1,"drag-drawflow","border","mt-1",3,"dragstart"],[1,"h5","p-1"],[1,"bi","bi-person"],[4,"ngFor","ngForOf"],[1,"col-sm-7"],["id","drawflow",3,"drop","dragover"],[1,"mt-3"],["type","button","class","btn btn-success me-1",3,"value","click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"col-sm-3"],[1,"eventSection"],[1,"accordion"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#event_section","aria-expanded","true","aria-controls","event_section",1,"accordion-button"],["id","event_section",1,"show","collapse","in"],[1,"accordion-body",2,"height","200px","overflow","auto"],["id","eventsUl"],["class","py-2 pl-2 d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],["id","eventsU2",1,"d-none"],[1,"py-2","pl-2","d-flex","align-items-center","justify-content-between"],["href","javascript:void(0);",1,"text-primary",3,"click"],[1,"icon-email"],["type","hidden","id","hdnApprovalDocs"],["type","hidden","id","hdnAllDocs"],["type","hidden","id","hdnApprovalLetters"],["type","hidden","id","hdnAllLetters"],["type","hidden","id","hdnAllApprovalDocuments","value","test"],["type","hidden","id","hdnCalcDetails"],[1,"accordion-item","mb-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#time_section","aria-expanded","true","aria-controls","event_section",1,"accordion-button"],["id","time_section",1,"show","collapse","in"],[1,"accordion-body"],[1,"input-group","input-focus"],["type","text","name","txtTimeLine","id","txtTimeLine","autocomplete","off",1,"form-control",3,"keypress"],[1,"input-group-text"],[1,"text-center"],["id","btnSaveEvent",1,"btn","btn-success","btn-sm",2,"display","none"],["id","docUpload","data-bs-toggle","modal",1,"d-none"],["id","docVerify","data-bs-toggle","modal",1,"d-none"],["id","divVerifyDoc","tabindex","-1","aria-labelledby","previewModalLabel","aria-hidden","false",1,"modal","fade"],["id","divMessage","tabindex","-1","aria-labelledby","previewModalLabel","aria-hidden","false",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","mb-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group","row"],[1,"col-sm-12"],["id","sendMsgModal"],["sendMsgModal",""],[4,"ngIf"],["type","button",1,"btn","btn-success","me-1",3,"value","click"],[1,"btn","btn-danger",3,"click"],["type","checkbox","name","chkActions[]",1,"chk_actions","me-1",3,"id","value","click"],[3,"for"],["href","javascript:void(0)",1,"text-primary",3,"click"],["href","javascript:void(0);",3,"click",4,"ngIf"],["href","javascript:void(0);",3,"click"],["id","movetoFolderModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"table","table-bordered"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-info",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["width","60px"],["type","checkbox",1,"mailSmsChkBx",3,"id","value"],[1,"form-check-label",3,"for","innerHTML"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4),e.ALo(5,"langReplace"),e.qZA(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"input",6)(9,"input",7),e.qZA()()(),e.TgZ(10,"div",2)(11,"div",8)(12,"div",9),e.NdJ("dragstart",function(r){return i.drag(r)}),e.TgZ(13,"span",10),e._UZ(14,"i",11),e.qZA(),e._uU(15," Applicant "),e.qZA(),e.YNc(16,Rh,2,1,"div",12),e.qZA(),e.TgZ(17,"div",13)(18,"div",14),e.NdJ("drop",function(r){return i.drop(r)})("dragover",function(r){return i.allowDrop(r)}),e.qZA(),e.TgZ(19,"div",15),e.YNc(20,Zh,2,3,"input",16),e.YNc(21,Bh,3,3,"a",17),e.qZA()(),e.TgZ(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"h2",22)(27,"a",23),e._uU(28),e.ALo(29,"langReplace"),e.qZA()(),e.TgZ(30,"div",24)(31,"div",25)(32,"ul",26),e.YNc(33,Yh,10,7,"li",27),e.qZA(),e.TgZ(34,"ul",28)(35,"li",29)(36,"label"),e._uU(37," Mail and sms"),e.qZA(),e.TgZ(38,"a",30),e.NdJ("click",function(r){return i.setApplicantAction(r)}),e._UZ(39,"i",31),e.qZA()()(),e._UZ(40,"input",32)(41,"input",33)(42,"input",34)(43,"input",35)(44,"input",36)(45,"input",37),e.qZA()()(),e.TgZ(46,"div",38)(47,"h2",22)(48,"a",39),e._uU(49),e.ALo(50,"langReplace"),e.qZA()(),e.TgZ(51,"div",40)(52,"div",41)(53,"div",42)(54,"input",43),e.NdJ("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(55,"div",44),e._uU(56),e.ALo(57,"langReplace"),e.qZA()()()()()(),e.TgZ(58,"div",45)(59,"a",46),e._uU(60),e.ALo(61,"langReplace"),e.qZA()()()()()()(),e._UZ(62,"a",47)(63,"a",48)(64,"div",49),e.TgZ(65,"div",50)(66,"div",51)(67,"div",52)(68,"div",53)(69,"h5",54),e._uU(70),e.ALo(71,"langReplace"),e.qZA(),e._UZ(72,"button",55),e.qZA(),e.TgZ(73,"div",56)(74,"div",57),e._UZ(75,"div",58),e.qZA()()()()(),e.YNc(76,Vh,41,21,"ng-template",59,60,e.W1O)),2&t&&(e.Q6J("formGroup",i.dynamicForm),e.xp6(4),e.hij("* ",e.lcZ(5,17,"Folder Name"),""),e.xp6(4),e.Q6J("value",i.folderName),e.xp6(4),e.uIk("data-node",i.applicantRole),e.xp6(4),e.Q6J("ngForOf",i.roleArr),e.xp6(4),e.Q6J("ngIf",1==i.roleId),e.xp6(1),e.Q6J("ngIf",1==i.roleId),e.xp6(7),e.hij(" ",e.lcZ(29,19,"Events")," "),e.xp6(5),e.Q6J("ngForOf",i.approvalActions),e.xp6(5),e.uIk("data-actionid","Registration"),e.xp6(1),e.uIk("data-actionid","Registration"),e.xp6(10),e.hij(" ",e.lcZ(50,21,"Timeline")," "),e.xp6(7),e.hij(" ",e.lcZ(57,23,"Days")," "),e.xp6(4),e.hij(" ",e.lcZ(61,25,"Save")," "),e.xp6(2),e.uIk("data-bs-target","#divUploadDoc"),e.xp6(1),e.uIk("data-bs-target","#divVerifyDoc"),e.xp6(7),e.hij(" ",e.lcZ(71,27,"Send Message")," "))},dependencies:[C.sg,C.O5,w._Y,w.Fj,w.JJ,w.JL,w.sg,w.u,E.c]}),n})();var Zr=be(6553),$i=be(1884);function Jh(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",4)(1,"g"),e._UZ(2,"path",5),e.qZA()())}function Wh(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",6)(1,"g")(2,"g",7)(3,"g"),e._UZ(4,"path",8),e.qZA()()()())}function Gh(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",6)(1,"g")(2,"g",9)(3,"g"),e._UZ(4,"path",10),e.qZA()()()())}function Qh(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",11)(1,"g")(2,"g")(3,"g",12)(4,"g"),e._UZ(5,"path",13),e.qZA()()()()())}function Kh(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",14)(1,"g"),e._UZ(2,"path",15),e.qZA()())}const $h=["header"],Xh=["container"],eu=["content"],tu=["invisiblePadding"],nu=["*"],iu=["searchInput"],ou=["selectedList"],su=["dropdownList"],ru=["cuppaDropdown"];function au(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.settings.text)}}function lu(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(1),e.hij(" ",t[i.settings.labelKey]," ")}}function cu(n,s){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,lu,2,1,"span",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn.bind(t))}}function du(n,s){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(t[i.settings.labelKey])}}function hu(n,s){if(1&n&&(e.TgZ(0,"span",29),e._UZ(1,"c-templateRenderer",30),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("data",i.badgeTempl)("item",t)}}function uu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e.YNc(1,du,2,1,"span",26),e.YNc(2,hu,2,2,"span",26),e.TgZ(3,"span",27),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index;return e.oxw(2).onItemClick(x,T,o),e.KtG(o.stopPropagation())}),e._UZ(4,"c-icon",28),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.badgeTempl),e.xp6(1),e.Q6J("ngIf",t.badgeTempl),e.xp6(2),e.Q6J("name","remove")}}function fu(n,s){if(1&n&&(e.TgZ(0,"span",23),e.YNc(1,uu,5,3,"div",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn.bind(t))}}function pu(n,s){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(t[i.settings.labelKey])}}function gu(n,s){if(1&n&&(e.TgZ(0,"span",29),e._UZ(1,"c-templateRenderer",30),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("data",i.badgeTempl)("item",t)}}function _u(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",32),e.YNc(1,pu,2,1,"span",26),e.YNc(2,gu,2,2,"span",26),e.TgZ(3,"span",27),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index;return e.oxw(2).onItemClick(x,T,o),e.KtG(o.stopPropagation())}),e._UZ(4,"c-icon",28),e.qZA()()}if(2&n){const t=s.index,i=e.oxw(2);e.Q6J("hidden",t>i.settings.badgeShowLimit-1),e.xp6(1),e.Q6J("ngIf",!i.badgeTempl),e.xp6(1),e.Q6J("ngIf",i.badgeTempl),e.xp6(2),e.Q6J("name","remove")}}function mu(n,s){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,_u,5,4,"div",31),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn.bind(t))}}function vu(n,s){if(1&n&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("+",(null==t.selectedItems?null:t.selectedItems.length)-t.settings.badgeShowLimit,"")}}function bu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",34),e.NdJ("click",function(o){return e.CHM(t),e.oxw().clearSelection(o),e.KtG(o.stopPropagation())}),e._UZ(1,"c-icon",28),e.qZA()}2&n&&(e.xp6(1),e.Q6J("name","remove"))}function Cu(n,s){1&n&&(e.TgZ(0,"span",35),e._UZ(1,"c-icon",28),e.qZA()),2&n&&(e.xp6(1),e.Q6J("name","angle-down"))}function yu(n,s){1&n&&(e.TgZ(0,"span",36),e._UZ(1,"c-icon",28),e.qZA()),2&n&&(e.xp6(1),e.Q6J("name","angle-up"))}function xu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleSelectAll(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("checked",t.isSelectAll)("disabled",t.settings.limitSelection==(null==t.selectedItems?null:t.selectedItems.length))("id",t.id)}}function wu(n,s){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,xu,1,3,"input",38),e.TgZ(2,"label",39)(3,"span",40),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.settings.showCheckbox),e.xp6(1),e.Q6J("for",t.id),e.xp6(1),e.Q6J("hidden",t.isSelectAll),e.xp6(1),e.Oqu(t.settings.selectAllText),e.xp6(1),e.Q6J("hidden",!t.isSelectAll),e.xp6(1),e.Oqu(t.settings.unSelectAllText)}}function Mu(n,s){1&n&&e._UZ(0,"img",42)}function Su(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearSearch())}),e._UZ(1,"c-icon",28),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("hidden",null==t.filter||0==(null==t.filter?null:t.filter.length)),e.xp6(1),e.Q6J("name","clear")}}function Tu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.resetInfiniteSearch())}),e._UZ(1,"c-icon",28),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("hidden",null==t.filter||0==(null==t.filter?null:t.filter.length)),e.xp6(1),e.Q6J("name","clear")}}function ku(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",49,50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filter=o)})("keyup",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.filterGroupedList())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("placeholder",t.settings.searchPlaceholderText)("ngModel",t.filter)}}function Au(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",49,50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filter=o)})("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filteritems(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("placeholder",t.settings.searchPlaceholderText)("ngModel",t.filter)}}function Ou(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",49,50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.filter=o)})("keyup",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onKeyUp(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("placeholder",t.settings.searchPlaceholderText)("ngModel",t.filter)}}function Pu(n,s){if(1&n&&e._UZ(0,"c-templateRenderer",30),2&n){const t=e.oxw(2);e.Q6J("data",t.searchTempl)("item",t.item)}}function Du(n,s){if(1&n&&(e.TgZ(0,"div",43)(1,"span",44),e._UZ(2,"c-icon",28),e.qZA(),e.YNc(3,Su,2,2,"span",45),e.YNc(4,Tu,2,2,"span",45),e.YNc(5,ku,2,2,"input",46),e.YNc(6,Au,2,2,"input",46),e.YNc(7,Ou,2,2,"input",46),e.YNc(8,Pu,1,2,"c-templateRenderer",47),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("name","search"),e.xp6(1),e.Q6J("ngIf",!t.settings.lazyLoading),e.xp6(1),e.Q6J("ngIf",t.settings.lazyLoading),e.xp6(1),e.Q6J("ngIf",t.settings.groupBy&&!t.settings.lazyLoading&&!t.searchTempl),e.xp6(1),e.Q6J("ngIf",!t.settings.groupBy&&!t.settings.lazyLoading&&!t.searchTempl),e.xp6(1),e.Q6J("ngIf",t.settings.lazyLoading&&!t.searchTempl),e.xp6(1),e.Q6J("ngIf",t.searchTempl)}}function Eu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFilterSelectAll())}),e._UZ(1,"input",54),e.TgZ(2,"label")(3,"span",40),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.isFilterSelectAll)("disabled",t.settings.limitSelection==(null==t.selectedItems?null:t.selectedItems.length)),e.xp6(2),e.Q6J("hidden",t.isFilterSelectAll),e.xp6(1),e.Oqu(t.settings.filterSelectAllText),e.xp6(1),e.Q6J("hidden",!t.isFilterSelectAll),e.xp6(1),e.Oqu(t.settings.filterUnSelectAllText)}}function Lu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFilterSelectAll())}),e._UZ(1,"input",55),e.TgZ(2,"label")(3,"span",40),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.isFilterSelectAll&&(null==t.filter?null:t.filter.length)>0)("disabled",t.settings.limitSelection==(null==t.selectedItems?null:t.selectedItems.length)),e.xp6(2),e.Q6J("hidden",t.isFilterSelectAll),e.xp6(1),e.Oqu(t.settings.filterSelectAllText),e.xp6(1),e.Q6J("hidden",!t.isFilterSelectAll),e.xp6(1),e.Oqu(t.settings.filterUnSelectAllText)}}function Fu(n,s){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Eu,7,6,"div",52),e.YNc(2,Lu,7,6,"div",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.settings.groupBy&&(null==t.filter?null:t.filter.length)>0&&t.filterLength>0&&!t.settings.singleSelection),e.xp6(1),e.Q6J("ngIf",t.settings.groupBy&&(null==t.filter?null:t.filter.length)>0&&(null==t.groupedData?null:t.groupedData.length)>0&&!t.settings.singleSelection)}}function Iu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleInfiniteFilterSelectAll())}),e._UZ(1,"input",55),e.TgZ(2,"label")(3,"span",40),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.isInfiniteFilterSelectAll)("disabled",t.settings.limitSelection==(null==t.selectedItems?null:t.selectedItems.length)),e.xp6(2),e.Q6J("hidden",t.isInfiniteFilterSelectAll),e.xp6(1),e.Oqu(t.settings.filterSelectAllText),e.xp6(1),e.Q6J("hidden",!t.isInfiniteFilterSelectAll),e.xp6(1),e.Oqu(t.settings.filterUnSelectAllText)}}function Nu(n,s){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Iu,7,6,"div",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.filter?null:t.filter.length)>0&&t.infiniteFilterLength>0)}}function Ru(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addFilterNewItem())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.settings.addNewButtonText)}}function Zu(n,s){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Ru,3,1,"div",56),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.settings.addNewItemOnFilter)}}function Bu(n,s){if(1&n&&e._UZ(0,"input",55),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}const Xi=function(n){return{"selected-item":n}};function Hu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index,L=e.oxw(2);return e.KtG(L.onItemClick(x,T,o))}),e.YNc(1,Bu,1,2,"input",63),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(3,Xi,1==i.isSelected(t))),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Oqu(t[i.settings.labelKey])}}function Yu(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"ul",60),e.YNc(2,Hu,4,5,"li",61),e.qZA()()),2&n){const t=e.oxw();e.Udp("max-height",t.settings.maxHeight+"px"),e.xp6(2),e.Q6J("ngForOf",t.data)}}function Uu(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function ju(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index,L=e.oxw(2);return e.KtG(L.onItemClick(x,T,o))}),e.YNc(1,Uu,1,2,"input",66),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(3,Xi,1==i.isSelected(t))),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Oqu(t[i.settings.labelKey])}}const Ti=function(n){return{height:n}};function qu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"ul",64,65),e.NdJ("vsStart",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))})("vsEnd",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))}),e.YNc(3,ju,4,5,"li",61),e.qZA()()}if(2&n){const t=e.MAs(2),i=e.oxw();e.Udp("max-height",i.settings.maxHeight+"px"),e.xp6(1),e.Q6J("enableUnequalChildrenSizes",i.randomSize)("items",i.virtualdata)("ngStyle",e.VKq(6,Ti,i.settings.maxHeight+"px")),e.xp6(2),e.Q6J("ngForOf",t.viewPortItems)}}function Vu(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function zu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index,L=e.oxw(2);return e.KtG(L.onItemClick(x,T,o))}),e.YNc(1,Vu,1,2,"input",66),e._UZ(2,"label")(3,"c-templateRenderer",30),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Xi,1==i.isSelected(t))),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Q6J("data",i.itemTempl)("item",t)}}function Ju(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"ul",60),e.YNc(2,zu,4,6,"li",61),e.qZA()()),2&n){const t=e.oxw();e.Udp("max-height",t.settings.maxHeight+"px"),e.xp6(2),e.Q6J("ngForOf",t.data)}}function Wu(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function Gu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index,L=e.oxw(2);return e.KtG(L.onItemClick(x,T,o))}),e.YNc(1,Wu,1,2,"input",66),e._UZ(2,"label")(3,"c-templateRenderer",30),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Xi,1==i.isSelected(t))),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Q6J("data",i.itemTempl)("item",t)}}function Qu(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"ul",64,68),e.NdJ("vsStart",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))})("vsEnd",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))}),e.YNc(3,Gu,4,6,"li",61),e.qZA()()}if(2&n){const t=e.MAs(2),i=e.oxw();e.Udp("max-height",i.settings.maxHeight+"px"),e.xp6(1),e.Q6J("enableUnequalChildrenSizes",i.randomSize)("items",i.virtualdata)("ngStyle",e.VKq(6,Ti,i.settings.maxHeight+"px")),e.xp6(2),e.Q6J("ngForOf",t.viewPortItems)}}function Ku(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}const ki=function(n,s){return{"grp-title":n,"grp-item":s}};function $u(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(),x=r.$implicit,T=r.index,L=e.oxw(2);return e.KtG(L.onItemClick(x,T,o))}),e.YNc(1,Ku,1,2,"input",66),e._UZ(2,"label")(3,"c-templateRenderer",30),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",e.WLB(4,ki,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox&&!i.settings.singleSelection),e.xp6(2),e.Q6J("data",i.itemTempl)("item",t)}}function Xu(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function ef(n,s){if(1&n&&(e.TgZ(0,"li",73),e.YNc(1,Xu,1,2,"input",66),e._UZ(2,"label")(3,"c-templateRenderer",30),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",e.WLB(4,ki,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Q6J("data",i.itemTempl)("item",t)}}function tf(n,s){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,$u,4,7,"li",71),e.YNc(2,ef,4,7,"li",72),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.grpTitle),e.xp6(1),e.Q6J("ngIf",t.grpTitle)}}function nf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"ul",64,69),e.NdJ("vsStart",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))})("vsEnd",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))}),e.YNc(3,tf,3,2,"span",70),e.qZA()()}if(2&n){const t=e.MAs(2),i=e.oxw();e.Udp("max-height",i.settings.maxHeight+"px"),e.xp6(1),e.Q6J("enableUnequalChildrenSizes",i.randomSize)("items",i.virtualdata)("ngStyle",e.VKq(6,Ti,i.settings.maxHeight+"px")),e.xp6(2),e.Q6J("ngForOf",t.viewPortItems)}}function of(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("checked",t.selected)("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function sf(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function rf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"li",62),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index;return e.oxw(3).onItemClick(x,T,o),e.KtG(o.stopPropagation())}),e.YNc(2,sf,1,2,"input",66),e._UZ(3,"label")(4,"c-templateRenderer",30),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(4,ki,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Q6J("data",i.itemTempl)("item",t)}}function af(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"li",62),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.selectGroup(r))}),e.YNc(2,of,1,2,"input",66),e.TgZ(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"ul",60),e.YNc(6,rf,5,7,"span",70),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(4,ki,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox&&!i.settings.singleSelection),e.xp6(2),e.Oqu(t[i.settings.labelKey]),e.xp6(2),e.Q6J("ngForOf",t.list)}}function lf(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"ul",60),e.YNc(2,af,7,7,"span",70),e.qZA()()),2&n){const t=e.oxw();e.Udp("max-height",t.settings.maxHeight+"px"),e.xp6(2),e.Q6J("ngForOf",t.groupedData)}}function cf(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}const Br=function(n,s,t){return{"grp-title":n,"grp-item":s,"selected-item":t}};function df(n,s){if(1&n&&(e.TgZ(0,"li",73),e.YNc(1,cf,1,2,"input",66),e.TgZ(2,"label"),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",e.kEZ(3,Br,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection,1==i.isSelected(t))),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox&&!t.grpTitle&&!i.settings.singleSelection),e.xp6(2),e.Oqu(t[i.settings.labelKey])}}function hf(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function uf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(),x=r.$implicit,T=r.index,L=e.oxw(2);return e.KtG(L.onItemClick(x,T,o))}),e.YNc(1,hf,1,2,"input",66),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",e.kEZ(3,Br,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection,1==i.isSelected(t))),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox&&!t.grpTitle),e.xp6(2),e.Oqu(t[i.settings.labelKey])}}function ff(n,s){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,df,4,7,"li",72),e.YNc(2,uf,4,7,"li",71),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.grpTitle),e.xp6(1),e.Q6J("ngIf",!t.grpTitle)}}function pf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"virtual-scroller",74),e.NdJ("vsUpdate",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.viewPortItems=o)})("vsEnd",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))}),e.TgZ(2,"ul",64,75),e.NdJ("vsStart",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))})("vsEnd",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollEnd(o))}),e.YNc(4,ff,3,2,"span",70),e.qZA()()()}if(2&n){const t=e.MAs(3),i=e.oxw();e.Udp("max-height",i.settings.maxHeight+"px"),e.xp6(1),e.Q6J("items",i.groupedData)("ngStyle",e.VKq(8,Ti,i.settings.maxHeight+"px")),e.xp6(1),e.Q6J("enableUnequalChildrenSizes",i.randomSize)("items",i.virtualdata)("ngStyle",e.VKq(10,Ti,i.settings.maxHeight+"px")),e.xp6(2),e.Q6J("ngForOf",t.viewPortItems)}}function gf(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("checked",t.selected)("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}function _f(n,s){if(1&n&&e._UZ(0,"input",67),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("checked",i.isSelected(t))("disabled",i.settings.limitSelection==(null==i.selectedItems?null:i.selectedItems.length)&&!i.isSelected(t)||t.disabled)}}const mf=function(n,s,t){return{"selected-item":n,"grp-title":s,"grp-item":t}};function vf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"li",62),e.NdJ("click",function(o){const r=e.CHM(t),x=r.$implicit,T=r.index;return e.oxw(3).onItemClick(x,T,o),e.KtG(o.stopPropagation())}),e.YNc(2,_f,1,2,"input",66),e.TgZ(3,"label"),e._uU(4),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.kEZ(3,mf,1==i.isSelected(t),t.grpTitle,!t.grpTitle&&!i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox),e.xp6(2),e.Oqu(t[i.settings.labelKey])}}function bf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"li",62),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.selectGroup(r))}),e.YNc(2,gf,1,2,"input",66),e.TgZ(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"ul",60),e.YNc(6,vf,5,7,"span",70),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(4,ki,t.grpTitle,!t.grpTitle&&!i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.showCheckbox&&!i.settings.singleSelection),e.xp6(2),e.Oqu(t[i.settings.labelKey]),e.xp6(2),e.Q6J("ngForOf",t.list)}}function Cf(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"ul",60),e.YNc(2,bf,7,7,"span",70),e.qZA()()),2&n){const t=e.oxw();e.Udp("max-height",t.settings.maxHeight+"px"),e.xp6(2),e.Q6J("ngForOf",t.groupedData)}}function yf(n,s){if(1&n&&(e.TgZ(0,"h5",76),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.settings.noDataLabel)}}const xf=function(n){return{disabled:n}},Hr=function(n,s){return{"arrow-up":n,"arrow-down":s}},wf=function(n){return{"single-select-mode":n}};class Mf{constructor(s,t){this.status=s,this.body=t}}let Sf=(()=>{class n{constructor(t){this._elementRef=t,this.clickOutside=new e.vpe}onClick(t,i){i&&(this._elementRef.nativeElement.contains(i)||this.clickOutside.emit(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","clickOutside",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(r){return i.onClick(r,r.target)},!1,e.evT)("touchstart",function(r){return i.onClick(r,r.target)},!1,e.evT)},outputs:{clickOutside:"clickOutside"}}),n})(),Yr=(()=>{class n{constructor(){this.filteredData=[],this.subject=new Cn.x}setData(t){this.filteredData=t,this.subject.next(t)}getData(){return this.subject.asObservable()}getFilteredData(){return this.filteredData&&this.filteredData.length>0?this.filteredData:[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ur=(()=>{class n{constructor(t){this.ds=t,this.filteredList=[]}transform(t,i,o){return t&&i&&""!=i?(this.filteredList=t.filter(r=>this.applyFilter(r,i,o)),this.filteredList):t}applyFilter(t,i,o){let r=!1;if(o.length>0)if(t.grpTitle)r=!0;else for(var x=0;x<o.length;x++)i&&t[o[x]]&&""!=t[o[x]]&&t[o[x]].toString().toLowerCase().indexOf(i.toLowerCase())>=0&&(r=!0);else if(t.grpTitle)r=!0;else for(var T in t)i&&t[T]&&t[T].toString().toLowerCase().indexOf(i.toLowerCase())>=0&&(r=!0);return r}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Yr,16))},n.\u0275pipe=e.Yjl({name:"listFilter",type:n,pure:!0}),n})(),Tf=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["c-item"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,e.Rgc,7),2&t){let r;e.iGM(r=e.CRH())&&(i.template=r.first)}},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),kf=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["c-badge"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,e.Rgc,7),2&t){let r;e.iGM(r=e.CRH())&&(i.template=r.first)}},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Af=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["c-search"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,e.Rgc,7),2&t){let r;e.iGM(r=e.CRH())&&(i.template=r.first)}},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Of=(()=>{class n{constructor(t){this.viewContainer=t}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.data.template,{$implicit:this.data,item:this.item})}ngOnDestroy(){this.view.destroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["c-templateRenderer"]],inputs:{data:"data",item:"item"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Pf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["c-icon"]],inputs:{name:"name"},decls:5,vars:5,consts:[["width","100%","height","100%","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 47.971 47.971","style","enable-background:new 0 0 47.971 47.971;",0,"xml","space","preserve",4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 612 612","style","enable-background:new 0 0 612 612;",0,"xml","space","preserve",4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 615.52 615.52","style","enable-background:new 0 0 615.52 615.52;",0,"xml","space","preserve",4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 51.976 51.976","style","enable-background:new 0 0 51.976 51.976;",0,"xml","space","preserve",4,"ngIf"],["width","100%","height","100%","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 47.971 47.971",0,"xml","space","preserve",2,"enable-background","new 0 0 47.971 47.971"],["d","M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\n                                c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\n                                C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\n                                s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 612 612",0,"xml","space","preserve",2,"enable-background","new 0 0 612 612"],["id","_x31_0_34_"],["d","M604.501,134.782c-9.999-10.05-26.222-10.05-36.221,0L306.014,422.558L43.721,134.782\n\t\t\t\tc-9.999-10.05-26.223-10.05-36.222,0s-9.999,26.35,0,36.399l279.103,306.241c5.331,5.357,12.422,7.652,19.386,7.296\n\t\t\t\tc6.988,0.356,14.055-1.939,19.386-7.296l279.128-306.268C614.5,161.106,614.5,144.832,604.501,134.782z"],["id","_x39__30_"],["d","M604.501,440.509L325.398,134.956c-5.331-5.357-12.423-7.627-19.386-7.27c-6.989-0.357-14.056,1.913-19.387,7.27\n\t\t\t\tL7.499,440.509c-9.999,10.024-9.999,26.298,0,36.323s26.223,10.024,36.222,0l262.293-287.164L568.28,476.832\n\t\t\t\tc9.999,10.024,26.222,10.024,36.221,0C614.5,466.809,614.5,450.534,604.501,440.509z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 615.52 615.52",0,"xml","space","preserve",2,"enable-background","new 0 0 615.52 615.52"],["id","Search__x28_and_thou_shall_find_x29_"],["d","M602.531,549.736l-184.31-185.368c26.679-37.72,42.528-83.729,42.528-133.548C460.75,103.35,357.997,0,231.258,0\n\t\t\t\t\tC104.518,0,1.765,103.35,1.765,230.82c0,127.47,102.753,230.82,229.493,230.82c49.53,0,95.271-15.944,132.78-42.777\n\t\t\t\t\tl184.31,185.366c7.482,7.521,17.292,11.291,27.102,11.291c9.812,0,19.62-3.77,27.083-11.291\n\t\t\t\t\tC617.496,589.188,617.496,564.777,602.531,549.736z M355.9,319.763l-15.042,21.273L319.7,356.174\n\t\t\t\t\tc-26.083,18.658-56.667,28.526-88.442,28.526c-84.365,0-152.995-69.035-152.995-153.88c0-84.846,68.63-153.88,152.995-153.88\n\t\t\t\t\ts152.996,69.034,152.996,153.88C384.271,262.769,374.462,293.526,355.9,319.763z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 51.976 51.976",0,"xml","space","preserve",2,"enable-background","new 0 0 51.976 51.976"],["d","M44.373,7.603c-10.137-10.137-26.632-10.138-36.77,0c-10.138,10.138-10.137,26.632,0,36.77s26.632,10.138,36.77,0\n\t\tC54.51,34.235,54.51,17.74,44.373,7.603z M36.241,36.241c-0.781,0.781-2.047,0.781-2.828,0l-7.425-7.425l-7.778,7.778\n\t\tc-0.781,0.781-2.047,0.781-2.828,0c-0.781-0.781-0.781-2.047,0-2.828l7.778-7.778l-7.425-7.425c-0.781-0.781-0.781-2.048,0-2.828\n\t\tc0.781-0.781,2.047-0.781,2.828,0l7.425,7.425l7.071-7.071c0.781-0.781,2.047-0.781,2.828,0c0.781,0.781,0.781,2.047,0,2.828\n\t\tl-7.071,7.071l7.425,7.425C37.022,34.194,37.022,35.46,36.241,36.241z"]],template:function(t,i){1&t&&(e.YNc(0,Jh,3,0,"svg",0),e.YNc(1,Wh,5,0,"svg",1),e.YNc(2,Gh,5,0,"svg",1),e.YNc(3,Qh,6,0,"svg",2),e.YNc(4,Kh,3,0,"svg",3)),2&t&&(e.Q6J("ngIf","remove"==i.name),e.xp6(1),e.Q6J("ngIf","angle-down"==i.name),e.xp6(1),e.Q6J("ngIf","angle-up"==i.name),e.xp6(1),e.Q6J("ngIf","search"==i.name),e.xp6(1),e.Q6J("ngIf","clear"==i.name))},dependencies:[C.O5],encapsulation:2}),n})();function Df(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}let jr=(()=>{class n{constructor(t,i,o,r,x,T){this.element=t,this.renderer=i,this.zone=o,this.changeDetectorRef=r,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=(L,R)=>L===R,this.vsUpdate=new e.vpe,this.vsChange=new e.vpe,this.vsStart=new e.vpe,this.vsEnd=new e.vpe,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=(0,C.PM)(x),this.scrollThrottlingTime=T.scrollThrottlingTime,this.scrollDebounceTime=T.scrollDebounceTime,this.scrollAnimationTime=T.scrollAnimationTime,this.scrollbarWidth=T.scrollbarWidth,this.scrollbarHeight=T.scrollbarHeight,this.checkResizeInterval=T.checkResizeInterval,this.resizeBypassRefreshThreshold=T.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=T.modifyOverflowStyleOfParentScroll,this.stripedTable=T.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}get viewPortInfo(){let t=this.previousViewPort||{};return{startIndex:t.startIndex||0,endIndex:t.endIndex||0,scrollStartPosition:t.scrollStartPosition||0,scrollEndPosition:t.scrollEndPosition||0,maxScrollPosition:t.maxScrollPosition||0,startIndexWithBuffer:t.startIndexWithBuffer||0,endIndexWithBuffer:t.endIndexWithBuffer||0}}get enableUnequalChildrenSizes(){return this._enableUnequalChildrenSizes}set enableUnequalChildrenSizes(t){this._enableUnequalChildrenSizes!==t&&(this._enableUnequalChildrenSizes=t,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}get bufferAmount(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0}set bufferAmount(t){this._bufferAmount=t}get scrollThrottlingTime(){return this._scrollThrottlingTime}set scrollThrottlingTime(t){this._scrollThrottlingTime=t,this.updateOnScrollFunction()}get scrollDebounceTime(){return this._scrollDebounceTime}set scrollDebounceTime(t){this._scrollDebounceTime=t,this.updateOnScrollFunction()}updateOnScrollFunction(){this.onScroll=this.scrollDebounceTime?this.debounce(()=>{this.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing(()=>{this.refresh_internal(!1)},this.scrollThrottlingTime):()=>{this.refresh_internal(!1)}}get checkResizeInterval(){return this._checkResizeInterval}set checkResizeInterval(t){this._checkResizeInterval!==t&&(this._checkResizeInterval=t,this.addScrollEventHandlers())}get items(){return this._items}set items(t){t!==this._items&&(this._items=t||[],this.refresh_internal(!0))}get horizontal(){return this._horizontal}set horizontal(t){this._horizontal=t,this.updateDirection()}revertParentOverscroll(){const t=this.getScrollElement();t&&this.oldParentScrollOverflow&&(t.style["overflow-y"]=this.oldParentScrollOverflow.y,t.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}get parentScroll(){return this._parentScroll}set parentScroll(t){if(this._parentScroll===t)return;this.revertParentOverscroll(),this._parentScroll=t,this.addScrollEventHandlers();const i=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&i!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:i.style["overflow-x"],y:i.style["overflow-y"]},i.style["overflow-y"]=this.horizontal?"visible":"auto",i.style["overflow-x"]=this.horizontal?"auto":"visible")}ngOnInit(){this.addScrollEventHandlers()}ngOnDestroy(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}ngOnChanges(t){let i=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(i||!t.items||!t.items.previousValue||0===t.items.previousValue.length)}ngDoCheck(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){let t=!1;for(let i=0;i<this.viewPortItems.length;++i)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+i],this.viewPortItems[i])){t=!0;break}t&&this.refresh_internal(!0)}}refresh(){this.refresh_internal(!0)}invalidateAllCachedMeasurements(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}invalidateCachedMeasurementForItem(t){if(this.enableUnequalChildrenSizes){let i=this.items&&this.items.indexOf(t);i>=0&&this.invalidateCachedMeasurementAtIndex(i)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}invalidateCachedMeasurementAtIndex(t){if(this.enableUnequalChildrenSizes){let i=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t];i&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=i.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=i.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}scrollInto(t,i=!0,o=0,r,x){let T=this.items.indexOf(t);-1!==T&&this.scrollToIndex(T,i,o,r,x)}scrollToIndex(t,i=!0,o=0,r,x){let T=5,L=()=>{if(--T,T<=0)return void(x&&x());let R=this.calculateDimensions(),J=Math.min(Math.max(t,0),R.itemCount-1);this.previousViewPort.startIndex!==J?this.scrollToIndex_internal(t,i,o,0,L):x&&x()};this.scrollToIndex_internal(t,i,o,r,L)}scrollToIndex_internal(t,i=!0,o=0,r,x){r=void 0===r?this.scrollAnimationTime:r;let T=this.calculateDimensions(),L=this.calculatePadding(t,T)+o;i||(L-=T.wrapGroupsPerPage*T[this._childScrollDim]),this.scrollToPosition(L,r,x)}scrollToPosition(t,i,o){t+=this.getElementsOffset(),i=void 0===i?this.scrollAnimationTime:i;let x,r=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!i)return this.renderer.setProperty(r,this._scrollType,t),void this.refresh_internal(!1,o);const T={scrollPosition:r[this._scrollType]};let L=new Zr.Tween(T).to({scrollPosition:t},i).easing(Zr.Easing.Quadratic.Out).onUpdate(J=>{isNaN(J.scrollPosition)||(this.renderer.setProperty(r,this._scrollType,J.scrollPosition),this.refresh_internal(!1))}).onStop(()=>{cancelAnimationFrame(x)}).start();const R=J=>{if(L.isPlaying()){if(L.update(J),T.scrollPosition===t)return void this.refresh_internal(!1,o);this.zone.runOutsideAngular(()=>{x=requestAnimationFrame(R)})}};R(),this.currentTween=L}getElementSize(t){let i=t.getBoundingClientRect(),o=getComputedStyle(t),r=parseInt(o["margin-top"],10)||0,x=parseInt(o["margin-bottom"],10)||0,T=parseInt(o["margin-left"],10)||0,L=parseInt(o["margin-right"],10)||0;return{top:i.top+r,bottom:i.bottom+x,left:i.left+T,right:i.right+L,width:i.width+T+L,height:i.height+r+x}}checkScrollElementResized(){let i,t=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){let o=Math.abs(t.width-this.previousScrollBoundingRect.width),r=Math.abs(t.height-this.previousScrollBoundingRect.height);i=o>this.resizeBypassRefreshThreshold||r>this.resizeBypassRefreshThreshold}else i=!0;i&&(this.previousScrollBoundingRect=t,t.width>0&&t.height>0&&this.refresh_internal(!1))}updateDirection(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")}debounce(t,i){const o=this.throttleTrailing(t,i),r=function(){o.cancel(),o.apply(this,arguments)};return r.cancel=function(){o.cancel()},r}throttleTrailing(t,i){let o,r=arguments;const x=function(){const T=this;r=arguments,!o&&(i<=0?t.apply(T,r):o=setTimeout(function(){o=void 0,t.apply(T,r)},i))};return x.cancel=function(){o&&(clearTimeout(o),o=void 0)},x}refresh_internal(t,i,o=2){if(t&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){let r=this.previousViewPort,x=this.viewPortItems,T=i;i=()=>{let L=this.previousViewPort.scrollLength-r.scrollLength;if(L>0&&this.viewPortItems){let R=x[0],J=this.items.findIndex(se=>this.compareItems(R,se));if(J>this.previousViewPort.startIndexWithBuffer){let se=!1;for(let me=1;me<this.viewPortItems.length;++me)if(!this.compareItems(this.items[J+me],x[me])){se=!0;break}if(!se)return void this.scrollToPosition(this.previousViewPort.scrollStartPosition+L,0,T)}}T&&T()}}this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t&&this.resetWrapGroupDimensions();let r=this.calculateViewport(),x=t||r.startIndex!==this.previousViewPort.startIndex,T=t||r.endIndex!==this.previousViewPort.endIndex,L=r.scrollLength!==this.previousViewPort.scrollLength,R=r.padding!==this.previousViewPort.padding,J=r.scrollStartPosition!==this.previousViewPort.scrollStartPosition||r.scrollEndPosition!==this.previousViewPort.scrollEndPosition||r.maxScrollPosition!==this.previousViewPort.maxScrollPosition;if(this.previousViewPort=r,L&&this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,this._invisiblePaddingProperty,`${r.scrollLength}px`),R&&(this.useMarginInsteadOfTranslate?this.renderer.setStyle(this.contentElementRef.nativeElement,this._marginDir,`${r.padding}px`):(this.renderer.setStyle(this.contentElementRef.nativeElement,"transform",`${this._translateDir}(${r.padding}px)`),this.renderer.setStyle(this.contentElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${r.padding}px)`))),this.headerElementRef){let me=this.getScrollElement()[this._scrollType],Me=this.getElementsOffset(),Ae=Math.max(me-r.padding-Me+this.headerElementRef.nativeElement.clientHeight,0);this.renderer.setStyle(this.headerElementRef.nativeElement,"transform",`${this._translateDir}(${Ae}px)`),this.renderer.setStyle(this.headerElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${Ae}px)`)}const se=x||T?{startIndex:r.startIndex,endIndex:r.endIndex,scrollStartPosition:r.scrollStartPosition,scrollEndPosition:r.scrollEndPosition,startIndexWithBuffer:r.startIndexWithBuffer,endIndexWithBuffer:r.endIndexWithBuffer,maxScrollPosition:r.maxScrollPosition}:void 0;if(x||T||J){const me=()=>{this.viewPortItems=r.startIndexWithBuffer>=0&&r.endIndexWithBuffer>=0?this.items.slice(r.startIndexWithBuffer,r.endIndexWithBuffer+1):[],this.vsUpdate.emit(this.viewPortItems),x&&this.vsStart.emit(se),T&&this.vsEnd.emit(se),(x||T)&&(this.changeDetectorRef.markForCheck(),this.vsChange.emit(se)),o>0?this.refresh_internal(!1,i,o-1):i&&i()};this.executeRefreshOutsideAngularZone?me():this.zone.run(me)}else{if(o>0&&(L||R))return void this.refresh_internal(!1,i,o-1);i&&i()}})})}getScrollElement(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}addScrollEventHandlers(){if(this.isAngularUniversalSSR)return;let t=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(()=>{this.parentScroll instanceof Window?(this.disposeScrollHandler=this.renderer.listen("window","scroll",this.onScroll),this.disposeResizeHandler=this.renderer.listen("window","resize",this.onScroll)):(this.disposeScrollHandler=this.renderer.listen(t,"scroll",this.onScroll),this._checkResizeInterval>0&&(this.checkScrollElementResizedTimer=setInterval(()=>{this.checkScrollElementResized()},this._checkResizeInterval)))})}removeScrollEventHandlers(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}getElementsOffset(){if(this.isAngularUniversalSSR)return 0;let t=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){let i=this.getScrollElement(),o=this.getElementSize(this.element.nativeElement),r=this.getElementSize(i);t+=this.horizontal?o.left-r.left:o.top-r.top,this.parentScroll instanceof Window||(t+=i[this._scrollType])}return t}countItemsPerWrapGroup(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);let t=this.horizontal?"offsetLeft":"offsetTop",i=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,o=i?i.length:0;if(0===o)return 1;let r=i[0][t],x=1;for(;x<o&&r===i[x][t];)++x;return x}getScrollStartPosition(){let t;return this.parentScroll instanceof Window&&(t=window[this._pageOffsetType]),t||this.getScrollElement()[this._scrollType]||0}resetWrapGroupDimensions(){const t=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),!this.enableUnequalChildrenSizes||!t||0===t.numberOfKnownWrapGroupChildSizes)return;const i=this.countItemsPerWrapGroup();for(let o=0;o<t.maxChildSizePerWrapGroup.length;++o){const r=t.maxChildSizePerWrapGroup[o];if(!r||!r.items||!r.items.length)continue;if(r.items.length!==i)return;let x=!1,T=i*o;for(let L=0;L<i;++L)if(!this.compareItems(r.items[L],this.items[T+L])){x=!0;break}x||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=r.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=r.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[o]=r)}}calculateDimensions(){let t=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(t.offsetHeight-t.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(t.offsetWidth-t.clientWidth,25),this.calculatedScrollbarWidth);let L,R,J,o=t.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),r=t.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),x=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,T=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){o=this.ssrViewportWidth,r=this.ssrViewportHeight,R=this.ssrChildWidth,J=this.ssrChildHeight;let We=Math.max(Math.ceil(o/R),1),ze=Math.max(Math.ceil(r/J),1);L=this.horizontal?We:ze}else if(this.enableUnequalChildrenSizes){let We=t[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),ze=this.previousViewPort.startIndexWithBuffer||0,Pt=Math.ceil(ze/T),vt=0,qt=0,Pn=0,Vt=0;L=0;for(let Dn=0;Dn<x.children.length;++Dn){++ze;let vn=this.getElementSize(x.children[Dn]);if(vt=Math.max(vt,vn.width),qt=Math.max(qt,vn.height),ze%T==0){let ln=this.wrapGroupDimensions.maxChildSizePerWrapGroup[Pt];ln&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=ln.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=ln.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;const cn=this.items.slice(ze-T,ze);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[Pt]={childWidth:vt,childHeight:qt,items:cn},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=vt,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=qt,this.horizontal){let Dt=Math.min(vt,Math.max(o-Pn,0));if(We>0){let Xt=Math.min(We,Dt);Dt-=Xt,We-=Xt}Pn+=Dt,Dt>0&&o>=Pn&&++L}else{let Dt=Math.min(qt,Math.max(r-Vt,0));if(We>0){let Xt=Math.min(We,Dt);Dt-=Xt,We-=Xt}Vt+=Dt,Dt>0&&r>=Vt&&++L}++Pt,vt=0,qt=0}}let $n=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,vi=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;R=this.childWidth||$n||o,J=this.childHeight||vi||r,this.horizontal?o>Pn&&(L+=Math.ceil((o-Pn)/R)):r>Vt&&(L+=Math.ceil((r-Vt)/J))}else{if(x.children.length>0){(!this.childWidth||!this.childHeight)&&(!this.minMeasuredChildWidth&&o>0&&(this.minMeasuredChildWidth=o),!this.minMeasuredChildHeight&&r>0&&(this.minMeasuredChildHeight=r));let vt=this.getElementSize(x.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,vt.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,vt.height)}R=this.childWidth||this.minMeasuredChildWidth||o,J=this.childHeight||this.minMeasuredChildHeight||r;let We=Math.max(Math.ceil(o/R),1),ze=Math.max(Math.ceil(r/J),1);L=this.horizontal?We:ze}let se=this.items.length,me=T*L,Me=se/me,Ae=Math.ceil(se/T),Re=0,Ne=this.horizontal?R:J;if(this.enableUnequalChildrenSizes){let We=0;for(let ze=0;ze<Ae;++ze){let Pt=this.wrapGroupDimensions.maxChildSizePerWrapGroup[ze]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[ze][this._childScrollDim];Pt?Re+=Pt:++We}Re+=Math.round(We*Ne)}else Re=Ae*Ne;this.headerElementRef&&(Re+=this.headerElementRef.nativeElement.clientHeight);let Ye=this.horizontal?o:r;return{itemCount:se,itemsPerWrapGroup:T,wrapGroupsPerPage:L,itemsPerPage:me,pageCount_fractional:Me,childWidth:R,childHeight:J,scrollLength:Re,viewportLength:Ye,maxScrollPosition:Math.max(Re-Ye,0)}}calculatePadding(t,i){if(0===i.itemCount)return 0;let o=i[this._childScrollDim],r=Math.floor(t/i.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return o*r;let x=0,T=0;for(let L=0;L<r;++L){let R=this.wrapGroupDimensions.maxChildSizePerWrapGroup[L]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[L][this._childScrollDim];R?T+=R:++x}return T+=Math.round(x*o),T}calculatePageInfo(t,i){let o=0;if(this.enableUnequalChildrenSizes){const Me=Math.ceil(i.itemCount/i.itemsPerWrapGroup);let Ae=0,Re=i[this._childScrollDim];for(let Ne=0;Ne<Me;++Ne){if(Ae+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[Ne]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[Ne][this._childScrollDim]||Re,t<Ae){o=Ne/Me;break}}}else o=t/i.scrollLength;let r=Math.min(Math.max(o*i.pageCount_fractional,0),i.pageCount_fractional)*i.itemsPerPage,x=i.itemCount-i.itemsPerPage-1,T=Math.min(Math.floor(r),x);if(T-=T%i.itemsPerWrapGroup,this.stripedTable){let Me=2*i.itemsPerWrapGroup;T%Me!=0&&(T=Math.max(T-T%Me,0))}let L=Math.ceil(r)+i.itemsPerPage-1,R=(L+1)%i.itemsPerWrapGroup;R>0&&(L+=i.itemsPerWrapGroup-R),isNaN(T)&&(T=0),isNaN(L)&&(L=0),T=Math.min(Math.max(T,0),i.itemCount-1),L=Math.min(Math.max(L,0),i.itemCount-1);let J=this.bufferAmount*i.itemsPerWrapGroup;return{startIndex:T,endIndex:L,startIndexWithBuffer:Math.min(Math.max(T-J,0),i.itemCount-1),endIndexWithBuffer:Math.min(Math.max(L+J,0),i.itemCount-1),scrollStartPosition:t,scrollEndPosition:t+i.viewportLength,maxScrollPosition:i.maxScrollPosition}}calculateViewport(){let t=this.calculateDimensions(),i=this.getElementsOffset(),o=this.getScrollStartPosition();o>t.scrollLength+i&&!(this.parentScroll instanceof Window)?o=t.scrollLength:o-=i,o=Math.max(0,o);let r=this.calculatePageInfo(o,t),x=this.calculatePadding(r.startIndexWithBuffer,t),T=t.scrollLength;return{startIndex:r.startIndex,endIndex:r.endIndex,startIndexWithBuffer:r.startIndexWithBuffer,endIndexWithBuffer:r.endIndexWithBuffer,padding:Math.round(x),scrollLength:Math.round(T),scrollStartPosition:r.scrollStartPosition,scrollEndPosition:r.scrollEndPosition,maxScrollPosition:r.maxScrollPosition}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.Lbi),e.Y36("virtual-scroller-default-options",8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,$h,5,e.SBq),e.Suo(o,Xh,5,e.SBq)),2&t){let r;e.iGM(r=e.CRH())&&(i.headerElementRef=r.first),e.iGM(r=e.CRH())&&(i.containerElementRef=r.first)}},viewQuery:function(t,i){if(1&t&&(e.Gf(eu,5,e.SBq),e.Gf(tu,5,e.SBq)),2&t){let o;e.iGM(o=e.CRH())&&(i.contentElementRef=o.first),e.iGM(o=e.CRH())&&(i.invisiblePaddingElementRef=o.first)}},hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("horizontal",i.horizontal)("vertical",!i.horizontal)("selfScroll",!i.parentScroll)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",scrollThrottlingTime:"scrollThrottlingTime",scrollDebounceTime:"scrollDebounceTime",scrollAnimationTime:"scrollAnimationTime",scrollbarWidth:"scrollbarWidth",scrollbarHeight:"scrollbarHeight",checkResizeInterval:"checkResizeInterval",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[e.TTD],ngContentSelectors:nu,decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(t,i){1&t&&(e.F$t(),e._UZ(0,"div",0,1),e.TgZ(2,"div",2,3),e.Hsn(4),e.qZA())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%] {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\tdisplay: flex;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding[_ngcontent-%COMP%] {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),n})(),Ef=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:"virtual-scroller-default-options",useFactory:Df}],imports:[C.ez]}),n})();const Lf={provide:w.JU,useExisting:(0,e.Gpc)(()=>eo),multi:!0},Ff={provide:w.Cf,useExisting:(0,e.Gpc)(()=>eo),multi:!0},qr=()=>{};let eo=(()=>{class n{constructor(t,i,o){this._elementRef=t,this.cdr=i,this.filterPipe=o,this.onSelect=new e.vpe,this.onDeSelect=new e.vpe,this.onSelectAll=new e.vpe,this.onDeSelectAll=new e.vpe,this.onOpen=new e.vpe,this.onClose=new e.vpe,this.onScrollToEnd=new e.vpe,this.onFilterSelectAll=new e.vpe,this.onFilterDeSelectAll=new e.vpe,this.onAddFilterNewItem=new e.vpe,this.onGroupSelect=new e.vpe,this.onGroupDeSelect=new e.vpe,this.virtualdata=[],this.searchTerm$=new Cn.x,this.isActive=!1,this.isSelectAll=!1,this.isFilterSelectAll=!1,this.isInfiniteFilterSelectAll=!1,this.chunkIndex=[],this.cachedItems=[],this.groupCachedItems=[],this.itemHeight=41.6,this.filterLength=0,this.infiniteFilterLength=0,this.dropdownListYOffset=0,this.dropDownWidth=0,this.dropDownTop=0,this.dropDownLeft=0,this.id=Math.random().toString(36).substring(2),this.defaultSettings={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",filterSelectAllText:"Select all filtered results",filterUnSelectAllText:"UnSelect all filtered results",enableSearchFilter:!1,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"itemName",primaryKey:"id",position:"bottom",autoPosition:!0,enableFilterSelectAll:!0,selectGroup:!1,addNewItemOnFilter:!1,addNewButtonText:"Add",escapeToClose:!0,clearAll:!0,tagToBody:!0},this.randomSize=!0,this.filteredList=[],this.virtualScroollInit=!1,this.isDisabledItemPresent=!1,this.onTouchedCallback=qr,this.onChangeCallback=qr,this.searchTerm$.asObservable().pipe(Bo(1e3),(0,$i.x)(),(0,Or.b)(r=>r)).subscribe(r=>{this.filterInfiniteList(r)})}onEscapeDown(t){this.settings.escapeToClose&&this.closeDropdown()}onScroll(t){this.isActive&&this.closeDropdown()}ngOnInit(){this.settings=Object.assign(this.defaultSettings,this.settings),this.cachedItems=this.cloneArray(this.data),"top"==this.settings.position&&setTimeout(()=>{this.selectedListHeight={val:0},this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight}),setTimeout(()=>{this.calculateDropdownDirection()}),this.virtualScroollInit=!1}onKeyUp(t){this.searchTerm$.next(t.target.value)}ngOnChanges(t){t.data&&!t.data.firstChange&&(this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),0==this.data.length&&(this.selectedItems=[]),this.groupCachedItems=this.cloneArray(this.groupedData)),this.cachedItems=this.cloneArray(this.data)),t.settings&&!t.settings.firstChange&&(this.settings=Object.assign(this.defaultSettings,this.settings)),this.settings.lazyLoading&&this.virtualScroollInit&&t.data&&(this.virtualdata=t.data.currentValue)}ngDoCheck(){this.selectedItems&&(0==this.selectedItems.length||0==this.data.length||this.selectedItems.length<this.data.length)&&(this.isSelectAll=!1)}ngAfterViewInit(){}ngAfterViewChecked(){this.selectedListElem.nativeElement.clientHeight&&"top"==this.settings.position&&this.selectedListHeight&&(this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight,this.cdr.detectChanges())}onItemClick(t,i,o){if(t.disabled||this.settings.disabled)return;let r=this.isSelected(t),x=this.selectedItems.length<this.settings.limitSelection;r?(this.removeSelected(t),this.onDeSelect.emit(t)):this.settings.limitSelection?x&&(this.addSelected(t),this.onSelect.emit(t)):(this.addSelected(t),this.onSelect.emit(t)),(this.isSelectAll||this.data.length>this.selectedItems.length)&&(this.isSelectAll=!1),this.data.length==this.selectedItems.length&&(this.isSelectAll=!0),this.settings.groupBy&&this.updateGroupInfo(t)}validate(t){return null}writeValue(t){if(null!=t&&""!==t)if(this.settings.singleSelection)if(this.settings.groupBy)this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData),this.selectedItems=[t[0]];else try{if(t.length>1)throw this.selectedItems=[t[0]],new Mf(404,{msg:"Single Selection Mode, Selected Items cannot have more than one item."});this.selectedItems=t}catch(i){console.error(i.body.msg)}else this.selectedItems=this.settings.limitSelection?t.slice(0,this.settings.limitSelection):t,this.selectedItems.length===this.data.length&&this.data.length>0&&(this.isSelectAll=!0),this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData));else this.selectedItems=[]}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}trackByFn(t,i){return i[this.settings.primaryKey]}isSelected(t){if(t.disabled)return!1;let i=!1;return this.selectedItems&&this.selectedItems.forEach(o=>{t[this.settings.primaryKey]===o[this.settings.primaryKey]&&(i=!0)}),i}addSelected(t){t.disabled||(this.settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t),this.closeDropdown()):this.selectedItems.push(t),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems))}removeSelected(t){this.selectedItems&&this.selectedItems.forEach(i=>{t[this.settings.primaryKey]===i[this.settings.primaryKey]&&this.selectedItems.splice(this.selectedItems.indexOf(i),1)}),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems)}toggleDropdown(t){this.settings.disabled||(this.isActive=!this.isActive,this.isActive?(this.openDropdown(),this.calculateDropdownDirection()):this.closeDropdown(),this.settings.lazyLoading&&(this.virtualdata=this.data,this.virtualScroollInit=!0),t.preventDefault())}openDropdown(){this.settings.disabled||(this.isActive=!0,this.settings.searchAutofocus&&this.searchInput&&this.settings.enableSearchFilter&&!this.searchTempl&&setTimeout(()=>{this.searchInput.nativeElement.focus()},0),this.onOpen.emit(!0))}closeDropdown(){this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.onClose.emit(!1)}closeDropdownOnClickOut(){this.isActive&&(this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.clearSearch(),this.onClose.emit(!1))}toggleSelectAll(t){this.isSelectAll?(this.settings.groupBy&&(this.groupedData.forEach(i=>{i.selected=!1}),this.groupCachedItems.forEach(i=>{i.selected=!1})),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)):(this.selectedItems=[],this.settings.groupBy&&(this.groupedData.forEach(i=>{i.selected=!i.disabled}),this.groupCachedItems.forEach(i=>{i.selected=!i.disabled})),this.selectedItems=this.data.filter(i=>!i.disabled),this.isSelectAll=!0,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onSelectAll.emit(this.selectedItems)),setTimeout(()=>{this.calculateDropdownDirection()}),t.stopPropagation()}filterGroupedList(){""!=this.filter&&null!=this.filter?(this.groupedData=this.cloneArray(this.groupCachedItems),this.groupedData=this.groupedData.filter(t=>{let i=[];return i=t[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1?t.list:t.list.filter(o=>o[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1),t.list=i,t[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1?i:i.some(o=>o[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1)})):this.clearSearch()}toggleFilterSelectAll(){if(this.isFilterSelectAll){let t=[];this.settings.groupBy?(this.groupedData.forEach(i=>{i.list&&i.list.forEach(o=>{this.isSelected(o)&&(this.removeSelected(o),t.push(o))}),this.updateGroupInfo(i)}),this.filteredList.forEach(i=>{this.isSelected(i)&&(this.removeSelected(i),t.push(i))})):this.filteredList.forEach(i=>{this.isSelected(i)&&(this.removeSelected(i),t.push(i))}),this.isFilterSelectAll=!1,this.onFilterDeSelectAll.emit(t)}else{let t=[];this.settings.groupBy?(this.groupedData.forEach(i=>{i.list&&i.list.forEach(o=>{this.isSelected(o)||(this.addSelected(o),t.push(o))}),this.updateGroupInfo(i)}),this.filteredList.forEach(i=>{!this.isSelected(i)&&!i.hasOwnProperty("grpTitle")&&(this.addSelected(i),t.push(i))})):this.filteredList.forEach(i=>{this.isSelected(i)||(this.addSelected(i),t.push(i))}),this.isFilterSelectAll=!0,this.onFilterSelectAll.emit(t)}}toggleInfiniteFilterSelectAll(){this.isInfiniteFilterSelectAll?(this.virtualdata.forEach(t=>{this.isSelected(t)&&this.removeSelected(t)}),this.isInfiniteFilterSelectAll=!1):(this.virtualdata.forEach(t=>{this.isSelected(t)||this.addSelected(t)}),this.isInfiniteFilterSelectAll=!0)}clearSearch(){this.settings.groupBy&&(this.groupedData=[],this.groupedData=this.cloneArray(this.groupCachedItems)),this.filter="",this.isFilterSelectAll=!1,this.data=this.cachedItems}onFilterChange(t){(this.filter&&""==this.filter||0==t.length)&&(this.isFilterSelectAll=!1,this.data=this.cachedItems.slice());let i=0;t.forEach(o=>{!o.hasOwnProperty("grpTitle")&&this.isSelected(o)&&i++}),i>0&&this.filterLength==i?this.isFilterSelectAll=!0:i>0&&this.filterLength!=i&&(this.isFilterSelectAll=!1),this.data=t}cloneArray(t){if(Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"==typeof t)throw"Cannot clone array containing an object!";return t}updateGroupInfo(t){if(t.disabled)return;let i=this.settings.groupBy;this.groupedData.forEach(o=>{let r=0;o.grpTitle&&t[i]==o[i]&&o.list&&o.list.forEach(x=>{this.isSelected(x)&&r++}),o.list&&r===o.list.length&&t[i]==o[i]?o.selected=!0:o.list&&r!=o.list.length&&t[i]==o[i]&&(o.selected=!1)}),this.groupCachedItems.forEach(o=>{let r=0;o.grpTitle&&t[i]==o[i]&&o.list&&o.list.forEach(x=>{this.isSelected(x)&&r++}),o.list&&r===o.list.length&&t[i]==o[i]?o.selected=!0:o.list&&r!=o.list.length&&t[i]==o[i]&&(o.selected=!1)})}transformData(t,i){const o=t.reduce((x,T)=>(x[T[i]]?x[T[i]].push(T):x[T[i]]=[T],x),{}),r=[];return Object.keys(o).map(x=>{let T={},L=[];T.grpTitle=!0,T[this.settings.labelKey]=x,T[this.settings.groupBy]=x,T.selected=!1,T.list=[];let R=0;o[x].forEach(J=>{J.list=[],J.disabled&&(this.isDisabledItemPresent=!0,L.push(J)),T.list.push(J),this.isSelected(J)&&R++}),T.selected=R==T.list.length,T.disabled=L.length===o[x].length,r.push(T)}),r}filterInfiniteList(t){let i=[];if(this.settings.groupBy?this.groupedData=this.groupCachedItems.slice():(this.data=this.cachedItems.slice(),this.virtualdata=this.cachedItems.slice()),(null!=t||""!=t)&&!this.settings.groupBy){if(this.settings.searchBy.length>0)for(let o=0;o<this.settings.searchBy.length;o++)this.virtualdata.filter(r=>{r[this.settings.searchBy[o].toString()].toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0&&i.push(r)});else this.virtualdata.filter(function(o){for(let r in o)if(o[r].toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0){i.push(o);break}});this.virtualdata=[],this.virtualdata=i,this.infiniteFilterLength=this.virtualdata.length}""!=t.toString()&&this.settings.groupBy?(this.groupedData.filter(function(o){if(o.hasOwnProperty("grpTitle"))i.push(o);else for(let r in o)if(o[r].toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0){i.push(o);break}}),this.groupedData=[],this.groupedData=i,this.infiniteFilterLength=this.groupedData.length):""==t.toString()&&this.cachedItems.length>0&&(this.virtualdata=[],this.virtualdata=this.cachedItems,this.infiniteFilterLength=0),this.virtualScroller.refresh()}resetInfiniteSearch(){this.filter="",this.isInfiniteFilterSelectAll=!1,this.virtualdata=[],this.virtualdata=this.cachedItems,this.groupedData=this.groupCachedItems,this.infiniteFilterLength=0}onScrollEnd(t){this.onScrollToEnd.emit(t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectGroup(t){t.disabled||(t.selected?(t.selected=!1,t.list.forEach(i=>{this.removeSelected(i)}),this.onGroupDeSelect.emit(t),this.updateGroupInfo(t)):(t.selected=!0,t.list.forEach(i=>{this.isSelected(i)||this.addSelected(i)}),this.onGroupSelect.emit(t),this.updateGroupInfo(t)))}addFilterNewItem(){this.onAddFilterNewItem.emit(this.filter),this.filterPipe.transform(this.data,this.filter,this.settings.searchBy)}calculateDropdownDirection(){const i=this.cuppaDropdown.nativeElement;if(this.dropDownWidth=i.clientWidth,this.dropDownLeft=i.getBoundingClientRect().x,"top"!=this.settings.position||this.settings.autoPosition?"bottom"==this.settings.position&&!this.settings.autoPosition&&this.openTowardsTop(!1):this.openTowardsTop(!0),this.settings.autoPosition){const r=this.defaultSettings.maxHeight,x=document.documentElement.clientHeight,T=this.selectedListElem.nativeElement.getBoundingClientRect(),L=T.top;this.openTowardsTop(x-T.top<L&&r<L)}}openTowardsTop(t){const i=this.cuppaDropdown.nativeElement;t&&this.selectedListElem.nativeElement.clientHeight?(this.dropdownListYOffset=15-this.selectedListElem.nativeElement.clientHeight,this.dropDownTop=i.getBoundingClientRect().y-2*this.selectedListElem.nativeElement.clientHeight-15-this.defaultSettings.maxHeight,this.settings.position="top"):(this.dropDownTop=i.getBoundingClientRect().y+i.clientHeight+1,this.dropdownListYOffset=0,this.settings.position="bottom")}clearSelection(t){this.settings.groupBy&&this.groupCachedItems.forEach(i=>{i.selected=!1}),this.clearSearch(),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)}filteritems(t){if(this.filteredList=this.filterPipe.transform(this.cachedItems,t.target.value,this.settings.searchBy),this.filteredList){let i=0;this.filteredList.forEach((o,r)=>{o.disabled&&(this.isDisabledItemPresent=!0),o.hasOwnProperty("grpTitle")||i++}),this.filterLength=i}this.onFilterChange(this.filteredList)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Ur))},n.\u0275cmp=e.Xpm({type:n,selectors:[["angular2-multiselect"]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,Tf,5),e.Suo(o,kf,5),e.Suo(o,Af,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.itemTempl=r.first),e.iGM(r=e.CRH())&&(i.badgeTempl=r.first),e.iGM(r=e.CRH())&&(i.searchTempl=r.first)}},viewQuery:function(t,i){if(1&t&&(e.Gf(iu,5),e.Gf(ou,5),e.Gf(su,5),e.Gf(ru,5),e.Gf(jr,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.searchInput=o.first),e.iGM(o=e.CRH())&&(i.selectedListElem=o.first),e.iGM(o=e.CRH())&&(i.dropdownListElem=o.first),e.iGM(o=e.CRH())&&(i.cuppaDropdown=o.first),e.iGM(o=e.CRH())&&(i.virtualScroller=o.first)}},hostVars:2,hostBindings:function(t,i){1&t&&e.NdJ("keyup.escape",function(r){return i.onEscapeDown(r)},!1,e.evT)("scroll",function(r){return i.onScroll(r)},!1,e.Jf7),2&t&&e.Tol(i.defaultSettings.classes)},inputs:{settings:"settings",data:"data",loading:"loading"},outputs:{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll",onOpen:"onOpen",onClose:"onClose",onScrollToEnd:"onScrollToEnd",onFilterSelectAll:"onFilterSelectAll",onFilterDeSelectAll:"onFilterDeSelectAll",onAddFilterNewItem:"onAddFilterNewItem",onGroupSelect:"onGroupSelect",onGroupDeSelect:"onGroupDeSelect"},features:[e._Bn([Lf,Ff]),e.TTD],decls:33,vars:45,consts:[[1,"cuppa-dropdown",3,"clickOutside"],["cuppaDropdown",""],[1,"selected-list"],["selectedList",""],[1,"c-btn",3,"ngClass","click"],[4,"ngIf"],["class","c-list",4,"ngIf"],["class","countplaceholder",4,"ngIf"],["class","c-remove clear-all",3,"click",4,"ngIf"],["class","c-angle-down",4,"ngIf"],["class","c-angle-up",4,"ngIf"],[1,"dropdown-list","tagToBody","animated","fadeIn",3,"hidden"],["dropdownList",""],[1,"arrow-2",3,"ngClass"],[3,"ngClass"],[1,"list-area",3,"ngClass"],["class","pure-checkbox select-all",4,"ngIf"],["class","loading-icon","src","assets/img/loading.gif",4,"ngIf"],["class","list-filter",4,"ngIf"],["class","filter-select-all",4,"ngIf"],["style","overflow: auto;",3,"maxHeight",4,"ngIf"],["class","list-message",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-list"],["class","c-token",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-token"],["class","c-label",4,"ngIf"],[1,"c-remove",3,"click"],[3,"name"],[1,"c-label"],[3,"data","item"],["class","c-token",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-token",3,"hidden"],[1,"countplaceholder"],[1,"c-remove","clear-all",3,"click"],[1,"c-angle-down"],[1,"c-angle-up"],[1,"pure-checkbox","select-all"],["type","checkbox",3,"checked","disabled","id","change",4,"ngIf"],[3,"for"],[3,"hidden"],["type","checkbox",3,"checked","disabled","id","change"],["src","assets/img/loading.gif",1,"loading-icon"],[1,"list-filter"],["id","searchIcon",1,"c-search"],["class","c-clear",3,"hidden","click",4,"ngIf"],["class","c-input","type","text","aria-labelledby","searchIcon",3,"placeholder","ngModel","ngModelChange","keyup",4,"ngIf"],[3,"data","item",4,"ngIf"],[1,"c-clear",3,"hidden","click"],["type","text","aria-labelledby","searchIcon",1,"c-input",3,"placeholder","ngModel","ngModelChange","keyup"],["searchInput",""],[1,"filter-select-all"],["class","pure-checkbox select-all",3,"click",4,"ngIf"],[1,"pure-checkbox","select-all",3,"click"],["type","checkbox","aria-labelledby","optionName","aria-label","option",3,"checked","disabled"],["type","checkbox","aria-labelledby","option",3,"checked","disabled"],["class","btn-container",4,"ngIf"],[1,"btn-container"],[1,"c-btn","btn-iceblue",3,"click"],[2,"overflow","auto"],[1,"lazyContainer"],["class","pure-checkbox",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pure-checkbox",3,"ngClass","click"],["type","checkbox","aria-labelledby","option",3,"checked","disabled",4,"ngIf"],["virtualScroller","",1,"lazyContainer",3,"enableUnequalChildrenSizes","items","ngStyle","vsStart","vsEnd"],["scroll",""],["type","checkbox",3,"checked","disabled",4,"ngIf"],["type","checkbox",3,"checked","disabled"],["scroll2",""],["scroll3",""],[4,"ngFor","ngForOf"],["class","pure-checkbox",3,"ngClass","click",4,"ngIf"],["class","pure-checkbox",3,"ngClass",4,"ngIf"],[1,"pure-checkbox",3,"ngClass"],[3,"items","ngStyle","vsUpdate","vsEnd"],["scroll4",""],[1,"list-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("clickOutside",function(){return i.closeDropdownOnClickOut()}),e.TgZ(2,"div",2,3)(4,"div",4),e.NdJ("click",function(r){return i.toggleDropdown(r)}),e.YNc(5,au,2,1,"span",5),e.YNc(6,cu,2,2,"span",5),e.YNc(7,fu,2,2,"span",6),e.YNc(8,mu,2,2,"div",6),e.YNc(9,vu,2,1,"span",7),e.YNc(10,bu,2,1,"span",8),e.YNc(11,Cu,2,1,"span",9),e.YNc(12,yu,2,1,"span",10),e.qZA()(),e.TgZ(13,"div",11,12),e._UZ(15,"div",13)(16,"div",14),e.TgZ(17,"div",15),e.YNc(18,wu,7,6,"div",16),e.YNc(19,Mu,1,0,"img",17),e.YNc(20,Du,9,7,"div",18),e.YNc(21,Fu,3,2,"div",19),e.YNc(22,Nu,2,1,"div",19),e.YNc(23,Zu,2,1,"div",19),e.YNc(24,Yu,3,3,"div",20),e.YNc(25,qu,4,8,"div",20),e.YNc(26,Ju,3,3,"div",20),e.YNc(27,Qu,4,8,"div",20),e.YNc(28,nf,4,8,"div",20),e.YNc(29,lf,3,3,"div",20),e.YNc(30,pf,5,12,"div",20),e.YNc(31,Cf,3,3,"div",20),e.YNc(32,yf,2,1,"h5",21),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngClass",e.VKq(35,xf,i.settings.disabled)),e.uIk("tabindex",0),e.xp6(1),e.Q6J("ngIf",0==(null==i.selectedItems?null:i.selectedItems.length)),e.xp6(1),e.Q6J("ngIf",i.settings.singleSelection&&!i.badgeTempl),e.xp6(1),e.Q6J("ngIf",(null==i.selectedItems?null:i.selectedItems.length)>0&&i.settings.singleSelection&&i.badgeTempl),e.xp6(1),e.Q6J("ngIf",(null==i.selectedItems?null:i.selectedItems.length)>0&&!i.settings.singleSelection),e.xp6(1),e.Q6J("ngIf",(null==i.selectedItems?null:i.selectedItems.length)>i.settings.badgeShowLimit),e.xp6(1),e.Q6J("ngIf",i.settings.clearAll&&(null==i.selectedItems?null:i.selectedItems.length)>0&&!i.settings.disabled),e.xp6(1),e.Q6J("ngIf",!i.isActive),e.xp6(1),e.Q6J("ngIf",i.isActive),e.xp6(1),e.Udp("width",i.dropDownWidth,"px")("top",i.dropDownTop,"px")("left",i.dropDownLeft,"px"),e.Q6J("hidden",!i.isActive),e.xp6(2),e.Q6J("ngClass",e.WLB(37,Hr,"bottom"==i.settings.position,"top"==i.settings.position)),e.xp6(1),e.Q6J("ngClass",e.WLB(40,Hr,"bottom"==i.settings.position,"top"==i.settings.position)),e.xp6(1),e.Q6J("ngClass",e.VKq(43,wf,i.settings.singleSelection)),e.xp6(1),e.Q6J("ngIf",i.settings.enableCheckAll&&!i.settings.singleSelection&&!i.settings.limitSelection&&(null==i.data?null:i.data.length)>0&&!i.isDisabledItemPresent),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",i.settings.enableSearchFilter),e.xp6(1),e.Q6J("ngIf",!i.settings.lazyLoading&&i.settings.enableFilterSelectAll&&!i.isDisabledItemPresent),e.xp6(1),e.Q6J("ngIf",i.settings.lazyLoading&&i.settings.enableFilterSelectAll&&!i.isDisabledItemPresent&&!i.settings.singleSelection),e.xp6(1),e.Q6J("ngIf",null==i.filter?null:i.filter.length),e.xp6(1),e.Q6J("ngIf",!i.settings.groupBy&&!i.settings.lazyLoading&&null==i.itemTempl),e.xp6(1),e.Q6J("ngIf",!i.settings.groupBy&&i.settings.lazyLoading&&null==i.itemTempl),e.xp6(1),e.Q6J("ngIf",!i.settings.groupBy&&!i.settings.lazyLoading&&null!=i.itemTempl),e.xp6(1),e.Q6J("ngIf",!i.settings.groupBy&&i.settings.lazyLoading&&null!=i.itemTempl),e.xp6(1),e.Q6J("ngIf",i.settings.groupBy&&i.settings.lazyLoading&&null!=i.itemTempl),e.xp6(1),e.Q6J("ngIf",i.settings.groupBy&&!i.settings.lazyLoading&&null!=i.itemTempl),e.xp6(1),e.Q6J("ngIf",i.settings.groupBy&&i.settings.lazyLoading&&null==i.itemTempl),e.xp6(1),e.Q6J("ngIf",i.settings.groupBy&&!i.settings.lazyLoading&&null==i.itemTempl),e.xp6(1),e.Q6J("ngIf",0==(null==i.data?null:i.data.length)))},dependencies:[C.mk,C.sg,C.O5,C.PC,w.Fj,w.JJ,w.On,jr,Sf,Of,Pf],styles:['virtual-scroll{display:block;width:100%}.cuppa-dropdown{position:relative}.c-btn{display:inline-block;border-width:1px;line-height:1.25;border-radius:3px;font-size:.85rem;padding:5px 10px;cursor:pointer;align-items:center;min-height:38px}.c-btn.disabled{background:#ccc}.selected-list .c-list{float:left;padding:0;margin:0;width:calc(100% - 20px)}.selected-list .c-list .c-token{list-style:none;border-radius:2px;margin-right:4px;margin-top:2px;float:left;position:relative;padding:4px 22px 4px 8px}.selected-list .c-list .c-token .c-label{display:block;float:left}.selected-list .c-list .c-token .c-remove{position:absolute;right:8px;top:50%;transform:translateY(-50%);width:8px}.selected-list .c-list .c-token .c-remove svg{fill:#fff}.selected-list .fa-angle-down,.selected-list .fa-angle-up{font-size:15pt;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.selected-list .c-angle-down,.selected-list .c-angle-up{width:12px;height:12px;position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}.selected-list .c-angle-down svg,.selected-list .c-angle-up svg{fill:#333}.selected-list .countplaceholder{position:absolute;right:45px;top:50%;transform:translateY(-50%)}.selected-list .c-btn{width:100%;padding:5px 10px;cursor:pointer;display:flex;position:relative}.selected-list .c-btn .c-icon{position:absolute;right:5px;top:50%;transform:translateY(-50%)}.dropdown-list.tagToBody{position:fixed}.dropdown-list{position:absolute;padding-top:14px;width:100%;z-index:99999}.dropdown-list ul{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list ul li{padding:10px;cursor:pointer;text-align:left}.dropdown-list ul li:first-child{padding-top:10px}.dropdown-list ul li:last-child{padding-bottom:10px}.dropdown-list ::-webkit-scrollbar{width:8px}.dropdown-list ::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.dropdown-list ::-webkit-scrollbar-track{background:#f2f2f2}.arrow-down,.arrow-up{width:0;height:0;border-left:13px solid transparent;border-right:13px solid transparent;border-bottom:15px solid #fff;margin-left:15px;position:absolute;top:0}.arrow-down{bottom:-14px;top:unset;transform:rotate(180deg)}.arrow-2{border-bottom:15px solid #ccc;top:-1px}.arrow-down.arrow-2{top:unset;bottom:-16px}.list-area{border:1px solid #ccc;border-radius:3px;background:#fff;margin:0}.select-all{padding:10px;text-align:left}.list-filter,.select-all{border-bottom:1px solid #ccc}.list-filter{position:relative;padding-left:35px;height:35px}.list-filter input{border:0;width:100%;height:100%;padding:0}.list-filter input:focus{outline:none}.list-filter .c-search{position:absolute;top:4px;left:10px;width:15px;height:15px}.list-filter .c-search svg{fill:#888}.list-filter .c-clear{position:absolute;top:4px;right:10px;width:15px;height:15px}.list-filter .c-clear svg{fill:#888}.pure-checkbox input[type=checkbox]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.pure-checkbox input[type=checkbox]:focus+label:before,.pure-checkbox input[type=checkbox]:hover+label:before{background-color:none}.pure-checkbox input[type=checkbox]:active+label:before{transition-duration:0s}.pure-checkbox input[type=checkbox]:disabled+label{color:#ccc}.pure-checkbox input[type=checkbox]+label{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;user-select:none;cursor:pointer;margin:0;font-weight:300}.pure-checkbox input[type=checkbox]+label:before{box-sizing:initial;content:"";position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:all .4s ease;border-radius:3px}.pure-checkbox input[type=checkbox]+label:after{box-sizing:initial;content:"";position:absolute;left:0;width:15px;height:15px;margin-top:-9px;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out}.pure-checkbox input[type=checkbox]:disabled+label:before{border-color:#ccc}.pure-checkbox input[type=checkbox]:disabled:focus+label:before .pure-checkbox input[type=checkbox]:disabled:hover+label:before{background-color:inherit}.pure-checkbox input[type=checkbox]:disabled:checked+label:before{background-color:#ccc}.pure-checkbox input[type=checkbox]+label:after{background-color:initial;top:50%;left:3px;width:9px;height:4px;margin-top:-5px;border-style:solid;border-width:0 0 2px 2px;border-image:none;transform:rotate(-45deg) scale(0)}.pure-checkbox input[type=checkbox]:checked+label:after{content:"";transition:transform .2s ease-out}.pure-checkbox input[type=radio]:checked+label:before{background-color:#fff}.pure-checkbox input[type=radio]:checked+label:after{transform:scale(1)}.pure-checkbox input[type=radio]+label:before{border-radius:50%}.pure-checkbox input[type=checkbox]:checked+label:after{transform:rotate(-45deg) scale(1)}.list-message{text-align:center;margin:0;padding:15px 0;font-size:medium}.list-grp{padding:0 15px!important}.list-grp h4{text-transform:capitalize;margin:15px 0 0;font-size:14px;font-weight:700}.list-grp>li{padding-left:15px!important}.grp-item{padding-left:30px!important}.grp-title{padding-bottom:0!important}.grp-title label{margin-bottom:0!important;font-weight:800;text-transform:capitalize}.grp-title:hover{background:none!important}.loading-icon{width:20px;position:absolute;right:10px;top:23px;z-index:1}.nodata-label{width:100%;text-align:center;padding:10px 0 0}.btn-container{text-align:center;padding:5px}.clear-all{width:8px;position:absolute;top:50%;right:30px;transform:translateY(-50%)}'],encapsulation:2}),n})(),If=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Yr,Ur],imports:[C.ez,w.u5,Ef]}),n})();const Nf=["labelButton"],Rf=function(n,s){return{selected:n,focused:s}};function Zf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(o){const x=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.optionSelect(x,o))}),e._uU(1),e.qZA()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw();e.Q6J("ngClass",e.WLB(2,Rf,t.value===o.value,i===o.optionId)),e.xp6(1),e.hij(" ",t.label," ")}}function Bf(n,s){1&n&&(e.TgZ(0,"span",10),e._uU(1,"No items for select"),e.qZA())}const Hf=function(n){return{"ae-expanded":n}},Yf=["fileInput"];function Uf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"ae-select",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.customClassId=o)})("change",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setCustomClass(o.customClassId))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("options",t.customClassList)("ngModel",t.customClassId)("disabled",t.htmlMode)("hidden",t.isButtonHidden("customClasses"))}}function jf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("undo"))}),e._UZ(3,"i",4),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("redo"))}),e._UZ(5,"i",6),e.qZA()(),e.TgZ(6,"div",2)(7,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("bold"))}),e._UZ(8,"i",8),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("italic"))}),e._UZ(10,"i",10),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("underline"))}),e._UZ(12,"i",12),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("strikeThrough"))}),e._UZ(14,"i",14),e.qZA(),e.TgZ(15,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("subscript"))}),e._UZ(16,"i",16),e.qZA(),e.TgZ(17,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("superscript"))}),e._UZ(18,"i",18),e.qZA()(),e.TgZ(19,"div",2)(20,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("justifyLeft"))}),e._UZ(21,"i",20),e.qZA(),e.TgZ(22,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("justifyCenter"))}),e._UZ(23,"i",22),e.qZA(),e.TgZ(24,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("justifyRight"))}),e._UZ(25,"i",24),e.qZA(),e.TgZ(26,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("justifyFull"))}),e._UZ(27,"i",26),e.qZA()(),e.TgZ(28,"div",2)(29,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("indent"))}),e._UZ(30,"i",28),e.qZA(),e.TgZ(31,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("outdent"))}),e._UZ(32,"i",30),e.qZA()(),e.TgZ(33,"div",2)(34,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("insertUnorderedList"))}),e._UZ(35,"i",32),e.qZA(),e.TgZ(36,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("insertOrderedList"))}),e._UZ(37,"i",34),e.qZA()(),e.TgZ(38,"div",2)(39,"ae-select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.block=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand(o.block))}),e.qZA()(),e.TgZ(40,"div",2)(41,"ae-select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.fontName=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setFontName(o.fontName))}),e.qZA()(),e.TgZ(42,"div",2)(43,"ae-select",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.fontSize=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setFontSize(o.fontSize))}),e.qZA()(),e.TgZ(44,"div",2)(45,"input",38,39),e.NdJ("change",function(){e.CHM(t);const o=e.MAs(46),r=e.oxw();return e.KtG(r.insertColor(o.value,"textColor"))}),e.qZA(),e.TgZ(47,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(46);return e.oxw().focus(),e.KtG(o.click())}),e.TgZ(48,"span",41),e._UZ(49,"i",42),e.qZA()(),e.TgZ(50,"input",38,43),e.NdJ("change",function(){e.CHM(t);const o=e.MAs(51),r=e.oxw();return e.KtG(r.insertColor(o.value,"backgroundColor"))}),e.qZA(),e.TgZ(52,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(51);return e.oxw().focus(),e.KtG(o.click())}),e.TgZ(53,"span",45),e._UZ(54,"i",42),e.qZA()()(),e.YNc(55,Uf,2,4,"div",46),e.TgZ(56,"div",2)(57,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.insertUrl())}),e._UZ(58,"i",48),e.qZA(),e.TgZ(59,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("unlink"))}),e._UZ(60,"i",50),e.qZA(),e.TgZ(61,"input",51,52),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onFileChanged(o))}),e.qZA(),e.TgZ(63,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(62);return e.oxw().focus(),e.KtG(o.click())}),e._UZ(64,"i",54),e.qZA(),e.TgZ(65,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.insertVideo())}),e._UZ(66,"i",56),e.qZA(),e.TgZ(67,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("insertHorizontalRule"))}),e._UZ(68,"i",58),e.qZA()(),e.TgZ(69,"div",2)(70,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("removeFormat"))}),e._UZ(71,"i",60),e.qZA()(),e.TgZ(72,"div",2)(73,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerCommand("toggleEditorMode"))}),e._UZ(74,"i",62),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("hidden",t.isButtonHidden("undo")),e.xp6(2),e.Q6J("hidden",t.isButtonHidden("redo")),e.xp6(3),e.Q6J("id","bold-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("bold")),e.xp6(2),e.Q6J("id","italic-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("italic")),e.xp6(2),e.Q6J("id","underline-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("underline")),e.xp6(2),e.Q6J("id","strikeThrough-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("strikeThrough")),e.xp6(2),e.Q6J("id","subscript-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("subscript")),e.xp6(2),e.Q6J("id","superscript-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("superscript")),e.xp6(3),e.Q6J("id","justifyLeft-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyLeft")),e.xp6(2),e.Q6J("id","justifyCenter-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyCenter")),e.xp6(2),e.Q6J("id","justifyRight-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyRight")),e.xp6(2),e.Q6J("id","justifyFull-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("justifyFull")),e.xp6(3),e.Q6J("id","indent-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("indent")),e.xp6(2),e.Q6J("id","outdent-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("outdent")),e.xp6(3),e.Q6J("id","insertUnorderedList-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertUnorderedList")),e.xp6(2),e.Q6J("id","insertOrderedList-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertOrderedList")),e.xp6(3),e.Q6J("options",t.headings)("ngModel",t.block)("disabled",t.htmlMode)("hidden",t.isButtonHidden("heading")),e.xp6(2),e.Q6J("options",t.fonts)("ngModel",t.fontName)("disabled",t.htmlMode)("hidden",t.isButtonHidden("fontName")),e.xp6(2),e.Q6J("options",t.fontSizes)("ngModel",t.fontSize)("disabled",t.htmlMode)("hidden",t.isButtonHidden("fontSize")),e.xp6(4),e.Q6J("id","foregroundColorPicker-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("textColor")),e.xp6(5),e.Q6J("id","backgroundColorPicker-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("backgroundColor")),e.xp6(3),e.Q6J("ngIf",t._customClasses),e.xp6(2),e.Q6J("id","link-"+t.id)("disabled",t.isLinkButtonDisabled)("hidden",t.isButtonHidden("link")),e.xp6(2),e.Q6J("id","unlink-"+t.id)("disabled",t.htmlMode||!t.linkSelected)("hidden",t.isButtonHidden("unlink")),e.xp6(4),e.Q6J("id","insertImage-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertImage")),e.xp6(2),e.Q6J("id","insertVideo-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertVideo")),e.xp6(2),e.Q6J("id","insertHorizontalRule-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("insertHorizontalRule")),e.xp6(3),e.Q6J("id","clearFormatting-"+t.id)("disabled",t.htmlMode)("hidden",t.isButtonHidden("removeFormat")),e.xp6(3),e.Q6J("id","toggleEditorMode-"+t.id)("hidden",t.isButtonHidden("toggleEditorMode"))}}const qf=["editor"],Vf=["editorWrapper"],zf=["editorToolbar"];function Jf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"angular-editor-toolbar",8,9),e.NdJ("execute",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.executeCommand(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("id",t.id)("uploadUrl",t.config.uploadUrl)("upload",t.config.upload)("showToolbar",void 0===t.config.showToolbar||t.config.showToolbar)("fonts",t.getFonts())("customClasses",t.config.customClasses)("defaultFontName",t.config.defaultFontName)("defaultFontSize",t.config.defaultFontSize)("hiddenButtons",t.config.toolbarHiddenButtons)}}function Wf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"angular-editor-toolbar",8,9),e.NdJ("execute",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.executeCommand(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("id",t.id)("uploadUrl",t.config.uploadUrl)("upload",t.config.upload)("showToolbar",void 0===t.config.showToolbar||t.config.showToolbar)("fonts",t.getFonts())("customClasses",t.config.customClasses)("defaultFontName",t.config.defaultFontName)("defaultFontSize",t.config.defaultFontSize)("hiddenButtons",t.config.toolbarHiddenButtons)}}let Uo=(()=>{class n{constructor(t,i){this.http=t,this.doc=i,this.saveSelection=()=>{if(this.doc.getSelection){const o=this.doc.getSelection();o.getRangeAt&&o.rangeCount&&(this.savedSelection=o.getRangeAt(0),this.selectedText=o.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(t){["h1","h2","h3","h4","h5","h6","p","pre"].includes(t)?this.doc.execCommand("formatBlock",!1,t):this.doc.execCommand(t,!1,null)}createLink(t){t.includes("http")?this.insertHtml('<a href="'+t+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,t)}insertColor(t,i){this.restoreSelection()&&this.doc.execCommand("textColor"===i?"foreColor":"hiliteColor",!1,t)}setFontName(t){this.doc.execCommand("fontName",!1,t)}setFontSize(t){this.doc.execCommand("fontSize",!1,t)}insertHtml(t){if(!this.doc.execCommand("insertHTML",!1,t))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const t=this.doc.getSelection();return t.removeAllRanges(),t.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(t,i=100){setTimeout(t,i)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(t){const i=new FormData;return i.append("file",t,t.name),this.http.post(this.uploadUrl,i,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(t){this.doc.execCommand("insertImage",!1,t)}setDefaultParagraphSeparator(t){this.doc.execCommand("defaultParagraphSeparator",!1,t)}createCustomClass(t){let i=this.selectedText;if(t){const o=t.tag?t.tag:"span";i="<"+o+' class="'+t.class+'">'+this.selectedText+"</"+o+">"}this.insertHtml(i)}insertVideo(t){t.match("www.youtube.com")&&this.insertYouTubeVideoTag(t),t.match("vimeo.com")&&this.insertVimeoVideoTag(t)}insertYouTubeVideoTag(t){const o=`https://img.youtube.com/vi/${t.split("v=")[1]}/0.jpg`;this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${t}' target='_blank'>\n          <img src="${o}" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(t){const i=this.http.get(`https://vimeo.com/api/oembed.json?url=${t}`).subscribe(o=>{this.insertHtml(`<div>\n        <a href='${t}' target='_blank'>\n          <img src="${o.thumbnail_url_with_play_button}" alt="${o.title}"/>\n        </a>\n      </div>`),i.unsubscribe()})}nextNode(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null}getRangeSelectedNodes(t,i){let o=t.startContainer;const r=t.endContainer;let x=[];if(o===r)x=[o];else{for(;o&&o!==r;)x.push(o=this.nextNode(o));for(o=t.startContainer;o&&o!==t.commonAncestorContainer;)x.unshift(o),o=o.parentNode}if(i)for(o=t.commonAncestorContainer;o;)x.push(o),o=o.parentNode;return x}getSelectedNodes(){const t=[];if(this.doc.getSelection){const i=this.doc.getSelection();for(let o=0,r=i.rangeCount;o<r;++o)t.push.apply(t,this.getRangeSelectedNodes(i.getRangeAt(o),!0))}return t}replaceWithOwnChildren(t){const i=t.parentNode;for(;t.hasChildNodes();)i.insertBefore(t.firstChild,t);i.removeChild(t)}removeSelectedElements(t){const i=t.toLowerCase().split(",");this.getSelectedNodes().forEach(o=>{1===o.nodeType&&i.indexOf(o.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(a.eN),e.LFG(C.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const jo={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function Vr(n){return null!=n}let Gf=(()=>{class n{constructor(t,i){this.elRef=t,this.r=i,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],Vr(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(t,i){i.stopPropagation(),this.setValue(t.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(t){this.disabled||(this.opened=!this.opened)}onClick(t){this.elRef.nativeElement.contains(t.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(t){!t||"string"!=typeof t||this.setValue(t)}setValue(t){let i=0;const o=this.options.find((r,x)=>(i=x,r.value===t));o&&(this.selectedOption=o,this.optionId=i)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.labelButton.nativeElement.disabled=t,this.r[t?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=t}handleKeyDown(t){if(this.opened)switch(t.key){case"ArrowDown":this._handleArrowDown(t);break;case"ArrowUp":this._handleArrowUp(t);break;case"Space":this._handleSpace(t);break;case"Enter":this._handleEnter(t);break;case"Tab":this._handleTab(t);break;case"Escape":this.close(),t.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(t){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(t){this.optionId>=1&&this.optionId--}_handleSpace(t){}_handleEnter(t){this.optionSelect(this.options[this.optionId],t)}_handleTab(t){}_handleBackspace(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ae-select"]],viewQuery:function(t,i){if(1&t&&e.Gf(Nf,7),2&t){let o;e.iGM(o=e.CRH())&&(i.labelButton=o.first)}},hostVars:2,hostBindings:function(t,i){1&t&&e.NdJ("click",function(r){return i.onClick(r)},!1,e.evT)("keydown",function(r){return i.handleKeyDown(r)}),2&t&&e.Udp("display",i.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[e._Bn([{provide:w.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:10,vars:7,consts:[[1,"ae-font","ae-picker",3,"ngClass"],["tabindex","0","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],["viewBox","0 0 18 18"],["points","7 11 9 13 11 11 7 11",1,"ae-stroke"],["points","7 7 9 5 11 7 7 7",1,"ae-stroke"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0)(1,"button",1,2),e.NdJ("click",function(r){return i.toggleOpen(r)}),e._uU(3),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"polygon",4)(6,"polygon",5),e.qZA()(),e.kcU(),e.TgZ(7,"span",6),e.YNc(8,Zf,2,5,"button",7),e.YNc(9,Bf,2,0,"span",8),e.qZA()()),2&t&&(e.Q6J("ngClass",e.VKq(5,Hf,i.isOpen)),e.xp6(1),e.Q6J("tabIndex",-1),e.xp6(2),e.hij("",i.label," "),e.xp6(5),e.Q6J("ngForOf",i.options),e.xp6(1),e.Q6J("ngIf",!i.options.length))},dependencies:[C.mk,C.sg,C.O5],styles:['.ae-font.ae-picker{color:#444;display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-font .ae-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:26px;vertical-align:middle;font-size:85%;text-align:left;background-color:#fff;min-width:2rem;float:left;border:1px solid #ddd;text-overflow:clip;overflow:hidden;white-space:nowrap}.ae-font .ae-picker-label:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,white,#ffffff 100%)}.ae-font .ae-picker-label:focus{outline:none}.ae-font .ae-picker-label:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-font .ae-picker-label:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-font .ae-picker-label:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-font .ae-picker-label:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-font .ae-picker-label svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ae-font .ae-picker-label svg:not(:root){overflow:hidden}.ae-font .ae-picker-label svg .ae-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-font .ae-picker-options{background-color:#fff;display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-font .ae-picker-options .ae-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-font .ae-picker-options .ae-picker-item.selected{color:#06c;background-color:#fff4c2}.ae-font .ae-picker-options .ae-picker-item.focused,.ae-font .ae-picker-options .ae-picker-item:hover{background-color:#fffa98}.ae-font.ae-expanded{display:block;margin-top:-1px;z-index:1}.ae-font.ae-expanded .ae-picker-label{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg .ae-stroke{stroke:#ccc}.ae-font.ae-expanded .ae-picker-options{display:block;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}\n'],encapsulation:2}),n})(),Qf=(()=>{class n{constructor(t,i,o,r){this.r=t,this.editorService=i,this.er=o,this.doc=r,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new e.vpe}set customClasses(t){t&&(this._customClasses=t,this.customClassList=this._customClasses.map((i,o)=>({label:i.name,value:o.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(t){t&&(this.fontName=t)}set defaultFontSize(t){t&&(this.fontSize=t)}get isLinkButtonDisabled(){return this.htmlMode||!Boolean(this.editorService.selectedText)}triggerCommand(t){this.execute.emit(t)}triggerButtons(){!this.showToolbar||this.buttons.forEach(t=>{const i=this.doc.queryCommandState(t),o=this.doc.getElementById(t+"-"+this.id);i?this.r.addClass(o,"active"):this.r.removeClass(o,"active")})}triggerBlocks(t){if(!this.showToolbar)return;this.linkSelected=t.findIndex(o=>"A"===o.nodeName)>-1;let i=!1;this.select.forEach(o=>{const r=t.find(x=>x.nodeName===o);void 0!==r&&o===r.nodeName?!1===i&&(this.block=r.nodeName.toLowerCase(),i=!0):!1===i&&(this.block="default")}),i=!1,this._customClasses&&this._customClasses.forEach((o,r)=>{void 0!==t.find(T=>{if(T instanceof Element)return T.className===o.class})?!1===i&&(this.customClassId=r.toString(),i=!0):!1===i&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(o=>{const r=this.doc.getElementById(this.tagMap[o]+"-"+this.id),x=t.find(T=>T.nodeName===o);void 0!==x&&o===x.nodeName?this.r.addClass(r,"active"):this.r.removeClass(r,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let t="https://";const i=this.editorService.savedSelection;if(i&&"A"===i.commonAncestorContainer.parentElement.nodeName){const o=i.commonAncestorContainer.parentElement;""!==o.href&&(t=o.href)}t=prompt("Insert URL link",t),t&&""!==t&&"https://"!==t&&this.editorService.createLink(t)}insertVideo(){this.execute.emit("");const t=prompt("Insert Video link","https://");t&&""!==t&&"https://"!==t&&this.editorService.insertVideo(t)}insertColor(t,i){this.editorService.insertColor(t,i),this.execute.emit("")}setFontName(t){this.editorService.setFontName(t),this.execute.emit("")}setFontSize(t){this.editorService.setFontSize(t),this.execute.emit("")}setEditorMode(t){const i=this.doc.getElementById("toggleEditorMode-"+this.id);t?this.r.addClass(i,"active"):this.r.removeClass(i,"active"),this.htmlMode=t}onFileChanged(t){const i=t.target.files[0];if(i.type.includes("image/"))if(this.upload)this.upload(i).subscribe(o=>this.watchUploadImage(o,t));else if(this.uploadUrl)this.editorService.uploadImage(i).subscribe(o=>this.watchUploadImage(o,t));else{const o=new FileReader;o.onload=r=>{this.editorService.insertImage(r.currentTarget.result.toString())},o.readAsDataURL(i)}}watchUploadImage(t,i){const{imageUrl:o}=t.body;this.editorService.insertImage(o),i.srcElement.value=null}setCustomClass(t){"-1"===t?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+t])}isButtonHidden(t){if(!(t&&this.hiddenButtons instanceof Array))return!1;let i;for(const o of this.hiddenButtons)if(o instanceof Array&&(i=o.find(r=>r===t)),i)break;return void 0!==i}focus(){this.execute.emit("focus"),console.log("focused")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(Uo),e.Y36(e.SBq),e.Y36(C.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["angular-editor-toolbar"]],viewQuery:function(t,i){if(1&t&&e.Gf(Yf,7),2&t){let o;e.iGM(o=e.CRH())&&(i.myInputFile=o.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],[1,"angular-editor-toolbar-set"],["type","button","title","Undo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-undo"],["type","button","title","Redo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-repeat"],["type","button","title","Bold","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-bold"],["type","button","title","Italic","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-italic"],["type","button","title","Underline","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-underline"],["type","button","title","Strikethrough","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-strikethrough"],["type","button","title","Subscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-subscript"],["type","button","title","Superscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-superscript"],["type","button","title","Justify Left","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-left"],["type","button","title","Justify Center","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-center"],["type","button","title","Justify Right","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-right"],["type","button","title","Justify Full","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-justify"],["type","button","title","Indent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-indent"],["type","button","title","Outdent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-outdent"],["type","button","title","Unordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ul"],["type","button","title","Ordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ol"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["type","button","title","Text Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","foreground"],[1,"fa","fa-font"],["bgInput",""],["type","button","title","Background Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","background"],["class","angular-editor-toolbar-set",4,"ngIf"],["type","button","title","Insert Link","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-link"],["type","button","title","Unlink","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-chain-broken"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["type","button","title","Insert Image","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-image"],["type","button","title","Insert Video","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-video-camera"],["type","button","title","Horizontal Line","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-minus"],["type","button","title","Clear Formatting","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-remove"],["type","button","title","HTML Code","tabindex","-1",1,"angular-editor-button",3,"id","hidden","click"],[1,"fa","fa-code"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(t,i){1&t&&e.YNc(0,jf,75,83,"div",0),2&t&&e.Q6J("ngIf",i.showToolbar)},dependencies:[Gf,C.O5,w.JJ,w.On],styles:['@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{animation:fa-spin 2s infinite linear}.fa-pulse[_ngcontent-%COMP%]{animation:fa-spin 1s infinite steps(8)}@keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\\f000"}.fa-music[_ngcontent-%COMP%]:before{content:"\\f001"}.fa-search[_ngcontent-%COMP%]:before{content:"\\f002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\\f003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\\f004"}.fa-star[_ngcontent-%COMP%]:before{content:"\\f005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\\f006"}.fa-user[_ngcontent-%COMP%]:before{content:"\\f007"}.fa-film[_ngcontent-%COMP%]:before{content:"\\f008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\\f009"}.fa-th[_ngcontent-%COMP%]:before{content:"\\f00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\\f00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\\f00c"}.fa-remove[_ngcontent-%COMP%]:before, .fa-close[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\\f00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\\f00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\\f010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\\f011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\\f012"}.fa-gear[_ngcontent-%COMP%]:before, .fa-cog[_ngcontent-%COMP%]:before{content:"\\f013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\\f014"}.fa-home[_ngcontent-%COMP%]:before{content:"\\f015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\\f016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\\f017"}.fa-road[_ngcontent-%COMP%]:before{content:"\\f018"}.fa-download[_ngcontent-%COMP%]:before{content:"\\f019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\\f01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\\f01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\\f01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\\f01d"}.fa-rotate-right[_ngcontent-%COMP%]:before, .fa-repeat[_ngcontent-%COMP%]:before{content:"\\f01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\\f021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\\f022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\\f023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\\f024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\\f025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\\f026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\\f027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\\f028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\\f029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\\f02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\\f02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\\f02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\\f02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\\f02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\\f030"}.fa-font[_ngcontent-%COMP%]:before{content:"\\f031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\\f032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\\f033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\\f034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\\f035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\\f036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\\f037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\\f038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\\f039"}.fa-list[_ngcontent-%COMP%]:before{content:"\\f03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\\f03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\\f03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\\f03d"}.fa-photo[_ngcontent-%COMP%]:before, .fa-image[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\\f03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\\f040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\\f041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\\f042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\\f043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\\f044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\\f045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\\f046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\\f047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\\f048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\\f049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\\f04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\\f04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\\f04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\\f04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\\f04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\\f050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\\f051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\\f052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\\f053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\\f054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\\f055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\\f056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\\f057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\\f058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\\f059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\\f05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\\f05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\\f05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\\f05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\\f05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\\f060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\\f061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\\f062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\\f063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\\f064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\\f065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\\f066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\\f067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\\f068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\\f069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\\f06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\\f06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\\f06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\\f06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\\f06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\\f070"}.fa-warning[_ngcontent-%COMP%]:before, .fa-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\\f072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\\f073"}.fa-random[_ngcontent-%COMP%]:before{content:"\\f074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\\f075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\\f076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\\f077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\\f078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\\f079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\\f07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\\f07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\\f07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\\f07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\\f07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\\f080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\\f081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\\f082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\\f083"}.fa-key[_ngcontent-%COMP%]:before{content:"\\f084"}.fa-gears[_ngcontent-%COMP%]:before, .fa-cogs[_ngcontent-%COMP%]:before{content:"\\f085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\\f086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\\f087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\\f088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\\f089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\\f08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\\f08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\\f08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\\f08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\\f08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\\f090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\\f091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\\f092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\\f093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\\f094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\\f095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\\f096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\\f097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\\f098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\\f099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\\f09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\\f09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\\f09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\\f09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\\f09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\\f0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\\f0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\\f0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\\f0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\\f0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\\f0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\\f0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\\f0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\\f0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\\f0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\\f0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\\f0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\\f0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\\f0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\\f0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\\f0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\\f0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\\f0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\\f0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\\f0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\\f0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\\f0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\\f0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\\f0c6"}.fa-save[_ngcontent-%COMP%]:before, .fa-floppy-o[_ngcontent-%COMP%]:before{content:"\\f0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\\f0c8"}.fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before, .fa-bars[_ngcontent-%COMP%]:before{content:"\\f0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\\f0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\\f0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\\f0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\\f0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\\f0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\\f0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\\f0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\\f0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\\f0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\\f0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\\f0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\\f0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\\f0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\\f0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\\f0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\\f0db"}.fa-unsorted[_ngcontent-%COMP%]:before, .fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc"}.fa-sort-down[_ngcontent-%COMP%]:before, .fa-sort-desc[_ngcontent-%COMP%]:before{content:"\\f0dd"}.fa-sort-up[_ngcontent-%COMP%]:before, .fa-sort-asc[_ngcontent-%COMP%]:before{content:"\\f0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\\f0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\\f0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\\f0e2"}.fa-legal[_ngcontent-%COMP%]:before, .fa-gavel[_ngcontent-%COMP%]:before{content:"\\f0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\\f0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\\f0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\\f0e6"}.fa-flash[_ngcontent-%COMP%]:before, .fa-bolt[_ngcontent-%COMP%]:before{content:"\\f0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\\f0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\\f0e9"}.fa-paste[_ngcontent-%COMP%]:before, .fa-clipboard[_ngcontent-%COMP%]:before{content:"\\f0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\\f0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\\f0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\\f0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\\f0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\\f0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\\f0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\\f0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\\f0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\\f0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\\f0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\\f0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\\f0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\\f0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\\f0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\\f0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\\f0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\\f0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\\f0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\\f0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\\f100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\\f101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\\f102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\\f103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\\f108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\\f109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\\f10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\\f10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\\f10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\\f10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\\f10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\\f110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\\f111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\\f112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\\f113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\\f114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\\f115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\\f118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\\f119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\\f11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\\f11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\\f11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\\f11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\\f11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\\f120"}.fa-code[_ngcontent-%COMP%]:before{content:"\\f121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\\f122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\\f123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\\f124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\\f125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\\f126"}.fa-unlink[_ngcontent-%COMP%]:before, .fa-chain-broken[_ngcontent-%COMP%]:before{content:"\\f127"}.fa-question[_ngcontent-%COMP%]:before{content:"\\f128"}.fa-info[_ngcontent-%COMP%]:before{content:"\\f129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\\f12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\\f12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\\f12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\\f12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\\f12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\\f130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\\f131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\\f132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\\f133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\\f134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\\f135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\\f136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\\f137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\\f138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\\f139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\\f13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\\f13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\\f13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\\f13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\\f13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\\f140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\\f141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\\f142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\\f143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\\f144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\\f145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\\f146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\\f147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\\f148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\\f149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\\f14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\\f14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\\f14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\\f14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\\f14e"}.fa-toggle-down[_ngcontent-%COMP%]:before, .fa-caret-square-o-down[_ngcontent-%COMP%]:before{content:"\\f150"}.fa-toggle-up[_ngcontent-%COMP%]:before, .fa-caret-square-o-up[_ngcontent-%COMP%]:before{content:"\\f151"}.fa-toggle-right[_ngcontent-%COMP%]:before, .fa-caret-square-o-right[_ngcontent-%COMP%]:before{content:"\\f152"}.fa-euro[_ngcontent-%COMP%]:before, .fa-eur[_ngcontent-%COMP%]:before{content:"\\f153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\\f154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\\f155"}.fa-rupee[_ngcontent-%COMP%]:before, .fa-inr[_ngcontent-%COMP%]:before{content:"\\f156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before{content:"\\f157"}.fa-ruble[_ngcontent-%COMP%]:before, .fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before{content:"\\f158"}.fa-won[_ngcontent-%COMP%]:before, .fa-krw[_ngcontent-%COMP%]:before{content:"\\f159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\\f15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\\f15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\\f15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\\f15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\\f15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\\f160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\\f161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\\f162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\\f163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\\f164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\\f165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\\f166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\\f167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\\f168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\\f169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\\f16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\\f16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\\f16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\\f16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\\f16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\\f170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\\f171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\\f172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\\f173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\\f174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\\f175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\\f176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\\f177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\\f178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\\f179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\\f17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\\f17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\\f17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\\f17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\\f17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\\f180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\\f181"}.fa-female[_ngcontent-%COMP%]:before{content:"\\f182"}.fa-male[_ngcontent-%COMP%]:before{content:"\\f183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\\f184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\\f185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\\f186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\\f187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\\f188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\\f189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\\f18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\\f18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\\f18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\\f18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\\f18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\\f190"}.fa-toggle-left[_ngcontent-%COMP%]:before, .fa-caret-square-o-left[_ngcontent-%COMP%]:before{content:"\\f191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\\f192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\\f193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\\f194"}.fa-turkish-lira[_ngcontent-%COMP%]:before, .fa-try[_ngcontent-%COMP%]:before{content:"\\f195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\\f196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\\f197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\\f198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\\f199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\\f19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\\f19b"}.fa-institution[_ngcontent-%COMP%]:before, .fa-bank[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\\f19c"}.fa-mortar-board[_ngcontent-%COMP%]:before, .fa-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\\f19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\\f1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\\f1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\\f1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\\f1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\\f1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\\f1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\\f1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\\f1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\\f1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\\f1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\\f1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\\f1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\\f1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\\f1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\\f1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\\f1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\\f1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\\f1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\\f1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\\f1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\\f1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\\f1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\\f1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\\f1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\\f1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\\f1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\\f1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\\f1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\\f1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\\f1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\\f1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\\f1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\\f1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\\f1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\\f1c4"}.fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before, .fa-file-image-o[_ngcontent-%COMP%]:before{content:"\\f1c5"}.fa-file-zip-o[_ngcontent-%COMP%]:before, .fa-file-archive-o[_ngcontent-%COMP%]:before{content:"\\f1c6"}.fa-file-sound-o[_ngcontent-%COMP%]:before, .fa-file-audio-o[_ngcontent-%COMP%]:before{content:"\\f1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\\f1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\\f1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\\f1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\\f1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\\f1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before{content:"\\f1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\\f1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before{content:"\\f1d0"}.fa-ge[_ngcontent-%COMP%]:before, .fa-empire[_ngcontent-%COMP%]:before{content:"\\f1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\\f1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\\f1d3"}.fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before, .fa-hacker-news[_ngcontent-%COMP%]:before{content:"\\f1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\\f1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\\f1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\\f1d7"}.fa-send[_ngcontent-%COMP%]:before, .fa-paper-plane[_ngcontent-%COMP%]:before{content:"\\f1d8"}.fa-send-o[_ngcontent-%COMP%]:before, .fa-paper-plane-o[_ngcontent-%COMP%]:before{content:"\\f1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\\f1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\\f1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\\f1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\\f1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\\f1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\\f1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\\f1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\\f1e2"}.fa-soccer-ball-o[_ngcontent-%COMP%]:before, .fa-futbol-o[_ngcontent-%COMP%]:before{content:"\\f1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\\f1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\\f1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\\f1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\\f1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\\f1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\\f1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\\f1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\\f1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\\f1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\\f1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\\f1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\\f1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\\f1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\\f1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\\f1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\\f1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\\f1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\\f1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\\f1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\\f1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\\f1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\\f1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\\f1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\\f1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\\f1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\\f1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\\f200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\\f201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\\f202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\\f203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\\f204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\\f205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\\f206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\\f207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\\f208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\\f209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\\f20a"}.fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before, .fa-ils[_ngcontent-%COMP%]:before{content:"\\f20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\\f20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\\f20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\\f20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\\f210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\\f211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\\f212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\\f213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\\f214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\\f215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\\f216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\\f217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\\f218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\\f219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\\f21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\\f21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\\f21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\\f21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\\f21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\\f221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\\f222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\\f223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\\f224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\\f225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\\f226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\\f227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\\f228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\\f229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\\f22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\\f22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\\f22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\\f22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\\f230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\\f231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\\f232"}.fa-server[_ngcontent-%COMP%]:before{content:"\\f233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\\f234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\\f235"}.fa-hotel[_ngcontent-%COMP%]:before, .fa-bed[_ngcontent-%COMP%]:before{content:"\\f236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\\f237"}.fa-train[_ngcontent-%COMP%]:before{content:"\\f238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\\f239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\\f23a"}.fa-yc[_ngcontent-%COMP%]:before, .fa-y-combinator[_ngcontent-%COMP%]:before{content:"\\f23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\\f23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\\f23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\\f23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before{content:"\\f240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\\f241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\\f242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\\f243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\\f244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\\f245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\\f246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\\f247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\\f248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\\f249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\\f24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\\f24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\\f24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\\f24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\\f24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\\f250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\\f251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\\f252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\\f253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\\f254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\\f255"}.fa-hand-stop-o[_ngcontent-%COMP%]:before, .fa-hand-paper-o[_ngcontent-%COMP%]:before{content:"\\f256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\\f257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\\f258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\\f259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\\f25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\\f25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\\f25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\\f25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\\f25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\\f260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\\f261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\\f262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\\f263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\\f264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\\f265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\\f266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\\f267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\\f268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\\f269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\\f26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\\f26b"}.fa-tv[_ngcontent-%COMP%]:before, .fa-television[_ngcontent-%COMP%]:before{content:"\\f26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\\f26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\\f26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\\f270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\\f271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\\f272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\\f273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\\f274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\\f275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\\f276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\\f277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\\f278"}.fa-map[_ngcontent-%COMP%]:before{content:"\\f279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\\f27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\\f27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\\f27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\\f27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\\f27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\\f280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\\f281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\\f282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\\f283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\\f284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\\f285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\\f286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\\f287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\\f288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\\f289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\\f28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\\f28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\\f28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\\f28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\\f290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\\f291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\\f292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\\f293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\\f294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\\f295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\\f296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\\f297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\\f298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\\f299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\\f29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\\f29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\\f29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\\f29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\\f29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\\f2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\\f2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\\f2a2"}.fa-asl-interpreting[_ngcontent-%COMP%]:before, .fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before{content:"\\f2a3"}.fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before, .fa-deaf[_ngcontent-%COMP%]:before{content:"\\f2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\\f2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\\f2a6"}.fa-signing[_ngcontent-%COMP%]:before, .fa-sign-language[_ngcontent-%COMP%]:before{content:"\\f2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\\f2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\\f2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\\f2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\\f2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\\f2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\\f2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\\f2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\\f2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\\f2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\\f2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\\f2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\\f2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\\f2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\\f2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\\f2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\\f2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\\f2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\\f2ba"}.fa-vcard[_ngcontent-%COMP%]:before, .fa-address-card[_ngcontent-%COMP%]:before{content:"\\f2bb"}.fa-vcard-o[_ngcontent-%COMP%]:before, .fa-address-card-o[_ngcontent-%COMP%]:before{content:"\\f2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\\f2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\\f2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\\f2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\\f2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\\f2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\\f2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\\f2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\\f2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\\f2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before{content:"\\f2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\\f2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\\f2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\\f2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\\f2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\\f2cc"}.fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before, .fa-bath[_ngcontent-%COMP%]:before{content:"\\f2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\\f2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\\f2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\\f2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\\f2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\\f2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\\f2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\\f2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\\f2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\\f2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\\f2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\\f2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\\f2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\\f2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\\f2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\\f2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\\f2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\\f2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus, .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%]{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.select-button[_ngcontent-%COMP%]{display:inline-block}.select-button.disabled[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}']}),n})(),Kf=(()=>{class n{constructor(t,i,o,r,x,T,L){this.r=t,this.editorService=i,this.doc=o,this.sanitizer=r,this.cdRef=x,this.autoFocus=L,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=jo,this.placeholder="",this.viewMode=new e.vpe,this.blurEvent=new e.vpe,this.focusEvent=new e.vpe,this.tabindex=-1;const R=Number(T);this.tabIndex=R||0===R?R:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:jo.toolbarPosition}ngAfterViewInit(){Vr(this.autoFocus)&&this.focus()}onPaste(t){if(this.config.rawPaste){t.preventDefault();const i=t.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,i),i}}executeCommand(t){this.focus(),"focus"!==t&&("toggleEditorMode"===t?this.toggleEditorMode(this.modeVisual):""!==t&&("clear"===t?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===t?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(t),this.exec()))}onTextAreaFocus(t){this.focused?t.stopPropagation():(this.focused=!0,this.focusEvent.emit(t),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(t){this.editorService.saveSelection()}onTextAreaBlur(t){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==t.relatedTarget){const i=t.relatedTarget.parentElement;!i.classList.contains("angular-editor-toolbar-set")&&!i.classList.contains("ae-picker")&&(this.blurEvent.emit(t),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(t){let i="";i=this.modeVisual?t.innerHTML:t.innerText,(!i||"<br>"===i)&&(i=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(e.q3G.HTML,i):i),!i!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(t){this.onChange=i=>t("<br>"===i?"":i)}registerOnTouched(t){this.onTouched=t}writeValue(t){(!t||"<br>"===t||""===t)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(void 0===t||""===t||"<br>"===t)&&(t=null),this.refreshView(t)}refreshView(t){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===t?"":t)}togglePlaceholder(t){t?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(t){this.r[t?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=t}toggleEditorMode(t){let i;const o=this.textArea.nativeElement;if(t){i=this.r.createText(o.innerHTML),this.r.setProperty(o,"innerHTML",""),this.r.setProperty(o,"contentEditable",!1);const r=this.r.createElement("pre");this.r.setStyle(r,"margin","0"),this.r.setStyle(r,"outline","none");const x=this.r.createElement("code");this.r.setProperty(x,"id","sourceText"+this.id),this.r.setStyle(x,"display","block"),this.r.setStyle(x,"white-space","pre-wrap"),this.r.setStyle(x,"word-break","keep-all"),this.r.setStyle(x,"outline","none"),this.r.setStyle(x,"margin","0"),this.r.setStyle(x,"background-color","#fff5b9"),this.r.setProperty(x,"contentEditable",!0),this.r.appendChild(x,i),this.focusInstance=this.r.listen(x,"focus",T=>this.onTextAreaFocus(T)),this.blurInstance=this.r.listen(x,"blur",T=>this.onTextAreaBlur(T)),this.r.appendChild(r,x),this.r.appendChild(o,r),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),x.focus()}else this.doc.querySelectorAll?this.r.setProperty(o,"innerHTML",o.innerText):(i=this.doc.createRange(),i.selectNodeContents(o.firstChild),this.r.setProperty(o,"innerHTML",i.toString())),this.r.setProperty(o,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(o),o.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let t;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(t=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let i=t.focusNode;const o=[];for(;i&&"editor"!==i.id;)o.unshift(i),i=i.parentNode;this.editorToolbar.triggerBlocks(o)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:jo.fonts).map(i=>({label:i.name,value:i.name}))}getCustomTags(){const t=["span"];return this.config.customClasses.forEach(i=>{void 0!==i.tag&&(t.includes(i.tag)||t.push(i.tag))}),t.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(t){return t.replace("position: fixed;","")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(Uo),e.Y36(C.K0),e.Y36(y.H7),e.Y36(e.sBO),e.$8M("tabindex"),e.$8M("autofocus"))},n.\u0275cmp=e.Xpm({type:n,selectors:[["angular-editor"]],viewQuery:function(t,i){if(1&t&&(e.Gf(qf,7),e.Gf(Vf,7),e.Gf(zf,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.textArea=o.first),e.iGM(o=e.CRH())&&(i.editorWrapper=o.first),e.iGM(o=e.CRH())&&(i.editorToolbar=o.first)}},hostVars:1,hostBindings:function(t,i){1&t&&e.NdJ("focus",function(){return i.onFocus()}),2&t&&e.uIk("tabindex",i.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[e._Bn([{provide:w.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0},Uo])],decls:10,vars:19,consts:[[1,"angular-editor"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute",4,"ngIf"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,Jf,2,9,"angular-editor-toolbar",2),e.TgZ(3,"div",3,4)(5,"div",5,6),e.NdJ("input",function(r){return i.onContentChange(r.target)})("focus",function(r){return i.onTextAreaFocus(r)})("blur",function(r){return i.onTextAreaBlur(r)})("click",function(){return i.exec()})("keyup",function(){return i.exec()})("mouseout",function(r){return i.onTextAreaMouseOut(r)})("paste",function(r){return i.onPaste(r)}),e.qZA(),e.TgZ(7,"span",7),e._uU(8),e.qZA()(),e.YNc(9,Wf,2,9,"angular-editor-toolbar",2),e.qZA()),2&t&&(e.Udp("width",i.config.width)("min-width",i.config.minWidth),e.xp6(2),e.Q6J("ngIf","top"===i.config.toolbarPosition),e.xp6(3),e.Udp("height",i.config.height)("min-height",i.config.minHeight)("max-height",i.config.maxHeight)("outline",!1===i.config.outline?"none":void 0),e.uIk("contenteditable",i.config.editable)("tabindex",i.disabled?-1:i.tabIndex)("translate",i.config.translate)("spellcheck",i.config.spellcheck),e.xp6(3),e.Oqu(i.placeholder||i.config.placeholder),e.xp6(1),e.Q6J("ngIf","bottom"===i.config.toolbarPosition))},dependencies:[Qf,C.O5],styles:['@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{animation:fa-spin 2s infinite linear}.fa-pulse[_ngcontent-%COMP%]{animation:fa-spin 1s infinite steps(8)}@keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\\f000"}.fa-music[_ngcontent-%COMP%]:before{content:"\\f001"}.fa-search[_ngcontent-%COMP%]:before{content:"\\f002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\\f003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\\f004"}.fa-star[_ngcontent-%COMP%]:before{content:"\\f005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\\f006"}.fa-user[_ngcontent-%COMP%]:before{content:"\\f007"}.fa-film[_ngcontent-%COMP%]:before{content:"\\f008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\\f009"}.fa-th[_ngcontent-%COMP%]:before{content:"\\f00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\\f00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\\f00c"}.fa-remove[_ngcontent-%COMP%]:before, .fa-close[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\\f00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\\f00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\\f010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\\f011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\\f012"}.fa-gear[_ngcontent-%COMP%]:before, .fa-cog[_ngcontent-%COMP%]:before{content:"\\f013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\\f014"}.fa-home[_ngcontent-%COMP%]:before{content:"\\f015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\\f016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\\f017"}.fa-road[_ngcontent-%COMP%]:before{content:"\\f018"}.fa-download[_ngcontent-%COMP%]:before{content:"\\f019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\\f01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\\f01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\\f01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\\f01d"}.fa-rotate-right[_ngcontent-%COMP%]:before, .fa-repeat[_ngcontent-%COMP%]:before{content:"\\f01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\\f021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\\f022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\\f023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\\f024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\\f025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\\f026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\\f027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\\f028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\\f029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\\f02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\\f02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\\f02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\\f02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\\f02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\\f02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\\f030"}.fa-font[_ngcontent-%COMP%]:before{content:"\\f031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\\f032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\\f033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\\f034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\\f035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\\f036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\\f037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\\f038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\\f039"}.fa-list[_ngcontent-%COMP%]:before{content:"\\f03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\\f03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\\f03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\\f03d"}.fa-photo[_ngcontent-%COMP%]:before, .fa-image[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\\f03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\\f040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\\f041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\\f042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\\f043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\\f044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\\f045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\\f046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\\f047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\\f048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\\f049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\\f04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\\f04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\\f04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\\f04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\\f04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\\f050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\\f051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\\f052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\\f053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\\f054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\\f055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\\f056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\\f057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\\f058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\\f059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\\f05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\\f05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\\f05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\\f05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\\f05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\\f060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\\f061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\\f062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\\f063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\\f064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\\f065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\\f066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\\f067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\\f068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\\f069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\\f06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\\f06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\\f06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\\f06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\\f06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\\f070"}.fa-warning[_ngcontent-%COMP%]:before, .fa-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\\f072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\\f073"}.fa-random[_ngcontent-%COMP%]:before{content:"\\f074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\\f075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\\f076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\\f077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\\f078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\\f079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\\f07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\\f07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\\f07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\\f07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\\f07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\\f080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\\f081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\\f082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\\f083"}.fa-key[_ngcontent-%COMP%]:before{content:"\\f084"}.fa-gears[_ngcontent-%COMP%]:before, .fa-cogs[_ngcontent-%COMP%]:before{content:"\\f085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\\f086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\\f087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\\f088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\\f089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\\f08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\\f08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\\f08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\\f08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\\f08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\\f090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\\f091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\\f092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\\f093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\\f094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\\f095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\\f096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\\f097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\\f098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\\f099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\\f09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\\f09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\\f09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\\f09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\\f09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\\f0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\\f0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\\f0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\\f0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\\f0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\\f0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\\f0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\\f0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\\f0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\\f0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\\f0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\\f0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\\f0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\\f0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\\f0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\\f0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\\f0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\\f0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\\f0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\\f0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\\f0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\\f0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\\f0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\\f0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\\f0c6"}.fa-save[_ngcontent-%COMP%]:before, .fa-floppy-o[_ngcontent-%COMP%]:before{content:"\\f0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\\f0c8"}.fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before, .fa-bars[_ngcontent-%COMP%]:before{content:"\\f0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\\f0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\\f0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\\f0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\\f0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\\f0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\\f0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\\f0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\\f0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\\f0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\\f0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\\f0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\\f0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\\f0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\\f0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\\f0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\\f0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\\f0db"}.fa-unsorted[_ngcontent-%COMP%]:before, .fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc"}.fa-sort-down[_ngcontent-%COMP%]:before, .fa-sort-desc[_ngcontent-%COMP%]:before{content:"\\f0dd"}.fa-sort-up[_ngcontent-%COMP%]:before, .fa-sort-asc[_ngcontent-%COMP%]:before{content:"\\f0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\\f0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\\f0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\\f0e2"}.fa-legal[_ngcontent-%COMP%]:before, .fa-gavel[_ngcontent-%COMP%]:before{content:"\\f0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\\f0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\\f0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\\f0e6"}.fa-flash[_ngcontent-%COMP%]:before, .fa-bolt[_ngcontent-%COMP%]:before{content:"\\f0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\\f0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\\f0e9"}.fa-paste[_ngcontent-%COMP%]:before, .fa-clipboard[_ngcontent-%COMP%]:before{content:"\\f0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\\f0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\\f0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\\f0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\\f0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\\f0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\\f0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\\f0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\\f0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\\f0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\\f0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\\f0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\\f0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\\f0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\\f0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\\f0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\\f0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\\f0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\\f0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\\f0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\\f100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\\f101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\\f102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\\f103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\\f104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\\f105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\\f106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\\f107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\\f108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\\f109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\\f10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\\f10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\\f10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\\f10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\\f10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\\f110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\\f111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\\f112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\\f113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\\f114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\\f115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\\f118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\\f119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\\f11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\\f11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\\f11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\\f11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\\f11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\\f120"}.fa-code[_ngcontent-%COMP%]:before{content:"\\f121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\\f122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\\f123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\\f124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\\f125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\\f126"}.fa-unlink[_ngcontent-%COMP%]:before, .fa-chain-broken[_ngcontent-%COMP%]:before{content:"\\f127"}.fa-question[_ngcontent-%COMP%]:before{content:"\\f128"}.fa-info[_ngcontent-%COMP%]:before{content:"\\f129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\\f12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\\f12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\\f12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\\f12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\\f12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\\f130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\\f131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\\f132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\\f133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\\f134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\\f135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\\f136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\\f137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\\f138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\\f139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\\f13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\\f13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\\f13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\\f13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\\f13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\\f140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\\f141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\\f142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\\f143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\\f144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\\f145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\\f146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\\f147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\\f148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\\f149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\\f14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\\f14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\\f14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\\f14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\\f14e"}.fa-toggle-down[_ngcontent-%COMP%]:before, .fa-caret-square-o-down[_ngcontent-%COMP%]:before{content:"\\f150"}.fa-toggle-up[_ngcontent-%COMP%]:before, .fa-caret-square-o-up[_ngcontent-%COMP%]:before{content:"\\f151"}.fa-toggle-right[_ngcontent-%COMP%]:before, .fa-caret-square-o-right[_ngcontent-%COMP%]:before{content:"\\f152"}.fa-euro[_ngcontent-%COMP%]:before, .fa-eur[_ngcontent-%COMP%]:before{content:"\\f153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\\f154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\\f155"}.fa-rupee[_ngcontent-%COMP%]:before, .fa-inr[_ngcontent-%COMP%]:before{content:"\\f156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before{content:"\\f157"}.fa-ruble[_ngcontent-%COMP%]:before, .fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before{content:"\\f158"}.fa-won[_ngcontent-%COMP%]:before, .fa-krw[_ngcontent-%COMP%]:before{content:"\\f159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\\f15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\\f15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\\f15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\\f15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\\f15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\\f160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\\f161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\\f162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\\f163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\\f164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\\f165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\\f166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\\f167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\\f168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\\f169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\\f16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\\f16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\\f16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\\f16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\\f16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\\f170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\\f171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\\f172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\\f173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\\f174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\\f175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\\f176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\\f177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\\f178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\\f179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\\f17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\\f17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\\f17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\\f17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\\f17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\\f180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\\f181"}.fa-female[_ngcontent-%COMP%]:before{content:"\\f182"}.fa-male[_ngcontent-%COMP%]:before{content:"\\f183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\\f184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\\f185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\\f186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\\f187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\\f188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\\f189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\\f18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\\f18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\\f18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\\f18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\\f18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\\f190"}.fa-toggle-left[_ngcontent-%COMP%]:before, .fa-caret-square-o-left[_ngcontent-%COMP%]:before{content:"\\f191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\\f192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\\f193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\\f194"}.fa-turkish-lira[_ngcontent-%COMP%]:before, .fa-try[_ngcontent-%COMP%]:before{content:"\\f195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\\f196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\\f197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\\f198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\\f199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\\f19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\\f19b"}.fa-institution[_ngcontent-%COMP%]:before, .fa-bank[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\\f19c"}.fa-mortar-board[_ngcontent-%COMP%]:before, .fa-graduation-cap[_ngcontent-%COMP%]:before{content:"\\f19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\\f19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\\f1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\\f1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\\f1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\\f1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\\f1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\\f1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\\f1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\\f1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\\f1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\\f1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\\f1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\\f1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\\f1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\\f1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\\f1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\\f1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\\f1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\\f1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\\f1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\\f1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\\f1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\\f1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\\f1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\\f1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\\f1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\\f1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\\f1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\\f1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\\f1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\\f1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\\f1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\\f1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\\f1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\\f1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\\f1c4"}.fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before, .fa-file-image-o[_ngcontent-%COMP%]:before{content:"\\f1c5"}.fa-file-zip-o[_ngcontent-%COMP%]:before, .fa-file-archive-o[_ngcontent-%COMP%]:before{content:"\\f1c6"}.fa-file-sound-o[_ngcontent-%COMP%]:before, .fa-file-audio-o[_ngcontent-%COMP%]:before{content:"\\f1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\\f1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\\f1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\\f1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\\f1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\\f1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before{content:"\\f1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\\f1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before{content:"\\f1d0"}.fa-ge[_ngcontent-%COMP%]:before, .fa-empire[_ngcontent-%COMP%]:before{content:"\\f1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\\f1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\\f1d3"}.fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before, .fa-hacker-news[_ngcontent-%COMP%]:before{content:"\\f1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\\f1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\\f1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\\f1d7"}.fa-send[_ngcontent-%COMP%]:before, .fa-paper-plane[_ngcontent-%COMP%]:before{content:"\\f1d8"}.fa-send-o[_ngcontent-%COMP%]:before, .fa-paper-plane-o[_ngcontent-%COMP%]:before{content:"\\f1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\\f1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\\f1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\\f1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\\f1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\\f1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\\f1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\\f1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\\f1e2"}.fa-soccer-ball-o[_ngcontent-%COMP%]:before, .fa-futbol-o[_ngcontent-%COMP%]:before{content:"\\f1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\\f1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\\f1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\\f1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\\f1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\\f1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\\f1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\\f1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\\f1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\\f1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\\f1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\\f1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\\f1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\\f1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\\f1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\\f1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\\f1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\\f1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\\f1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\\f1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\\f1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\\f1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\\f1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\\f1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\\f1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\\f1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\\f1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\\f200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\\f201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\\f202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\\f203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\\f204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\\f205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\\f206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\\f207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\\f208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\\f209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\\f20a"}.fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before, .fa-ils[_ngcontent-%COMP%]:before{content:"\\f20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\\f20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\\f20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\\f20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\\f210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\\f211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\\f212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\\f213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\\f214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\\f215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\\f216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\\f217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\\f218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\\f219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\\f21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\\f21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\\f21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\\f21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\\f21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\\f221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\\f222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\\f223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\\f224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\\f225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\\f226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\\f227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\\f228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\\f229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\\f22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\\f22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\\f22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\\f22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\\f230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\\f231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\\f232"}.fa-server[_ngcontent-%COMP%]:before{content:"\\f233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\\f234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\\f235"}.fa-hotel[_ngcontent-%COMP%]:before, .fa-bed[_ngcontent-%COMP%]:before{content:"\\f236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\\f237"}.fa-train[_ngcontent-%COMP%]:before{content:"\\f238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\\f239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\\f23a"}.fa-yc[_ngcontent-%COMP%]:before, .fa-y-combinator[_ngcontent-%COMP%]:before{content:"\\f23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\\f23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\\f23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\\f23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before{content:"\\f240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\\f241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\\f242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\\f243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\\f244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\\f245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\\f246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\\f247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\\f248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\\f249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\\f24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\\f24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\\f24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\\f24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\\f24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\\f250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\\f251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\\f252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\\f253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\\f254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\\f255"}.fa-hand-stop-o[_ngcontent-%COMP%]:before, .fa-hand-paper-o[_ngcontent-%COMP%]:before{content:"\\f256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\\f257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\\f258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\\f259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\\f25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\\f25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\\f25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\\f25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\\f25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\\f260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\\f261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\\f262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\\f263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\\f264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\\f265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\\f266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\\f267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\\f268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\\f269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\\f26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\\f26b"}.fa-tv[_ngcontent-%COMP%]:before, .fa-television[_ngcontent-%COMP%]:before{content:"\\f26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\\f26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\\f26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\\f270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\\f271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\\f272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\\f273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\\f274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\\f275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\\f276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\\f277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\\f278"}.fa-map[_ngcontent-%COMP%]:before{content:"\\f279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\\f27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\\f27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\\f27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\\f27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\\f27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\\f280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\\f281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\\f282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\\f283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\\f284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\\f285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\\f286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\\f287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\\f288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\\f289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\\f28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\\f28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\\f28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\\f28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\\f28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\\f290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\\f291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\\f292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\\f293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\\f294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\\f295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\\f296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\\f297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\\f298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\\f299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\\f29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\\f29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\\f29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\\f29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\\f29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\\f2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\\f2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\\f2a2"}.fa-asl-interpreting[_ngcontent-%COMP%]:before, .fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before{content:"\\f2a3"}.fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before, .fa-deaf[_ngcontent-%COMP%]:before{content:"\\f2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\\f2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\\f2a6"}.fa-signing[_ngcontent-%COMP%]:before, .fa-sign-language[_ngcontent-%COMP%]:before{content:"\\f2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\\f2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\\f2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\\f2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\\f2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\\f2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\\f2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\\f2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\\f2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\\f2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\\f2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\\f2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\\f2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\\f2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\\f2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\\f2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\\f2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\\f2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\\f2ba"}.fa-vcard[_ngcontent-%COMP%]:before, .fa-address-card[_ngcontent-%COMP%]:before{content:"\\f2bb"}.fa-vcard-o[_ngcontent-%COMP%]:before, .fa-address-card-o[_ngcontent-%COMP%]:before{content:"\\f2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\\f2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\\f2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\\f2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\\f2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\\f2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\\f2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\\f2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\\f2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\\f2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before{content:"\\f2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\\f2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\\f2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\\f2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\\f2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\\f2cc"}.fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before, .fa-bath[_ngcontent-%COMP%]:before{content:"\\f2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\\f2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\\f2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\\f2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\\f2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\\f2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\\f2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\\f2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\\f2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\\f2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\\f2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\\f2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\\f2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\\f2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\\f2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\\f2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\\f2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\\f2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus, .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%]{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid rgba(255,255,255,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.angular-editor[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border:1px solid #ddd;background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.5rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.ez,w.u5,w.UX]]}),n})();function Xf(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",1),e._UZ(2,"label",2),e.TgZ(3,"div",3)(4,"angular2-multiselect",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedItems=o)})("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onItemSelect(o))})("onDeSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.OnItemDeSelect(o))})("onSelectAll",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onSelectAll(o))})("onDeSelectAll",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onDeSelectAll(o))}),e.qZA()()(),e.TgZ(5,"div",1)(6,"label",2),e._uU(7),e.ALo(8,"langReplace"),e.qZA(),e.TgZ(9,"div",3)(10,"input",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtExpireDate=o)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("data",t.nameList)("ngModel",t.selectedItems)("settings",t.dropdownSettings),e.xp6(3),e.hij("* ",e.lcZ(8,5,"Expiry Date")," "),e.xp6(3),e.Q6J("ngModel",t.txtExpireDate)}}function ep(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",17)(6,"angular2-multiselect",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.toselectedItems=o)})("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.toonItemSelect(o))})("onDeSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.toOnItemDeSelect(o))}),e.qZA()()(),e.TgZ(7,"div",1)(8,"label",2),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"div",17)(12,"angular2-multiselect",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ccselectedItems=o)})("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.cconItemSelect(o))})("onDeSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ccOnItemDeSelect(o))}),e.qZA()()(),e.TgZ(13,"div",1)(14,"label",2),e._uU(15),e.ALo(16,"langReplace"),e.qZA(),e.TgZ(17,"div",17)(18,"angular2-multiselect",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.bccselectedItems=o)})("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.bcconItemSelect(o))})("onDeSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.bccOnItemDeSelect(o))}),e.qZA()()(),e.TgZ(19,"div",1)(20,"label",2),e._uU(21),e.ALo(22,"langReplace"),e.qZA(),e.TgZ(23,"div",17)(24,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtSubject=o)}),e.qZA()()(),e.TgZ(25,"div",1)(26,"label",2),e._uU(27),e.ALo(28,"langReplace"),e.qZA(),e.TgZ(29,"div",17)(30,"a",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadfils(o.fileId,o.filepath))}),e._UZ(31,"i",21),e._uU(32),e.qZA()()(),e.TgZ(33,"div",1)(34,"label",2),e._uU(35),e.ALo(36,"langReplace"),e.qZA(),e.TgZ(37,"div",17)(38,"angular-editor",22),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ckdesc=o)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij("* ",e.lcZ(4,19,"To"),""),e.xp6(3),e.Q6J("data",t.tonameList)("ngModel",t.toselectedItems)("settings",t.todropdownSettings),e.xp6(3),e.hij(" \xa0\xa0 ",e.lcZ(10,21,"CC"),""),e.xp6(3),e.Q6J("data",t.ccnameList)("ngModel",t.ccselectedItems)("settings",t.ccdropdownSettings),e.xp6(3),e.hij(" \xa0\xa0 ",e.lcZ(16,23,"BCC"),""),e.xp6(3),e.Q6J("data",t.bccnameList)("ngModel",t.bccselectedItems)("settings",t.bccdropdownSettings),e.xp6(3),e.hij("* ",e.lcZ(22,25,"Subject"),""),e.xp6(3),e.Q6J("ngModel",t.txtSubject),e.xp6(3),e.hij("\xa0\xa0 ",e.lcZ(28,27,"Attachment"),""),e.xp6(5),e.hij(" ",t.fileName,""),e.xp6(3),e.hij("* ",e.lcZ(36,29,"Message"),""),e.xp6(3),e.Q6J("ngModel",t.ckdesc)("config",t.config)}}let qo=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.calendar=t,this.route=i,this.httpClient=o,this.router=r,this.encDec=x,this.commonserveice=T,this.authService=L,this.vldChkLst=R,this.jsonurl="assets/js/_configs/shareFile.config.json",this.letterID="",this.nameList=[],this.selectedItems=[],this.dropdownSettings={},this.userslist=[],this.toselectedItems=[],this.tonameList=[],this.todropdownSettings={},this.touserslist=[],this.ccselectedItems=[],this.ccnameList=[],this.ccdropdownSettings={},this.ccuserslist=[],this.bccselectedItems=[],this.bccnameList=[],this.bccdropdownSettings={},this.bccuserslist=[],this.txtEfminDate="",this.txtEtminDate="",this.rdoSharethrough="1",this.txtEffeciveFrom=new Date,this.rdofileper=1,this.config={editable:!0,spellcheck:!0,height:"250px",minHeight:"250px",maxHeight:"250px",width:"100%",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"p",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],sanitize:!0,toolbarPosition:"top",uploadWithCredentials:!1},this.btntext="Share"}ngOnInit(){this.loadconfig(),this.viewFileDetails(this.fileId),this.dropdownSettings={singleSelection:!1,text:"Select Name",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},this.todropdownSettings={singleSelection:!1,text:"Select Name",enableSearchFilter:!0,classes:"myclass custom-class",enableCheckAll:!1},this.ccdropdownSettings={singleSelection:!1,text:"Select Name",enableSearchFilter:!0,classes:"myclass custom-class",enableCheckAll:!1},this.bccdropdownSettings={singleSelection:!1,text:"Select Name",enableSearchFilter:!0,classes:"myclass custom-class",enableCheckAll:!1},this.getUsers()}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=this.commonserveice.langReplace(t[0].pagetitle)})}onItemSelect(t){this.userslist=[];for(let i=0;i<this.selectedItems.length;i++)this.userslist.push(this.selectedItems[i].id)}OnItemDeSelect(t){this.userslist=[];for(let i=0;i<this.selectedItems.length;i++)this.userslist.push(this.selectedItems[i].id)}onSelectAll(t){this.userslist=[];for(let i=0;i<this.selectedItems.length;i++)this.userslist.push(this.selectedItems[i].id)}onDeSelectAll(t){this.userslist=[];for(let i=0;i<this.selectedItems.length;i++)this.userslist.push(this.selectedItems[i].id)}toonItemSelect(t){this.userslist=[];for(let i=0;i<this.toselectedItems.length;i++)this.touserslist.push(this.toselectedItems[i].id)}toOnItemDeSelect(t){this.userslist=[];for(let i=0;i<this.toselectedItems.length;i++)this.touserslist.push(this.toselectedItems[i].id)}toonSelectAll(t){this.userslist=[];for(let i=0;i<this.toselectedItems.length;i++)this.touserslist.push(this.toselectedItems[i].id)}toonDeSelectAll(t){this.userslist=[];for(let i=0;i<this.toselectedItems.length;i++)this.touserslist.push(this.toselectedItems[i].id)}cconItemSelect(t){this.userslist=[];for(let i=0;i<this.ccselectedItems.length;i++)this.ccuserslist.push(this.ccselectedItems[i].id)}ccOnItemDeSelect(t){this.userslist=[];for(let i=0;i<this.ccselectedItems.length;i++)this.ccuserslist.push(this.ccselectedItems[i].id)}cconSelectAll(t){this.userslist=[];for(let i=0;i<this.ccselectedItems.length;i++)this.ccuserslist.push(this.ccselectedItems[i].id)}cconDeSelectAll(t){this.userslist=[];for(let i=0;i<this.ccselectedItems.length;i++)this.ccuserslist.push(this.ccselectedItems[i].id)}bcconItemSelect(t){this.userslist=[];for(let i=0;i<this.bccselectedItems.length;i++)this.bccuserslist.push(this.bccselectedItems[i].id)}bccOnItemDeSelect(t){this.userslist=[];for(let i=0;i<this.bccselectedItems.length;i++)this.bccuserslist.push(this.bccselectedItems[i].id)}bcconSelectAll(t){this.userslist=[];for(let i=0;i<this.bccselectedItems.length;i++)this.bccuserslist.push(this.bccselectedItems[i].id)}bcconDeSelectAll(t){this.userslist=[];for(let i=0;i<this.bccselectedItems.length;i++)this.bccuserslist.push(this.bccselectedItems[i].id)}viewFileDetails(t){this.commonserveice.getFileDetails({fileId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status&&(this.filedetails=R.result.fileDetails,this.fileName=this.filedetails.fileName,this.filepath=this.filedetails.filePath),400==R.status?this.filedetails=R.result:501==R.status&&this.authService.directlogout()}else this.authService.directlogout()},o=>{this.authService.directlogout()})}getUsers(){this.nameList=[],this.commonserveice.getUserlist({userId:"",fileId:this.fileId}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);if(200==L.status){let R=L.result;for(let J=0;J<R.length;J++){let se={};se.itemName=R[J].userFullName,se.id=R[J].userId,this.nameList.push(se),this.tonameList.push(se),this.ccnameList.push(se),this.bccnameList.push(se)}}else 501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},i=>{this.authService.directlogout()})}downloadfils(t,i){this.commonserveice.fileDownload({fileId:t,url:i}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);if(200==J.status){this.downloaditem=J.result,this.downloadlink=this.downloaditem.filePath;let se=document.createElement("a");se.download=this.downloadlink,se.href=this.downloadlink,se.target="_blank",se.click()}else 501==J.status&&this.authService.directlogout()}else this.authService.directlogout()},r=>{this.authService.directlogout()})}shareFile(t){let i=this.rdoSharethrough,o=this.rdofileper,r=this.txtExpireDate,x=this.txtSubject,T=this.ckdesc;if("1"==i&&0==this.userslist.length)f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.selectuser)});else if("1"!=i||this.vldChkLst.blankCheck(r,this.commonserveice.langReplace(this.messaageslist.expDate),""))if("2"==i&&0==this.touserslist.length)f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.selecttouser)});else if(("2"!=i||this.vldChkLst.blankCheck(x,this.commonserveice.langReplace(this.messaageslist.txtsubject),"txtSubject"))&&("2"!=i||this.vldChkLst.blankCheck(T,this.commonserveice.langReplace(this.messaageslist.maildesc),"ckdesc"))){let L;L=1==i?{fileId:t,shareThrough:i,shareTo:this.userslist,filePermission:o,expiryDate:r}:{fileId:t,fileName:this.fileName,shareThrough:i,shareTo:this.touserslist,mailCC:this.ccuserslist,mailBCC:this.bccuserslist,mailSubject:x.trim(),mailContent:T.trim()},this.commonserveice.fileShare(L).subscribe(R=>{let J=R.RESPONSE_DATA;if(R.RESPONSE_TOKEN==l.HmacSHA256(J,u.N.apiHashingKey).toString()){let Me=c.lW.from(J,"base64"),Ae=JSON.parse(Me);200==Ae.status?f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(Re=>{let Ne=this.encDec.encText(this.folderid.toString());this.route.navigate(["/admin/viewupload",Ne])}):400==Ae.status?f().fire({icon:"error",text:Ae.message}):501==Ae.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},R=>{this.authService.directlogout()})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.vL),e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(M._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-share-document"]],inputs:{fileId:"fileId",folderid:"folderid"},features:[e._Bn([C.uU])],decls:31,vars:20,consts:[[1,"controls-section"],[1,"row","form-group"],[1,"col-lg-2","col-md-4"],[1,"col-lg-4","col-md-8"],["type","text","readonly","",1,"form-control",3,"value"],[1,"col-md-8"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","1","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","2",1,"form-check-input",3,"ngModel","ngModelChange"],["for","inlineRadio2",1,"form-check-label"],[4,"ngIf"],["class","border bg-light p-3 mb-3",4,"ngIf"],[1,"btn","btn-success",3,"click"],["id","selectedItems",3,"data","ngModel","settings","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],["type","date","id","txtExpireDate",1,"form-control",3,"ngModel","ngModelChange"],[1,"border","bg-light","p-3","mb-3"],[1,"col-lg-10","col-md-8"],[3,"data","ngModel","settings","ngModelChange","onSelect","onDeSelect"],["type","text","id","txtSubject",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-primary",3,"click"],[1,"icon-file-pdf","text-danger","h5"],["id","ckdesc",3,"ngModel","config","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"input",4),e.qZA()(),e.TgZ(7,"div",1)(8,"label",2),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"div",5)(12,"div",6)(13,"input",7),e.NdJ("ngModelChange",function(r){return i.rdoSharethrough=r}),e.qZA(),e.TgZ(14,"label",8),e._uU(15),e.ALo(16,"langReplace"),e.qZA()(),e.TgZ(17,"div",6)(18,"input",9),e.NdJ("ngModelChange",function(r){return i.rdoSharethrough=r}),e.qZA(),e.TgZ(19,"label",10),e._uU(20),e.ALo(21,"langReplace"),e.qZA()()()(),e.YNc(22,Xf,11,7,"div",11),e.YNc(23,ep,39,31,"div",12),e.TgZ(24,"div",1),e._UZ(25,"label",2),e.TgZ(26,"div",3)(27,"button",13),e.NdJ("click",function(){return i.shareFile(i.fileId)}),e._uU(28),e.ALo(29,"langReplace"),e.qZA(),e._uU(30," \xa0 "),e.qZA()()()),2&t&&(e.xp6(3),e.hij("* ",e.lcZ(4,10,"Document Name"),""),e.xp6(3),e.Q6J("value",i.fileName),e.xp6(3),e.hij("* ",e.lcZ(10,12,"Share Through"),""),e.xp6(4),e.Q6J("ngModel",i.rdoSharethrough),e.xp6(2),e.hij(" ",e.lcZ(16,14,"User Name"),""),e.xp6(3),e.Q6J("ngModel",i.rdoSharethrough),e.xp6(2),e.hij(" ",e.lcZ(21,16,"Email"),""),e.xp6(2),e.Q6J("ngIf","1"==i.rdoSharethrough),e.xp6(1),e.Q6J("ngIf","2"==i.rdoSharethrough),e.xp6(5),e.Oqu("1"==i.rdoSharethrough?i.btntext:e.lcZ(29,18,"Send")))},dependencies:[C.O5,w.Fj,w._,w.JJ,w.On,eo,Kf,E.c],styles:[".angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{background-color:#fff!important}"]}),n})();var Vo=be(4004),zo=be(5698),zr=be(2722);function In(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Ot(n){return"string"==typeof n}function to(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function wn(n){return n&&n.getTime&&!isNaN(n.getTime())}function Nn(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function Rn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function ht(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function wt(n,s){return Object.prototype.hasOwnProperty.call(n,s)}function Zn(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function Jr(n){return void 0===n}function Ke(n){const s=+n;let t=0;return 0!==s&&isFinite(s)&&(t=In(s)),t}const Ai={},Wr={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Mt(n,s){const t=n.toLowerCase();let i=n;t in Wr&&(i=Wr[t]),Ai[t]=Ai[`${t}s`]=Ai[s]=i}function Gr(n){return Ot(n)?Ai[n]||Ai[n.toLowerCase()]:void 0}function un(n,s,t){const i=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,s-i.length)).toString().substr(1)+i}const Jo={},ii={},Qr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Ve(n,s,t,i){n&&(ii[n]=i),s&&(ii[s[0]]=function(){return un(i.apply(null,arguments),s[1],s[2])}),t&&(ii[t]=function(o,r){return r.locale.ordinal(i.apply(null,arguments),n)})}function ap(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function no(n,s,t){const i=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(n),i}function io(n,s=0,t=1,i=0,o=0,r=0,x=0){const T=new Date(n,s,t,i,o,r,x);return n<100&&n>=0&&isFinite(T.getFullYear())&&T.setFullYear(n),T}function $e(n,s=!1){return s?n.getUTCHours():n.getHours()}function oi(n,s=!1){return s?n.getUTCMinutes():n.getMinutes()}function Wo(n,s=!1){return s?n.getUTCSeconds():n.getSeconds()}function fn(n,s=!1){return s?n.getUTCMilliseconds():n.getMilliseconds()}function nn(n,s=!1){return s?n.getUTCDay():n.getDay()}function Hn(n,s=!1){return s?n.getUTCDate():n.getDate()}function Xe(n,s=!1){return s?n.getUTCMonth():n.getMonth()}function ut(n,s=!1){return s?n.getUTCFullYear():n.getFullYear()}function si(n,s){return!(!n||!s)&&ri(n,s)&&Xe(n)===Xe(s)}function ri(n,s){return!(!n||!s)&&ut(n)===ut(s)}function Mn(n,s){return!(!n||!s)&&ri(n,s)&&si(n,s)&&Hn(n)===Hn(s)}const Kr=/\d/,Lt=/\d\d/,$r=/\d{3}/,Go=/\d{4}/,oo=/[+-]?\d{6}/,rt=/\d\d?/,Xr=/\d\d\d\d?/,ea=/\d\d\d\d\d\d?/,so=/\d{1,3}/,Qo=/\d{1,4}/,ro=/[+-]?\d{1,6}/,fp=/\d+/,ao=/[+-]?\d+/,lo=/Z|[+-]\d\d(?::?\d\d)?/gi,gp=/[+-]?\d+(\.\d{1,3})?/,Oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,co={};function Ue(n,s,t){co[n]=Nn(s)?s:function(i,o){return i&&t?t:s}}function _p(n,s){return wt(co,n)?co[n](!1,s):new RegExp(function mp(n){return Yn(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(s,t,i,o,r)=>t||i||o||r))}(n))}function Yn(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Ko={};function at(n,s){const t=Ot(n)?[n]:n;let i=s;if(Rn(s)&&(i=function(o,r,x){return r[s]=Ke(o),x}),ht(t)&&Nn(i)){let o;for(o=0;o<t.length;o++)Ko[t[o]]=i}}function Pi(n,s){at(n,function(t,i,o,r){return o._w=o._w||{},s(t,o._w,o,r)})}function vp(n,s,t){return null!=s&&wt(Ko,n)&&Ko[n](s,t._a,t,n),t}const bp={};function St(n,s){bp[n]=s}function tt(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function $o(n,s){return s.locale.getFullYear?s.locale.getFullYear(n,s.isUTC).toString():ut(n,s.isUTC).toString()}function Xo(n){return Ke(n)+(Ke(n)>68?1900:2e3)}function Di(n){return es(n)?366:365}function es(n){return n%4==0&&n%100!=0||n%400==0}function ho(n,s){if(isNaN(n)||isNaN(s))return NaN;const t=function tp(n,s){return(n%s+s)%s}(s,12);return 1===t?es(n+(s-t)/12)?29:28:31-t%7%2}const Mp={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Ct(n,s){const t=Object.assign({},Mp,s),i=n.getFullYear()+(t.year||0),o=n.getMonth()+(t.month||0);let r=n.getDate()+(t.day||0);return t.month&&!t.day&&(r=Math.min(r,ho(i,o))),io(i,o,r,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function ai(n,s){return Rn(s)?s:n}function Un(n,s,t){const i=Math.min(Hn(n),ho(ut(n),s));return t?n.setUTCMonth(s,i):n.setMonth(s,i),n}function ts(n,s,t){return t?n.setUTCDate(s):n.setDate(s),n}function pn(n){return new Date(n.getTime())}function gn(n,s,t){const i=pn(n);switch(s){case"year":Un(i,0,t);case"quarter":case"month":ts(i,1,t);case"week":case"isoWeek":case"day":case"date":!function kp(n,s,t){t?n.setUTCHours(s):n.setHours(s)}(i,0,t);case"hours":!function Ap(n,s,t){t?n.setUTCMinutes(s):n.setMinutes(s)}(i,0,t);case"minutes":!function Op(n,s,t){t?n.setUTCSeconds(s):n.setSeconds(s)}(i,0,t);case"seconds":!function Pp(n,s,t){t?n.setUTCMilliseconds(s):n.setMilliseconds(s)}(i,0,t)}return"week"===s&&function jg(n,s,t={}){rn(n,s-ps(n,t.locale,t.isUTC),"day")}(i,0,{isUTC:t}),"isoWeek"===s&&function qg(n,s,t={}){const i=function Ug(n,s=mt()){return Ot(n)?s.weekdaysParse(n)%7||7:Rn(n)&&isNaN(n)?null:n}(s,t.locale);Ni(n,function ft(n,s){return nn(n,s)}(n)%7?i:i-7)}(i,1),"quarter"===s&&Un(i,3*Math.floor(Xe(i,t)/3),t),i}function uo(n,s,t){let i=s;return"date"===i&&(i="day"),function Bg(n,s,t,i){return ka(n,fs(s,t),-1,i)}(rn(gn(n,i,t),1,"isoWeek"===i?"week":i,t),1,"milliseconds",t)}function ns(n,s){const t=+gn(n,"day",s),i=+gn(n,"year",s);return Math.round((t-i)/864e5)+1}function fo(n,s,t){const i=s-t+7;return-(no(n,0,i).getUTCDay()-s+7)%7+i-1}function li(n,s,t,i){const o=fo(ut(n,i),s,t),r=Math.floor((ns(n,i)-o-1)/7)+1;let x,T;return r<1?(T=ut(n,i)-1,x=r+jn(T,s,t)):r>jn(ut(n,i),s,t)?(x=r-jn(ut(n,i),s,t),T=ut(n,i)+1):(T=ut(n,i),x=r),{week:x,year:T}}function jn(n,s,t){const i=fo(n,s,t),o=fo(n+1,s,t);return(Di(n)-i+o)/7}const na=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lp="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ia="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Fp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ip="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sa={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Zp=Oi,Bp=Oi;class ra{constructor(s){s&&this.set(s)}set(s){let t;for(t in s){if(!s.hasOwnProperty(t))continue;const i=s[t];this[Nn(i)?t:`_${t}`]=i}this._config=s}calendar(s,t,i){const o=this._calendar[s]||this._calendar.sameElse;return Nn(o)?o.call(null,t,i):o}longDateFormat(s){const t=this._longDateFormat[s],i=this._longDateFormat[s.toUpperCase()];return t||!i?t:(this._longDateFormat[s]=i.replace(/MMMM|MM|DD|dddd/g,function(o){return o.slice(1)}),this._longDateFormat[s])}get invalidDate(){return this._invalidDate}set invalidDate(s){this._invalidDate=s}ordinal(s,t){return this._ordinal.replace("%d",s.toString(10))}preparse(s,t){return s}getFullYear(s,t=!1){return ut(s,t)}postformat(s){return s}relativeTime(s,t,i,o){const r=this._relativeTime[i];return Nn(r)?r(s,t,i,o):r.replace(/%d/i,s.toString(10))}pastFuture(s,t){const i=this._relativeTime[s>0?"future":"past"];return Nn(i)?i(t):i.replace(/%s/i,t)}months(s,t,i=!1){if(!s)return ht(this._months)?this._months:this._months.standalone;if(ht(this._months))return this._months[Xe(s,i)];const o=(this._months.isFormat||na).test(t)?"format":"standalone";return this._months[o][Xe(s,i)]}monthsShort(s,t,i=!1){if(!s)return ht(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(ht(this._monthsShort))return this._monthsShort[Xe(s,i)];const o=na.test(t)?"format":"standalone";return this._monthsShort[o][Xe(s,i)]}monthsParse(s,t,i){let o,r,x;if(this._monthsParseExact)return this.handleMonthStrictParse(s,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),x=0;x<12;x++){if(o=new Date(Date.UTC(2e3,x)),i&&!this._longMonthsParse[x]){const T=this.months(o,"",!0).replace(".",""),L=this.monthsShort(o,"",!0).replace(".","");this._longMonthsParse[x]=new RegExp(`^${T}$`,"i"),this._shortMonthsParse[x]=new RegExp(`^${L}$`,"i")}if(!i&&!this._monthsParse[x]&&(r=`^${this.months(o,"",!0)}|^${this.monthsShort(o,"",!0)}`,this._monthsParse[x]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[x].test(s)||i&&"MMM"===t&&this._shortMonthsParse[x].test(s)||!i&&this._monthsParse[x].test(s))return x}}monthsRegex(s){return this._monthsParseExact?(wt(this,"_monthsRegex")||this.computeMonthsParse(),s?this._monthsStrictRegex:this._monthsRegex):(wt(this,"_monthsRegex")||(this._monthsRegex=Bp),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(s){return this._monthsParseExact?(wt(this,"_monthsRegex")||this.computeMonthsParse(),s?this._monthsShortStrictRegex:this._monthsShortRegex):(wt(this,"_monthsShortRegex")||(this._monthsShortRegex=Zp),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}week(s,t){return li(s,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(s,t,i){if(!s)return ht(this._weekdays)?this._weekdays:this._weekdays.standalone;if(ht(this._weekdays))return this._weekdays[nn(s,i)];const o=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[o][nn(s,i)]}weekdaysMin(s,t,i){return s?this._weekdaysMin[nn(s,i)]:this._weekdaysMin}weekdaysShort(s,t,i){return s?this._weekdaysShort[nn(s,i)]:this._weekdaysShort}weekdaysParse(s,t,i){let o,r;if(this._weekdaysParseExact)return this.handleWeekStrictParse(s,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){const x=Ni(new Date(Date.UTC(2e3,1)),o,null,!0);if(i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp(`^${this.weekdays(x,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[o]=new RegExp(`^${this.weekdaysShort(x,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[o]=new RegExp(`^${this.weekdaysMin(x,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[o]||(r=`^${this.weekdays(x,"",!0)}|^${this.weekdaysShort(x,"",!0)}|^${this.weekdaysMin(x,"",!0)}`,this._weekdaysParse[o]=new RegExp(r.replace(".",""),"i")),!(ht(this._fullWeekdaysParse)&&ht(this._shortWeekdaysParse)&&ht(this._minWeekdaysParse)&&ht(this._weekdaysParse)))return;if(i&&"dddd"===t&&this._fullWeekdaysParse[o].test(s))return o;if(i&&"ddd"===t&&this._shortWeekdaysParse[o].test(s))return o;if(i&&"dd"===t&&this._minWeekdaysParse[o].test(s))return o;if(!i&&this._weekdaysParse[o].test(s))return o}}weekdaysRegex(s){return this._weekdaysParseExact?(wt(this,"_weekdaysRegex")||this.computeWeekdaysParse(),s?this._weekdaysStrictRegex:this._weekdaysRegex):(wt(this,"_weekdaysRegex")||(this._weekdaysRegex=Oi),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(s){return this._weekdaysParseExact?(wt(this,"_weekdaysRegex")||this.computeWeekdaysParse(),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(wt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Oi),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(s){return this._weekdaysParseExact?(wt(this,"_weekdaysRegex")||this.computeWeekdaysParse(),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(wt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Oi),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(s){return"p"===s.toLowerCase().charAt(0)}meridiem(s,t,i){return s>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(s){this._longDateFormat=this._longDateFormat?this._longDateFormat:sa;const t=this._longDateFormat[s],i=this._longDateFormat[s.toUpperCase()];return t||!i?t:(this._longDateFormat[s]=i.replace(/MMMM|MM|DD|dddd/g,o=>o.slice(1)),this._longDateFormat[s])}handleMonthStrictParse(s,t,i){const o=s.toLocaleLowerCase();let r,x,T;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)T=new Date(2e3,r),this._shortMonthsParse[r]=this.monthsShort(T,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(T,"").toLocaleLowerCase();return i?"MMM"===t?(x=this._shortMonthsParse.indexOf(o),-1!==x?x:null):(x=this._longMonthsParse.indexOf(o),-1!==x?x:null):"MMM"===t?(x=this._shortMonthsParse.indexOf(o),-1!==x?x:(x=this._longMonthsParse.indexOf(o),-1!==x?x:null)):(x=this._longMonthsParse.indexOf(o),-1!==x?x:(x=this._shortMonthsParse.indexOf(o),-1!==x?x:null))}handleWeekStrictParse(s,t,i){let o;const r=s.toLocaleLowerCase();if(!this._weekdaysParse){let x;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],x=0;x<7;++x){const T=Ni(new Date(Date.UTC(2e3,1)),x,null,!0);this._minWeekdaysParse[x]=this.weekdaysMin(T).toLocaleLowerCase(),this._shortWeekdaysParse[x]=this.weekdaysShort(T).toLocaleLowerCase(),this._weekdaysParse[x]=this.weekdays(T,"").toLocaleLowerCase()}}if(ht(this._weekdaysParse)&&ht(this._shortWeekdaysParse)&&ht(this._minWeekdaysParse))return i?"dddd"===t?(o=this._weekdaysParse.indexOf(r),-1!==o?o:null):"ddd"===t?(o=this._shortWeekdaysParse.indexOf(r),-1!==o?o:null):(o=this._minWeekdaysParse.indexOf(r),-1!==o?o:null):"dddd"===t?(o=this._weekdaysParse.indexOf(r),-1!==o||(o=this._shortWeekdaysParse.indexOf(r),-1!==o)?o:(o=this._minWeekdaysParse.indexOf(r),-1!==o?o:null)):"ddd"===t?(o=this._shortWeekdaysParse.indexOf(r),-1!==o||(o=this._weekdaysParse.indexOf(r),-1!==o)?o:(o=this._minWeekdaysParse.indexOf(r),-1!==o?o:null)):(o=this._minWeekdaysParse.indexOf(r),-1!==o||(o=this._weekdaysParse.indexOf(r),-1!==o)?o:(o=this._shortWeekdaysParse.indexOf(r),-1!==o?o:null))}computeMonthsParse(){const s=[],t=[],i=[];let o,r;for(r=0;r<12;r++)o=new Date(2e3,r),s.push(this.monthsShort(o,"")),t.push(this.months(o,"")),i.push(this.months(o,"")),i.push(this.monthsShort(o,""));for(s.sort(qn),t.sort(qn),i.sort(qn),r=0;r<12;r++)s[r]=Yn(s[r]),t[r]=Yn(t[r]);for(r=0;r<24;r++)i[r]=Yn(i[r]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${s.join("|")})`,"i")}computeWeekdaysParse(){const s=[],t=[],i=[],o=[];let r;for(r=0;r<7;r++){const x=Ni(new Date(Date.UTC(2e3,1)),r,null,!0),T=this.weekdaysMin(x),L=this.weekdaysShort(x),R=this.weekdays(x);s.push(T),t.push(L),i.push(R),o.push(T),o.push(L),o.push(R)}for(s.sort(qn),t.sort(qn),i.sort(qn),o.sort(qn),r=0;r<7;r++)t[r]=Yn(t[r]),i[r]=Yn(i[r]),o[r]=Yn(o[r]);this._weekdaysRegex=new RegExp(`^(${o.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${s.join("|")})`,"i")}}function qn(n,s){return s.length-n.length}const aa={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:sa,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Lp,monthsShort:ia,week:{dow:0,doy:6},weekdays:Fp,weekdaysMin:Ip,weekdaysShort:oa,meridiemParse:/[ap]\.?m?\.?/i};function Hp(n,s,t){const i=Math.min(n.length,s.length),o=Math.abs(n.length-s.length);let x,r=0;for(x=0;x<i;x++)(t&&n[x]!==s[x]||!t&&Ke(n[x])!==Ke(s[x]))&&r++;return r+o}function po(n,s){Ve(null,[n,n.length,!1],null,s)}function la(n,s){return os(n,s.locale).toString()}function ca(n){return da(n).toString()}function os(n,s=mt(),t){return li(n,s.firstDayOfWeek(),s.firstDayOfYear(),t).year}function da(n,s){return li(n,1,4,s).year}function ua(n,s){Ve(n,null,null,function(t,i){let o=function zn(n,s={}){return s._isUTC?s._offset||0:function fa(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:i.isUTC,_offset:i.offset}),r="+";return o<0&&(o=-o,r="-"),r+un(~~(o/60),2)+s+un(~~o%60,2)})}const Qp=/([\+\-]|\d\d)/gi;const yt={},Ei={};let Li;function pa(n){return n&&n.toLowerCase().replace("_","-")}function _a(n){return yt[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),yt[n]}function rs(n,s){let t;return n&&(Jr(s)?t=mt(n):Ot(n)&&(t=ma(n,s)),t&&(Li=t)),Li&&Li._abbr}function ma(n,s){if(null===s)return delete yt[n],Li=mt("en"),null;if(!s)return;let t=aa;if(s.abbr=n,null!=s.parentLocale){if(null==yt[s.parentLocale])return Ei[s.parentLocale]||(Ei[s.parentLocale]=[]),Ei[s.parentLocale].push({name:n,config:s}),null;t=yt[s.parentLocale]._config}return yt[n]=new ra(function ga(n,s){const t=Object.assign({},n);for(const i in s)!wt(s,i)||(Zn(n[i])&&Zn(s[i])?(t[i]={},Object.assign(t[i],n[i]),Object.assign(t[i],s[i])):null!=s[i]?t[i]=s[i]:delete t[i]);for(const i in n)wt(n,i)&&!wt(s,i)&&Zn(n[i])&&(t[i]=Object.assign({},t[i]));return t}(t,s)),Ei[n]&&Ei[n].forEach(function(i){ma(i.name,i.config)}),rs(n),yt[n]}function mt(n){return function ng(){yt.en||(rs("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const s=n%10;return n+(1===Ke(n%100/10)?"th":1===s?"st":2===s?"nd":3===s?"rd":"th")}}),function Yp(){Ve("w",["ww",2,!1],"wo",function(n,s){return function Vn(n,s=mt(),t){return s.week(n,t)}(n,s.locale).toString(10)}),Ve("W",["WW",2,!1],"Wo",function(n){return function is(n,s){return li(n,1,4,s).week}(n).toString(10)}),Mt("week","w"),Mt("isoWeek","W"),St("week",5),St("isoWeek",5),Ue("w",rt),Ue("ww",rt,Lt),Ue("W",rt),Ue("WW",rt,Lt),Pi(["w","ww","W","WW"],function(n,s,t,i){return s[i.substr(0,1)]=Ke(n),t})}(),function Up(){Ve(null,["gg",2,!1],null,function(n,s){return(os(n,s.locale)%100).toString()}),Ve(null,["GG",2,!1],null,function(n){return(da(n)%100).toString()}),po("gggg",la),po("ggggg",la),po("GGGG",ca),po("GGGGG",ca),Mt("weekYear","gg"),Mt("isoWeekYear","GG"),St("weekYear",1),St("isoWeekYear",1),Ue("G",ao),Ue("g",ao),Ue("GG",rt,Lt),Ue("gg",rt,Lt),Ue("GGGG",Qo,Go),Ue("gggg",Qo,Go),Ue("GGGGG",ro,oo),Ue("ggggg",ro,oo),Pi(["gggg","ggggg","GGGG","GGGGG"],function(n,s,t,i){return s[i.substr(0,2)]=Ke(n),t}),Pi(["gg","GG"],function(n,s,t,i){return s[i]=Xo(n),t})}(),function xp(){Ve("Y",null,null,function(n,s){const t=ut(n,s.isUTC);return t<=9999?t.toString(10):`+${t}`}),Ve(null,["YY",2,!1],null,function(n,s){return(ut(n,s.isUTC)%100).toString(10)}),Ve(null,["YYYY",4,!1],null,$o),Ve(null,["YYYYY",5,!1],null,$o),Ve(null,["YYYYYY",6,!0],null,$o),Mt("year","y"),St("year",1),Ue("Y",ao),Ue("YY",rt,Lt),Ue("YYYY",Qo,Go),Ue("YYYYY",ro,oo),Ue("YYYYYY",ro,oo),at(["YYYYY","YYYYYY"],0),at("YYYY",function(n,s,t){return s[0]=2===n.length?Xo(n):Ke(n),t}),at("YY",function(n,s,t){return s[0]=Xo(n),t}),at("Y",function(n,s,t){return s[0]=parseInt(n,10),t})}(),function qp(){Ve("z",null,null,function(n,s){return s.isUTC?"UTC":""}),Ve("zz",null,null,function(n,s){return s.isUTC?"Coordinated Universal Time":""})}(),function Vp(){Ve("X",null,null,function(n){return function cp(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Ve("x",null,null,function(n){return n.valueOf().toString(10)}),Ue("x",ao),Ue("X",gp),at("X",function(n,s,t){return t._d=new Date(1e3*parseFloat(n)),t}),at("x",function(n,s,t){return t._d=new Date(Ke(n)),t})}(),function zp(){Ve("s",["ss",2,!1],null,function(n,s){return Wo(n,s.isUTC).toString(10)}),Mt("second","s"),St("second",15),Ue("s",rt),Ue("ss",rt,Lt),at(["s","ss"],5)}(),function Jp(){Ve("Q",null,"Qo",function(n,s){return function Wp(n,s=!1){return Math.ceil((Xe(n,s)+1)/3)}(n,s.isUTC).toString(10)}),Mt("quarter","Q"),St("quarter",7),Ue("Q",Kr),at("Q",function(n,s,t){return s[1]=3*(Ke(n)-1),t})}(),function Gp(){ua("Z",":"),ua("ZZ",""),Ue("Z",lo),Ue("ZZ",lo),at(["Z","ZZ"],function(n,s,t){return t._useUTC=!0,t._tzm=function ss(n,s){const t=(s||"").match(n);if(null===t)return null;const o=t[t.length-1].match(Qp)||["-","0","0"],r=60*parseInt(o[1],10)+Ke(o[2]);return 0===r?0:"+"===o[0]?r:-r}(lo,n),t})}(),function wp(){Ve("M",["MM",2,!1],"Mo",function(n,s){return(Xe(n,s.isUTC)+1).toString(10)}),Ve("MMM",null,null,function(n,s){return s.locale.monthsShort(n,s.format,s.isUTC)}),Ve("MMMM",null,null,function(n,s){return s.locale.months(n,s.format,s.isUTC)}),Mt("month","M"),St("month",8),Ue("M",rt),Ue("MM",rt,Lt),Ue("MMM",function(n,s){return s.monthsShortRegex(n)}),Ue("MMMM",function(n,s){return s.monthsRegex(n)}),at(["M","MM"],function(n,s,t){return s[1]=Ke(n)-1,t}),at(["MMM","MMMM"],function(n,s,t,i){const o=t._locale.monthsParse(n,i,t._strict);return null!=o?s[1]=o:tt(t).invalidMonth=!!n,t})}(),function $p(){Ve("m",["mm",2,!1],null,function(n,s){return oi(n,s.isUTC).toString(10)}),Mt("minute","m"),St("minute",14),Ue("m",rt),Ue("mm",rt,Lt),at(["m","mm"],4)}(),function Xp(){let n;for(Ve("S",null,null,function(t,i){return(~~(fn(t,i.isUTC)/100)).toString(10)}),Ve(null,["SS",2,!1],null,function(t,i){return(~~(fn(t,i.isUTC)/10)).toString(10)}),Ve(null,["SSS",3,!1],null,function(t,i){return fn(t,i.isUTC).toString(10)}),Ve(null,["SSSS",4,!1],null,function(t,i){return(10*fn(t,i.isUTC)).toString(10)}),Ve(null,["SSSSS",5,!1],null,function(t,i){return(100*fn(t,i.isUTC)).toString(10)}),Ve(null,["SSSSSS",6,!1],null,function(t,i){return(1e3*fn(t,i.isUTC)).toString(10)}),Ve(null,["SSSSSSS",7,!1],null,function(t,i){return(1e4*fn(t,i.isUTC)).toString(10)}),Ve(null,["SSSSSSSS",8,!1],null,function(t,i){return(1e5*fn(t,i.isUTC)).toString(10)}),Ve(null,["SSSSSSSSS",9,!1],null,function(t,i){return(1e6*fn(t,i.isUTC)).toString(10)}),Mt("millisecond","ms"),St("millisecond",16),Ue("S",so,Kr),Ue("SS",so,Lt),Ue("SSS",so,$r),n="SSSS";n.length<=9;n+="S")Ue(n,fp);function s(t,i,o){return i[6]=Ke(1e3*parseFloat(`0.${t}`)),o}for(n="S";n.length<=9;n+="S")at(n,s)}(),function eg(){function n(o,r){return $e(o,r)%12||12}function t(o,r){Ve(o,null,null,function(x,T){return T.locale.meridiem($e(x,T.isUTC),oi(x,T.isUTC),r)})}function i(o,r){return r._meridiemParse}Ve("H",["HH",2,!1],null,function(o,r){return $e(o,r.isUTC).toString(10)}),Ve("h",["hh",2,!1],null,function(o,r){return n(o,r.isUTC).toString(10)}),Ve("k",["kk",2,!1],null,function(o,r){return function s(o,r){return $e(o,r)||24}(o,r.isUTC).toString(10)}),Ve("hmm",null,null,function(o,r){return`${n(o,r.isUTC)}${un(oi(o,r.isUTC),2)}`}),Ve("hmmss",null,null,function(o,r){return`${n(o,r.isUTC)}${un(oi(o,r.isUTC),2)}${un(Wo(o,r.isUTC),2)}`}),Ve("Hmm",null,null,function(o,r){return`${$e(o,r.isUTC)}${un(oi(o,r.isUTC),2)}`}),Ve("Hmmss",null,null,function(o,r){return`${$e(o,r.isUTC)}${un(oi(o,r.isUTC),2)}${un(Wo(o,r.isUTC),2)}`}),t("a",!0),t("A",!1),Mt("hour","h"),St("hour",13),Ue("a",i),Ue("A",i),Ue("H",rt),Ue("h",rt),Ue("k",rt),Ue("HH",rt,Lt),Ue("hh",rt,Lt),Ue("kk",rt,Lt),Ue("hmm",Xr),Ue("hmmss",ea),Ue("Hmm",Xr),Ue("Hmmss",ea),at(["H","HH"],3),at(["k","kk"],function(o,r,x){const T=Ke(o);return r[3]=24===T?0:T,x}),at(["a","A"],function(o,r,x){return x._isPm=x._locale.isPM(o),x._meridiem=o,x}),at(["h","hh"],function(o,r,x){return r[3]=Ke(o),tt(x).bigHour=!0,x}),at("hmm",function(o,r,x){const T=o.length-2;return r[3]=Ke(o.substr(0,T)),r[4]=Ke(o.substr(T)),tt(x).bigHour=!0,x}),at("hmmss",function(o,r,x){const T=o.length-4,L=o.length-2;return r[3]=Ke(o.substr(0,T)),r[4]=Ke(o.substr(T,2)),r[5]=Ke(o.substr(L)),tt(x).bigHour=!0,x}),at("Hmm",function(o,r,x){const T=o.length-2;return r[3]=Ke(o.substr(0,T)),r[4]=Ke(o.substr(T)),x}),at("Hmmss",function(o,r,x){const T=o.length-4,L=o.length-2;return r[3]=Ke(o.substr(0,T)),r[4]=Ke(o.substr(T,2)),r[5]=Ke(o.substr(L)),x})}(),function Ep(){Ve("DDD",["DDDD",3,!1],"DDDo",function(n){return ns(n).toString(10)}),Mt("dayOfYear","DDD"),St("dayOfYear",4),Ue("DDD",so),Ue("DDDD",$r),at(["DDD","DDDD"],function(n,s,t){return t._dayOfYear=Ke(n),t})}(),function Hg(){Ve("d",null,"do",function(n,s){return nn(n,s.isUTC).toString(10)}),Ve("dd",null,null,function(n,s){return s.locale.weekdaysMin(n,s.format,s.isUTC)}),Ve("ddd",null,null,function(n,s){return s.locale.weekdaysShort(n,s.format,s.isUTC)}),Ve("dddd",null,null,function(n,s){return s.locale.weekdays(n,s.format,s.isUTC)}),Ve("e",null,null,function(n,s){return ps(n,s.locale,s.isUTC).toString(10)}),Ve("E",null,null,function(n,s){return function Aa(n,s){return nn(n,s)||7}(n,s.isUTC).toString(10)}),Mt("day","d"),Mt("weekday","e"),Mt("isoWeekday","E"),St("day",11),St("weekday",11),St("isoWeekday",11),Ue("d",rt),Ue("e",rt),Ue("E",rt),Ue("dd",function(n,s){return s.weekdaysMinRegex(n)}),Ue("ddd",function(n,s){return s.weekdaysShortRegex(n)}),Ue("dddd",function(n,s){return s.weekdaysRegex(n)}),Pi(["dd","ddd","dddd"],function(n,s,t,i){const o=t._locale.weekdaysParse(n,i,t._strict);return null!=o?s.d=o:tt(t).invalidWeekday=!!n,t}),Pi(["d","e","E"],function(n,s,t,i){return s[i]=Ke(n),t})}(),function Cp(){Ve("D",["DD",2,!1],"Do",function(n,s){return Hn(n,s.isUTC).toString(10)}),Mt("date","D"),St("date",9),Ue("D",rt),Ue("DD",rt,Lt),Ue("Do",function(n,s){return s._dayOfMonthOrdinalParse||s._ordinalParse}),at(["D","DD"],2),at("Do",function(n,s,t){return s[2]=Ke(n.match(rt)[0]),t})}())}(),n?function tg(n){let s,t,i=0;for(;i<n.length;){const o=pa(n[i]).split("-");let r=o.length;for(s=pa(n[i+1]),s=s?s.split("-"):null;r>0;){if(t=_a(o.slice(0,r).join("-")),t)return t;if(s&&s.length>=r&&Hp(o,s,!0)>=r-1)break;r--}i++}return null}(ht(n)?n:[n]):Li}const Fi=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],ig=Fi.reduce((n,s)=>(n[s]=!0,n),{});function va(n){return n<0?Math.floor(n):Math.ceil(n)}function ba(n){return 4800*n/146097}function as(n){return 146097*n/4800}let Sn=Math.round;const on_ss=44,on_s=45,on_m=45,on_h=22,on_d=26,on_M=11;function rg(n,s,t,i,o){return o.relativeTime(s||1,!!t,n,i)}class Ca{constructor(s,t={}){this._data={},this._locale=mt(),this._locale=t&&t._locale||mt();const o=s.year||0,r=s.quarter||0,x=s.month||0,T=s.week||0,L=s.day||0,R=s.hours||0,J=s.minutes||0,se=s.seconds||0,me=s.milliseconds||0;return this._isValid=function og(n){if(Object.keys(n).some(i=>i in ig&&null===n[i]||isNaN(n[i])))return!1;let t=!1;for(let i=0;i<Fi.length;++i)if(n[Fi[i]]){if(t)return!1;n[Fi[i]]!==Ke(n[Fi[i]])&&(t=!0)}return!0}(s),this._milliseconds=+me+1e3*se+60*J*1e3+1e3*R*60*60,this._days=+L+7*T,this._months=+x+3*r+12*o,function sg(n){let s=n._milliseconds,t=n._days,i=n._months;const o=n._data;s>=0&&t>=0&&i>=0||s<=0&&t<=0&&i<=0||(s+=864e5*va(as(i)+t),t=0,i=0),o.milliseconds=s%1e3;const r=In(s/1e3);o.seconds=r%60;const x=In(r/60);o.minutes=x%60;const T=In(x/60);o.hours=T%24,t+=In(T/24);const L=In(ba(t));i+=L,t-=va(as(L));const R=In(i/12);return i%=12,o.day=t,o.month=i,o.year=R,n}(this)}isValid(){return this._isValid}humanize(s){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let i=function ag(n,s,t){const i=fs(n).abs(),o=Sn(i.as("s")),r=Sn(i.as("m")),x=Sn(i.as("h")),T=Sn(i.as("d")),L=Sn(i.as("M")),R=Sn(i.as("y")),J=o<=on_ss&&["s",o]||o<on_s&&["ss",o]||r<=1&&["m"]||r<on_m&&["mm",r]||x<=1&&["h"]||x<on_h&&["hh",x]||T<=1&&["d"]||T<on_d&&["dd",T]||L<=1&&["M"]||L<on_M&&["MM",L]||R<=1&&["y"]||["yy",R];return rg.apply(null,[J[0],J[1],s,+n>0,t])}(this,!s,t);return s&&(i=t.pastFuture(+this,i)),t.postformat(i)}localeData(){return this._locale}locale(s){return s?(this._locale=mt(s)||this._locale,this):this._locale._abbr}abs(){const s=Math.abs,t=this._data;return this._milliseconds=s(this._milliseconds),this._days=s(this._days),this._months=s(this._months),t.milliseconds=s(t.milliseconds),t.seconds=s(t.seconds),t.minutes=s(t.minutes),t.hours=s(t.hours),t.month=s(t.month),t.year=s(t.year),this}as(s){if(!this.isValid())return NaN;let t,i;const o=this._milliseconds,r=Gr(s);if("month"===r||"year"===r)return t=this._days+o/864e5,i=this._months+ba(t),"month"===r?i:i/12;switch(t=this._days+Math.round(as(this._months)),r){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hours":return 24*t+o/36e5;case"minutes":return 1440*t+o/6e4;case"seconds":return 86400*t+o/1e3;case"milliseconds":return Math.floor(864e5*t)+o;default:throw new Error(`Unknown unit ${r}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Ke(this._months/12):NaN}}function ls(n){if(null==n._isValid){const s=tt(n),t=Array.prototype.some.call(s.parsedDateParts,function(o){return null!=o});let i=!isNaN(n._d&&n._d.getTime())&&s.overflow<0&&!s.empty&&!s.invalidMonth&&!s.invalidWeekday&&!s.weekdayMismatch&&!s.nullInput&&!s.invalidFormat&&!s.userInvalidated&&(!s.meridiem||s.meridiem&&t);if(n._strict&&(i=i&&0===s.charsLeftOver&&0===s.unusedTokens.length&&void 0===s.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function _o(n,s){return n._d=new Date(NaN),Object.assign(tt(n),s||{userInvalidated:!0}),n}const dg=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ug=/Z|[+-]\d\d(?::?\d\d)?/,mo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],cs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fg=/^\/?Date\((\-?\d+)/i,pg={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},gg=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ya(n){if(!Ot(n._i))return n;const s=n._i,t=dg.exec(s)||hg.exec(s);let i,o,r,x,T,L;if(!t)return n._isValid=!1,n;for(T=0,L=mo.length;T<L;T++)if(mo[T][1].exec(t[1])){o=mo[T][0],i=!1!==mo[T][2];break}if(null==o)return n._isValid=!1,n;if(t[3]){for(T=0,L=cs.length;T<L;T++)if(cs[T][1].exec(t[3])){r=(t[2]||" ")+cs[T][0];break}if(null==r)return n._isValid=!1,n}if(!i&&null!=r)return n._isValid=!1,n;if(t[4]){if(!ug.exec(t[4]))return n._isValid=!1,n;x="Z"}return n._f=o+(r||"")+(x||""),hs(n)}function mg(n){const s=parseInt(n,10);return s<=49?s+2e3:s}function xa(n){if(!Ot(n._i))return n;const s=gg.exec(function vg(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!s)return function cg(n){return n._isValid=!1,n}(n);const t=function _g(n,s,t,i,o,r){const x=[mg(n),ia.indexOf(s),parseInt(t,10),parseInt(i,10),parseInt(o,10)];return r&&x.push(parseInt(r,10)),x}(s[4],s[3],s[2],s[5],s[6],s[7]);return function bg(n,s,t){return!n||oa.indexOf(n)===new Date(s[0],s[1],s[2]).getDay()||(tt(t).weekdayMismatch=!0,t._isValid=!1,!1)}(s[1],t,n)&&(n._a=t,n._tzm=function Cg(n,s,t){if(n)return pg[n];if(s)return 0;{const i=parseInt(t,10),o=i%100;return(i-o)/100*60+o}}(s[8],s[9],s[10]),n._d=no.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),tt(n).rfc2822=!0),n}function It(n,s,t,i,o=0){const r=mt(t||"en");if(!r)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const T=function xg(n,s,t,i,o=0){if(!wn(n))return t.invalidDate;const r=wa(s,t);return Jo[r]=Jo[r]||function rp(n){const s=n.match(Qr),t=s.length,i=new Array(t);for(let o=0;o<t;o++)i[o]=ii[s[o]]?ii[s[o]]:ap(s[o]);return function(o,r,x,T=0){let L="";for(let R=0;R<t;R++)L+=Nn(i[R])?i[R].call(null,o,{format:n,locale:r,isUTC:x,offset:T}):i[R];return L}}(r),Jo[r](n,t,i,o)}(n,s||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),r,i,o);return T&&r.postformat(T)}function wa(n,s){let t=n,i=5;const o=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,r=x=>s.formatLongDate(x)||x;for(o.lastIndex=0;i>=0&&o.test(t);)t=t.replace(o,r),o.lastIndex=0,i-=1;return t}function ci(n,s,t){return n??s??t}function ds(n){const s=[];let t,i,o;if(n._d)return n;const r=function wg(n){const s=new Date;return n._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function Mg(n){let s,t,i,o,r,x,T;const L=n._w;if(null!=L.GG||null!=L.W||null!=L.E)o=1,r=4,s=ci(L.GG,n._a[0],li(new Date,1,4).year),t=ci(L.W,1),i=ci(L.E,1),(i<1||i>7)&&(T=!0);else{o=n._locale._week.dow,r=n._locale._week.doy;const R=li(new Date,o,r);s=ci(L.gg,n._a[0],R.year),t=ci(L.w,R.week),null!=L.d?(i=L.d,(i<0||i>6)&&(T=!0)):null!=L.e?(i=L.e+o,(L.e<0||L.e>6)&&(T=!0)):i=o}t<1||t>jn(s,o,r)?tt(n)._overflowWeeks=!0:null!=T?tt(n)._overflowWeekday=!0:(x=function ta(n,s,t,i,o){const T=1+7*(s-1)+(7+t-i)%7+fo(n,i,o);let L,R;return T<=0?(L=n-1,R=Di(L)+T):T>Di(n)?(L=n+1,R=T-Di(n)):(L=n,R=T),{year:L,dayOfYear:R}}(s,t,i,o,r),n._a[0]=x.year,n._dayOfYear=x.dayOfYear)}(n),null!=n._dayOfYear&&(o=ci(n._a[0],r[0]),(n._dayOfYear>Di(o)||0===n._dayOfYear)&&(tt(n)._overflowDayOfYear=!0),i=new Date(Date.UTC(o,0,n._dayOfYear)),n._a[1]=i.getUTCMonth(),n._a[2]=i.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=s[t]=r[t];for(;t<7;t++)n._a[t]=s[t]=n._a[t]??(2===t?1:0);24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?no:io).apply(null,s);const x=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==x&&(tt(n).weekdayMismatch=!0),n}function Ma(n){let s;const t=n._a;return t&&-2===tt(n).overflow&&(s=t[1]<0||t[1]>11?1:t[2]<1||t[2]>ho(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,tt(n)._overflowDayOfYear&&(s<0||s>2)&&(s=2),tt(n)._overflowWeeks&&-1===s&&(s=7),tt(n)._overflowWeekday&&-1===s&&(s=8),tt(n).overflow=s),n}function hs(n){if("ISO_8601"===n._f)return ya(n);if("RFC_2822"===n._f)return xa(n);if(n._a=[],tt(n).empty=!0,ht(n._f)||!n._i&&0!==n._i)return n;let s=n._i.toString(),t=0;const i=s.length,o=wa(n._f,n._locale).match(Qr)||[];let r,x,T,L;for(r=0;r<o.length;r++)x=o[r],T=(s.match(_p(x,n._locale))||[])[0],T&&(L=s.substr(0,s.indexOf(T)),L.length>0&&tt(n).unusedInput.push(L),s=s.slice(s.indexOf(T)+T.length),t+=T.length),ii[x]?(T?tt(n).empty=!1:tt(n).unusedTokens.push(x),vp(x,T,n)):n._strict&&!T&&tt(n).unusedTokens.push(x);return tt(n).charsLeftOver=i-t,s.length>0&&tt(n).unusedInput.push(s),n._a[3]<=12&&!0===tt(n).bigHour&&n._a[3]>0&&(tt(n).bigHour=void 0),tt(n).parsedDateParts=n._a.slice(0),tt(n).meridiem=n._meridiem,n._a[3]=function kg(n,s,t){let i=s;if(null==t)return i;if(null!=n.meridiemHour)return n.meridiemHour(i,t);if(null==n.isPM)return i;const o=n.isPM(t);return o&&i<12&&(i+=12),!o&&12===i&&(i=0),i}(n._locale,n._a[3],n._meridiem),ds(n),Ma(n)}function Pg(n){const s=Ma(function Dg(n){let s=n._i;const t=n._f;return n._locale=n._locale||mt(n._l),null===s||void 0===t&&""===s?_o(n,{nullInput:!0}):(Ot(s)&&(n._i=s=n._locale.preparse(s,t)),to(s)?(n._d=pn(s),n):(ht(t)?function Ag(n){let s,t,i,o,r;if(!n._f||0===n._f.length)return tt(n).invalidFormat=!0,_o(n);for(r=0;r<n._f.length;r++)o=0,s=Object.assign({},n),null!=n._useUTC&&(s._useUTC=n._useUTC),s._f=n._f[r],hs(s),ls(s)&&(o+=tt(s).charsLeftOver,o+=10*tt(s).unusedTokens.length,tt(s).score=o,(null==i||o<i)&&(i=o,t=s));Object.assign(n,t||s)}(n):t?hs(n):function Eg(n){const s=n._i;if(Jr(s))n._d=new Date;else if(to(s))n._d=pn(s);else if(Ot(s))!function yg(n){if(!Ot(n._i))return n;const s=fg.exec(n._i);null!==s?n._d=new Date(+s[1]):(ya(n),!1!==n._isValid||(delete n._isValid,xa(n),!1!==n._isValid||(delete n._isValid,_o(n))))}(n);else if(ht(s)&&s.length){const t=s.slice(0);n._a=t.map(i=>Ot(i)?parseInt(i,10):i),ds(n)}else if(Zn(s))!function Og(n){if(n._d)return n;const s=n._i;if(Zn(s)){const t=function ip(n){const s={};let t,i;for(i in n)wt(n,i)&&(t=Gr(i),t&&(s[t]=n[i]));return s}(s);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(i=>Ot(i)?parseInt(i,10):i)}return ds(n)}(n);else{if(!Rn(s))return _o(n);n._d=new Date(s)}}(n),ls(n)||(n._d=null),n))}(n));return s._d=new Date(null!=s._d?s._d.getTime():NaN),ls(Object.assign({},s,{_isValid:null}))||(s._d=new Date(NaN)),s}function Ii(n,s,t,i,o){return to(n)?n:function Lg(n,s,t,i,o){const r={};let x=n;return(Zn(x)&&function np(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let s;for(s in n)if(n.hasOwnProperty(s))return!1;return!0}(x)||ht(x)&&0===x.length)&&(x=void 0),r._useUTC=r._isUTC=o,r._l=t,r._i=x,r._f=s,r._strict=i,Pg(r)}(n,s,t,i,o)._d}function Sa(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function us(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Qt(n,s,t="milliseconds"){return!(!n||!s)&&("milliseconds"===t?n.valueOf()>s.valueOf():s.valueOf()<gn(n,t).valueOf())}function sn(n,s,t="milliseconds"){return!(!n||!s)&&("milliseconds"===t?n.valueOf()<s.valueOf():uo(n,t).valueOf()<s.valueOf())}function di(n,s,t="milliseconds"){if(!n||!s)return!1;if("milliseconds"===t)return n.valueOf()===s.valueOf();const i=s.valueOf();return gn(n,t).valueOf()<=i&&i<=uo(n,t).valueOf()}const Ig=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ng=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fs(n,s,t={}){const i=function Rg(n,s){if(null==n)return{};if(function lg(n){return n instanceof Ca}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(Rn(n))return s?{[s]:n}:{milliseconds:n};if(Ot(n)){let t=Ig.exec(n);if(t){const i="-"===t[1]?-1:1;return{year:0,day:Ke(t[2])*i,hours:Ke(t[3])*i,minutes:Ke(t[4])*i,seconds:Ke(t[5])*i,milliseconds:Ke(us(1e3*Ke(t[6])))*i}}if(t=Ng.exec(n),t){const i="-"===t[1]?-1:1;return{year:Jn(t[2],i),month:Jn(t[3],i),week:Jn(t[4],i),day:Jn(t[5],i),hours:Jn(t[6],i),minutes:Jn(t[7],i),seconds:Jn(t[8],i)}}}if(Zn(n)&&("from"in n||"to"in n)){const t=function Zg(n,s){if(!wn(n)||!wn(s))return{milliseconds:0,months:0};let t;const i=function Kp(n,s,t={}){if(!t._isUTC)return n;const i=pn(s),o=6e4*(t._offset||0),r=n.valueOf()-i.valueOf()+o;return i.setTime(i.valueOf()+r),i}(s,n,{_offset:n.getTimezoneOffset()});return sn(n,i)?t=Ta(n,i):(t=Ta(i,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(Ii(n.from),Ii(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,s);return new Ca(i,t)}function Jn(n,s){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*s}function Ta(n,s){const t={milliseconds:0,months:0};return t.months=Xe(s)-Xe(n)+12*(ut(s)-ut(n)),Qt(rn(pn(n),t.months,"month"),s)&&--t.months,t.milliseconds=+s-+rn(pn(n),t.months,"month"),t}function rn(n,s,t,i){return ka(n,fs(s,t),1,i)}function ka(n,s,t,i){const o=s._milliseconds,r=us(s._days),x=us(s._months);return x&&Un(n,Xe(n,i)+x*t,i),r&&ts(n,Hn(n,i)+r*t,i),o&&function Dp(n,s){n.setTime(s)}(n,function lp(n){return n.getTime()}(n)+o*t),pn(n)}function Ni(n,s,t=mt(),i){const o=nn(n,i),r=function Yg(n,s){if(!Ot(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const i=s.weekdaysParse(n);return Rn(i)?i:null}(s,t);return rn(n,r-o,"day")}function ps(n,s=mt(),t){return(nn(n,t)+7-s.firstDayOfWeek())%7}const Oa=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},Jg={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Nt=function(n){return function(s,t){const i=Oa(s);let o=Jg[n][Oa(s)];return 2===i&&(o=o[t?0:1]),o.replace(/%d/i,s.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Nt("s"),Nt("s"),Nt("m"),Nt("m"),Nt("h"),Nt("h"),Nt("d"),Nt("d"),Nt("M"),Nt("M"),Nt("y"),Nt("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const _s="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),ms="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,s){let t,i=[];for(t=0;t<12;t++)i[t]=new RegExp("^"+n[t]+"$|^"+s[t]+"$","i")})(_s,ms),function(n){let s,t=[];for(s=0;s<12;s++)t[s]=new RegExp("^"+n[s]+"$","i")}(ms),function(n){let s,t=[];for(s=0;s<12;s++)t[s]=new RegExp("^"+n[s]+"$","i")}(_s),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const Wa={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,s,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,s){const t=Wa.longDateFormat[s]?Wa.longDateFormat[s]:s;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,s=!1)=>543+(s?n.getUTCFullYear():n.getFullYear())};function _i(n){return function(s){return n+"\u043e"+(11===$e(s)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),_i("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),_i("[\u0417\u0430\u0432\u0442\u0440\u0430 "),_i("[\u0412\u0447\u043e\u0440\u0430 "),_i("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");var mi=be(1135);const __=new class g_ extends fr.v{}(class p_ extends ur.o{constructor(s,t){super(s,t),this.scheduler=s,this.work=t}schedule(s,t=0){return t>0?super.schedule(s,t):(this.delay=t,this.state=s,this.scheduler.flush(this),this)}execute(s,t){return t>0||this.closed?super.execute(s,t):this._execute(s,t)}requestAsyncId(s,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(s,t,i):(s.flush(this),0)}});var m_=be(5363),v_=be(2940);class Ga extends mi.X{constructor(s,t,i){super(s),t.pipe((0,m_.Q)(__)).pipe((0,v_.R)((x,T)=>T?i(x,T):x,s)).subscribe(x=>this.next(x))}}class bo extends No.y{constructor(s,t,i){super(),this._dispatcher=s,this._reducer=t,this.source=i}select(s){return(this.source?.pipe((0,Vo.U)(s))||(new No.y).pipe((0,Vo.U)(s))).pipe((0,$i.x)())}lift(s){const t=new bo(this._dispatcher,this._reducer,this);return t.operator=s,t}dispatch(s){this._dispatcher.next(s)}next(s){this._dispatcher.next(s)}error(s){this._dispatcher.error(s)}complete(){}}function b_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function C_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeMinutes(o.minuteStep))}),e._UZ(2,"span",2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function y_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0"),e.qZA())}function x_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeSeconds(o.secondsStep))}),e._UZ(2,"span",2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function w_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function M_(n,s){1&n&&e._UZ(0,"td")}function S_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0:\xa0"),e.qZA())}function T_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",4)(1,"input",5),e.NdJ("wheel",function(o){e.CHM(t);const r=e.oxw();return r.prevDef(o),e.KtG(r.changeMinutes(r.minuteStep*r.wheelSign(o),"wheel"))})("keydown.ArrowUp",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeMinutes(o.minuteStep,"key"))})("keydown.ArrowDown",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeMinutes(-o.minuteStep,"key"))})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateMinutes(o.target))}),e.qZA()()}if(2&n){const t=e.oxw();e.ekj("has-error",t.invalidMinutes),e.xp6(1),e.ekj("is-invalid",t.invalidMinutes),e.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),e.uIk("aria-label",t.labelMinutes)}}function k_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0:\xa0"),e.qZA())}function A_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",4)(1,"input",5),e.NdJ("wheel",function(o){e.CHM(t);const r=e.oxw();return r.prevDef(o),e.KtG(r.changeSeconds(r.secondsStep*r.wheelSign(o),"wheel"))})("keydown.ArrowUp",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeSeconds(o.secondsStep,"key"))})("keydown.ArrowDown",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeSeconds(-o.secondsStep,"key"))})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSeconds(o.target))}),e.qZA()()}if(2&n){const t=e.oxw();e.ekj("has-error",t.invalidSeconds),e.xp6(1),e.ekj("is-invalid",t.invalidSeconds),e.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),e.uIk("aria-label",t.labelSeconds)}}function O_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function P_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleMeridian())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.isEditable||!t.canToggleMeridian),e.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),e.xp6(1),e.hij("",t.meridian," ")}}function D_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function E_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeMinutes(-o.minuteStep))}),e._UZ(2,"span",7),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function L_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0"),e.qZA())}function F_(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeSeconds(-o.secondsStep))}),e._UZ(2,"span",7),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function I_(n,s){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function N_(n,s){1&n&&e._UZ(0,"td")}let _n=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ks(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||ks(new Date(n)))}function As(n,s){return!(n.min&&s<n.min||n.max&&s>n.max)}function Kn(n){return typeof n>"u"?NaN:"number"==typeof n?n:parseInt(n,10)}function Ka(n,s=!1){const t=Kn(n);return isNaN(t)||t<0||t>(s?12:24)?NaN:t}function $a(n){const s=Kn(n);return isNaN(s)||s<0||s>60?NaN:s}function Xa(n){const s=Kn(n);return isNaN(s)||s<0||s>60?NaN:s}function el(n){return"string"==typeof n?new Date(n):n}function jt(n,s){if(!n)return jt(Co(new Date,0,0,0),s);if(!s)return n;let t=n.getHours(),i=n.getMinutes(),o=n.getSeconds();return s.hour&&(t+=Kn(s.hour)),s.minute&&(i+=Kn(s.minute)),s.seconds&&(o+=Kn(s.seconds)),Co(n,t,i,o)}function tl(n,s){let t=Ka(s.hour);const i=$a(s.minute),o=Xa(s.seconds)||0;return s.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(i)?n:Co(n,t,i,o):isNaN(t)||isNaN(i)?n:Co(new Date,t,i,o)}function Co(n,s,t,i){const o=new Date(n.getFullYear(),n.getMonth(),n.getDate(),s,t,i,n.getMilliseconds());return o.setFullYear(n.getFullYear()),o.setMonth(n.getMonth()),o.setDate(n.getDate()),o}function Os(n){const s=n.toString();return s.length>1?s:`0${s}`}function nl(n,s){return!isNaN(Ka(n,s))}function il(n){return!isNaN($a(n))}function ol(n){return!isNaN(Xa(n))}function sl(n,s="0",t="0",i){return nl(n,i)&&il(s)&&ol(t)}function yo(n,s){return!(n.readonlyInput||n.disabled||s&&("wheel"===s.source&&!n.mousewheel||"key"===s.source&&!n.arrowkeys))}function rl(n){const{hourStep:s,minuteStep:t,secondsStep:i,readonlyInput:o,disabled:r,mousewheel:x,arrowkeys:T,showSpinners:L,showMeridian:R,showSeconds:J,meridians:se,min:me,max:Me}=n;return{hourStep:s,minuteStep:t,secondsStep:i,readonlyInput:o,disabled:r,mousewheel:x,arrowkeys:T,showSpinners:L,showMeridian:R,showSeconds:J,meridians:se,min:me,max:Me}}let al=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ll={value:void 0,config:new al,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function cl(n=ll,s){switch(s.type){case _n.WRITE_VALUE:return Object.assign({},n,{value:s.payload});case _n.CHANGE_HOURS:{if(!yo(n.config,s.payload)||!function j_(n,s){return!(!n.step||n.step>0&&!s.canIncrementHours||n.step<0&&!s.canDecrementHours)}(s.payload,n.controls))return n;const t=jt(n.value,{hour:s.payload.step});return!n.config.max&&!n.config.min||As(n.config,t)?Object.assign({},n,{value:t}):n}case _n.CHANGE_MINUTES:{if(!yo(n.config,s.payload)||!function q_(n,s){return!(!n.step||n.step>0&&!s.canIncrementMinutes||n.step<0&&!s.canDecrementMinutes)}(s.payload,n.controls))return n;const t=jt(n.value,{minute:s.payload.step});return!n.config.max&&!n.config.min||As(n.config,t)?Object.assign({},n,{value:t}):n}case _n.CHANGE_SECONDS:{if(!yo(n.config,s.payload)||!function V_(n,s){return!(!n.step||n.step>0&&!s.canIncrementSeconds||n.step<0&&!s.canDecrementSeconds)}(s.payload,n.controls))return n;const t=jt(n.value,{seconds:s.payload.step});return!n.config.max&&!n.config.min||As(n.config,t)?Object.assign({},n,{value:t}):n}case _n.SET_TIME_UNIT:{if(!yo(n.config))return n;const t=tl(n.value,s.payload);return Object.assign({},n,{value:t})}case _n.UPDATE_CONTROLS:{const t=function z_(n,s){const{min:o,max:r,hourStep:x,minuteStep:T,secondsStep:L,showSeconds:R}=s,J={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return J;if(r){const se=jt(n,{hour:x});if(J.canIncrementHours=r>se&&n.getHours()+x<24,!J.canIncrementHours){const me=jt(n,{minute:T});J.canIncrementMinutes=R?r>me:r>=me}if(!J.canIncrementMinutes){const me=jt(n,{seconds:L});J.canIncrementSeconds=r>=me}n.getHours()<12&&(J.canToggleMeridian=jt(n,{hour:12})<r)}if(o){const se=jt(n,{hour:-x});if(J.canDecrementHours=o<se,!J.canDecrementHours){const me=jt(n,{minute:-T});J.canDecrementMinutes=R?o<me:o<=me}if(!J.canDecrementMinutes){const me=jt(n,{seconds:-L});J.canDecrementSeconds=o<=me}n.getHours()>=12&&(J.canToggleMeridian=jt(n,{hour:-12})>o)}return J}(n.value,s.payload),i={value:n.value,config:s.payload,controls:t};return n.config.showMeridian!==i.config.showMeridian&&n.value&&(i.value=new Date(n.value)),Object.assign({},n,i)}default:return n}}let xo=(()=>{class n extends bo{constructor(){const t=new mi.X({type:"[mini-ngrx] dispatcher init"});super(t,cl,new Ga(ll,t,cl))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const J_={provide:w.JU,useExisting:(0,e.Gpc)(()=>Ps),multi:!0};let Ps=(()=>{class n{constructor(t,i,o,r){this._cd=i,this._store=o,this._timepickerActions=r,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new e.vpe,this.meridianChange=new e.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=o.select(x=>x.value).subscribe(x=>{this._renderTime(x),this.onChange(x),this._store.dispatch(this._timepickerActions.updateControls(rl(this)))}),o.select(x=>x.controls).subscribe(x=>{const T=sl(this.hours,this.minutes,this.seconds,this.isPM()),L=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||T;this.isValid.emit(L),Object.assign(this,x),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(rl(this)))}changeHours(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:i}))}changeMinutes(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:i}))}changeSeconds(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:i}))}updateHours(t){this.resetValidation(),this.hours=t.value;const i=nl(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const i=il(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const i=ol(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function Y_(n,s,t){const i=tl(new Date,n);return!(!i||s&&i>s||t&&i<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function U_(n,s,t){return 0===n.length||0===s.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const o=sl(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||o))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){ks(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(el(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(t){if(!t||!ks(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=el(t);if(!i)return;let r=i.getHours();this.showMeridian&&(this.meridian=this.meridians[r>=12?1:0],this.meridianChange.emit(this.meridian),r%=12,0===r&&(r=12)),this.hours=Os(r),this.minutes=Os(i.getMinutes()),this.seconds=Os(i.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(al),e.Y36(e.sBO),e.Y36(xo),e.Y36(_n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[e._Bn([J_,xo]),e.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),e.NdJ("click",function(){return i.changeHours(i.hourStep)}),e._UZ(5,"span",2),e.qZA()(),e.YNc(6,b_,2,0,"td",3),e.YNc(7,C_,3,2,"td",3),e.YNc(8,y_,2,0,"td",3),e.YNc(9,x_,3,2,"td",3),e.YNc(10,w_,2,0,"td",3),e.YNc(11,M_,1,0,"td",3),e.qZA(),e.TgZ(12,"tr")(13,"td",4)(14,"input",5),e.NdJ("wheel",function(r){return i.prevDef(r),i.changeHours(i.hourStep*i.wheelSign(r),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(r){return i.updateHours(r.target)}),e.qZA()(),e.YNc(15,S_,2,0,"td",3),e.YNc(16,T_,2,9,"td",6),e.YNc(17,k_,2,0,"td",3),e.YNc(18,A_,2,9,"td",6),e.YNc(19,O_,2,0,"td",3),e.YNc(20,P_,3,4,"td",3),e.qZA(),e.TgZ(21,"tr",0)(22,"td")(23,"a",1),e.NdJ("click",function(){return i.changeHours(-i.hourStep)}),e._UZ(24,"span",7),e.qZA()(),e.YNc(25,D_,2,0,"td",3),e.YNc(26,E_,3,2,"td",3),e.YNc(27,L_,2,0,"td",3),e.YNc(28,F_,3,2,"td",3),e.YNc(29,I_,2,0,"td",3),e.YNc(30,N_,1,0,"td",3),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("hidden",!i.showSpinners),e.xp6(2),e.ekj("disabled",!i.canIncrementHours||!i.isEditable),e.xp6(2),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(2),e.ekj("has-error",i.invalidHours),e.xp6(1),e.ekj("is-invalid",i.invalidHours),e.Q6J("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),e.uIk("aria-label",i.labelHours),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("hidden",!i.showSpinners),e.xp6(2),e.ekj("disabled",!i.canDecrementHours||!i.isEditable),e.xp6(2),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian))},dependencies:[C.O5],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),W_=(()=>{class n{static forRoot(){return{ngModule:n,providers:[_n,xo]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[xo],imports:[[C.ez]]}),n})();var G_=be(9841),an=be(655),dl=be(5963);const Q_=["*"];let Ds=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K_=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return gt()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=ni[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ds))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("id",i.id),e.Tol("tooltip in tooltip-"+i.placement+" bs-tooltip-"+i.placement+" "+i.placement+" "+i.containerClass),e.ekj("show",!i._bsVersions.isBs3)("bs3",i._bsVersions.isBs3))},ngContentSelectors:Q_,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),$_=0,X_=(()=>{class n{constructor(t,i,o,r,x,T){this._elementRef=r,this._renderer=x,this._positionService=T,this.tooltipId=$_++,this.adaptivePosition=!0,this.tooltipChange=new e.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new e.vpe,this._tooltip=i.createLoader(this._elementRef,t,this._renderer).provide({provide:Ds,useValue:o}),Object.assign(this,o),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){Et("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){Et("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){Et("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return Et("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){Et("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return Et("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){Et('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return Et('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){Et("tooltipClass deprecated")}set _tooltipContext(t){Et("tooltipContext deprecated")}set _tooltipPopupDelay(t){Et("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return Et("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){Et("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(K_).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,dl.H)(this.delay).subscribe(()=>{t(),i()}),this.triggers&&Se(this.triggers).forEach(o=>{!o.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,o.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(Ln),e.Y36(Ds),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(yn))},n.\u0275dir=e.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,an.gn)([At(),(0,an.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),em=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Ln,yn]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.ez]]}),n})();function tm(n,s){1&n&&e._UZ(0,"bs-current-date",4)}function nm(n,s){1&n&&e._UZ(0,"bs-timepicker")}const im=[[["bs-datepicker-navigation-view"]],"*"],om=["bs-datepicker-navigation-view","*"];function sm(n,s){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1," \u200b "),e.TgZ(2,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.view("month"))}),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.calendar.monthTitle)}}const rm=["bsDatepickerDayDecorator",""];function am(n,s){1&n&&e._UZ(0,"th")}function lm(n,s){if(1&n&&(e.TgZ(0,"th",5),e._uU(1),e.qZA()),2&n){const t=s.index,i=e.oxw();e.xp6(1),e.hij("",i.calendar.weekdays[t]," ")}}function cm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.selectWeek(o))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).index,i=e.oxw();e.xp6(1),e.Oqu(i.calendar.weekNumbers[t])}}function dm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.selectWeek(o))})("mouseenter",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.weekHoverHandler(o,!0))})("mouseleave",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.weekHoverHandler(o,!1))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).index,i=e.oxw();e.xp6(1),e.Oqu(i.calendar.weekNumbers[t])}}function hm(n,s){if(1&n&&(e.TgZ(0,"td",8),e.YNc(1,cm,2,1,"span",9),e.YNc(2,dm,2,1,"span",10),e.qZA()),2&n){const t=e.oxw(2);e.ekj("active-week",t.isWeekHovered),e.xp6(1),e.Q6J("ngIf",t.isiOS),e.xp6(1),e.Q6J("ngIf",!t.isiOS)}}function um(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.selectDay(o))})("mouseenter",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.hoverDay(o,!0))})("mouseleave",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.hoverDay(o,!1))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.s9C("tooltip",t.tooltipText),e.Q6J("day",t),e.xp6(1),e.hij("",t.label," 3")}}function fm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.selectDay(o))})("mouseenter",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.hoverDay(o,!0))})("mouseleave",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.hoverDay(o,!1))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("day",t),e.xp6(1),e.hij("",t.label," 2")}}function pm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.selectDay(o))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("day",t),e.xp6(1),e.hij("",t.label," 1")}}function gm(n,s){if(1&n&&(e.TgZ(0,"td",13),e.YNc(1,um,2,3,"span",14),e.YNc(2,fm,2,2,"span",15),e.YNc(3,pm,2,2,"span",16),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),e.xp6(1),e.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),e.xp6(1),e.Q6J("ngIf",t.isiOS)}}function _m(n,s){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,hm,3,4,"td",6),e.YNc(2,gm,4,3,"td",7),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.options&&i.options.showWeekNumbers),e.xp6(1),e.Q6J("ngForOf",t.days)}}function mm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.viewMonth(r))})("mouseenter",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.hoverMonth(r,!0))})("mouseleave",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.hoverMonth(r,!1))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){const t=s.$implicit;e.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),e.xp6(1),e.ekj("selected",t.isSelected),e.xp6(1),e.Oqu(t.label)}}function vm(n,s){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,mm,3,7,"td",3),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function bm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.viewYear(r))})("mouseenter",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.hoverYear(r,!0))})("mouseleave",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.hoverYear(r,!1))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){const t=s.$implicit;e.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),e.xp6(1),e.ekj("selected",t.isSelected),e.xp6(1),e.Oqu(t.label)}}function Cm(n,s){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,bm,3,7,"td",3),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function ym(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw();return e.KtG(x.selectFromRanges(r))}),e._uU(1),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.ekj("selected",t.value===i.selectedRange),e.xp6(1),e.hij(" ",t.label," ")}}const hl=["startTP"];function xm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bs-days-calendar-view",11),e.NdJ("onNavigate",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateTo(o))})("onViewMode",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setViewMode(o))})("onHover",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.dayHoverHandler(o))})("onHoverWeek",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.weekHoverHandler(o))})("onSelect",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.daySelectHandler(o))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.ekj("bs-datepicker-multiple",i.multipleCalendars),e.Q6J("calendar",t)("options",e.lcZ(1,4,i.options$))}}function wm(n,s){1&n&&e._UZ(0,"timepicker",null,15)}function Mm(n,s){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"timepicker",null,13),e.YNc(3,wm,2,0,"timepicker",14),e.qZA()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.isRangePicker)}}function Sm(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,xm,2,6,"bs-days-calendar-view",9),e.ALo(3,"async"),e.qZA(),e.YNc(4,Mm,4,1,"div",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,t.daysCalendar$)),e.xp6(2),e.Q6J("ngIf",t.withTimepicker)}}function Tm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bs-month-calendar-view",17),e.NdJ("onNavigate",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateTo(o))})("onViewMode",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setViewMode(o))})("onHover",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.monthHoverHandler(o))})("onSelect",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.monthSelectHandler(o))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.ekj("bs-datepicker-multiple",i.multipleCalendars),e.Q6J("calendar",t)}}function km(n,s){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Tm,1,3,"bs-month-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.monthsCalendar))}}function Am(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bs-years-calendar-view",17),e.NdJ("onNavigate",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateTo(o))})("onViewMode",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setViewMode(o))})("onHover",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.yearHoverHandler(o))})("onSelect",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.yearSelectHandler(o))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.ekj("bs-datepicker-multiple",i.multipleCalendars),e.Q6J("calendar",t)}}function Om(n,s){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Am,1,3,"bs-years-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.yearsCalendar))}}function Pm(n,s){1&n&&(e.TgZ(0,"div",18)(1,"button",19),e._uU(2,"Apply"),e.qZA(),e.TgZ(3,"button",20),e._uU(4,"Cancel"),e.qZA()())}function Dm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setToday())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(3);e.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),e.xp6(2),e.Oqu(t.todayBtnLbl)}}function Em(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.clearDate())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(3);e.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),e.xp6(2),e.Oqu(t.clearBtnLbl)}}function Lm(n,s){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,Dm,3,7,"div",21),e.YNc(2,Em,3,7,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showTodayBtn),e.xp6(1),e.Q6J("ngIf",t.showClearBtn)}}function Fm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"bs-custom-date-view",27),e.NdJ("onSelect",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.setRangeOnCalendar(o))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function Im(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("@datepickerAnimation.done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.positionServiceEnable())}),e.TgZ(2,"div",3),e.ALo(3,"async"),e.YNc(4,Sm,5,4,"ng-container",4),e.YNc(5,km,3,3,"div",5),e.YNc(6,Om,3,3,"div",5),e.qZA(),e.YNc(7,Pm,5,0,"div",6),e.YNc(8,Lm,3,2,"div",6),e.qZA(),e.YNc(9,Fm,2,3,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",t.containerClass),e.xp6(1),e.Q6J("@datepickerAnimation",t.animationState),e.xp6(1),e.Q6J("ngSwitch",e.lcZ(3,9,t.viewMode)),e.xp6(2),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),e.xp6(1),e.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const Gm=["endTP"];function Qm(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bs-days-calendar-view",11),e.NdJ("onNavigate",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateTo(o))})("onViewMode",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setViewMode(o))})("onHover",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.dayHoverHandler(o))})("onHoverWeek",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.weekHoverHandler(o))})("onSelect",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.daySelectHandler(o))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.ekj("bs-datepicker-multiple",i.multipleCalendars),e.Q6J("calendar",t)("options",e.lcZ(1,4,i.options$))}}function Km(n,s){1&n&&e._UZ(0,"timepicker",null,15)}function $m(n,s){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"timepicker",null,13),e.YNc(3,Km,2,0,"timepicker",14),e.qZA()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.isRangePicker)}}function Xm(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,Qm,2,6,"bs-days-calendar-view",9),e.ALo(3,"async"),e.qZA(),e.YNc(4,$m,4,1,"div",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,t.daysCalendar$)),e.xp6(2),e.Q6J("ngIf",t.withTimepicker)}}function ev(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bs-month-calendar-view",17),e.NdJ("onNavigate",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateTo(o))})("onViewMode",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setViewMode(o))})("onHover",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.monthHoverHandler(o))})("onSelect",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.monthSelectHandler(o))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.ekj("bs-datepicker-multiple",i.multipleCalendars),e.Q6J("calendar",t)}}function tv(n,s){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,ev,1,3,"bs-month-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.monthsCalendar))}}function nv(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bs-years-calendar-view",17),e.NdJ("onNavigate",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateTo(o))})("onViewMode",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.setViewMode(o))})("onHover",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.yearHoverHandler(o))})("onSelect",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.yearSelectHandler(o))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.ekj("bs-datepicker-multiple",i.multipleCalendars),e.Q6J("calendar",t)}}function iv(n,s){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,nv,1,3,"bs-years-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.yearsCalendar))}}function ov(n,s){1&n&&(e.TgZ(0,"div",18)(1,"button",19),e._uU(2,"Apply"),e.qZA(),e.TgZ(3,"button",20),e._uU(4,"Cancel"),e.qZA()())}function sv(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setToday())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(3);e.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),e.xp6(2),e.Oqu(t.todayBtnLbl)}}function rv(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.clearDate())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(3);e.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),e.xp6(2),e.Oqu(t.clearBtnLbl)}}function av(n,s){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,sv,3,7,"div",21),e.YNc(2,rv,3,7,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showTodayBtn),e.xp6(1),e.Q6J("ngIf",t.showClearBtn)}}function lv(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"bs-custom-date-view",27),e.NdJ("onSelect",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.setRangeOnCalendar(o))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function cv(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("@datepickerAnimation.done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.positionServiceEnable())}),e.TgZ(2,"div",3),e.ALo(3,"async"),e.YNc(4,Xm,5,4,"ng-container",4),e.YNc(5,tv,3,3,"div",5),e.YNc(6,iv,3,3,"div",5),e.qZA(),e.YNc(7,ov,5,0,"div",6),e.YNc(8,av,3,2,"div",6),e.qZA(),e.YNc(9,lv,2,3,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",t.containerClass),e.xp6(1),e.Q6J("@datepickerAnimation",t.animationState),e.xp6(1),e.Q6J("ngSwitch",e.lcZ(3,9,t.viewMode)),e.xp6(2),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),e.xp6(1),e.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let mn=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ul="220ms cubic-bezier(0, 0, 0.2, 1)",fl=(0,st.X$)("datepickerAnimation",[(0,st.SB)("animated-down",(0,st.oB)({height:"*",overflow:"hidden"})),(0,st.eR)("* => animated-down",[(0,st.oB)({height:0,overflow:"hidden"}),(0,st.jt)(ul)]),(0,st.SB)("animated-up",(0,st.oB)({height:"*",overflow:"hidden"})),(0,st.eR)("* => animated-up",[(0,st.oB)({height:"*",overflow:"hidden"}),(0,st.jt)(ul)]),(0,st.eR)("* => unanimated",(0,st.jt)("0s"))]);class pl{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new ti.w0,this.selectedTimeSub=new ti.w0}set minDate(s){this._effects?.setMinDate(s)}set maxDate(s){this._effects?.setMaxDate(s)}set daysDisabled(s){this._effects?.setDaysDisabled(s)}set datesDisabled(s){this._effects?.setDatesDisabled(s)}set datesEnabled(s){this._effects?.setDatesEnabled(s)}set isDisabled(s){this._effects?.setDisabled(s)}set dateCustomClasses(s){this._effects?.setDateCustomClasses(s)}set dateTooltipTexts(s){this._effects?.setDateTooltipTexts(s)}set daysCalendar$(s){this._daysCalendar$=s,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(s){}navigateTo(s){}dayHoverHandler(s){}weekHoverHandler(s){}monthHoverHandler(s){}yearHoverHandler(s){}timeSelectHandler(s,t){}daySelectHandler(s){}monthSelectHandler(s){}yearSelectHandler(s){}setRangeOnCalendar(s){}setToday(){}clearDate(){}_stopPropagation(s){s.stopPropagation()}}let pt=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,i){return{type:n.SELECT_TIME,payload:{date:t,index:i}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),wo=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new mi.X(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Zi=(()=>{class n{constructor(t,i){this._actions=t,this._localeService=i,this._subs=[]}init(t){return this._store=t,this}setValue(t){this._store?.dispatch(this._actions.select(t))}setRangeValue(t){this._store?.dispatch(this._actions.selectRange(t))}setMinDate(t){return this._store?.dispatch(this._actions.minDate(t)),this}setMaxDate(t){return this._store?.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){return this._store?.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){return this._store?.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){return this._store?.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){return this._store?.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){return this._store?.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){return this._store?.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){const i=Object.assign({locale:this._localeService.currentLocale},t);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(i=>i.selectedTime).pipe((0,xt.h)(i=>!!i)),t.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe((0,xt.h)(i=>!!i)),t.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe((0,xt.h)(i=>!!i)),t.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe((0,xt.h)(i=>!!i)),t.viewMode=this._store.select(i=>i.view?.mode),t.options$=(0,G_.a)([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe((0,Vo.U)(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(t){return t.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},t.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},t.dayHoverHandler=i=>{const o=i.cell;o.isOtherMonth||o.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),o.isHovered=i.isHovered)},t.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},t.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(t=>t.formattedMonths).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedDate).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedRange).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.hoveredDate).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe((0,xt.h)(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(t=>this._store?.dispatch(this._actions.setLocale(t)))),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(pt),e.LFG(wo))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Sv={date:new Date,mode:"day"},gl=Object.assign(new mn,{locale:"en",view:Sv,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function Es(n,s,t){const i=s&&sn(uo(n,"month"),s,"day"),o=t&&Qt(gn(n,"month"),t,"day");return i||o||!1}function Bi(n,s,t){const i=s&&sn(uo(n,"year"),s,"day"),o=t&&Qt(gn(n,"year"),t,"day");return i||o||!1}function Ls(n,s,t){return!!(s&&ht(s)&&s.length)&&(t&&"year"===t&&!s[0].getDate()?s.some(i=>di(n,i,"year")):s.some(i=>di(n,i,"date")))}function Fs(n,s,t){return!!(s&&ht(s)&&s.length)&&!s.some(i=>di(n,i,t||"date"))}function _l(n,s=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[s];return t?.years[0]&&t.years[0][0]&&t.years[0][0].date}function Av(n,s){return!n||!s||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=vl(t.value,s)),n)),n}function ml(n,s){return!n||!s||n instanceof Array&&!n.length||n instanceof Date?n:vl(n,s)}function vl(n,s){return n instanceof Array?n.map(i=>i&&(Qt(i,s,"date")&&(i=s),i)):n}function bl(n){return n&&yl(n)}function Cl(n){return n?.length&&n.map(s=>s&&yl(s)),n}function yl(n){const s=new Date;return n.setMilliseconds(s.getMilliseconds()),n.setSeconds(s.getSeconds()),n.setMinutes(s.getMinutes()),n.setHours(s.getHours()),n}function Is(n,s){let t=n.initialDate;const i=new Array(n.height);for(let o=0;o<n.height;o++){i[o]=new Array(n.width);for(let r=0;r<n.width;r++)i[o][r]=s(t),t=Ct(t,n.shift)}return i}function Ns(n,s){const t=function dp(n){return io(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),i=function Tv(n,s){if(function up(n,s){return n.getDay()===Number(s)}(n,s.firstDayOfWeek))return n;const i=function kv(n,s){const t=Number(s);if(isNaN(t))return 0;if(0===t)return n;const i=n-t%7;return i<0?i+7:i}(nn(n),s.firstDayOfWeek);return Ct(n,{day:-i})}(t,s);return{daysMatrix:Is({width:s.width||0,height:s.height||0,initialDate:i,shift:{day:1}},x=>x),month:t}}function Pv(n,s,t){return n.map(i=>i[0]?It(i[0],s,t):"")}function Dv(n){const s=mt(n),t=s.weekdaysShort(),i=s.firstDayOfWeek();return[...t.slice(i),...t.slice(0,i)]}function xl(n,s){return!s||n>=s}const Nv={month:1};function wl(n,s){return{months:Is({width:3,height:4,initialDate:gn(n,"year"),shift:Nv},r=>({date:r,label:It(r,s.monthLabel,s.locale)})),monthTitle:"",yearTitle:It(n,s.yearTitle,s.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const Ml=-1*(Math.floor(8)-1),Zv={year:1};function Sl(n,s,t){const i=function Bv(n,s){return s&&n.getFullYear()>=s.getFullYear()&&n.getFullYear()<s.getFullYear()+16?s:Ct(n,{year:Ml})}(n,t),r=Is({width:4,height:4,initialDate:i,shift:Zv},T=>({date:T,label:It(T,s.yearLabel,s.locale)})),x=function Hv(n,s){return`${It(n[0][0].date,s.yearTitle,s.locale)} - ${It(n[3][3].date,s.yearTitle,s.locale)}`}(r,s);return{years:r,monthTitle:"",yearTitle:x,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Bs(n,s){!n||!isNaN(n.getTime())||(n.setHours(s.getHours()),n.setMinutes(s.getMinutes()),n.setSeconds(s.getSeconds()),n.setMilliseconds(s.getMilliseconds()))}function Tl(n=gl,s){switch(s.type){case pt.CALCULATE:return function Uv(n){if(!n.view)return n;let s;s=n.displayOneMonthRange&&kl(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=Ct(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=mt(n.locale).firstDayOfWeek();let i=new Array(s);for(let o=0;o<s;o++)i[o]=Ns(t,n.monthViewOptions),t=Ct(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const o=Ns(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===o.month.getMonth()&&(i=n.flaggedMonths.map(r=>n.monthViewOptions?Ns(r.month,n.monthViewOptions):null).filter(r=>null!==r))}return Object.assign({},n,{monthsModel:i})}if("month"===n.view.mode){const i=new Array(s);for(let o=0;o<s;o++)i[o]=wl(t,Hi(n)),t=Ct(t,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(s);for(let o=0;o<s;o++)i[o]=Sl(t,Hi(n),"year"===n.minMode?_l(n,o):void 0),t=Ct(t,{year:16});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case pt.FORMAT:return function jv(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const i=n.monthsModel.map((o,r)=>function Ov(n,s,t){return{month:n.month,monthTitle:It(n.month,s.monthTitle,s.locale),yearTitle:It(n.month,s.yearTitle,s.locale),weekNumbers:Pv(n.daysMatrix,s.weekNumbers,s.locale),weekdays:Dv(s.locale),weeks:n.daysMatrix.map((i,o)=>({days:i.map((r,x)=>({date:r,label:It(r,s.dayLabel,s.locale),monthIndex:t,weekIndex:o,dayIndex:x}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(o,Hi(n),r));return Object.assign({},n,{formattedMonths:i})}const s=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const i=new Array(s);for(let o=0;o<s;o++)i[o]=wl(t,Hi(n)),t=Ct(t,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(s);for(let o=0;o<s;o++)i[o]=Sl(t,Hi(n)),t=Ct(t,{year:16});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case pt.FLAG:return function qv(n){if(!n.view)return n;const s=kl(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((i,o)=>function Ev(n,s){return n.weeks.forEach(t=>{t.days.forEach((i,o)=>{const r=!si(i.date,n.month),x=!r&&Mn(i.date,s.hoveredDate),T=!r&&s.selectedRange&&Mn(i.date,s.selectedRange[0]),L=!r&&s.selectedRange&&Mn(i.date,s.selectedRange[1]),R=!r&&Mn(i.date,s.selectedDate)||T||L,J=!r&&s.selectedRange&&function Lv(n,s,t){return!!(n&&s&&s[0])&&(s[1]?n>s[0]&&n<=s[1]:!!t&&n>s[0]&&n<=t)}(i.date,s.selectedRange,s.hoveredDate),se=s.isDisabled||sn(i.date,s.minDate,"day")||Qt(i.date,s.maxDate,"day")||function Fg(n,s){return!(typeof s>"u"||!s||!s.length)&&s.some(t=>t===n.getDay())}(i.date,s.daysDisabled)||Ls(i.date,s.datesDisabled)||Fs(i.date,s.datesEnabled),me=new Date,Me=!r&&Mn(i.date,me),Ae=s.dateCustomClasses&&s.dateCustomClasses.map(Ye=>Mn(i.date,Ye.date)?Ye.classes:[]).reduce((Ye,qe)=>Ye.concat(qe),[]).join(" ")||"",Re=s.dateTooltipTexts&&s.dateTooltipTexts.map(Ye=>Mn(i.date,Ye.date)?Ye.tooltipText:"").reduce((Ye,qe)=>(Ye.push(qe),Ye),[]).join(" ")||"",Ne=Object.assign({},i,{isOtherMonth:r,isHovered:x,isSelected:R,isSelectionStart:T,isSelectionEnd:L,isInRange:J,isDisabled:se,isToday:Me,customClasses:Ae,tooltipText:Re});(i.isOtherMonth!==Ne.isOtherMonth||i.isHovered!==Ne.isHovered||i.isSelected!==Ne.isSelected||i.isSelectionStart!==Ne.isSelectionStart||i.isSelectionEnd!==Ne.isSelectionEnd||i.isDisabled!==Ne.isDisabled||i.isInRange!==Ne.isInRange||i.customClasses!==Ne.customClasses||i.tooltipText!==Ne.tooltipText)&&(t.days[o]=Ne)})}),n.hideLeftArrow=s.isDisabled||!!s.monthIndex&&s.monthIndex>0&&s.monthIndex!==s.displayMonths,n.hideRightArrow=s.isDisabled||(!!s.monthIndex||0===s.monthIndex)&&!!s.displayMonths&&s.monthIndex<s.displayMonths&&s.monthIndex+1!==s.displayMonths,n.disableLeftArrow=Es(Ct(n.month,{month:-1}),s.minDate,s.maxDate),n.disableRightArrow=Es(Ct(n.month,{month:1}),s.minDate,s.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:s,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:o}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((i,o)=>function Rv(n,s){return n.months.forEach((t,i)=>{t.forEach((o,r)=>{let x;const T=si(o.date,s.hoveredMonth),L=s.isDisabled||Ls(o.date,s.datesDisabled)||Fs(o.date,s.datesEnabled,"month")||Es(o.date,s.minDate,s.maxDate);!s.selectedDate&&s.selectedRange?(x=si(o.date,s.selectedRange[0]),x||(x=si(o.date,s.selectedRange[1]))):x=si(o.date,s.selectedDate);const R=Object.assign(o,{isHovered:T,isDisabled:L,isSelected:x});(o.isHovered!==R.isHovered||o.isDisabled!==R.isDisabled||o.isSelected!==R.isSelected)&&(n.months[i][r]=R)})}),n.hideLeftArrow=!!s.monthIndex&&s.monthIndex>0&&s.monthIndex!==s.displayMonths,n.hideRightArrow=(!!s.monthIndex||0===s.monthIndex)&&(!!s.displayMonths||0===s.displayMonths)&&s.monthIndex<s.displayMonths&&s.monthIndex+1!==s.displayMonths,n.disableLeftArrow=Bi(Ct(n.months[0][0].date,{year:-1}),s.minDate,s.maxDate),n.disableRightArrow=Bi(Ct(n.months[0][0].date,{year:1}),s.minDate,s.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:s,monthIndex:o}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((i,o)=>function Yv(n,s){n.years.forEach((o,r)=>{o.forEach((x,T)=>{let L;const R=ri(x.date,s.hoveredYear),J=s.isDisabled||Ls(x.date,s.datesDisabled,"year")||Fs(x.date,s.datesEnabled,"year")||Bi(x.date,s.minDate,s.maxDate);!s.selectedDate&&s.selectedRange?(L=ri(x.date,s.selectedRange[0]),L||(L=ri(x.date,s.selectedRange[1]))):L=ri(x.date,s.selectedDate);const se=Object.assign(x,{isHovered:R,isDisabled:J,isSelected:L});(x.isHovered!==se.isHovered||x.isDisabled!==se.isDisabled||x.isSelected!==se.isSelected)&&(n.years[r][T]=se)})}),n.hideLeftArrow=!!s.yearIndex&&s.yearIndex>0&&s.yearIndex!==s.displayMonths,n.hideRightArrow=!!s.yearIndex&&!!s.displayMonths&&s.yearIndex<s.displayMonths&&s.yearIndex+1!==s.displayMonths,n.disableLeftArrow=Bi(Ct(n.years[0][0].date,{year:-1}),s.minDate,s.maxDate);const t=n.years.length-1;return n.disableRightArrow=Bi(Ct(n.years[t][n.years[t].length-1].date,{year:1}),s.minDate,s.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:s,yearIndex:o}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case pt.NAVIGATE_OFFSET:return function Vv(n,s){if(!n.view)return n;const t=function zv(n,s){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=_l(n,0);if(t){const i=Ct(t,{year:-Ml});return Ct(i,s.payload)}}return Ct(gn(n.view.date,"month"),s.payload)}}(n,s);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}(n,s);case pt.NAVIGATE_TO:{const t=s.payload;if(!n.view||!t.unit)return n;const i=function Sp(n,s){return io(ai(n.getFullYear(),s.year),ai(n.getMonth(),s.month),1,ai(n.getHours(),s.hour),ai(n.getMinutes(),s.minute),ai(n.getSeconds(),s.seconds),ai(n.getMilliseconds(),s.milliseconds))}(n.view.date,t.unit);let o,r;return xl(t.viewMode,n.minMode)?(r=t.viewMode,o={view:{date:i,mode:r}}):(r=n.view.mode,o={selectedDate:i,view:{date:i,mode:r}}),Object.assign({},n,o)}case pt.CHANGE_VIEWMODE:return xl(s.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:s.payload}}):n;case pt.HOVER:return Object.assign({},n,{hoveredDate:s.payload});case pt.SELECT:{if(!n.view)return n;const t={selectedDate:s.payload,view:n.view};if(Array.isArray(n.selectedTime)){const x=n.selectedTime[0];t.selectedDate&&x&&Bs(t.selectedDate,x)}const i=n.view.mode,r=Hs(s.payload||n.view.date,n.minDate,n.maxDate);return t.view={mode:i,date:r},Object.assign({},n,t)}case pt.SELECT_TIME:{const{date:t,index:i}=s.payload,o=n.selectedTime?[...n.selectedTime]:[];return o[i]=t,Object.assign({},n,{selectedTime:o})}case pt.SET_OPTIONS:{if(!n.view)return n;const t=s.payload,i=t.minMode?t.minMode:n.view.mode,r=Hs(wn(t.value)&&t.value||ht(t.value)&&wn(t.value[0])&&t.value[0]||n.view.date,t.minDate,t.maxDate);return t.view={mode:i,date:r},t.value&&(ht(t.value)&&(t.selectedRange=t.value,t.selectedTime=t.value.map(x=>x)),t.value instanceof Date&&(t.selectedDate=t.value,t.selectedTime=[t.value])),Object.assign({},n,t)}case pt.SELECT_RANGE:{if(!n.view)return n;const t={selectedRange:s.payload,view:n.view};t.selectedRange?.forEach((x,T)=>{if(Array.isArray(n.selectedTime)){const L=n.selectedTime[T];L&&Bs(x,L)}});const i=n.view.mode,r=Hs(s.payload&&s.payload[0]||n.view.date,n.minDate,n.maxDate);return t.view={mode:i,date:r},Object.assign({},n,t)}case pt.SET_MIN_DATE:return Object.assign({},n,{minDate:s.payload});case pt.SET_MAX_DATE:return Object.assign({},n,{maxDate:s.payload});case pt.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:s.payload});case pt.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:s.payload});case pt.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:s.payload});default:return n}}function Hi(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function Hs(n,s,t){const i=Array.isArray(n)?n[0]:n;return s&&Qt(s,i,"day")?s:t&&sn(t,i,"day")?t:i}function kl(n,s,t){return!(!t||!di(t,n,"day"))||s&&t&&s.getMonth()===t.getMonth()}let Yi=(()=>{class n extends bo{constructor(){const t=new mi.X({type:"[datepicker] dispatcher init"});super(t,Tl,new Ga(gl,t,Tl))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();var An=(()=>{return(n=An||(An={}))[n.UP=0]="UP",n[n.DOWN=1]="DOWN",An;var n})();let Jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span"),e._uU(2),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.title))},encapsulation:2}),n})(),Wv=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._uU(3,"-"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"button",4),e._uU(6,"+"),e.qZA()(),e.TgZ(7,"div",1)(8,"button",2),e._uU(9,"-"),e.qZA(),e._UZ(10,"input",3),e.TgZ(11,"button",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"button",5),e._uU(14),e._UZ(15,"img",6),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("value",i.hours),e.xp6(6),e.Q6J("value",i.minutes),e.xp6(4),e.hij("",i.ampm," "))},encapsulation:2}),n})(),Ys=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:om,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,i){1&t&&(e.F$t(im),e.YNc(0,tm,1,0,"bs-current-date",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2),e.Hsn(4,1),e.qZA(),e.YNc(5,nm,1,0,"bs-timepicker",3)),2&t&&(e.Q6J("ngIf",!1),e.xp6(5),e.Q6J("ngIf",!1))},dependencies:[Jv,Wv,C.O5],encapsulation:2}),n})(),Us=(()=>{class n{constructor(){this.onNavigate=new e.vpe,this.onViewMode=new e.vpe}navTo(t){this.onNavigate.emit(t?An.DOWN:An.UP)}view(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.navTo(!0)}),e.TgZ(1,"span"),e._uU(2,"\u2039"),e.qZA()(),e.YNc(3,sm,5,1,"ng-container",1),e._uU(4," \u200b "),e.TgZ(5,"button",2),e.NdJ("click",function(){return i.view("year")}),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e._uU(8," \u200b "),e.TgZ(9,"button",3),e.NdJ("click",function(){return i.navTo(!1)}),e.TgZ(10,"span"),e._uU(11,"\u203a"),e.qZA()()),2&t&&(e.Udp("visibility",i.calendar.hideLeftArrow?"hidden":"visible"),e.Q6J("disabled",i.calendar.disableLeftArrow),e.xp6(3),e.Q6J("ngIf",i.calendar&&i.calendar.monthTitle),e.xp6(4),e.Oqu(i.calendar.yearTitle),e.xp6(2),e.Udp("visibility",i.calendar.hideRightArrow?"hidden":"visible"),e.Q6J("disabled",i.calendar.disableRightArrow))},dependencies:[C.O5],encapsulation:2,changeDetection:0}),n})(),Gv=(()=>{class n{constructor(t,i,o){this._config=t,this._elRef=i,this._renderer=o,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(t=>t).forEach(t=>{this._renderer.addClass(this._elRef.nativeElement,t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mn),e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,i){2&t&&e.ekj("disabled",i.day.isDisabled)("is-highlighted",i.day.isHovered)("is-other-month",i.day.isOtherMonth)("is-active-other-month",i.day.isOtherMonthHovered)("in-range",i.day.isInRange)("select-start",i.day.isSelectionStart)("select-end",i.day.isSelectionEnd)("selected",i.day.isSelected)},inputs:{day:"day"},attrs:rm,decls:1,vars:1,template:function(t,i){1&t&&e._uU(0),2&t&&e.Oqu(i.day&&i.day.label||"")},encapsulation:2,changeDetection:0}),n})(),Al=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new e.vpe,this.onViewMode=new e.vpe,this.onSelect=new e.vpe,this.onHover=new e.vpe,this.onHoverWeek=new e.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:An.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const i=t.days.find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const r=t.days.slice(0).reverse().find(x=>(this._config.selectFromOtherMonth||!x.isOtherMonth)&&!x.isDisabled);this.onSelect.emit(r)}}weekHoverHandler(t,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled)&&(t.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(t))}hoverDay(t,i){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(o=>{Mn(o.date,t.date)&&(t.tooltipText=o.tooltipText)})),this.onHover.emit({cell:t,isHovered:i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,i){1&t&&(e.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),e.NdJ("onNavigate",function(r){return i.navigateTo(r)})("onViewMode",function(r){return i.changeViewMode(r)}),e.qZA(),e.TgZ(2,"table",1)(3,"thead")(4,"tr"),e.YNc(5,am,1,0,"th",2),e.YNc(6,lm,2,1,"th",3),e.qZA()(),e.TgZ(7,"tbody"),e.YNc(8,_m,3,2,"tr",4),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("calendar",i.calendar),e.xp6(4),e.Q6J("ngIf",i.options&&i.options.showWeekNumbers),e.xp6(1),e.Q6J("ngForOf",i.calendar.weekdays),e.xp6(2),e.Q6J("ngForOf",i.calendar.weeks))},dependencies:[Ys,Us,Gv,C.O5,C.sg,X_],encapsulation:2}),n})(),Ol=(()=>{class n{constructor(){this.onNavigate=new e.vpe,this.onViewMode=new e.vpe,this.onSelect=new e.vpe,this.onHover=new e.vpe}navigateTo(t){this.onNavigate.emit({step:{year:An.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,i){this.onHover.emit({cell:t,isHovered:i})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),e.NdJ("onNavigate",function(r){return i.navigateTo(r)})("onViewMode",function(r){return i.changeViewMode(r)}),e.qZA(),e.TgZ(2,"table",1)(3,"tbody"),e.YNc(4,vm,2,1,"tr",2),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("calendar",i.calendar),e.xp6(3),e.Q6J("ngForOf",null==i.calendar?null:i.calendar.months))},dependencies:[Ys,Us,C.sg],encapsulation:2}),n})(),Pl=(()=>{class n{constructor(){this.onNavigate=new e.vpe,this.onViewMode=new e.vpe,this.onSelect=new e.vpe,this.onHover=new e.vpe}navigateTo(t){this.onNavigate.emit({step:{year:16*(An.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,i){this.onHover.emit({cell:t,isHovered:i})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),e.NdJ("onNavigate",function(r){return i.navigateTo(r)})("onViewMode",function(r){return i.changeViewMode(r)}),e.qZA(),e.TgZ(2,"table",1)(3,"tbody"),e.YNc(4,Cm,2,1,"tr",2),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("calendar",i.calendar),e.xp6(3),e.Q6J("ngForOf",null==i.calendar?null:i.calendar.years))},dependencies:[Ys,Us,C.sg],encapsulation:2}),n})(),Dl=(()=>{class n{constructor(){this.onSelect=new e.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ym,2,3,"button",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.ranges))},dependencies:[C.sg],encapsulation:2,changeDetection:0}),n})(),Qv=(()=>{class n extends pl{constructor(t,i,o,r,x,T,L){super(),this._config=i,this._store=o,this._element=r,this._actions=x,this._positionService=L,this.valueChange=new e.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=T,t.setStyle(r.nativeElement,"display","block"),t.setStyle(r.nativeElement,"position","absolute")}set value(t){this._effects?.setValue(t)}ngOnInit(){this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe((0,zo.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(t=>t.selectedDate).subscribe(t=>this.valueChange.emit(t))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=1&&this.startTimepicker?.writeValue(t[0])})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,i){this._store.dispatch(this._actions.selectTime(t,i))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Xe(t.date),year:ut(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:ut(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(mn),e.Y36(Yi),e.Y36(e.SBq),e.Y36(pt),e.Y36(Zi),e.Y36(yn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(hl,5),2&t){let o;e.iGM(o=e.CRH())&&(i.startTimepicker=o.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(r){return i._stopPropagation(r)})},features:[e._Bn([Yi,Zi]),e.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,i){1&t&&(e.YNc(0,Im,10,11,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.viewMode))},dependencies:[Al,Ps,Ol,Pl,Dl,C.O5,C.mk,C.RF,C.n9,C.sg,C.Ov],encapsulation:2,data:{animation:[fl]}}),n})(),El=(()=>{class n{constructor(t,i,o,r,x){this._config=t,this._elementRef=i,this._renderer=o,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Cn.x,this.isDisabled=!1,this.bsValueChange=new e.vpe,this._subs=[],this._dateInputFormat$=new Cn.x,Object.assign(this,this._config),this._datepicker=x.createLoader(i,r,o),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new mi.X(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue||!t||this._config.withTimepicker||Bs(t,new Date),t&&this.bsConfig?.initCurrentTime&&(t=bl(t)),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=bl(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&(this._elementRef?.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()}))}ngAfterViewInit(){this.isOpen$.pipe((0,xt.h)(t=>t!==this.isOpen),(0,zr.R)(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:mn,useValue:this._config}).attach(Qv).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:ml(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mn),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.s_b),e.Y36(Ln))},n.\u0275dir=e.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[e.TTD]}),n})(),Kv=(()=>{class n extends pl{constructor(t,i,o,r,x,T,L){super(),this._config=i,this._store=o,this._element=r,this._actions=x,this._positionService=L,this.valueChange=new e.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=T,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(r.nativeElement,"display","block"),t.setStyle(r.nativeElement,"position","absolute")}set value(t){this._effects?.setRangeValue(t)}ngOnInit(){this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe((0,zo.q)(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(t=>t.selectedRange).subscribe(t=>{this.valueChange.emit(t),this.chosenRange=t||[]}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=2&&(this.startTimepicker?.writeValue(t[0]),this.endTimepicker?.writeValue(t[1]))})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)}),this.endTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,i){this._store.dispatch(this._actions.selectTime(t,i))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Xe(t.date),year:ut(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:ut(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){let i=new Date(t);if(this._config.maxDate){const o=this._config.maxDate.getTime(),r=t.getTime()+864e5*(this._config.maxDateRange||0);i=r>o?new Date(this._config.maxDate):new Date(r)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(mn),e.Y36(Yi),e.Y36(e.SBq),e.Y36(pt),e.Y36(Zi),e.Y36(yn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,i){if(1&t&&(e.Gf(hl,5),e.Gf(Gm,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.startTimepicker=o.first),e.iGM(o=e.CRH())&&(i.endTimepicker=o.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(r){return i._stopPropagation(r)})},features:[e._Bn([Yi,Zi]),e.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,i){1&t&&(e.YNc(0,cv,10,11,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.viewMode))},dependencies:[Al,Ps,Ol,Pl,Dl,C.O5,C.mk,C.RF,C.n9,C.sg,C.Ov],encapsulation:2,data:{animation:[fl]}}),n})();const $v={provide:w.JU,useExisting:(0,e.Gpc)(()=>js),multi:!0},Xv={provide:w.Cf,useExisting:(0,e.Gpc)(()=>js),multi:!0};let js=(()=>{class n{constructor(t,i,o,r,x){this._picker=t,this._localeService=i,this._renderer=o,this._elRef=r,this.changeDetection=x,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ti.w0}ngOnInit(){const t=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe((0,$i.x)()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const i=t?It(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const i=t.value;if(null==i||""===i)return null;if(to(i)){if(!wn(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&sn(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Qt(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const i=this._localeService.currentLocale;if(!mt(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);this._value=Ii(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=Sa(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(El,1),e.Y36(wo),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,i){1&t&&e.NdJ("change",function(r){return i.onChange(r)})("keyup.esc",function(){return i.hide()})("keydown",function(r){return i.onKeydownEvent(r)})("blur",function(){return i.onBlur()})},features:[e._Bn([$v,Xv])]}),n})(),eb=(()=>{class n extends mn{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let s;return function(i){return(s||(s=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{constructor(t,i,o,r,x){this._config=t,this._elementRef=i,this._renderer=o,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new Cn.x,this.isDisabled=!1,this.bsValueChange=new e.vpe,this._subs=[],this._rangeInputFormat$=new Cn.x,this._datepicker=x.createLoader(i,r,o),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new mi.X(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue!==t&&(t&&this.bsConfig?.initCurrentTime&&(t=Cl(t)),this._bsValue=t,this.bsValueChange.emit(t))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Cn.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=Cl(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&(this._elementRef?.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe((0,xt.h)(t=>t!==this.isOpen),(0,zr.R)(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:mn,useValue:this._config}).attach(Kv).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe((0,xt.h)(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()}))}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:ml(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:Av(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(eb),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.s_b),e.Y36(Ln))},n.\u0275dir=e.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[e.TTD]}),n})();const nb={provide:w.JU,useExisting:(0,e.Gpc)(()=>Ll),multi:!0},ib={provide:w.Cf,useExisting:(0,e.Gpc)(()=>Ll),multi:!0};let Ll=(()=>{class n{constructor(t,i,o,r,x){this._picker=t,this._localeService=i,this._renderer=o,this._elRef=r,this.changeDetection=x,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ti.w0}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe((0,$i.x)()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let i="";if(t){const o=t[0]?It(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",r=t[1]?It(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=o&&r?o+this._picker._config.rangeSeparator+r:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let i=t.value;const o=[];if(null==i||!ht(i))return null;i=i.slice().sort((T,L)=>T.getTime()-L.getTime());const r=wn(i[0]),x=wn(i[1]);return r?x?(this._picker&&this._picker.minDate&&sn(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,o.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Qt(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,o.push({bsDate:{maxDate:this._picker.maxDate}})),o.length>0?(this.writeValue(i),o):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const i=this._localeService.currentLocale;if(!mt(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let r=[];if("string"==typeof t){const x=this._picker._config.rangeSeparator.trim();r=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(x.length>0?x:this._picker._config.rangeSeparator).map(T=>T.trim())}Array.isArray(t)&&(r=t),this._value=r.map(x=>this._picker._config.useUtc?Sa(Ii(x,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):Ii(x,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(x=>isNaN(x.valueOf())?void 0:x)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(tb,1),e.Y36(wo),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,i){1&t&&e.NdJ("change",function(r){return i.onChange(r)})("keyup.esc",function(){return i.hide()})("keydown",function(r){return i.onKeydownEvent(r)})("blur",function(){return i.onBlur()})},features:[e._Bn([nb,ib])]}),n})(),ob=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Ln,yn,Yi,pt,Zi,wo,_n]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.ez,em,W_]]}),n})();const sb=function(){return{showWeekNumbers:!1,isAnimated:!0,dateInputFormat:"DD-MM-YYYY",customTodayClass:"custom-today-class"}};let qs=(()=>{class n{constructor(t){this.calendar=t,this.nameList=[],this.selectedItems=[],this.dropdownSettings={},this.txtEfminDate="",this.txtEtminDate="",this.rdoSharethrough="1",this.txtEffeciveFrom=new Date}ngOnInit(){this.nameList=[{id:1,itemName:"Sudam Ch Panda"},{id:2,itemName:"Sunil Parida"},{id:3,itemName:"Biikash Kumar Panda"},{id:4,itemName:"Rohit Behera"},{id:5,itemName:"Soumaya Das"},{id:6,itemName:"Priyadarshini Moganty"}],this.dropdownSettings={singleSelection:!1,text:"Select Name",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"}}onItemSelect(t){console.log(t),console.log(this.selectedItems)}OnItemDeSelect(t){console.log(t),console.log(this.selectedItems)}onSelectAll(t){console.log(t)}onDeSelectAll(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.vL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-setreminder"]],decls:30,vars:7,consts:[[1,"row","form-group"],[1,"col-md-3"],[1,"col-md-9"],[3,"data","ngModel","settings","ngModelChange","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"input-group"],["type","text","readonly","","placeholder","DD-MM-YYYY","bsDatepicker","",1,"form-control",3,"minDate","ngModel","bsConfig","ngModelChange"],["id","basic-addon2",1,"input-group-text"],[1,"icon-calendar-alt"],["rows","3","cols","3",1,"form-control"],[1,"btn","btn-success"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"File Name"),e.qZA(),e.TgZ(3,"div",2),e._uU(4,"Appendix.pdf"),e.qZA()(),e.TgZ(5,"div",0)(6,"label",1),e._uU(7,"User Name"),e.qZA(),e.TgZ(8,"div",2)(9,"angular2-multiselect",3),e.NdJ("ngModelChange",function(r){return i.selectedItems=r})("onSelect",function(r){return i.onItemSelect(r)})("onDeSelect",function(r){return i.OnItemDeSelect(r)})("onSelectAll",function(r){return i.onSelectAll(r)})("onDeSelectAll",function(r){return i.onDeSelectAll(r)}),e.qZA()()(),e.TgZ(10,"div",0)(11,"label",1),e._uU(12," Expiry Date "),e.qZA(),e.TgZ(13,"div",2)(14,"div",4)(15,"input",5),e.NdJ("ngModelChange",function(r){return i.txtEffeciveFrom=r}),e.qZA(),e.TgZ(16,"span",6),e._UZ(17,"i",7),e.qZA()()()(),e.TgZ(18,"div",0)(19,"label",1),e._uU(20,"Message"),e.qZA(),e.TgZ(21,"div",2)(22,"textarea",8),e._uU(23,"\n                    "),e.qZA()()(),e.TgZ(24,"div",0),e._UZ(25,"label",1),e.TgZ(26,"div",2)(27,"button",9),e._uU(28,"Save"),e.qZA(),e._uU(29," \xa0 "),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("data",i.nameList)("ngModel",i.selectedItems)("settings",i.dropdownSettings),e.xp6(6),e.Q6J("minDate",i.txtEfminDate)("ngModel",i.txtEffeciveFrom)("bsConfig",e.DdM(6,sb)))},dependencies:[w.Fj,w.JJ,w.On,eo,El,js]}),n})(),Vs=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.router=i,this.httpClient=o,this.commonserveice=r,this.encDec=x,this.authService=T,this.vldChkLst=L,this.modalService=R,this.jsonurl="assets/js/_configs/viewDocument.config.json",this.callfunction=new e.vpe,this.callfunction2=new e.vpe,this.txtAfter="",this.selType="0",this.selActionType="0"}ngOnInit(){this.loadconfig()}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}saveRetenstion(){let t=this.txtAfter,i=this.selType,o=this.selActionType;this.vldChkLst.blankCheck(t,this.commonserveice.langReplace(this.messaageslist.afterdata),"txtAfter")&&this.vldChkLst.selectDropdown(i,this.commonserveice.langReplace(this.messaageslist.seldaysType),"selType")&&this.vldChkLst.selectDropdown(o,this.commonserveice.langReplace(this.messaageslist.actionType),"selActionType")&&this.commonserveice.fileRetention({type:2,folderId:this.rfolderid,fileId:this.rfileid,retentionPeriod:t,periodType:i,retentionAction:o}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?f().fire({text:this.commonserveice.langReplace(this.messaageslist.rsuccessMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{let Me=this.encDec.encText(this.rfolderid.toString());this.route.navigate(["/admin/viewupload",Me]),this.callfunction.emit(),this.callfunction2.emit(),this.formReset()}):501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},x=>{this.authService.directlogout()})}formReset(){this.rfileid="",this.txtAfter="",this.selType="0",this.selActionType="0",this.modalService.dismissAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(Ce.gz),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-retention"]],inputs:{rfileid:"rfileid",rfolderid:"rfolderid",rdate:"rdate"},outputs:{callfunction:"callfunction",callfunction2:"callfunction2"},decls:50,vars:31,consts:[[1,"text-info"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"form-group"],["type","text","id","txtAfter",1,"form-control",3,"ngModel","keypress","ngModelChange"],["id","selType",1,"form-select",3,"ngModel","ngModelChange"],["value","0"],["value","4"],["value","3"],["value","2"],["value","1"],["id","selActionType",1,"form-select",3,"ngModel","ngModelChange"],[1,"col-md-4","col-lg-12"],[1,"btn","btn-success","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h6"),e._uU(1),e.ALo(2,"langReplace"),e.qZA(),e.TgZ(3,"h6",0),e._uU(4),e.ALo(5,"langReplace"),e.qZA(),e.TgZ(6,"div",1)(7,"div",2)(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"langReplace"),e.qZA(),e.TgZ(12,"input",4),e.NdJ("keypress",function(r){return i.vldChkLst.isNumberKey(r)})("ngModelChange",function(r){return i.txtAfter=r}),e.qZA()()(),e.TgZ(13,"div",2)(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"langReplace"),e.qZA(),e.TgZ(18,"select",5),e.NdJ("ngModelChange",function(r){return i.selType=r}),e.TgZ(19,"option",6),e._uU(20),e.ALo(21,"langReplace"),e.qZA(),e.TgZ(22,"option",7),e._uU(23,"Days"),e.qZA(),e.TgZ(24,"option",8),e._uU(25,"Week"),e.qZA(),e.TgZ(26,"option",9),e._uU(27,"Month"),e.qZA(),e.TgZ(28,"option",10),e._uU(29,"Year"),e.qZA()()()(),e.TgZ(30,"div",2)(31,"div",3)(32,"label"),e._uU(33),e.ALo(34,"langReplace"),e.qZA(),e.TgZ(35,"select",11),e.NdJ("ngModelChange",function(r){return i.selActionType=r}),e.TgZ(36,"option",6),e._uU(37),e.ALo(38,"langReplace"),e.qZA(),e.TgZ(39,"option",10),e._uU(40,"Delete Permanently"),e.qZA(),e.TgZ(41,"option",9),e._uU(42,"Move to Trash"),e.qZA()()()(),e.TgZ(43,"div",12)(44,"button",13),e.NdJ("click",function(){return i.saveRetenstion()}),e._uU(45),e.ALo(46,"langReplace"),e.qZA(),e.TgZ(47,"button",14),e.NdJ("click",function(){return i.formReset()}),e._uU(48),e.ALo(49,"langReplace"),e.qZA()()()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,13,"You can choose to have files in this folder to be automatically deleted after certain time"),"."),e.xp6(3),e.AsE(" ",e.lcZ(5,15,"Retention Date")," : ",i.rdate?i.rdate:"NA",""),e.xp6(6),e.hij("* ",e.lcZ(11,17,"After"),""),e.xp6(2),e.Q6J("ngModel",i.txtAfter),e.xp6(4),e.hij("* ",e.lcZ(17,19,"Type"),""),e.xp6(2),e.Q6J("ngModel",i.selType),e.xp6(2),e.hij(" ",e.lcZ(21,21,"Select"),""),e.xp6(13),e.hij("* ",e.lcZ(34,23,"Action"),""),e.xp6(2),e.Q6J("ngModel",i.selActionType),e.xp6(2),e.hij(" ",e.lcZ(38,25,"Select"),""),e.xp6(8),e.hij(" ",e.lcZ(46,27,"Save"),""),e.xp6(3),e.hij(" ",e.lcZ(49,29,"Reset"),""))},dependencies:[w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.On,E.c]}),n})(),zs=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.modalService=L,this.vldChkLst=R,this.callfunction=new e.vpe,this.callfunction2=new e.vpe}ngOnInit(){}saveNumber(){this.vldChkLst.blankCheck(this.fsplitId,this.commonserveice.langReplace("Enter New Number"),"fsplitId")&&this.commonserveice.fileNumbreing({fileRefNo:this.fsplitVal+this.fsplitId,fileId:this.fileid}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?f().fire({text:this.commonserveice.langReplace("File number updated successfully"),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(R=>{let J=this.encDec.encText(this.folderid.toString());this.route.navigate(["/admin/viewupload",J]),this.callfunction.emit(),this.callfunction2.emit()}):400==L.status?f().fire({icon:"error",text:L.message.fileRefNo[0]}):501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},i=>{this.authService.directlogout()})}formReset(){this.fsplitId="",this.modalService.dismissAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(b.FF),e.Y36(M._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filenumbering"]],inputs:{folderid:"folderid",fileid:"fileid",fileRefNo:"fileRefNo",fileName:"fileName",updatedate:"updatedate",fsplitVal:"fsplitVal",fsplitId:"fsplitId"},outputs:{callfunction:"callfunction",callfunction2:"callfunction2"},decls:35,vars:23,consts:[[1,"row"],[1,"col-lg-12","col-xl-9"],[1,"table-responsive"],[1,"table","table-bordered"],["width","200px"],["valign","middle"],["id","fsplitId","type","text","maxlength","8",1,"form-control","width-80","form-control-sm","d-inline",3,"ngModel","ngModelChange","keypress"],[1,"btn","btn-success","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th"),e._uU(7),e.ALo(8,"langReplace"),e.qZA(),e.TgZ(9,"th",4),e._uU(10),e.ALo(11,"langReplace"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"langReplace"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"langReplace"),e.qZA()()(),e.TgZ(18,"tbody")(19,"tr",5)(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.TgZ(24,"input",6),e.NdJ("ngModelChange",function(r){return i.fsplitId=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA()(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA()()()()()()(),e.TgZ(29,"button",7),e.NdJ("click",function(){return i.saveNumber()}),e._uU(30),e.ALo(31,"langReplace"),e.qZA(),e.TgZ(32,"button",8),e.NdJ("click",function(){return i.formReset()}),e._uU(33),e.ALo(34,"langReplace"),e.qZA()),2&t&&(e.xp6(7),e.Oqu(e.lcZ(8,11,"Old Number")),e.xp6(3),e.hij("",e.lcZ(11,13,"New Number")," *"),e.xp6(3),e.hij("",e.lcZ(14,15,"Document Name")," "),e.xp6(3),e.hij("",e.lcZ(17,17,"Uploaded Date")," "),e.xp6(5),e.Oqu(i.fileRefNo),e.xp6(2),e.hij("",i.fsplitVal," "),e.xp6(1),e.Q6J("ngModel",i.fsplitId),e.xp6(2),e.Oqu(i.fileName),e.xp6(2),e.Oqu(i.updatedate),e.xp6(2),e.Oqu(e.lcZ(31,19,"Save")),e.xp6(3),e.hij("",e.lcZ(34,21,"Reset")," "))},dependencies:[w.Fj,w.JJ,w.nD,w.On,E.c],styles:[".width-80[_ngcontent-%COMP%]{width:80px}"]}),n})();function rb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"input",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtFileNumber=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"Document Number")),e.xp6(2),e.Q6J("ngModel",t.txtFileNumber)}}function ab(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtExpDate=o)}),e.ALo(6,"date"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij("* ",e.lcZ(4,3,"Retention Date"),""),e.xp6(2),e.s9C("min",e.xi3(6,5,t.currenttime,"yyyy-MM-dd")),e.Q6J("ngModel",t.txtExpDate)}}function lb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"textarea",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtSubject=o)}),e._uU(6,"\n                                                        "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij("* ",e.lcZ(4,2,"Subject")," "),e.xp6(2),e.Q6J("ngModel",t.txtSubject)}}function cb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",28),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onSelect(o))}),e.TgZ(2,"ngx-dropzone-label")(3,"div"),e.O4$(),e.TgZ(4,"svg",29)(5,"g",30),e._UZ(6,"path",31)(7,"path",32)(8,"path",33),e.qZA()(),e.kcU(),e.TgZ(9,"h3"),e._uU(10),e.ALo(11,"langReplace"),e.qZA(),e.TgZ(12,"h3"),e._uU(13),e.ALo(14,"langReplace"),e.qZA(),e.TgZ(15,"label",34),e._uU(16),e.ALo(17,"langReplace"),e.qZA()()()()()}2&n&&(e.xp6(10),e.hij("",e.lcZ(11,3,"Drag and drop document here")," "),e.xp6(3),e.hij("",e.lcZ(14,5,"or")," "),e.xp6(3),e.hij("",e.lcZ(17,7,"Browse for file")," "))}function db(n,s){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,cb,18,9,"div",21),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0==(null==t.fileeList?null:t.fileeList.length))}}function hb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"textarea",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.userRemark=o)}),e._uU(6,"\n                                                        "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij("* ",e.lcZ(4,2,"Remark")," "),e.xp6(2),e.Q6J("ngModel",t.userRemark)}}function ub(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"ngx-tags-input",36),e.NdJ("onTagsChanged",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTagsChanged(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtTags=o)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,"Tags")," "),e.xp6(2),e.Q6J("ngModel",t.txtTags)}}function fb(n,s){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.intMetaId),e.xp6(1),e.hij(" ",t.metaName,"")}}function pb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function gb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function _b(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function mb(n,s){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,pb,5,4,"div",21),e.YNc(2,gb,5,4,"div",21),e.YNc(3,_b,5,4,"div",21),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==t.getmetaType),e.xp6(1),e.Q6J("ngIf",2==t.getmetaType),e.xp6(1),e.Q6J("ngIf",3==t.getmetaType)}}function vb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"a",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMetaVals())}),e._UZ(2,"i",50),e.qZA()()}}function bb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",55),e.NdJ("click",function(){const r=e.CHM(t).index,x=e.oxw(3);return e.KtG(x.removeSectionval(r))}),e._UZ(9,"i",56),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.metaName),e.xp6(2),e.Oqu(t.metaDetails)}}function Cb(n,s){if(1&n&&(e.TgZ(0,"div",51)(1,"table",52)(2,"thead")(3,"tr")(4,"th",53),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"langReplace"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"langReplace"),e.qZA(),e.TgZ(13,"th",53),e._uU(14),e.ALo(15,"langReplace"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,bb,10,3,"tr",54),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij("",e.lcZ(6,5,"Sl No")," "),e.xp6(3),e.Oqu(e.lcZ(9,7,"Meta Name")),e.xp6(3),e.Oqu(e.lcZ(12,9,"Details")),e.xp6(3),e.Oqu(e.lcZ(15,11,"Action")),e.xp6(3),e.Q6J("ngForOf",t.metaListDetails)}}function yb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",4)(2,"div",2)(3,"div",37)(4,"label"),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.TgZ(7,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selMeta=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getMetaType(o.selMeta))}),e.TgZ(8,"option",9),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.YNc(11,fb,2,2,"option",39),e.qZA()(),e.YNc(12,mb,4,3,"div",40),e.YNc(13,vb,3,0,"div",41),e.qZA()(),e.YNc(14,Cb,18,13,"div",42),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.hij("* ",e.lcZ(6,7,"Meta Type"),""),e.xp6(2),e.Q6J("ngModel",t.selMeta),e.xp6(2),e.hij("",e.lcZ(10,9,"Select")," "),e.xp6(2),e.Q6J("ngForOf",t.metalist),e.xp6(1),e.Q6J("ngIf",t.metaDesable),e.xp6(1),e.Q6J("ngIf",t.metaDesable),e.xp6(1),e.Q6J("ngIf",(null==t.metaListDetails?null:t.metaListDetails.length)>0)}}function xb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.finalfileupload())}),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e._uU(4," \xa0 "),e.TgZ(5,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetform())}),e._uU(6),e.ALo(7,"langReplace"),e.qZA()()}2&n&&(e.xp6(2),e.hij("",e.lcZ(3,2,"Update")," "),e.xp6(4),e.hij("",e.lcZ(7,4,"Cancel")," "))}function wb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkinFile(o.fileid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e._uU(4," \xa0 "),e.qZA()}2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"Check In")," "))}function Mb(n,s){1&n&&(e.TgZ(0,"div",67),e._UZ(1,"div",68),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function Sb(n,s){if(1&n&&(e.TgZ(0,"div",64),e._UZ(1,"iframe",65),e.YNc(2,Mb,4,0,"div",66),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.publicurl,e.uOi),e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function Tb(n,s){1&n&&e._UZ(0,"div",69)}function kb(n,s){1&n&&e._UZ(0,"div",70)}function Ab(n,s){1&n&&e._UZ(0,"div",71)}function Ob(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onSelect(o))}),e._uU(1,"Upload New Version"),e.qZA()}}function Pb(n,s){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,Ob,2,0,"button",73),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1!=t.lockstatus)}}function Db(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Sb,3,2,"div",59),e.YNc(2,Tb,1,0,"div",60),e.YNc(3,kb,1,0,"div",61),e.YNc(4,Ab,1,0,"div",62),e.YNc(5,Pb,2,1,"div",63),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!("mp4"==t.filetype||"mp3"==t.filetype||"zip"==t.filetype)),e.xp6(1),e.Q6J("ngIf","mp4"==t.filetype||"MP4"==t.filetype||"WebM"==t.filetype||"mkv"==t.filetype||"avi"==t.filetype||"webm"==t.filetype),e.xp6(1),e.Q6J("ngIf","mp3"==t.filetype||"MP3"==t.filetype),e.xp6(1),e.Q6J("ngIf","zip"==t.filetype||"ZIP"==t.filetype),e.xp6(1),e.Q6J("ngIf",0==t.checkinoutstatus)}}function Eb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",75)(1,"div",76)(2,"h5",77),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",78)(6,"div",4)(7,"div",79)(8,"input",80),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtPassword=o)}),e.qZA()()(),e.TgZ(9,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.unsetPassword())}),e._uU(10),e.ALo(11,"langReplace"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,3,"Lock File")," "),e.xp6(5),e.Q6J("ngModel",t.txtPassword),e.xp6(2),e.hij("",e.lcZ(11,5,"Submit")," ")}}function Lb(n,s){1&n&&(e.TgZ(0,"div",82),e._UZ(1,"div",68),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Js=(()=>{class n{constructor(t,i,o,r,x,T,L,R,J){this.route=t,this.httpClient=i,this.uploadfiles=o,this.commonserveice=r,this.authService=x,this.encDec=T,this.router=L,this.vldChkLst=R,this.sanitizer=J,this.jsonurl="assets/js/_configs/fileModify.config.json",this.checkinFileId=0,this.callfunction=new e.vpe,this.callfunction2=new e.vpe,this.fileeList=[],this.letterID="",this.files_dropped=[],this.file=null,this.viewer="google",this.selectedType="docx",this.fileLoading=!0,this.chkIndexing=!0,this.txtTags=[],this.selMeta="0",this.selFolderName="0",this.txtFileName="",this.folderlist=[],this.metalist=[],this.metasellist=[],this.tags=[],this.loading=!1,this.metatype="",this.metaDesable=!1,this.metaListDetails=[],this.txtEfminDate="",this.txtEtminDate="",this.txtExpDate=null,this.selOcrLang="0",this.rdoSetretention="2",this.txtFileNumber="",this.fileUploadingStatus=0,this.metatypelist=[],this.rolewisepermissions=[],this.userwisepermissions=[],this.src="https://investodisha.gov.in/download/IT_Policy_2022.pdf",this.currenttime=new Date,this.permissionlistitems=[{label:"Read"},{label:"Write"},{label:"Download"},{label:"Create Folder"},{label:"Delete"},{label:"Rename"},{label:"Archive"},{label:"WorkFlow"},{label:"Move to folder"}]}ngOnInit(){this.checkinFileId>1&&(this.fileid=this.checkinFileId,this.prevstatus=!1,this.checkinUpload=!0),this.token=sessionStorage.getItem("TOKEN"),this.dropdownSettings={singleSelection:!1,text:"Select Meta",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},this.loadconfig(),this.getFolders(this.folderid),this.viewMetaList(),this.viewFileDetails(this.fileid)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}onSelect(t){this.publicurl="";let i=new FormData;i.append("file",t.addedFiles[0]);let r=t.addedFiles[0].name.split(".",2);i.append("fileType",r[1]),i.append("folderId",this.folderid),this.uploadfiles.uploadFile(i).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?(this.files_dropped.push(t.addedFiles),this.txtFileName=se.result.fileName,this.checkinfileName=se.result.fileName,this.dcoSrc=se.result.filePath,this.getfiletype=se.result.fileType,this.loadDocPreview(this.getfiletype,se.result.filePath),this.fileUploadingStatus=1,this.checkinUpload=!1):400==se.status?f().fire({icon:"error",text:se.message}):501==se.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})}getFolders(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);"200"==R.status?(this.folderlist=R.result,this.folderlist.length>0&&(this.folderName=this.folderlist[0].folderName,this.selFolderName=this.folderlist[0].parentFolderId,this.permissionlist=this.folderlist[0].folderPermission)):501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}viewMetaList(){this.commonserveice.viewMeta({intMetaId:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?this.metalist=L.result:501==L.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},i=>{this.authService.directlogout()})}getMetaType(t){this.metaDesable=!0,this.commonserveice.viewMeta({intMetaId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?this.getmetaType=R.result[0].metaType:501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}onTagsChanged(t){}finalfileupload(){let t=this.txtFileName,o=this.txtSubject;if(this.vldChkLst.blankCheck(t,this.commonserveice.langReplace(this.messaageslist.filename),"txtFileName")&&(1!=this.rdoSetretention||this.vldChkLst.blankCheck(this.txtExpDate,this.commonserveice.langReplace("Please select the retention date"),"expiryDate"))&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace(this.messaageslist.subject),"txtSubject"))if(0==this.metaListDetails.length)f().fire({icon:"error",text:this.messaageslist.addMeta});else{let T={fileId:this.fileid,folderId:this.folderid,fileName:t,subject:this.txtSubject,meta:this.metaListDetails,tags:this.txtTags,indexing:0,expiryDate:this.txtExpDate,ocrLanguage:this.selOcrLang,fileVersion:this.fileVersion,filePermission:this.permissionlist,fileUploadingStatus:this.fileUploadingStatus};this.loading=!0,this.uploadfiles.fileEdit(T).subscribe(L=>{let R=L.RESPONSE_DATA;if(L.RESPONSE_TOKEN==l.HmacSHA256(R,u.N.apiHashingKey).toString()){let me=c.lW.from(R,"base64"),Me=JSON.parse(me);200==Me.status?(this.loading=!1,f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(Ae=>{let Ne=this.encDec.encText((this.folderid+":0").toString());this.route.navigate(["/admin/viewupload",Ne]),this.viewFileDetails(this.fileid)})):400==Me.status||500==Me.status?(this.loading=!1,f().fire({icon:"error",text:Me.message})):501==Me.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},L=>{this.loading=!1,this.authService.directlogout()})}}resetform(){let t=this.encDec.encText(this.folderid.toString());this.route.navigate(["/admin/viewupload",t])}addMetaVals(){if(this.vldChkLst.selectDropdown(this.selMeta,this.commonserveice.langReplace(this.messaageslist.selMeta),"selMeta")&&this.vldChkLst.blankCheck(this.metatype,this.commonserveice.langReplace(this.messaageslist.entermetadesc),"metatype")){let t=document.getElementById("selMetaType"),i=t.options[t.selectedIndex].text,o={};o.metaId=this.selMeta,o.metaName=i,o.metaDetails=this.metatype,this.metaListDetails.push(o),this.metatype="",this.selMeta="0",this.metaDesable=!1}}removeSectionval(t){this.metaListDetails.splice(t,1)}rtrdoClick(t){this.txtExpDate=""}viewFileDetails(t){let i={fileId:t};this.loading=!0,this.commonserveice.getFileDetails(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status&&(this.loading=!1,this.filedetails=R.result.fileDetails,this.txtFileName=this.filedetails.fileName,this.selFolderName=this.filedetails.folderId,this.txtFileNumber=this.filedetails.fileRefNo,this.selOcrLang=this.filedetails.ocrLanguage?this.filedetails.ocrLanguage:"0",this.txtExpDate=this.filedetails.retentionDateDB,this.txtSubject=this.filedetails.subject,this.fileVersion=this.filedetails.fileVersion,this.checkinoutstatus=this.filedetails.checkInCheckoutStatus,this.rdoSetretention=""!=this.txtExpDate?"1":"2",setTimeout(()=>{document.getElementById("selfolder");let se=JSON.parse(this.filedetails.filePermission),me=se.rolebased,Me=se.userbased;for(let Ae=0;Ae<me.length;Ae++){let Re={};Re.roleName=me[Ae].roleName,Re.roleId=me[Ae].roleId,Re.checked=me[Ae].checked,Re.permission=me[Ae].permission,this.rolewisepermissions.push(Re)}for(let Ae=0;Ae<Me.length;Ae++){let Re={};Re.itemName=Me[Ae].itemName,Re.permission=Me[Ae].permission,Re.checked=Me[Ae].checked,this.userwisepermissions.push(Re)}},2e3),setTimeout(()=>{this.txtTags=JSON.parse(this.filedetails.fileTags)},2e3),this.metaListDetails=this.filedetails.metaDetail,this.filepath=this.filedetails.filePath,this.fileTypeitem=this.filedetails.fileType,1==this.lockstatus?setTimeout(()=>{},200):(this.prevstatus=!0,this.downloadfils(t,this.filepath))),400==R.status?(this.loading=!1,this.filedetails=R.result):501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}downloadfils(t,i){this.commonserveice.fileDownload({fileId:t,url:i}).subscribe(r=>{let x=r.RESPONSE_DATA,T=r.RESPONSE_TOKEN;if(this.fileLoading=!0,T==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?(this.downloaditem=J.result,this.downloadlink=this.downloaditem.filePath,this.dcoSrc=this.downloaditem.filePath,this.fileLoading=!1,"mp4"==this.filetype?setTimeout(()=>{const se=document.createElement("video");se.controls=!0,se.muted=!1,(se.canPlayType("video/mp4")||se.canPlayType("video/ogg"))&&(se.src=this.dcoSrc),se.height=380,se.width=560;let me=document.getElementById("videopreviewdiv");me.innerHTML="",me.appendChild(se),this.fileLoading=!1},200):"mp3"==this.filetype?(setTimeout(()=>{const se=document.createElement("AUDIO");se.setAttribute("src",this.dcoSrc),se.setAttribute("controls","controls"),document.body.appendChild(se);let me=document.getElementById("audiopreviewdiv");me.innerHTML="",me.appendChild(se)},200),this.fileLoading=!1):"zip"==this.filetype?(setTimeout(()=>{const se=document.createElement("A"),me=document.createTextNode("Downlod .zip File");se.setAttribute("target","_blank"),se.setAttribute("href",this.dcoSrc),se.classList.add("text-primary"),se.appendChild(me);let Me=document.getElementById("zipdiv");Me.classList.add("border","bg-light","p-4","text-center"),Me.innerHTML="",Me.appendChild(se)},200),this.fileLoading=!1):this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId=${this.fileid}+&token=${this.token}+&date=${this.currenttime}`)):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.loading=!1,this.authService.directlogout()})}onError(t){console.log("some thing went wrong")}loadDocPreview(t,i){"mp4"==t||"MP4"==t||"MKV"==t||"AVI"==t||"WebM"==t||"mkv"==t||"avi"==t||"webm"==t?setTimeout(()=>{const o=document.createElement("video");o.controls=!0,o.muted=!1,(o.canPlayType("video/mp4")||o.canPlayType("video/ogg"))&&(o.src=i),o.height=320,o.width=400;let r=document.getElementById("videopreviewdiv");r.innerHTML="",r.appendChild(o),this.fileLoading=!1},200):"mp3"==t||"MP3"==t?setTimeout(()=>{const o=document.createElement("AUDIO");o.setAttribute("src",i),o.setAttribute("controls","controls"),document.body.appendChild(o);let r=document.getElementById("audiopreviewdiv");r.innerHTML="",r.appendChild(o)},200):"zip"==t||"ZIP"==t?setTimeout(()=>{const o=document.createElement("a"),r=document.createTextNode("Downlod .zip File");o.setAttribute("target","_blank"),o.setAttribute("href",i),o.classList.add("btn","btn-primary"),o.appendChild(r);let x=document.getElementById("zipdiv");x.innerHTML="",x.appendChild(o)},200):setTimeout(()=>{this.fileLoading=!1,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId='${this.fileid}'+&token=${this.token}+&date=${this.currenttime}+&filePath=${this.dcoSrc}`)},1e3)}unsetPassword(){let t=this.txtPassword;this.vldChkLst.blankCheck(t,this.commonserveice.langReplace("Please Enter Password"),"txtPassword")&&this.commonserveice.fileLockUnlock({fileId:this.fileid,password:t,action:3}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?(this.prevstatus=!0,this.downloadfils(this.fileid,this.filepath)):400==R.status?f().fire({icon:"error",text:R.message}):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}checkinFile(t){let i=this.userRemark,o=this.checkinfileName;this.vldChkLst.blankCheck(i,this.commonserveice.langReplace("Please Enter Remark"),"userRemark")&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace("Please Upload the file"),"checkinfileName")&&this.vldChkLst.blankCheck(this.selOcrLang,this.commonserveice.langReplace("Please Select Ocr Language"),"selOcrLang")&&this.commonserveice.checkinCheckout({fileId:t,fileName:o,ocrLanguage:this.selOcrLang,remark:i,action:1}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?f().fire({icon:"success",text:this.commonserveice.langReplace("File Check In Successful")}).then(me=>{if(me.isConfirmed){let Me=this.encDec.encText(this.folderid.toString());this.route.navigate(["/admin/viewupload",Me]),this.callfunction.emit(),this.callfunction2.emit()}}):400==se.status?f().fire({icon:"error",text:se.message}):501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(j),e.Y36(m.l),e.Y36(h.$),e.Y36(g.Z),e.Y36(Ce.gz),e.Y36(M._),e.Y36(y.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filemodify"]],inputs:{fileid:"fileid",folderid:"folderid",filetype:"filetype",lockstatus:"lockstatus",checkinFileId:"checkinFileId"},outputs:{callfunction:"callfunction",callfunction2:"callfunction2"},decls:63,vars:39,consts:[[1,"controls-section"],[1,""],[1,"row"],[1,"col-md-6"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","hidden","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-6",4,"ngIf"],[1,"form-select",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],[1,"form-check","form-check-inline"],["type","radio","name","rdoSetretention","id","rdoSetretention1","value","1",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","rdoSetretention1",1,"form-check-label"],["type","radio","name","rdoSetretention","id","rdoSetretention2","value","2","checked","",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","rdoSetretention2",1,"form-check-label"],["class","col-md-12",4,"ngIf"],["class","",4,"ngIf"],[1,"position-relative",2,"min-height","400px"],[4,"ngIf"],["class","lockmodaldiv",4,"ngIf"],["class","loader",4,"ngIf"],["type","text","value","CSM/FN/22/001","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","DD-MM-YYYY","id","expiryDate",1,"form-control",3,"min","ngModel","ngModelChange"],[1,"col-md-12"],["id","txtSubject","cols","3","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],["xmlns","http://www.w3.org/2000/svg","width","63","height","64","viewBox","0 0 63 64"],["fill-rule","nonzero"],["d","M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z"],["d","M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z"],["d","M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z"],["for","fileDropRef"],["id","userRemark","cols","3","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["name","tags",1,"form-control","input-lg",3,"ngModel","onTagsChanged","ngModelChange"],[1,"col-6"],["id","selMetaType",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","col-5",4,"ngIf"],["class","col-1 pt-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"col-5"],["type","text","id","metatype",1,"form-control",3,"ngModel","ngModelChange"],["type","date","id","metatype","max","2100-12-31",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","metatype",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-1","pt-4"],[1,"btn","btn-info","px-2",3,"click"],[1,"icon-plus-solid"],[1,"table-responsive"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],[1,"text-danger","px-2",3,"click"],[1,"icon-trash-alt"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["class","previewdiv","id","previewdiv",4,"ngIf"],["class","videopreviewdiv","id","videopreviewdiv",4,"ngIf"],["class","audiopreviewdiv","id","audiopreviewdiv",4,"ngIf"],["class","zipdiv","id","zipdiv",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],["id","previewdiv",1,"previewdiv"],[3,"src"],["class","loader loader2",4,"ngIf"],[1,"loader","loader2"],[1,"loader-item"],["id","videopreviewdiv",1,"videopreviewdiv"],["id","audiopreviewdiv",1,"audiopreviewdiv"],["id","zipdiv",1,"zipdiv"],[1,"text-center","mt-4"],["class","btn btn-primary btn-dropzone d-inline-block","ngx-dropzone","",3,"change",4,"ngIf"],["ngx-dropzone","",1,"btn","btn-primary","btn-dropzone","d-inline-block",3,"change"],[1,"lockmodaldiv"],[1,"div-body"],["id","lockModalLabel",1,"modal-title","mb-2"],[1,"text-center"],[1,"input-group"],["type","password","placeholder","Enter File Password","id","txtPassword",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",3)(6,"div",4)(7,"label"),e._uU(8),e.ALo(9,"langReplace"),e.qZA(),e.TgZ(10,"input",5),e.NdJ("ngModelChange",function(r){return i.txtFileName=r}),e.qZA()()(),e.TgZ(11,"div",3)(12,"div",4)(13,"label"),e._uU(14),e.ALo(15,"langReplace"),e.qZA(),e.TgZ(16,"input",5),e.NdJ("ngModelChange",function(r){return i.folderName=r}),e.qZA(),e.TgZ(17,"input",6),e.NdJ("ngModelChange",function(r){return i.folderid=r}),e.qZA()()(),e.YNc(18,rb,6,4,"div",7),e.TgZ(19,"div",3)(20,"div",4)(21,"label"),e._uU(22),e.ALo(23,"langReplace"),e.qZA(),e.TgZ(24,"select",8),e.NdJ("ngModelChange",function(r){return i.selOcrLang=r}),e.TgZ(25,"option",9),e._uU(26),e.ALo(27,"langReplace"),e.qZA(),e.TgZ(28,"option",10),e._uU(29,"English"),e.qZA(),e.TgZ(30,"option",11),e._uU(31,"Hindi"),e.qZA(),e.TgZ(32,"option",12),e._uU(33,"Odia"),e.qZA()()()(),e.TgZ(34,"div",3)(35,"div",4)(36,"label"),e._uU(37),e.ALo(38,"langReplace"),e.qZA(),e.TgZ(39,"div")(40,"div",13)(41,"input",14),e.NdJ("click",function(r){return i.rtrdoClick(r)})("ngModelChange",function(r){return i.rdoSetretention=r}),e.qZA(),e.TgZ(42,"label",15),e._uU(43),e.ALo(44,"langReplace"),e.qZA()(),e.TgZ(45,"div",13)(46,"input",16),e.NdJ("click",function(r){return i.rtrdoClick(r)})("ngModelChange",function(r){return i.rdoSetretention=r}),e.qZA(),e.TgZ(47,"label",17),e._uU(48),e.ALo(49,"langReplace"),e.qZA()()()()(),e.YNc(50,ab,7,8,"div",7),e.YNc(51,lb,7,4,"div",18),e.YNc(52,db,2,1,"div",18),e.YNc(53,hb,7,4,"div",18),e.YNc(54,ub,6,4,"div",18),e.YNc(55,yb,15,11,"div",18),e.qZA(),e.YNc(56,xb,8,6,"div",19),e.YNc(57,wb,5,3,"div",19),e.qZA(),e.TgZ(58,"div",3)(59,"div",20),e.YNc(60,Db,6,5,"div",21),e.YNc(61,Eb,12,7,"div",22),e.qZA()()()()(),e.YNc(62,Lb,4,0,"div",23)),2&t&&(e.xp6(8),e.hij("* ",e.lcZ(9,25,"Document Name")," "),e.xp6(2),e.Q6J("ngModel",i.txtFileName),e.xp6(4),e.hij("* ",e.lcZ(15,27,"Folder Name"),""),e.xp6(2),e.Q6J("ngModel",i.folderName),e.xp6(1),e.Q6J("ngModel",i.folderid),e.xp6(1),e.Q6J("ngIf",i.fileid>0),e.xp6(4),e.hij("",e.lcZ(23,29,"OCR Language")," "),e.xp6(2),e.Q6J("ngModel",i.selOcrLang),e.xp6(2),e.hij("",e.lcZ(27,31,"Select")," "),e.xp6(11),e.hij("",e.lcZ(38,33,"Set retention period of a file")," "),e.xp6(4),e.Q6J("ngModel",i.rdoSetretention),e.xp6(2),e.Oqu(e.lcZ(44,35,"Yes")),e.xp6(3),e.Q6J("ngModel",i.rdoSetretention),e.xp6(2),e.Oqu(e.lcZ(49,37,"No")),e.xp6(2),e.Q6J("ngIf","1"==i.rdoSetretention&&i.checkinoutstatus<=1),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus<=1),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus>1&&i.checkinUpload),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus>1),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus<=1),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus<=1),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus<=1),e.xp6(1),e.Q6J("ngIf",i.checkinoutstatus>1),e.xp6(3),e.Q6J("ngIf",i.prevstatus),e.xp6(1),e.Q6J("ngIf",!i.prevstatus),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[C.sg,C.O5,w.YN,w.Kr,w.Fj,w.wV,w.EJ,w._,w.JJ,w.On,te._f,te.NP,Ki,C.uU,E.c],styles:["ngx-doc-viewer[_ngcontent-%COMP%], .frame[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:55vh;padding:1rem}iframe[_ngcontent-%COMP%]{width:100%;height:75vh}canvas[_ngcontent-%COMP%], .canvas-container[_ngcontent-%COMP%]{box-shadow:10px 10px 5px #000000bf}#pdf-container[_ngcontent-%COMP%]{margin-top:60px;padding-left:10px;text-align:center}.pdf-container[_ngcontent-%COMP%]{position:relative;height:70vh;overflow:hidden;overflow-y:auto;width:100%;background-color:#00000080}.viewer[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;right:0;height:70vh}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:2rem 1rem}.custom-dropzone[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}.custom-dropzone[_ngcontent-%COMP%]{height:auto;background:var(--bg-white);border:3px dashed var(--bs-gray-200);border-radius:5px;padding:2.5rem 1rem}.custom-dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:auto;border-radius:21.5px;background-color:var(--base-color-600);padding:.6rem 1.8rem;transition:all ease-in-out .5s}.custom-dropzone[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--bs-gray-200);margin-bottom:1rem}.custom-dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--bs-gray-400)}.custom-dropzone[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:var(--base-color-700)}"]}),n})();function Fb(n,s){if(1&n&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.folderId),e.xp6(1),e.Oqu(t.folderName)}}function Ib(n,s){if(1&n&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("value",t.folderId),e.xp6(1),e.Oqu(t.folderName)}}function Nb(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Ib,2,2,"option",14),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.folderId)}}let Ws=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.router=i,this.httpClient=o,this.commonserveice=r,this.encDec=x,this.authService=T,this.vldChkLst=L,this.modalService=R,this.jsonurl="assets/js/_configs/viewDocument.config.json",this.selFolderName=0,this.callfunction=new e.vpe}ngOnInit(){this.loadconfig(),this.getFolders()}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}saveMoveFile(){let t=this.selFolderName;this.vldChkLst.selectDropdown(t,this.commonserveice.langReplace(this.messaageslist.selnewFolder),"selFolderName")&&this.commonserveice.moveTofolder({fileId:this.mfileid,folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?f().fire({text:this.commonserveice.langReplace(this.messaageslist.movesuccessMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(J=>{let se=this.encDec.encText(this.mFolderid.toString());this.route.navigate(["/admin/viewupload",se]),this.callfunction.emit()}):400==R.status?f().fire({icon:"error",text:R.message}):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},o=>{this.authService.directlogout()})}formReset(){this.selFolderName=0,this.modalService.dismissAll()}getFolders(){this.commonserveice.getFolders({folderId:0}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);"200"==L.status?this.folderlist=L.result:501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.authService.directlogout()},i=>{this.authService.directlogout()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(Ce.gz),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-movetofolder"]],inputs:{mfileid:"mfileid",mFolderid:"mFolderid",mFileName:"mFileName",mrefNo:"mrefNo"},outputs:{callfunction:"callfunction"},decls:45,vars:30,consts:[[1,"row"],[1,"col-lg-2","col-md-5"],[1,"col-lg-4","col-md-7"],[1,"form-group"],["type","text","readonly","","id","mFileName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","readonly","","id","mrefNo",1,"form-control",3,"ngModel","ngModelChange"],["disabled","disabled","id","mFolderid",1,"form-select",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["id","selFolderName",1,"form-select",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","mr-1",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"value"],[3,"value",4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"input",4),e.NdJ("ngModelChange",function(r){return i.mFileName=r}),e.qZA()()()(),e.TgZ(7,"div",0)(8,"label",1),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"div",2)(12,"div",3)(13,"input",5),e.NdJ("ngModelChange",function(r){return i.mrefNo=r}),e.qZA()()()(),e.TgZ(14,"div",0)(15,"label",1),e._uU(16),e.ALo(17,"langReplace"),e.qZA(),e.TgZ(18,"div",2)(19,"div",3)(20,"select",6),e.NdJ("ngModelChange",function(r){return i.mFolderid=r}),e.TgZ(21,"option",7),e._uU(22),e.ALo(23,"langReplace"),e.qZA(),e.YNc(24,Fb,2,2,"option",8),e.qZA()()()(),e.TgZ(25,"div",0)(26,"label",1),e._uU(27),e.ALo(28,"langReplace"),e.qZA(),e.TgZ(29,"div",2)(30,"div",3)(31,"select",9),e.NdJ("ngModelChange",function(r){return i.selFolderName=r}),e.TgZ(32,"option",7),e._uU(33),e.ALo(34,"langReplace"),e.qZA(),e.YNc(35,Nb,2,1,"ng-container",10),e.qZA()()()(),e.TgZ(36,"div",0),e._UZ(37,"label",1),e.TgZ(38,"div",2)(39,"button",11),e.NdJ("click",function(){return i.saveMoveFile()}),e._uU(40),e.ALo(41,"langReplace"),e.qZA(),e.TgZ(42,"button",12),e.NdJ("click",function(){return i.formReset()}),e._uU(43),e.ALo(44,"langReplace"),e.qZA()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,14,"Document Name"),""),e.xp6(4),e.Q6J("ngModel",i.mFileName),e.xp6(3),e.hij(" ",e.lcZ(10,16,"Document No"),""),e.xp6(4),e.Q6J("ngModel",i.mrefNo),e.xp6(3),e.hij(" ",e.lcZ(17,18,"Current Folder")," "),e.xp6(4),e.Q6J("ngModel",i.mFolderid),e.xp6(2),e.hij("",e.lcZ(23,20,"Select")," "),e.xp6(2),e.Q6J("ngForOf",i.folderlist),e.xp6(3),e.hij("* ",e.lcZ(28,22,"New Folder")," "),e.xp6(4),e.Q6J("ngModel",i.selFolderName),e.xp6(2),e.Oqu(e.lcZ(34,24,"Select")),e.xp6(2),e.Q6J("ngForOf",i.folderlist),e.xp6(5),e.hij(" ",e.lcZ(41,26,"Save"),""),e.xp6(3),e.hij(" ",e.lcZ(44,28,"Reset")," "))},dependencies:[C.sg,C.O5,w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.On,E.c]}),n})();const Rb=["previewModal"];function Zb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function Bb(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,Zb,1,0,"i",9),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function Hb(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"small",15),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.changedBy?t.changedBy:"-"," "),e.xp6(2),e.hij("on ",t.changedOn?t.changedOn:"-","")}}function Yb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadpreview(r.fileId,r.fileType,r.logId,r.filePath,r.lockStatus))}),e._uU(7),e._UZ(8,"i",12),e.qZA()(),e.TgZ(9,"td",13),e._UZ(10,"i",14),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.TgZ(18,"small",15),e._uU(19),e.qZA()(),e.TgZ(20,"td"),e.YNc(21,Hb,4,2,"span",16),e.qZA()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(2);e.xp6(2),e.hij("\n",i+1," "),e.xp6(2),e.hij(" ",t.fileRefNo," "),e.xp6(3),e.hij("",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.Q6J("ngClass",o.getfiletype(t.fileType)),e.xp6(2),e.hij(" v",e.xi3(13,12,t.fileVersion,"1.1-5")," "),e.xp6(3),e.hij(" ",o.formatBytes(t.fileSize,2)," "),e.xp6(2),e.hij(" ",t.createdBy," "),e.xp6(2),e.hij("on ",t.createdOn,""),e.xp6(2),e.Q6J("ngIf",i>0)}}function Ub(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",5)(2,"table",6)(3,"thead")(4,"tr")(5,"th",7),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,Bb,4,4,"th",8),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,Yb,22,15,"tr",8),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,3,"Sl No")),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.Q6J("ngForOf",t.filevesions)}}function jb(n,s){1&n&&(e.TgZ(0,"h6",17),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function qb(n,s){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"div",19),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function Vb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"h5",21),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",23),e._UZ(6,"app-preview-file",24),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,6,"Document Preview")," "),e.xp6(4),e.Q6J("fileId",t.previewfileid)("filetype",t.filetype)("lockstatus",t.lockstatus)("logid",t.logId)("vfilepath",t.vfilepath)}}let Gs=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.router=i,this.httpClient=o,this.commonserveice=r,this.encDec=x,this.authService=T,this.vldChkLst=L,this.modalService=R,this.filevesions=[],this.downloaditem="",this.downloadlink="",this.loading=!1,this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!1},{name:"Name",cname:"fileName",sortable:!0},{name:"Type",cname:"fileType",sortable:!1},{name:"Version",cname:"fileVersion",sortable:!1},{name:"Size",cname:"fileSize",sortable:!0},{name:"Created By",cname:"createdBy",sortable:!0},{name:"Changed By",cname:"changedBy",sortable:!0}]}ngOnInit(){this.loadVersions(this.fileid)}loadVersions(t){let i={fileId:t};this.loading=!0,this.commonserveice.getfileVersions(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?(this.loading=!1,this.filevesions=R.result.fileDetails,console.log(this.filevesions)):400==R.status?(this.loading=!1,f().fire({icon:"error",text:R.message})):501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}downloadfils(t,i,o){this.commonserveice.fileDownloadVer({fileId:t,logId:o}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);if(200==se.status){this.downloaditem=se.result,this.downloadlink=this.downloaditem.filePath;let me=document.createElement("a");me.download=this.downloadlink,me.href=this.downloadlink,me.target="_blank",me.click()}else 501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}loadpreview(t,i,o,r,x){this.open(this.previewModal),this.previewfileid=t,this.logId=o,this.vfilepath=r,this.lockstatus=x,this.filetype=i,this.lockstatus=x}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.filevesions=this.filevesions.sort((i,o)=>"asc"==this.sortOrder?i[t].localeCompare(o[t],void 0,{numeric:!0}):o[t].localeCompare(i[t],void 0,{numeric:!0}))}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(Ce.gz),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filevesions"]],viewQuery:function(t,i){if(1&t&&e.Gf(Rb,5),2&t){let o;e.iGM(o=e.CRH())&&(i.previewModal=o.first)}},inputs:{fileid:"fileid"},decls:6,vars:3,consts:[[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],["id","previewModal"],["previewModal",""],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["target","_blank",1,"text-primary",3,"click"],["ngbTooltip","Locked File"],[1,"text-center"],[1,"h6",3,"ngClass"],[1,"text-primary","d-block","mt-1"],[4,"ngIf"],[1,"no-content"],[1,"loader"],[1,"loader-item"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","90vh","min-height","300px","overflow-y","auto","position","relative"],[3,"fileId","filetype","lockstatus","logid","vfilepath"]],template:function(t,i){if(1&t&&(e.YNc(0,Ub,11,5,"div",0),e.YNc(1,jb,3,3,"ng-template",null,1,e.W1O),e.YNc(3,qb,4,0,"div",2),e.YNc(4,Vb,7,8,"ng-template",3,4,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",(null==i.filevesions?null:i.filevesions.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.mk,C.sg,C.O5,b._L,B,C.JJ,E.c]}),n})();function zb(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2),e.ALo(3,"langReplace"),e.TgZ(4,"span",23),e._uU(5),e.qZA()(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"langReplace"),e.TgZ(9,"span",24),e._uU(10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"Folder Space")," : "),e.xp6(3),e.hij(" ",t.formatBytes(t.parentSizeinKb,2)," "),e.xp6(2),e.hij(" ",e.lcZ(8,6,"Available Space")," : "),e.xp6(3),e.hij(" ",t.formatBytes(t.parentSizeinKb-t.childSizeInKb,2)," ")}}let Jb=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.authService=i,this.httpClient=o,this.commonserveice=r,this.authentication=x,this.vldChkLst=T,this.encDec=L,this.callfunction=new e.vpe,this.jsonurl="assets/js/_configs/newsubFolder.config.json",this.letterID="",this.files_dropped=[],this.folderlist=[],this.sizetypelist=["-","KB","MB","GB","TB"],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.selParentFolderName="0",this.txtFolderName="",this.rdoPermissiontype="0",this.isSelected=!0,this.nameList=[],this.selSizeType="0",this.rolelist=[],this.selectroleList=[],this.userslist=[],this.folderId="",this.dataviewtype=1,this.rolewisepermissions=[],this.userwisepermissions=[],this.rolepermissions=[],this.permissionlistitems=[{label:"Read"},{label:"Write"},{label:"Download"},{label:"Create Folder"},{label:"Delete"},{label:"Rename"},{label:"Archive"},{label:"WorkFlow"},{label:"Move to folder"}],this.selFileSizeType="0"}ngOnInit(){this.dropdownSettings={singleSelection:!1,text:"Select Name",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},this.loadconfig(),this.getFolders(this.parentfolderid),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.username=t.USER_NAME,this.userid=t.USER_ID,this.getPermissions(this.parentfolderid)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}getFolders(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let T=c.lW.from(o.RESPONSE_DATA,"base64"),L=JSON.parse(T);"200"==L.status?(this.folderlist=L.result,this.folderlist.length>0&&(this.folderSizeType=this.folderlist[0].folderSizeType,this.parentSizeinKb=this.folderlist[0].parentSizeinKb,this.childSizeInKb=this.folderlist[0].childSizeInKb,this.folderName=this.folderlist[0].folderName,this.selFolderName=this.folderlist[0].parentFolderId,this.selectroleList=this.folderlist[0].folderPermission,this.selDepartmentName=this.folderlist[0].departmentId)):501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})},o=>{this.authService.directlogout()})}resetform(){this.folderId="",this.selParentFolderName="0",this.txtFolderName="",this.rdoPermissiontype="0",this.txtAllowSize="",this.selSizeType="0",this.userslist=[],this.rolelist=[],this.txtAllowFileSize="",this.selFileSizeType="0"}crateFolder(){let t=this.parentfolderid,i=this.txtFolderName,r=this.txtAllowSize,x=this.selSizeType,T=this.txtAllowFileSize,L=this.selFileSizeType;if(this.vldChkLst.blankCheck(i,this.commonserveice.langReplace(this.messaageslist.foldername),"txtFolderName"))if(this.vldChkLst.containsSpecialChars(i)){if(this.vldChkLst.blankCheck(r,this.commonserveice.langReplace(this.messaageslist.allowsize),"txtAllowSize")&&(""==r||this.vldChkLst.selectDropdown(x,this.commonserveice.langReplace(this.messaageslist.allowsizeType),"selSizeType"))&&this.vldChkLst.blankCheck(T,this.commonserveice.langReplace(this.messaageslist.allowfileSize),"txtAllowFileSize")&&(""==T||this.vldChkLst.selectDropdown(L,this.commonserveice.langReplace(this.messaageslist.allowfilesizeType),"selFileSizeType"))){let R={folderId:this.folderId,parentFolderId:t,folderName:i.trim(),folderPermission:this.selectroleList,allowedSize:r,allowedSizeType:x,allowedFileSize:T,allowedFileSizeType:L,deptId:this.selDepartmentName,retentionDate:"",archieveDate:""};this.commonserveice.createFolders(R).subscribe(J=>{let Me=c.lW.from(J.RESPONSE_DATA,"base64"),Ae=JSON.parse(Me);200==Ae.status?f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(Re=>{let Ye=this.encDec.encText((this.parentfolderid+":0").toString());window.location.reload(),this.route.navigate(["/admin/viewupload",Ye]),this.getFolders(this.parentfolderid),this.resetform()}):400==Ae.status||401==Ae.status||500==Ae.status?f().fire({icon:"error",text:Ae.message}):501==Ae.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})},J=>{this.authService.directlogout()})}}else f().fire({icon:"error",text:this.commonserveice.langReplace("Special Char Not allowed in folder name")})}formatFileSize(t,i){if(0==t)return"0 Bytes";var r=i||2,T=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,T)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB"][T]}getPermissions(t){this.rolewisepermissions=[],this.commonserveice.getFolders({folderId:t}).subscribe(o=>{let T=c.lW.from(o.RESPONSE_DATA,"base64"),L=JSON.parse(T);if("200"==L.status){if(this.permissionlist=L.result,this.permissionlist.length>0){let J=JSON.parse(this.permissionlist[0].folderPermission)[0].rolebased;for(let me=0;me<J.length;me++){let Me={};Me.roleName=J[me].roleName,Me.roleId=J[me].roleId,Me.checked=J[me].checked,Me.permission=J[me].permission,Me.deptId=this.selDepartmentName,this.rolewisepermissions.push(Me)}}}else 501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})},o=>{this.authService.directlogout()})}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(h.$),e.Y36(a.eN),e.Y36(m.l),e.Y36(h.$),e.Y36(M._),e.Y36(g.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-folder"]],inputs:{parentfolderid:"parentfolderid"},outputs:{callfunction:"callfunction"},decls:63,vars:32,consts:[[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"col-md-6","col-lg-4"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","hidden","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","text","id","txtFolderName",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex"],["type","text","id","txtAllowSize","maxlength","3",1,"form-control",3,"ngModel","ngModelChange","keypress"],["id","selSizeType",1,"form-select","ml-2","w-50",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","id","txtAllowFileSize","maxlength","2",1,"form-control",3,"ngModel","ngModelChange","keypress"],["id","selFileSizeType",1,"form-select","ml-2","w-50",3,"ngModel","ngModelChange"],[1,"col-md-9"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"mb-1"],[1,"text-primary"],[1,"text-success"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"input",5),e.NdJ("ngModelChange",function(r){return i.folderName=r}),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){return i.parentfolderid=r}),e.qZA()()(),e.TgZ(9,"div",3),e.YNc(10,zb,11,8,"div",7),e.qZA()(),e.TgZ(11,"div",1)(12,"label",2),e._uU(13),e.ALo(14,"langReplace"),e.qZA(),e.TgZ(15,"div",3)(16,"div",4)(17,"input",8),e.NdJ("ngModelChange",function(r){return i.txtFolderName=r}),e.qZA()()()(),e.TgZ(18,"div",1)(19,"label",2),e._uU(20),e.ALo(21,"langReplace"),e.qZA(),e.TgZ(22,"div",3)(23,"div",4)(24,"div",9)(25,"input",10),e.NdJ("ngModelChange",function(r){return i.txtAllowSize=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(26,"select",11),e.NdJ("ngModelChange",function(r){return i.selSizeType=r}),e.TgZ(27,"option",12),e._uU(28),e.ALo(29,"langReplace"),e.qZA(),e.TgZ(30,"option",13),e._uU(31,"KB"),e.qZA(),e.TgZ(32,"option",14),e._uU(33,"MB"),e.qZA(),e.TgZ(34,"option",15),e._uU(35,"GB"),e.qZA(),e.TgZ(36,"option",16),e._uU(37,"TB"),e.qZA()()()()()(),e.TgZ(38,"div",1)(39,"label",2),e._uU(40),e.ALo(41,"langReplace"),e.qZA(),e.TgZ(42,"div",3)(43,"div",4)(44,"div",9)(45,"input",17),e.NdJ("ngModelChange",function(r){return i.txtAllowFileSize=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(46,"select",18),e.NdJ("ngModelChange",function(r){return i.selFileSizeType=r}),e.TgZ(47,"option",12),e._uU(48),e.ALo(49,"langReplace"),e.qZA(),e.TgZ(50,"option",13),e._uU(51,"KB"),e.qZA(),e.TgZ(52,"option",14),e._uU(53,"MB"),e.qZA()()()()()(),e.TgZ(54,"div",1),e._UZ(55,"label",2),e.TgZ(56,"div",19)(57,"button",20),e.NdJ("click",function(){return i.crateFolder()}),e._uU(58),e.ALo(59,"langReplace"),e.qZA(),e.TgZ(60,"button",21),e.NdJ("click",function(){return i.resetform()}),e._uU(61),e.ALo(62,"langReplace"),e.qZA()()()()),2&t&&(e.xp6(3),e.hij("* ",e.lcZ(4,16,"Parent Folder")," "),e.xp6(4),e.Q6J("ngModel",i.folderName),e.xp6(1),e.Q6J("ngModel",i.parentfolderid),e.xp6(2),e.Q6J("ngIf",i.parentfolderid>1),e.xp6(3),e.hij("* ",e.lcZ(14,18,"Folder Name"),""),e.xp6(4),e.Q6J("ngModel",i.txtFolderName),e.xp6(3),e.hij("* ",e.lcZ(21,20,"Max Allow Folder Size"),""),e.xp6(5),e.Q6J("ngModel",i.txtAllowSize),e.xp6(1),e.Q6J("ngModel",i.selSizeType),e.xp6(2),e.Oqu(e.lcZ(29,22,"Select")),e.xp6(12),e.hij("* ",e.lcZ(41,24,"Max Allow File Size"),""),e.xp6(5),e.Q6J("ngModel",i.txtAllowFileSize),e.xp6(1),e.Q6J("ngModel",i.selFileSizeType),e.xp6(2),e.Oqu(e.lcZ(49,26,"Select")),e.xp6(10),e.hij(" ",e.lcZ(59,28,"Save"),""),e.xp6(3),e.hij(" ",e.lcZ(62,30,"Reset")," "))},dependencies:[C.O5,w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.nD,w.On,E.c]}),n})();function Wb(n,s){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"div",23),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Gb=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.authService=i,this.httpClient=o,this.commonserveice=r,this.authentication=x,this.vldChkLst=T,this.encDec=L,this.callfunction=new e.vpe,this.jsonurl="assets/js/_configs/newsubFolder.config.json",this.letterID="",this.files_dropped=[],this.folderlist=[],this.sizetypelist=["-","KB","MB","GB","TB"],this.selParentFolderId="0",this.txtFolderName="",this.rdoPermissiontype="0",this.isSelected=!0,this.nameList=[],this.selSizeType="0",this.rolelist=[],this.selectroleList=[],this.userslist=[],this.dataviewtype=1,this.selDepartmentName="0",this.selFileSizeType="0"}ngOnInit(){this.loadconfig(),this.viewfolderDetails(this.folderid)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}getFolders(t){let i={folderId:t};this.loading=!0,this.commonserveice.getFolders(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);"200"==R.status?(this.loading=!1,this.folderlist=R.result,this.folderlist.length>0&&(this.parentfolderName=this.folderlist[0].folderName)):(501==R.status||(this.loading=!1),this.authService.directlogout())}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}viewfolderDetails(t){this.loading=!0,this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){this.loading=!1;let J=R.result;this.selParentFolderId=J[0].parentFolderId,this.getFolders(J[0].parentFolderId),this.txtFolderName=J[0].folderName,this.selSizeType=J[0].folderSizeType,this.txtAllowSize=Math.round(J[0].folderSize),this.selectroleList=J[0].folderPermission,this.txtAllowFileSize=Math.round(J[0].allowedFileSize),this.selFileSizeType=J[0].allowedFileSizeType,this.selDepartmentName=J[0].departmentId}else 501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}resetform(){let t=this.encDec.encText(this.folderid.toString());this.route.navigate(["/admin/viewupload",t])}updateFolder(){let t=this.selParentFolderId,i=this.txtFolderName,r=this.txtAllowSize,x=this.selSizeType,T=this.selDepartmentName,L=this.txtAllowFileSize,R=this.selFileSizeType;if(this.vldChkLst.blankCheck(i,this.commonserveice.langReplace(this.messaageslist.foldername),"txtFolderName"))if(this.vldChkLst.containsSpecialChars(i)){if(this.vldChkLst.blankCheck(r,this.commonserveice.langReplace(this.messaageslist.allowsize),"txtAllowSize")&&(""==r||this.vldChkLst.selectDropdown(x,this.commonserveice.langReplace(this.messaageslist.allowsizeType),"selSizeType"))&&this.vldChkLst.blankCheck(L,this.commonserveice.langReplace(this.messaageslist.allowfileSize),"txtAllowFileSize")&&(""==L||this.vldChkLst.selectDropdown(R,this.commonserveice.langReplace(this.messaageslist.allowfilesizeType),"selFileSizeType"))){let J={folderId:this.folderid,parentFolderId:t,folderName:i.trim(),folderPermission:this.selectroleList,allowedSize:r,allowedSizeType:x,retentionDate:"",allowedFileSize:L,allowedFileSizeType:R,deptId:T,archieveDate:""};this.commonserveice.createFolders(J).subscribe(se=>{let me=se.RESPONSE_DATA;if(se.RESPONSE_TOKEN==l.HmacSHA256(me,u.N.apiHashingKey).toString()){let Re=c.lW.from(me,"base64"),Ne=JSON.parse(Re);202==Ne.status?f().fire({text:this.messaageslist.updatesuccessMsg,icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(Ye=>{let We=this.encDec.encText((this.folderid+":0").toString());this.route.navigate(["/admin/viewupload",We]),this.resetform()}):400==Ne.status||401==Ne.status||500==Ne.status?f().fire({icon:"error",text:Ne.message}):501==Ne.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},se=>{this.authService.directlogout()})}}else f().fire({icon:"error",text:this.commonserveice.langReplace("Special Char Not allowed in foldername")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(h.$),e.Y36(a.eN),e.Y36(m.l),e.Y36(h.$),e.Y36(M._),e.Y36(g.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-folder"]],inputs:{folderid:"folderid"},outputs:{callfunction:"callfunction"},decls:62,vars:32,consts:[[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"col-md-6","col-lg-4"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","hidden","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtFolderName",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex"],["type","text","maxlength","3","id","txtAllowSize",1,"form-control",3,"ngModel","ngModelChange","keypress"],["id","selSizeType",1,"form-select","ml-2","w-50",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["type","text","id","txtAllowFileSize","maxlength","2",1,"form-control",3,"ngModel","ngModelChange","keypress"],["id","selFileSizeType",1,"form-select","ml-2","w-50",3,"ngModel","ngModelChange"],[1,"col-md-9"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],["class","loader",4,"ngIf"],[1,"loader"],[1,"loader-item"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"input",5),e.NdJ("ngModelChange",function(r){return i.parentfolderName=r}),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){return i.selParentFolderId=r}),e.qZA()()()(),e.TgZ(9,"div",1)(10,"label",2),e._uU(11),e.ALo(12,"langReplace"),e.qZA(),e.TgZ(13,"div",3)(14,"div",4)(15,"input",7),e.NdJ("ngModelChange",function(r){return i.txtFolderName=r}),e.qZA()()()(),e.TgZ(16,"div",1)(17,"label",2),e._uU(18),e.ALo(19,"langReplace"),e.qZA(),e.TgZ(20,"div",3)(21,"div",4)(22,"div",8)(23,"input",9),e.NdJ("ngModelChange",function(r){return i.txtAllowSize=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(24,"select",10),e.NdJ("ngModelChange",function(r){return i.selSizeType=r}),e.TgZ(25,"option",11),e._uU(26),e.ALo(27,"langReplace"),e.qZA(),e.TgZ(28,"option",12),e._uU(29,"KB"),e.qZA(),e.TgZ(30,"option",13),e._uU(31,"MB"),e.qZA(),e.TgZ(32,"option",14),e._uU(33,"GB"),e.qZA(),e.TgZ(34,"option",15),e._uU(35,"TB"),e.qZA()()()()()(),e.TgZ(36,"div",1)(37,"label",2),e._uU(38),e.ALo(39,"langReplace"),e.qZA(),e.TgZ(40,"div",3)(41,"div",4)(42,"div",8)(43,"input",16),e.NdJ("ngModelChange",function(r){return i.txtAllowFileSize=r})("keypress",function(r){return i.vldChkLst.isNumberKey(r)}),e.qZA(),e.TgZ(44,"select",17),e.NdJ("ngModelChange",function(r){return i.selFileSizeType=r}),e.TgZ(45,"option",11),e._uU(46),e.ALo(47,"langReplace"),e.qZA(),e.TgZ(48,"option",12),e._uU(49,"KB"),e.qZA(),e.TgZ(50,"option",13),e._uU(51,"MB"),e.qZA()()()()()(),e.TgZ(52,"div",1),e._UZ(53,"label",2),e.TgZ(54,"div",18)(55,"button",19),e.NdJ("click",function(){return i.updateFolder()}),e._uU(56),e.ALo(57,"langReplace"),e.qZA(),e.TgZ(58,"button",20),e.NdJ("click",function(){return i.resetform()}),e._uU(59),e.ALo(60,"langReplace"),e.qZA()()()(),e.YNc(61,Wb,4,0,"div",21)),2&t&&(e.xp6(3),e.hij("* ",e.lcZ(4,16,"Parent Folder")," "),e.xp6(4),e.Q6J("ngModel",i.parentfolderName),e.xp6(1),e.Q6J("ngModel",i.selParentFolderId),e.xp6(3),e.hij("* ",e.lcZ(12,18,"Folder Name"),""),e.xp6(4),e.Q6J("ngModel",i.txtFolderName),e.xp6(3),e.hij("* ",e.lcZ(19,20,"Max Allow Folder Size"),""),e.xp6(5),e.Q6J("ngModel",i.txtAllowSize),e.xp6(1),e.Q6J("ngModel",i.selSizeType),e.xp6(2),e.hij("",e.lcZ(27,22,"Select")," "),e.xp6(12),e.hij("* ",e.lcZ(39,24,"Max Allow File Size"),""),e.xp6(5),e.Q6J("ngModel",i.txtAllowFileSize),e.xp6(1),e.Q6J("ngModel",i.selFileSizeType),e.xp6(2),e.Oqu(e.lcZ(47,26,"Select")),e.xp6(10),e.hij(" ",e.lcZ(57,28,"Update")," "),e.xp6(3),e.hij(" ",e.lcZ(60,30,"Cancel")," "),e.xp6(2),e.Q6J("ngIf",i.loading))},dependencies:[C.O5,w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.nD,w.On,E.c]}),n})();function Qb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"a",5),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",6),e._uU(6,"or"),e.qZA(),e.TgZ(7,"a",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.scanImage(o.folderid))}),e._uU(8),e.ALo(9,"langReplace"),e.qZA()(),e.TgZ(10,"div",8)(11,"h6"),e._uU(12),e.ALo(13,"langReplace"),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"ol")(17,"li",11),e._uU(18),e.ALo(19,"langReplace"),e.qZA(),e.TgZ(20,"li",11),e._uU(21),e.ALo(22,"langReplace"),e.qZA(),e.TgZ(23,"li",11),e._uU(24),e.ALo(25,"langReplace"),e.qZA(),e.TgZ(26,"li",11),e._uU(27),e.ALo(28,"langReplace"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("href",t.apkpath,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(4,8,"Download Scanner"),""),e.xp6(5),e.hij(" ",e.lcZ(9,10,"Scan"),""),e.xp6(4),e.hij(" ",e.lcZ(13,12,"Note"),""),e.xp6(6),e.hij(" 1. ",e.lcZ(19,14,"Click on the Download Scanner APK file to download those have not installed the scanner apk")," . "),e.xp6(3),e.hij(" 2. ",e.lcZ(22,16,"Install the Scanner APK in your local system"),". "),e.xp6(3),e.hij(" 3. ",e.lcZ(25,18,"Click on the Scan button to Scan the document or images after installation of Scanner apk")," "),e.xp6(3),e.hij(" 4. ",e.lcZ(28,20,"If you have already installed then click on the Scan button to scan the document or images")," ")}}function Kb(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadDocPreview(r.fileType,r.filePath))}),e.TgZ(1,"div"),e._UZ(2,"i",51),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"a",52),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.onRemove(r))}),e._UZ(6,"i",53),e.qZA()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngClass",i.getfiletypeicon(t.fileType)),e.xp6(2),e.Oqu(t.fileName)}}function $b(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",17)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.txtExpDate=o)}),e.ALo(6,"date"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij("* ",e.lcZ(4,3,"Retention Date")," "),e.xp6(2),e.s9C("min",e.xi3(6,5,t.currenttime,"yyyy-MM-dd")),e.Q6J("ngModel",t.txtExpDate)}}function Xb(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.intMetaId),e.xp6(1),e.Oqu(t.metaName)}}function e1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function t1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function n1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.metatype=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.hij("* ",e.lcZ(3,2,"Details"),""),e.xp6(2),e.Q6J("ngModel",t.metatype)}}function i1(n,s){if(1&n&&(e.TgZ(0,"div",56),e.YNc(1,e1,5,4,"div",1),e.YNc(2,t1,5,4,"div",1),e.YNc(3,n1,5,4,"div",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==t.getmetaType),e.xp6(1),e.Q6J("ngIf",2==t.getmetaType),e.xp6(1),e.Q6J("ngIf",3==t.getmetaType)}}function o1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",60)(1,"a",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMetaVals())}),e._UZ(2,"i",62),e.qZA()()}}function s1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",67),e.NdJ("click",function(){const r=e.CHM(t).index,x=e.oxw(3);return e.KtG(x.removeSectionval(r))}),e._UZ(9,"i",68),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.metaName),e.xp6(2),e.Oqu(t.metaDetails)}}function r1(n,s){if(1&n&&(e.TgZ(0,"div",63)(1,"table",64)(2,"thead")(3,"tr")(4,"th",65),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"langReplace"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"langReplace"),e.qZA(),e.TgZ(13,"th",65),e._uU(14),e.ALo(15,"langReplace"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,s1,10,3,"tr",66),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,5,"Sl No"),""),e.xp6(3),e.hij(" ",e.lcZ(9,7,"Meta Name"),""),e.xp6(3),e.hij(" ",e.lcZ(12,9,"Details"),""),e.xp6(3),e.hij("",e.lcZ(15,11,"Action")," "),e.xp6(3),e.Q6J("ngForOf",t.metaListDetails)}}function a1(n,s){1&n&&(e.TgZ(0,"div",72),e._UZ(1,"div",73),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function l1(n,s){if(1&n&&(e.TgZ(0,"div",69),e._UZ(1,"iframe",70),e.YNc(2,a1,4,0,"div",71),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.publicurl,e.uOi),e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function c1(n,s){1&n&&e._UZ(0,"div",74)}function d1(n,s){1&n&&e._UZ(0,"div",75)}function h1(n,s){1&n&&e._UZ(0,"div",76)}function u1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",9)(2,"div",13)(3,"div",14),e.YNc(4,Kb,7,2,"div",15),e.qZA(),e.TgZ(5,"div",9)(6,"div",16)(7,"div",17)(8,"label"),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtFileName=o)}),e.qZA(),e.TgZ(12,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.folderName=o)}),e.qZA(),e.TgZ(13,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.folderid=o)}),e.qZA()()(),e.TgZ(14,"div",13)(15,"div",17)(16,"label"),e._uU(17),e.ALo(18,"langReplace"),e.qZA(),e.TgZ(19,"select",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selOcrLang=o)}),e.TgZ(20,"option",20),e._uU(21),e.ALo(22,"langReplace"),e.qZA(),e.TgZ(23,"option",21),e._uU(24,"English"),e.qZA(),e.TgZ(25,"option",22),e._uU(26,"Hindi"),e.qZA(),e.TgZ(27,"option",23),e._uU(28,"Odia"),e.qZA()()()(),e.TgZ(29,"div",13)(30,"div",17)(31,"label"),e._uU(32),e.ALo(33,"langReplace"),e.qZA(),e.TgZ(34,"div")(35,"div",24)(36,"input",25),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rtrdoClick(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rdoSetretention=o)}),e.qZA(),e.TgZ(37,"label",26),e._uU(38),e.ALo(39,"langReplace"),e.qZA()(),e.TgZ(40,"div",24)(41,"input",27),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rtrdoClick(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.rdoSetretention=o)}),e.qZA(),e.TgZ(42,"label",28),e._uU(43),e.ALo(44,"langReplace"),e.qZA()()()()(),e.YNc(45,$b,7,8,"div",29),e.TgZ(46,"div",10)(47,"div",17)(48,"label"),e._uU(49),e.ALo(50,"langReplace"),e.qZA(),e.TgZ(51,"textarea",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtSubject=o)}),e._uU(52,"\n                                                       "),e.qZA()()(),e.TgZ(53,"div",10)(54,"div",17)(55,"label"),e._uU(56),e.ALo(57,"langReplace"),e.qZA(),e.TgZ(58,"ngx-tags-input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtTags=o)}),e.qZA(),e.TgZ(59,"small",32),e._uU(60),e.ALo(61,"langReplace"),e.qZA()()(),e.TgZ(62,"div",10)(63,"div",17)(64,"div",9)(65,"div",33)(66,"label"),e._uU(67),e.ALo(68,"langReplace"),e.qZA(),e.TgZ(69,"select",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selMeta=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getMetaType(o.selMeta))}),e.TgZ(70,"option",20),e._uU(71),e.ALo(72,"langReplace"),e.qZA(),e.YNc(73,Xb,2,2,"option",35),e.qZA()(),e.YNc(74,i1,4,3,"div",36),e.YNc(75,o1,3,0,"div",37),e.qZA()(),e.YNc(76,r1,18,13,"div",38),e.qZA(),e.TgZ(77,"div",39)(78,"div",17)(79,"div",40)(80,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.chkIndexing=o)}),e.qZA(),e.TgZ(81,"label",42),e._uU(82," Set Indexing "),e.qZA()()()()(),e.TgZ(83,"div",12)(84,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.finalfileupload())}),e._uU(85),e.ALo(86,"langReplace"),e.qZA(),e._uU(87,"\xa0 "),e.TgZ(88,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetform())}),e._uU(89),e.ALo(90,"langReplace"),e.qZA()()(),e.TgZ(91,"div",13)(92,"div",45)(93,"h5"),e._uU(94),e.ALo(95,"langReplace"),e.qZA()(),e.YNc(96,l1,3,2,"div",46),e.YNc(97,c1,1,0,"div",47),e.YNc(98,d1,1,0,"div",48),e.YNc(99,h1,1,0,"div",49),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.scanfileeList),e.xp6(5),e.hij("* ",e.lcZ(10,34,"File Name")," "),e.xp6(2),e.Q6J("ngModel",t.txtFileName),e.xp6(1),e.Q6J("ngModel",t.folderName),e.xp6(1),e.Q6J("ngModel",t.folderid),e.xp6(4),e.hij(" ",e.lcZ(18,36,"OCR Language")," "),e.xp6(2),e.Q6J("ngModel",t.selOcrLang),e.xp6(2),e.hij("",e.lcZ(22,38,"Select")," "),e.xp6(11),e.hij(" ",e.lcZ(33,40,"Set retention period of a file")," "),e.xp6(4),e.Q6J("ngModel",t.rdoSetretention),e.xp6(2),e.Oqu(e.lcZ(39,42,"Yes")),e.xp6(3),e.Q6J("ngModel",t.rdoSetretention),e.xp6(2),e.Oqu(e.lcZ(44,44,"No")),e.xp6(2),e.Q6J("ngIf",1==t.rdoSetretention),e.xp6(4),e.hij("* ",e.lcZ(50,46,"Subject")," "),e.xp6(2),e.Q6J("ngModel",t.txtSubject),e.xp6(5),e.hij(" ",e.lcZ(57,48,"Tags"),""),e.xp6(2),e.Q6J("ngModel",t.txtTags),e.xp6(2),e.hij("",e.lcZ(61,50,"Please press enter to set the tag")," "),e.xp6(7),e.hij("* ",e.lcZ(68,52,"Meta Type"),""),e.xp6(2),e.Q6J("ngModel",t.selMeta),e.xp6(2),e.hij("",e.lcZ(72,54,"Select")," "),e.xp6(2),e.Q6J("ngForOf",t.metalist),e.xp6(1),e.Q6J("ngIf",t.metaDesable),e.xp6(1),e.Q6J("ngIf",t.metaDesable),e.xp6(1),e.Q6J("ngIf",(null==t.metaListDetails?null:t.metaListDetails.length)>0),e.xp6(4),e.Q6J("ngModel",t.chkIndexing),e.xp6(5),e.hij(" ",e.lcZ(86,56,"Submit"),""),e.xp6(4),e.hij(" ",e.lcZ(90,58,"Reset"),""),e.xp6(5),e.hij(" ",e.lcZ(95,60,"Preview File"),""),e.xp6(2),e.Q6J("ngIf",!("mp4"==t.getfiletype||"mp3"==t.getfiletype||"zip"==t.getfiletype)),e.xp6(1),e.Q6J("ngIf","mp4"==t.getfiletype||"MP4"==t.getfiletype||"WebM"==t.getfiletype||"mkv"==t.getfiletype||"avi"==t.getfiletype||"webm"==t.getfiletype),e.xp6(1),e.Q6J("ngIf","mp3"==t.getfiletype||"MP3"==t.getfiletype),e.xp6(1),e.Q6J("ngIf","zip"==t.getfiletype||"ZIP"==t.getfiletype)}}function f1(n,s){1&n&&(e.TgZ(0,"div",77),e._UZ(1,"div",73),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let p1=(()=>{class n{constructor(t,i,o,r,x,T,L,R,J){this.route=t,this.httpClient=i,this.uploadfiles=o,this.commonserveice=r,this.authService=x,this.encDec=T,this.router=L,this.vldChkLst=R,this.sanitizer=J,this.scanfileeList=[],this.callfunction=new e.vpe,this.jsonurl="assets/js/_configs/uploadDocument.config.json",this.letterID="",this.files_dropped=[],this.file=null,this.viewer="google",this.selectedType="docx",this.chkIndexing=!0,this.txtTags=[],this.selMeta="0",this.selFolderName="0",this.rdoSetretention="2",this.txtFileName="",this.folderlist=[],this.metalist=[],this.metasellist=[],this.tags=[],this.loading=!1,this.metatype="",this.metaDesable=!1,this.metaListDetails=[],this.fileId=0,this.txtEfminDate="",this.txtEtminDate="",this.txtExpDate=null,this.selOcrLang="0",this.txtFileNumber="",this.metatypelist=[],this.fileLoading=!1,this.disableBtn=!1,this.rolewisepermissions=[],this.userwisepermissions=[],this.permissionlistitems=[{label:"Read"},{label:"Write"},{label:"Download"},{label:"Create Folder"},{label:"Delete"},{label:"Rename"},{label:"Archive"},{label:"WorkFlow"},{label:"Move to folder"}],this.apkpath=u.N.apkpath,this.currenttime=new Date,this.fileeList=[],this.previewFile=!1}ngOnInit(){this.token=sessionStorage.getItem("TOKEN"),this.dropdownSettings={singleSelection:!1,text:"Select Meta",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},this.loadconfig(),this.viewMetaList(),this.getFolderbased(this.folderid),this.router.paramMap.subscribe(i=>{let o=i.get("id"),x=this.encDec.decText(o).split(":");this.fileId=x[0]}),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION"),JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8))}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}onRemove(t){this.scanfileeList.splice(this.scanfileeList.indexOf(t),1),this.previewFile=!1,0==this.scanfileeList.length&&window.location.reload()}getFolderbased(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);"200"==R.status?(this.folderlist=R.result,this.folderlist.length>0&&(this.folderName=this.folderlist[0].folderName,this.selFolderName=this.folderlist[0].parentFolderId,this.permissionlist=this.folderlist[0].folderPermission)):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}viewMetaList(){this.commonserveice.viewMeta({intMetaId:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?this.metalist=L.result:501==L.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()})}getMetaType(t){this.metaDesable=!0,this.commonserveice.viewMeta({intMetaId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?this.getmetaType=R.result[0].metaType:501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()})}onTagsChanged(t){}finalfileupload(){let o=this.txtSubject;if((1!=this.rdoSetretention||this.vldChkLst.blankCheck(this.txtExpDate,this.commonserveice.langReplace("Please select the retention date"),"expiryDate"))&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace(this.messaageslist.subject),"txtSubject"))if(0==this.metaListDetails.length)f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.addMeta)});else{let L=this.scanfileeList.length,R=0;console.log(this.scanfileeList);for(let J=0;J<this.scanfileeList.length;J++){let se={folderId:this.folderid,fileName:this.scanfileeList[J].fileName,subject:this.txtSubject,meta:this.metaListDetails,tags:this.txtTags,indexing:!0,expiryDate:this.txtExpDate,ocrLanguage:this.selOcrLang,filePermission:this.permissionlist};this.loading=!0,this.uploadfiles.finaluploadFile(se).subscribe(me=>{let Me=me.RESPONSE_DATA;if(me.RESPONSE_TOKEN==l.HmacSHA256(Me,u.N.apiHashingKey).toString()){let Ne=c.lW.from(Me,"base64"),Ye=JSON.parse(Ne);200==Ye.status?(R++,L==R&&(this.loading=!1,f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(qe=>{let ze=this.encDec.encText((this.folderid+":0").toString());this.route.navigate(["/admin/viewupload",ze])}))):400==Ye.status||500==Ye.status?(this.loading=!1,f().fire({icon:"error",text:Ye.message})):501==Ye.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},me=>{this.loading=!1,this.authService.directlogout()})}}}resetform(){this.scanfileeList=[],window.location.reload()}addMetaVals(){if(this.vldChkLst.selectDropdown(this.selMeta,this.messaageslist.selMeta)&&this.vldChkLst.blankCheck(this.metatype,this.messaageslist.entermetadesc)){let t=document.getElementById("selMetaType"),i=t.options[t.selectedIndex].text,o={};o.metaId=this.selMeta,o.metaName=i,o.metaDetails=this.metatype,this.metaListDetails.push(o),this.metatype="",this.selMeta="0",this.metaDesable=!1}}removeSectionval(t){this.metaListDetails.splice(t,1)}getfiletypeicon(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}loadDocPreview(t,i){this.previewFile=!0,"mp4"==t||"MP4"==t||"MKV"==t||"AVI"==t||"WebM"==t||"mkv"==t||"avi"==t||"webm"==t?setTimeout(()=>{const o=document.createElement("video");o.controls=!0,o.muted=!1,(o.canPlayType("video/mp4")||o.canPlayType("video/ogg"))&&(o.src=i),o.height=320,o.width=400;let r=document.getElementById("videopreviewdiv");r.innerHTML="",r.appendChild(o),this.fileLoading=!1},1e3):"mp3"==t||"MP3"==t?setTimeout(()=>{const o=document.createElement("AUDIO");o.setAttribute("src",i),o.setAttribute("controls","controls"),document.body.appendChild(o);let r=document.getElementById("audiopreviewdiv");r.innerHTML="",r.appendChild(o)},1e3):"zip"==t||"ZIP"==t?setTimeout(()=>{const o=document.createElement("a"),r=document.createTextNode("Downlod .zip File");o.setAttribute("target","_blank"),o.setAttribute("href",i),o.classList.add("btn","btn-primary"),o.appendChild(r);let x=document.getElementById("zipdiv");x.innerHTML="",x.appendChild(o)},1e3):setTimeout(()=>{this.fileLoading=!1,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${u.N.iframeviewURL}?fileId=''+&token=${this.token}+&date=${this.currenttime}+&filePath=${i}`)},1e3)}rtrdoClick(t){this.txtExpDate=""}dataURLtoFile(t,i,o){return(0,Yo.Z)(function*(){const r=yield(yield fetch(t)).blob();return new File([r],i,{type:r.type})})()}scanImage(t){this.scanfileeList=[];let i=new WebSocket("ws://localhost:5158/"),o=0,r=this,x=[];i.onopen=function(T){i.send("1100")},i.onmessage=function(){var T=(0,Yo.Z)(function*(L){if(r.scanfileeList=[],"string"==typeof L.data){x=[],o++;let se,J=JSON.parse(L.data);J.name="File"+o,x.push(J.FileData),se="pdf"==J.FileType.toLowerCase()?"data:application/pdf;base64,":"data:image/jpeg;base64,";var R=r.dataURLtoFile(`${se}${J.FileData}`,J.FileName+"."+J.FileType.toLowerCase(),J.FileType);let me=new FormData;me.append("file",yield R),me.append("fileType",J.FileType.toLowerCase()),me.append("folderId",r.folderid),r.uploadfiles.uploadFile(me).subscribe(Me=>{let Ae=Me.RESPONSE_DATA;if(Me.RESPONSE_TOKEN==l.HmacSHA256(Ae,u.N.apiHashingKey).toString()){let Ye=c.lW.from(Ae,"base64"),qe=JSON.parse(Ye);if(200==qe.status){r.scannerfolderid=t;let We={};We.fileName=qe.result.fileName,We.filePath=qe.result.filePath,We.fileType=qe.result.fileType,r.scanfileeList.push(We),1==r.scanfileeList.length?r.loadDocPreview(r.scanfileeList[0].fileType,r.scanfileeList[0].filePath):r.previewFile=!1}else 400==qe.status&&f().fire({icon:"error",text:qe.message})}else f().fire({icon:"error",text:"Invalid Response"})},Me=>{alert("error")})}else L.data instanceof ArrayBuffer||Blob});return function(L){return T.apply(this,arguments)}}(),i.onclose=function(T){T.wasClean?f().fire({icon:"error",text:`[close] Connection closed cleanly, code=${T.code} reason=${T.reason}`}):f().fire({icon:"error",text:"Scanner app not started please start."})},i.onerror=function(T){}}clearScandata(){f().fire({title:this.commonserveice.langReplace("Confirm"),text:this.commonserveice.langReplace("You want to cancel to upload the current scan file"),icon:"warning",showCancelButton:!0,cancelButtonText:this.commonserveice.langReplace("Cancel"),confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.commonserveice.langReplace("Yes")}).then(t=>{t.isConfirmed&&window.location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(j),e.Y36(m.l),e.Y36(h.$),e.Y36(g.Z),e.Y36(Ce.gz),e.Y36(M._),e.Y36(y.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-scanupload"]],inputs:{folderid:"folderid"},outputs:{callfunction:"callfunction"},decls:4,vars:3,consts:[[1,"controls-section"],[4,"ngIf"],["class","",4,"ngIf"],["class","loader",4,"ngIf"],[1,"text-center","p-4","d-flex","align-items-center"],["download","",1,"btn","btn-info",3,"href"],[1,"py-3","px-3"],[1,"btn","btn-primary",3,"click"],[1,"p-4","bg-light"],[1,"row"],[1,"col-md-12"],[1,"mb-2"],[1,""],[1,"col-md-6"],[1,"mb-3"],["class","files-list","href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],[1,"col-md-6","d-none"],[1,"form-group"],["type","hidden","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],[1,"form-check","form-check-inline"],["type","radio","name","rdoSetretention","id","rdoSetretention1","value","1",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","rdoSetretention1",1,"form-check-label"],["type","radio","name","rdoSetretention","id","rdoSetretention2","value","2","checked","",1,"form-check-input",3,"ngModel","click","ngModelChange"],["for","rdoSetretention2",1,"form-check-label"],["class","col-md-6",4,"ngIf"],["id","txtSubject","cols","3","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","input-lg",3,"ngModel","ngModelChange"],[1,"text-danger"],[1,"col-6"],["id","selMetaType",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","col-5",4,"ngIf"],["class","col-1 pt-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"col-md-12","d-none"],[1,"form-check"],["type","checkbox","value","","id","flexCheckChecked","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckChecked",1,"form-check-label"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],["class","previewdiv","id","previewdiv",4,"ngIf"],["class","videopreviewdiv","id","videopreviewdiv",4,"ngIf"],["class","audiopreviewdiv","id","audiopreviewdiv",4,"ngIf"],["class","zipdiv","id","zipdiv",4,"ngIf"],["href","javascript:void(0)",1,"files-list",3,"click"],[1,"h6","mr-1",3,"ngClass"],["ngbTooltip","Back to upload","title","","data-original-title","Cancel",1,"text-danger",3,"click"],[1,"bi","bi-trash"],["type","date","placeholder","DD-MM-YYYY","id","expiryDate",1,"form-control",3,"min","ngModel","ngModelChange"],[3,"value"],[1,"col-5"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","date","max","2100-12-31",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-1","pt-4"],[1,"btn","btn-info","px-2",3,"click"],[1,"icon-plus-solid"],[1,"table-responsive"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],[1,"text-danger","px-2",3,"click"],[1,"icon-trash-alt"],["id","previewdiv",1,"previewdiv"],[3,"src"],["class","loader loader2",4,"ngIf"],[1,"loader","loader2"],[1,"loader-item"],["id","videopreviewdiv",1,"videopreviewdiv"],["id","audiopreviewdiv",1,"audiopreviewdiv"],["id","zipdiv",1,"zipdiv"],[1,"loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Qb,29,22,"div",1),e.YNc(2,u1,100,62,"div",2),e.qZA(),e.YNc(3,f1,4,0,"div",3)),2&t&&(e.xp6(1),e.Q6J("ngIf",0==(null==i.scanfileeList?null:i.scanfileeList.length)),e.xp6(1),e.Q6J("ngIf",(null==i.scanfileeList?null:i.scanfileeList.length)>0),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.wV,w.Wl,w.EJ,w._,w.JJ,w.On,b._L,Ki,C.uU,E.c],styles:[".custom-dropzone[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}.custom-dropzone[_ngcontent-%COMP%]{height:auto;background:var(--bg-white);border:3px dashed var(--bs-gray-200);border-radius:5px;padding:2.5rem 1rem}.custom-dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:auto;border-radius:21.5px;background-color:var(--base-color-600);padding:.6rem 1.8rem;transition:all ease-in-out .5s}.custom-dropzone[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--bs-gray-200);margin-bottom:1rem}.custom-dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--bs-gray-400)}.custom-dropzone[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:var(--base-color-700)}ngx-doc-viewer[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:60vh;padding:1rem}iframe[_ngcontent-%COMP%]{width:100%;height:75vh}video[_ngcontent-%COMP%]{width:100%;height:320px}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:2rem 1rem}.files-list[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;padding:.8rem 1rem;background:#f7f7f7;border-radius:2px;align-items:center;justify-content:space-between;border:1px solid #e1e1e1;cursor:pointer}.files-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.files-list[_ngcontent-%COMP%]:hover{background:#dedede}"]}),n})();const g1=["previewModal"];function _1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function m1(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,_1,1,0,"i",9),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function v1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadpreview(r.fileId,r.fileType,r.logId,r.filePath,r.lockStatus))}),e._uU(7),e._UZ(8,"i",12),e.qZA()(),e.TgZ(9,"td",13),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.TgZ(13,"small",14),e._uU(14),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.hij(" ",i+1," "),e.xp6(2),e.hij(" ",t.fileRefNo," "),e.xp6(3),e.hij("",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.hij(" ",t.activityPerformed," "),e.xp6(2),e.hij(" ",t.createdBy," "),e.xp6(2),e.hij("on ",t.createdOn,"")}}function b1(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",5)(2,"table",6)(3,"thead")(4,"tr")(5,"th",7),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,m1,4,4,"th",8),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,v1,15,9,"tr",8),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,3,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.Q6J("ngForOf",t.filevesions)}}function C1(n,s){1&n&&(e.TgZ(0,"h6",15),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"No Record Found")))}function y1(n,s){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"div",17),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function x1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"h5",19),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",21),e._UZ(6,"app-preview-file",22),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"Document Preview")),e.xp6(4),e.Q6J("fileId",t.previewfileid)("filetype",t.filetype)("lockstatus",t.lockstatus)("logid",t.logId)("vfilepath",t.vfilepath)}}let w1=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.router=i,this.httpClient=o,this.commonserveice=r,this.encDec=x,this.authService=T,this.vldChkLst=L,this.modalService=R,this.filevesions=[],this.downloaditem="",this.downloadlink="",this.loading=!1,this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!1},{name:"Document Name",cname:"fileName",sortable:!1},{name:"Activity Performed",cname:"activityPerformed",sortable:!1},{name:"Created By",cname:"createdBy",sortable:!0}]}ngOnInit(){this.loadFileLogs(this.fileid)}loadFileLogs(t){let i={fileId:t};this.loading=!0,this.commonserveice.getfileLogs(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?(this.loading=!1,this.filevesions=R.result):400==R.status?(this.loading=!1,f().fire({icon:"error",text:R.message})):501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}downloadfils(t,i,o){this.commonserveice.fileDownloadVer({fileId:t,logId:o}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);if(200==se.status){this.downloaditem=se.result,this.downloadlink=this.downloaditem.filePath;let me=document.createElement("a");me.download=this.downloadlink,me.href=this.downloadlink,me.target="_blank",me.click()}else 501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}loadpreview(t,i,o,r,x){this.open(this.previewModal),this.previewfileid=t,this.logId=o,this.vfilepath=r,this.lockstatus=x,this.filetype=i}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.filevesions=this.filevesions.sort((i,o)=>"asc"==this.sortOrder?i[t].localeCompare(o[t],"en",{numeric:!0}):o[t].localeCompare(i[t],"en",{numeric:!0}))}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(Ce.gz),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-file-log"]],viewQuery:function(t,i){if(1&t&&e.Gf(g1,5),2&t){let o;e.iGM(o=e.CRH())&&(i.previewModal=o.first)}},inputs:{fileid:"fileid"},decls:6,vars:3,consts:[[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],["id","previewModal"],["previewModal",""],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["target","_blank",1,"text-primary",3,"click"],["ngbTooltip","Locked File"],[1,""],[1,"text-primary","d-block","mt-1"],[1,"no-content"],[1,"loader"],[1,"loader-item"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","90vh","min-height","300px","overflow-y","auto","position","relative"],[3,"fileId","filetype","lockstatus","logid","vfilepath"]],template:function(t,i){if(1&t&&(e.YNc(0,b1,11,5,"div",0),e.YNc(1,C1,3,3,"ng-template",null,1,e.W1O),e.YNc(3,y1,4,0,"div",2),e.YNc(4,x1,7,8,"ng-template",3,4,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",(null==i.filevesions?null:i.filevesions.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.sg,C.O5,b._L,B,E.c]}),n})(),M1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-createdoc"]],inputs:{folderid:"folderid"},decls:3,vars:3,consts:[[1,"no-content"]],template:function(t,i){1&t&&(e.TgZ(0,"h6",0),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))},dependencies:[E.c]}),n})();var $t=be(4333);const S1=["movetoFolderModal"],T1=["scanFailureModal"],k1=["selectedFiles"],A1=["searchField"],O1=["checkoutStatus"];function P1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createFolder(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"New Folder")," "))}function D1(n,s){1&n&&e._UZ(0,"app-utils",47),2&n&&e.Q6J("childMessage",s.$implicit)}function E1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.loadFolderData(r.id))}),e._uU(1),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("ngClass",""!=i.hfolderName?"text-info":""),e.xp6(1),e.hij(" > ",t.folderName," ")}}function L1(n,s){if(1&n&&(e.ynx(0),e.YNc(1,E1,2,2,"a",48),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.folderHierarchy)}}function F1(n,s){if(1&n&&(e.TgZ(0,"span",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" > ",t.hfolderName," ")}}function I1(n,s){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function N1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",53),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,x=o.$implicit,T=e.oxw();return e.KtG(T.removeselitems(r,x.searchkey,x.searchvalue))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function R1(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",56),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.setSearchParam(r,x.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(i.txtSearch)}}function Z1(n,s){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,R1,7,2,"ng-container",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function B1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",65),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(3);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function H1(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,B1,1,0,"i",64),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function Y1(n,s){if(1&n&&(e.TgZ(0,"a",77),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.fileName," ")}}function U1(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"i",78),e.TgZ(3,"small",79),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.hij("",t.copiedFrom?"( copy of "+t.copiedFrom+" )":""," ")}}function j1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",80)(1,"i",74),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.showCheckIncheckoutStatus(o.fileId,o.checkInCheckoutStatus))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.checkInCheckoutStatus<=1?"Check In":"Check Out by "+t.checkoutBy+" on "+t.checkoutOn),e.xp6(1),e.Q6J("ngClass",t.checkInCheckoutStatus<=1?"bi bi-check-circle":"bi bi-check-circle-fill text-danger")}}function q1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",66),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,x=o.index,T=e.oxw(3);return e.KtG(2==r.type?T.rowClick(r.fileId,x,r.folderId,r.retentionDate,r.fileRefNo,r.fileName,r.CreatedOn,r.lockStatus,r.fileType,r.checkInCheckoutStatus):T.loadFolderData(r.folderId))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",67),e._uU(4),e.qZA(),e.TgZ(5,"td",68),e._UZ(6,"i",69),e.qZA(),e.TgZ(7,"td")(8,"div",70),e.YNc(9,Y1,2,1,"a",71),e.YNc(10,U1,5,5,"span",5),e.TgZ(11,"div"),e.YNc(12,j1,2,2,"a",72),e.TgZ(13,"a",73)(14,"i",74),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.addBookmark(1==r.type?"":r.fileId,2==r.type?"":r.folderId,null==r.BookmarkStatus?"1":"0"))}),e.qZA()()()()(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td",75),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.TgZ(22,"small",76),e._uU(23),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.Udp("background-color",o.rowClicked==i?"#fff9c6":""),e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+i+1),e.xp6(2),e.hij(" ",1==t.type?t.folderRefNo:t.fileRefNo," "),e.xp6(2),e.Q6J("ngClass","1"==t.type?"bi-folder-fill text-warning":o.getfiletype(t.fileType)),e.xp6(3),e.Q6J("ngIf",1==t.type),e.xp6(1),e.Q6J("ngIf",2==t.type),e.xp6(2),e.Q6J("ngIf",t.fileId>0&&2==t.checkInCheckoutStatus),e.xp6(2),e.Q6J("ngClass",null==t.BookmarkStatus?"bi-star":"bi-star-fill text-warning"),e.xp6(2),e.AsE(" ",t.type>1?"v":"-","",e.xi3(17,14,t.fileVersion,"1.1-5")," "),e.xp6(3),e.hij(" ",o.formatBytes(t.fileSize,2)," "),e.xp6(2),e.hij(" ",t.createdByName," "),e.xp6(2),e.hij("on ",t.CreatedOn,"")}}const Fl=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function V1(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"table",61)(3,"thead")(4,"tr")(5,"th",62),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,H1,4,4,"th",55),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,q1,24,17,"tr",63),e.ALo(11,"paginate"),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(6),e.hij("",e.lcZ(7,3,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.Q6J("ngForOf",e.xi3(11,5,t.ffdetailsArr,e.kEZ(8,Fl,t.tableSize,t.page,t.count)))}}function z1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",84),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,x=o.index,T=e.oxw(3);return 2==r.type?T.rowClick(r.fileId,x,r.folderId,r.retentionDate,r.fileRefNo,r.fileName,r.CreatedOn,r.lockStatus,r.fileType,r.checkInCheckoutStatus):T.loadFolderData(r.folderId),e.KtG(T.folderproperties(r.folderId,x))}),e.TgZ(2,"p",85)(3,"a",86),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return 1==r.type&&x.loadFolderData(r.folderId),e.KtG(1==r.type?x.loadHierarchy(r.folderId):"")}),e._UZ(4,"i",87),e._uU(5),e.qZA(),e.TgZ(6,"a",73)(7,"i",74),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.addBookmark(1==r.type?"":r.fileId,2==r.type?"":r.folderId,null==r.BookmarkStatus?"1":"0"))}),e.qZA()()(),e.TgZ(8,"div",81)(9,"div",88)(10,"div",89),e._uU(11),e.TgZ(12,"span",90),e._uU(13),e.qZA()()()()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.xp6(1),e.Udp("background-color",o.rowClicked==i?"#fff9c6":""),e.xp6(3),e.Q6J("ngClass",1==t.type?"h5 bi bi-folder-fill text-warning":"h5 bi-file-pdf text-danger"),e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(2),e.Q6J("ngClass",null==t.BookmarkStatus?"bi-star":"bi-star-fill text-warning"),e.xp6(4),e.hij(" ",1==t.type?"Folder":"File"," Size "),e.xp6(2),e.hij(" ",t.fileSize," ")}}function J1(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"div",81),e.YNc(2,z1,14,7,"div",82),e.ALo(3,"paginate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,t.ffdetailsArr,e.kEZ(4,Fl,t.tableSize,t.page,t.count)))}}function W1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,V1,12,12,"div",57),e.YNc(2,J1,4,8,"div",57),e.TgZ(3,"app-pagination",58),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.dataviewtype),e.xp6(1),e.Q6J("ngIf",2==t.dataviewtype),e.xp6(1),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function G1(n,s){1&n&&(e.TgZ(0,"h6",91),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"No Subfolder or Files Found")," "))}function Q1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.folderproperties(o.folderid,"-1"))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFolderproperties?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Folder Details")," ")}}function K1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.modifyfolderproperties(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.modifyFolderproperties?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Modify Folder"),"")}}function $1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.configureWorkflow(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadWorkFlow?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Configure Workflow")," ")}}function X1(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",100),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createsubFolder(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadSubFolder?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Create Subfolder")," ")}}function e0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",100),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.uploadFile(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",1==t.uploadNewFile?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Upload")," ")}}function t0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",100),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.loadScanner(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",1==t.scannerTempUpload?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Scan")," ")}}function n0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",100),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.loadCreateDocuemnt(o.folderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",1==t.createDoc?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Create Document")," ")}}function o0(n,s){if(1&n&&(e.ynx(0),e.YNc(1,e0,4,4,"li",5),e.YNc(2,t0,4,4,"li",5),e.YNc(3,n0,4,4,"li",5),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.folderModify),e.xp6(1),e.Q6J("ngIf",t.folderModify),e.xp6(1),e.Q6J("ngIf",t.folderModify)}}function s0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.loadFolderData(r.id))}),e._uU(1),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.Q6J("ngClass",""!=i.hfolderName?"text-info":""),e.xp6(1),e.hij(" > ",t.folderName," ")}}function r0(n,s){if(1&n&&(e.ynx(0),e.YNc(1,s0,2,2,"a",48),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.folderHierarchy)}}function a0(n,s){if(1&n&&(e.TgZ(0,"span",50),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" > ",t.hfolderName," ")}}function l0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-single-folderdetails",101),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("roleId",t.roleId)("folderid",t.folderPropId)("folderDelete",t.folderDelete)("folderModify",t.folderModify)}}function c0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-uploadfile",102),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.folderPropId)}}function d0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-create-folder",103),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("parentfolderid",t.parentfolderId)}}function h0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-update-folder",102),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.modifyfolderid)}}function u0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-configworkflow",102),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.workflowfolderid)}}function f0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-scanupload",102),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.scannerfolderid)}}function p0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-createdoc",102),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.createfolderid)}}function g0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",92)(1,"div",93),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resizediv(0))}),e._UZ(2,"i",94),e.qZA(),e.TgZ(3,"div",3)(4,"ul",4),e.YNc(5,Q1,4,4,"li",5),e.YNc(6,K1,4,4,"li",5),e.YNc(7,$1,4,4,"li",5),e.YNc(8,X1,4,4,"li",5),e.YNc(9,o0,4,3,"ng-container",5),e.qZA()(),e.TgZ(10,"div",8)(11,"div",85)(12,"h6",10),e._UZ(13,"i",11),e.TgZ(14,"a",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.all())}),e._uU(15),e.ALo(16,"langReplace"),e.qZA(),e.YNc(17,r0,2,1,"ng-container",5),e.YNc(18,a0,2,1,"span",13),e.qZA()(),e.TgZ(19,"div",95),e.YNc(20,l0,1,4,"app-single-folderdetails",96),e.YNc(21,c0,1,1,"app-uploadfile",97),e.YNc(22,d0,1,1,"app-create-folder",98),e.YNc(23,h0,1,1,"app-update-folder",97),e.YNc(24,u0,1,1,"app-configworkflow",97),e.YNc(25,f0,1,1,"app-scanupload",97),e.YNc(26,p0,1,1,"app-createdoc",97),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.toggle?"bi-caret-down-fill":"bi-caret-up-fill"),e.xp6(3),e.Q6J("ngIf",t.folderRead&&t.folderPropId>1),e.xp6(1),e.Q6J("ngIf",t.folderModify&&t.folderPropId>1),e.xp6(1),e.Q6J("ngIf",t.folderWorkflow&&t.folderid>1),e.xp6(1),e.Q6J("ngIf",t.folderCreatesub&&t.folderPropId>1),e.xp6(1),e.Q6J("ngIf",t.folderPropId>1),e.xp6(6),e.hij("\xa0 ",e.lcZ(16,16,"Documents")," "),e.xp6(2),e.Q6J("ngIf",t.folderid>1),e.xp6(1),e.Q6J("ngIf",t.hfolderName),e.xp6(2),e.Q6J("ngIf",t.loadFolderproperties),e.xp6(1),e.Q6J("ngIf",t.uploadNewFile),e.xp6(1),e.Q6J("ngIf",t.loadSubFolder),e.xp6(1),e.Q6J("ngIf",t.modifyFolderproperties),e.xp6(1),e.Q6J("ngIf",t.loadWorkFlow),e.xp6(1),e.Q6J("ngIf",t.scannerTempUpload),e.xp6(1),e.Q6J("ngIf",t.createDoc)}}function _0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.fileproperties(o.selectedfileid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFileproperties?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Properties")," ")}}function m0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.fileModify(o.selectedfileid,o.folderid,o.selectedfileName,o.filelockStatus,o.selectedfileType))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFileModify?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Modify")," ")}}function v0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.fileModify(o.selectedfileid,o.folderid,o.selectedfileName,o.filelockStatus,o.selectedfileType))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFileModify?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Check In")," ")}}function b0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.previewDoc(o.selectedfileid,o.selectedfileName,o.filelockStatus,o.selectedfileType))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadpreviewfile?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Preview")," ")}}function C0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewVersions(o.selectedfileid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFileversions?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Versions")," ")}}function y0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.retentionFile(o.selectedfileid,o.selectedfolderid,o.selectedrtention))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFileretention?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Retention")," ")}}function x0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.filenumbering(o.selectedfileid,o.selectedfileRefNo,o.selectedfileName,o.selectedCreatedOn,o.selectedfolderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFilenumbering?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Numbering")," ")}}function w0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.moveFile(o.selectedfileid,o.folderid,o.selectedfileRefNo,o.selectedfileName))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFilemove?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Document Move to Folder")," ")}}function M0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.shareDoc(o.selectedfileid,o.selectedfolderid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadsharefile?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Share")," ")}}function S0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewFileLogs(o.selectedfileid))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",1==t.loadFileLogs?"active":""),e.xp6(1),e.hij(" ",e.lcZ(3,2,"Document Logs")," ")}}function T0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-filevesions",112),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileid",t.fileversions)}}function k0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-filemodify",113),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.filefolderPropId)("fileid",t.fileModifyid)("lockstatus",t.prvlockfile)("filetype",t.filetype)("checkinFileId",t.checkinFileId)}}function A0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-fileproperties",114),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))})("callfunction2",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cleartabdata())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileid",t.filePrperties)("folderFileDownload",t.folderFileDownload)("folderDelete",t.folderfildeDelete)("folderModify",t.folderModify)("roleId",t.roleId)}}function O0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-retention",115),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))})("callfunction2",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.retentionFile(o.selectedfileid,o.selectedfolderid,o.selectedrtention))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("rfileid",t.retensionid)("rfolderid",t.retensionFolderid)("rdate",t.retenstionDate)}}function P0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-filenumbering",116),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))})("callfunction2",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.filenumbering(o.selectedfileid,o.selectedfileRefNo,o.selectedfileName,o.selectedCreatedOn,o.selectedfolderid))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.nfolderid)("fileid",t.fileid)("fileRefNo",t.filenumber)("fileName",t.filesName)("updatedate",t.updatedate)("fsplitVal",t.splitVal)("fsplitId",t.splitId)}}function D0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-share-document",117),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileId",t.shareedid)("folderid",t.shareedFolderid)}}function E0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-file-log",112),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileid",t.fileversions)}}function L0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-preview-file",118),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileId",t.previewfileid)("lockstatus",t.prvlockfile)("filetype",t.filetype)}}function F0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-movetofolder",119),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("mfileid",t.movefileid)("mFolderid",t.moveFolderid)("mFileName",t.movefileName)("mrefNo",t.movefilerefNo)}}function I0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",92)(1,"div",93),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resizediv(0))}),e._UZ(2,"i",94),e.qZA(),e.TgZ(3,"div",3)(4,"ul",4),e.YNc(5,_0,4,4,"li",5),e.YNc(6,m0,4,4,"li",5),e.YNc(7,v0,4,4,"li",5),e.YNc(8,b0,4,4,"li",5),e.YNc(9,C0,4,4,"li",5),e.YNc(10,y0,4,4,"li",5),e.YNc(11,x0,4,4,"li",5),e.YNc(12,w0,4,4,"li",5),e.YNc(13,M0,4,4,"li",5),e.YNc(14,S0,4,4,"li",5),e.qZA()(),e.TgZ(15,"div",8)(16,"div",95),e.YNc(17,T0,1,1,"app-filevesions",104),e.YNc(18,k0,1,5,"app-filemodify",105),e.YNc(19,A0,1,5,"app-fileproperties",106),e.YNc(20,O0,1,3,"app-retention",107),e.YNc(21,P0,1,7,"app-filenumbering",108),e.YNc(22,D0,1,2,"app-share-document",109),e.YNc(23,E0,1,1,"app-file-log",104),e.YNc(24,L0,1,3,"app-preview-file",110),e.YNc(25,F0,1,4,"app-movetofolder",111),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.toggle?"bi-caret-down-fill":"bi-caret-up-fill"),e.xp6(3),e.Q6J("ngIf",t.folderRead),e.xp6(1),e.Q6J("ngIf",t.folderModify&&t.checkinCheckoutAllow),e.xp6(1),e.Q6J("ngIf",t.checkinFileId>1),e.xp6(1),e.Q6J("ngIf",t.folderRead),e.xp6(1),e.Q6J("ngIf",t.folderRead),e.xp6(1),e.Q6J("ngIf",t.folderModify&&t.checkinCheckoutAllow),e.xp6(1),e.Q6J("ngIf",t.folderModify&&t.checkinCheckoutAllow),e.xp6(1),e.Q6J("ngIf",t.checkinCheckoutAllow),e.xp6(1),e.Q6J("ngIf",t.folderModify&&t.checkinCheckoutAllow),e.xp6(1),e.Q6J("ngIf",t.folderRead),e.xp6(3),e.Q6J("ngIf",t.loadFileversions),e.xp6(1),e.Q6J("ngIf",t.loadFileModify),e.xp6(1),e.Q6J("ngIf",t.loadFileproperties),e.xp6(1),e.Q6J("ngIf",t.loadFileretention),e.xp6(1),e.Q6J("ngIf",t.loadFilenumbering),e.xp6(1),e.Q6J("ngIf",t.loadsharefile),e.xp6(1),e.Q6J("ngIf",t.loadFileLogs),e.xp6(1),e.Q6J("ngIf",t.loadpreviewfile),e.xp6(1),e.Q6J("ngIf",t.loadFilemove)}}function N0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",120),e._uU(2,"Set Reminder"),e.qZA(),e.TgZ(3,"button",121),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",43),e._UZ(5,"app-setreminder"),e.qZA()}}function R0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",122),e._uU(2," Connection Failed "),e.qZA(),e.TgZ(3,"button",121),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",43),e._uU(5," No Scan app application found in your machine please download,install and open first then refresh the browser. "),e.TgZ(6,"a",44),e._uU(7,"Download Files"),e.qZA()()}}function Z0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",42),e._UZ(1,"h5",122),e.TgZ(2,"button",121),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(3,"div",43),e._UZ(4,"p"),e.qZA()}}function B0(n,s){1&n&&(e.TgZ(0,"div",123),e._UZ(1,"div",124),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Il=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.modalService=L,this.uploadfiles=R,this.callfunction=new e.vpe,this.callfunction2=new e.vpe,this.apkpath=u.N.apkpath,this.jsonurl="assets/js/_configs/viewDocument.config.json",this.letterID="",this.dimensions=[],this.dataArr=[],this.ffdetailsArr=[],this.metalist=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.dataviewtype=1,this.downloadlink="",this.fileid="",this.bookmarktype="",this.retensionid="",this.retensionFolderid="",this.filesName="",this.folderHierarchy=[],this.loading=!1,this.searchColList=["Name","Document No.","Size","Document","Created by","Meta","Tags"],this.searchselcteditems=[],this.namesarray=[],this.refnoarray=[],this.filesizearray=[],this.documentdetails=[],this.createdbyarray=[],this.metaarray=[],this.tagsarray=[],this.finalarray=[],this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray},this.nobj={},this.loadFileversions=!1,this.loadFileLogs=!1,this.loadFileproperties=!1,this.loadFileModify=!1,this.loadFileretention=!1,this.loadFilenumbering=!1,this.loadFilemove=!1,this.loaduploadfile=!1,this.scannerTempUpload=!1,this.createDoc=!1,this.loadsharefile=!1,this.toggle=!1,this.loadFolderproperties=!1,this.folderPropId=0,this.uploadNewFile=!1,this.loadSubFolder=!1,this.modifyFolderproperties=!1,this.folderRead=!1,this.folderModify=!1,this.folderFileUpload=!1,this.folderWorkflow=!1,this.folderCreatesub=!1,this.folderDelete=!1,this.folderFileDownload=!1,this.filemocetofolder=!1,this.folderfildeDelete=!1,this.loadWorkFlow=!1,this.checkinCheckoutAllow=!1,this.checkinFileId=0,this.selDiv="",this.storedFiles=[],this.scanfileeList=[],this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!0},{name:"Type",cname:"fileType",sortable:!1},{name:"Name",cname:"fileName",sortable:!0},{name:"Version",cname:"fileVersion",sortable:!1},{name:"Size",cname:"fileSize",sortable:!0},{name:"Created By",cname:"createdByName",sortable:!0}]}ngOnInit(){this.loadconfig(),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.desgId=t.USER_ID,this.roleId=t.ROLE_ID,this.router.paramMap.subscribe(i=>{let o=i.get("id"),x=this.encDec.decText(o).split(":");this.folderid=x[0],this.bookmarktype=x[1],this.clickvalue=x[2],this.checkinFileId=x[3],this.viewDetails(this.folderid,this.finalobj),this.folderinfo=this.folderid,"1"==this.roleId?(this.folderRead=!0,this.folderModify=!0,this.folderFileUpload=!0,this.folderWorkflow=!0,this.folderCreatesub=!0,this.folderDelete=!0,this.filemocetofolder=!0):this.getFolderPermission(this.folderid),this.checkinFileId>1?(this.clearFolderProperties(),this.loadFileModify=!0,this.loadFolderproperties=!1,this.folderModify=!0,this.checkinCheckoutAllow=!1,this.checkinModify=!1,this.loadFileModify=!0,this.fileModify(this.selectedfileid,this.folderid,this.selectedfileName,this.filelockStatus,this.selectedfileType)):(this.folderinfo=this.folderid,this.loadFolderproperties=!1,this.folderRead=!0,this.folderModify=!0,this.folderWorkflow=!0,this.folderCreatesub=!0,this.checkinModify=!1,this.folderproperties(this.folderid,-1),null!=this.folderid&&(this.folderPropId=this.folderid,this.FchildC.getFolders(this.folderid)))})}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{this.loading=!1,f().fire({icon:"error",text:t})})}getFolderPermission(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){let J=R.result;if(J.length>0){let se=J[0].folderPermission[0].rolebased;for(let me=0;me<se.length;me++)this.roleId==se[me].roleId&&(this.userPermissions=se[me].permission,this.folderRead="Read"==this.userPermissions[0].label&&1==this.userPermissions[0].selected,this.folderModify="Write"==this.userPermissions[1].label&&1==this.userPermissions[1].selected,this.folderFileDownload="Download"==this.userPermissions[2].label&&1==this.userPermissions[2].selected,this.folderCreatesub="Create Folder"==this.userPermissions[3].label&&1==this.userPermissions[3].selected,this.folderDelete="Delete"==this.userPermissions[4].label&&1==this.userPermissions[4].selected,this.folderfildeDelete="Archive"==this.userPermissions[6].label&&1==this.userPermissions[6].selected,this.folderWorkflow="WorkFlow"==this.userPermissions[7].label&&1==this.userPermissions[7].selected,this.filemocetofolder="Move to folder"==this.userPermissions[8].label&&1==this.userPermissions[8].selected)}}else 400==R.status?f().fire({icon:"error",text:R.message}):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}viewDetails(t,i){this.loading=!0,this.commonserveice.folderWiseDetails({folderId:t,bookmarkStatus:this.bookmarktype,searchfilter:i}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?(this.loading=!1,this.ffdetailsArr=J.result,this.loadHierarchy(this.folderid),this.rowClicked=-1):400==J.status?this.loading=!1:501==J.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},r=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}tableview(){this.dataviewtype=1}boxview(){this.dataviewtype=2}loadFolderData(t){this.rowClicked=-1,this.searchselcteditems=[],this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray};let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/viewupload",i])}all(){let i=this.encDec.encText("1:0".toString());this.route.navigate(["/admin/viewupload",i])}getFolders(t){this.commonserveice.getFoldersSingle({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){let J=R.result;J.length>0&&(this.hfolderName=J[0].folderName)}else 400==R.status?f().fire({icon:"error",text:R.message}):501==R.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}loadHierarchy(t){this.folderHierarchy=[],this.loading=!0,this.commonserveice.getFoldersSingle({folderId:t,bookmarkStatus:0,searchfilter:""}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if("200"==R.status){this.loading=!1;let J=R.result;if(J.length>0){let se,me;this.folderHierarchy=[],se="string"==typeof J[0].folderHierarchy?JSON.parse(J[0].folderHierarchy):J[0].folderHierarchy,me=se.child;for(let Me=0;Me<me.length;Me++)this.folderHierarchy.push(me[Me])}}else 501==R.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}addBookmark(t,i,o){this.commonserveice.fileBookmark({fileId:t,fileBookmarkStatus:o,folderId:i}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?"1"==o?f().fire({icon:"success",text:this.commonserveice.langReplace("Bookmarked Successfully"),confirmButtonText:"Ok"}).then(me=>{if(me.isConfirmed){let Ae=this.encDec.encText((this.folderid+":"+this.bookmarktype).toString());this.route.navigate(["/admin/viewupload",Ae])}}):f().fire({icon:"success",text:this.commonserveice.langReplace("Bookmark Removed Successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{if(me.isConfirmed){let Ae=this.encDec.encText((this.folderid+":"+this.bookmarktype).toString());this.route.navigate(["/admin/viewupload",Ae])}}):501==se.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},x=>{this.loading=!1,this.authService.directlogout()})}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}b64_to_utf8(t){return decodeURIComponent(escape(window.atob(t)))}setSearchParam(t,i){this.selectedfileid="",this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=i,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(i):"Document No."==t?this.refnoarray.push(i):"Size"==t?this.filesizearray.push(i):"Document"==t?this.documentdetails.push(i):"Created by"==t?this.createdbyarray.push(i):"Meta"==t?this.metaarray.push(i):"Tags"==t&&this.tagsarray.push(i),this.page=1,console.log(this.finalobj),this.viewDetails(this.folderid,this.finalobj)}removeselitems(t,i,o){if(this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==i){const r=this.namesarray.indexOf(o);-1!==r&&this.namesarray.splice(r,1)}else if("Document No."==i){const r=this.refnoarray.indexOf(o);-1!==r&&this.refnoarray.splice(r,1)}else if("Size"==i){const r=this.filesizearray.indexOf(o);-1!==r&&this.filesizearray.splice(r,1)}else if("Document"==i){const r=this.documentdetails.indexOf(o);-1!==r&&this.documentdetails.splice(r,1)}else if("Created by"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.createdbyarray.splice(r,1)}else if("Meta"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.metaarray.splice(r,1)}else if("Tags"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.tagsarray.splice(r,1)}0==this.searchselcteditems.length?(this.finalobj={Name:this.namesarray=[],Reference:this.refnoarray=[],Size:this.filesizearray=[],Document:this.documentdetails=[],Createdby:this.createdbyarray=[],Meta:this.metaarray=[],Tags:this.tagsarray=[]},this.viewDetails(this.folderid,this.finalobj)):this.viewDetails(this.folderid,this.finalobj)}rowClick(t,i,o,r,x,T,L,R,J,se){this.rowClicked===i?this.rowClicked=-1:(2==se?this.checkinCheckoutAllow=!1:(this.checkinCheckoutAllow=!0,this.checkinFileId=""),this.rowClicked=i,this.folderPropId="",this.selectedfolderid="",this.selectedrtention="",this.selectedfileid="",this.selectedfileRefNo="",this.selectedfileName="",this.selectedCreatedOn="",this.selectedfileType="",this.filelockStatus="",this.filecheckStatus="",this.selectedfileid=t,this.selectedfolderid=o,this.selectedrtention=r,this.selectedfileRefNo=x,this.selectedfileName=T,this.selectedCreatedOn=L,this.filelockStatus=R,this.selectedfileType=J,this.loadFileproperties=!1,this.filePrperties=t,this.filecheckStatus=se,this.clearProperties(),this.loadFileproperties=!0,this.childC.viewFileDetails(this.filePrperties))}cleartabdata(){this.rowClicked=-1,this.selectedfileid="",this.loadFileproperties=!1,this.clearProperties()}clearProperties(){this.loadFileversions=!1,this.loadFileModify=!1,this.loadFileproperties=!1,this.loadFileversions=!1,this.loadFileretention=!1,this.loadsharefile=!1,this.loadFilenumbering=!1,this.loadpreviewfile=!1,this.loadFilemove=!1,this.loadFileLogs=!1}fileproperties(t){this.filePrperties=t,this.clearProperties(),this.loadFileproperties=!0}fileModify(t,i,o,r,x){this.fileModifyid=t,this.filefolderPropId=i,this.prvlockfile=r,this.filetype=x,this.clearProperties(),this.loadFileModify=!0}viewVersions(t){this.fileversions=t,this.clearProperties(),this.loadFileversions=!0}viewFileLogs(t){this.fileversions=t,this.clearProperties(),this.loadFileLogs=!0}retentionFile(t,i,o){this.retensionid=t,this.retensionFolderid=i,this.retenstionDate=o,this.clearProperties(),this.loadFileretention=!0}shareDoc(t,i){this.shareedid=t,this.shareedFolderid=i,this.clearProperties(),this.loadsharefile=!0}previewDoc(t,i,o,r){this.resizediv(1),this.previewfileid=t,this.prvlockfile=o,this.filetype=r,this.clearProperties(),this.loadpreviewfile=!0}filenumbering(t,i,o,r,x){this.clearProperties(),this.loadFilenumbering=!0,this.fileid=t,this.filenumber=i,this.filesName=o,this.updatedate=r,this.nfolderid=x;const T=i.split("/");this.splitVal=T[0]+"/"+T[1]+"/"+T[2]+"/",this.splitId=T[3]}moveFile(t,i,o,r){this.clearProperties(),this.movefileid=t,this.moveFolderid=i,this.movefilerefNo=o,this.movefileName=r,this.loadFilemove=!0}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}resizediv(t){this.toggle=!this.toggle;let i=document.getElementById("first-card"),o=document.getElementById("filepropertiessection");1==this.toggle||1==t?(i.style.height="0px",i.style.overflow="hidden",o.style.height="80vh"):(i.style.height="430px",i.style.overflow="hidden",o.style.height="35vh")}folderproperties(t,i){this.rowClicked=-1,this.selectedfileid="",this.clearFolderProperties(),this.folderPropId=t,this.loadFolderproperties=!0,this.FchildC.getFolders(this.folderPropId)}modifyfolderproperties(t){this.clearFolderProperties(),this.modifyfolderid=t,this.modifyFolderproperties=!0}createFolder(t){this.encDec.encText(t.toString()),this.route.navigateByUrl("/admin/newfolder")}createsubFolder(t){this.clearFolderProperties(),this.parentfolderId=t,this.loadSubFolder=!0}configureWorkflow(t){this.clearFolderProperties(),this.workflowfolderid=t,this.loadWorkFlow=!0}uploadFile(t){this.clearFolderProperties(),this.folderPropId=t,this.uploadNewFile=!0}clearFolderProperties(){this.loadFolderproperties=!1,this.uploadNewFile=!1,this.loadSubFolder=!1,this.modifyFolderproperties=!1,this.loadWorkFlow=!1,this.loaduploadfile=!1,this.loaduploadfile=!1,this.scannerTempUpload=!1,this.createDoc=!1}dataURLtoFile(t,i,o){return(0,Yo.Z)(function*(){const r=yield(yield fetch(t)).blob();return new File([r],i,{type:r.type})})()}loadScanner(t){this.clearFolderProperties(),this.scannerfolderid=t,this.scannerTempUpload=!0}loadCreateDocuemnt(t){this.clearFolderProperties(),this.createfolderid=t,this.createDoc=!0}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.ffdetailsArr=this.ffdetailsArr.sort((i,o)=>"asc"==this.sortOrder?i[t].localeCompare(o[t],"en",{numeric:!0}):o[t].localeCompare(i[t],"en",{numeric:!0}))}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}showCheckIncheckoutStatus(t,i){2==i&&this.commonserveice.checkinCheckout({fileId:t,remark:"",action:2}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?f().fire({icon:"success",text:"File Check out Successful"}).then(me=>{if(me.isConfirmed){this.modalService.dismissAll();let Me=this.encDec.encText(t.toString());this.route.navigate(["/admin/viewupload",Me])}}):400==se.status?f().fire({icon:"error",text:se.message}):501==se.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(b.FF),e.Y36(j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-document"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S1,5),e.Gf(T1,5),e.Gf(k1,5),e.Gf(A1,5),e.Gf(Si,5),e.Gf(Rr,5),e.Gf(O1,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.movetoFolderModal=o.first),e.iGM(o=e.CRH())&&(i.scanFailureModal=o.first),e.iGM(o=e.CRH())&&(i.selectedFiles=o.first),e.iGM(o=e.CRH())&&(i.searchField=o.first),e.iGM(o=e.CRH())&&(i.childC=o.first),e.iGM(o=e.CRH())&&(i.FchildC=o.first),e.iGM(o=e.CRH())&&(i.checkoutStatus=o.first)}},inputs:{folderid:"folderid"},outputs:{callfunction:"callfunction",callfunction2:"callfunction2"},decls:63,vars:25,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],["id","first-card",1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[4,"ngIf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"mb-0"],[1,"bi","bi-folder-fill","text-warning"],["href","javascripr:void(0)",1,"text-info",3,"click"],["class","text-dark","href","javascripr:void(0)",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"d-flex","align-items-center","me-2"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","aria-label","Search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],[4,"ngIf","ngIfElse"],["norecord",""],["class","card",4,"ngIf"],["id","reminderModal"],["reminderModal",""],["role","dialog",1,"modal","fade","scandetail"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[2,"max-height","1200px","overflow","scroll"],["id","myCanvas"],["id","scanFailureModal"],["scanFailureModal",""],["id","checkoutStatus"],["checkoutStatus",""],["role","dialog",1,"modal","fade","dalert"],[1,"modal-header"],[1,"modal-body"],["href","~/SrcFile/Scan_App_SetUp.msi","download",""],["class","loader",4,"ngIf"],["herf","href:javascripr:void(0)",1,"nav-item","nav-link","tab-link",3,"click"],[3,"childMessage"],["class","text-dark","href","javascripr:void(0)",3,"ngClass","click",4,"ngFor","ngForOf"],["href","javascripr:void(0)",1,"text-dark",3,"ngClass","click"],["href","javascripr:void(0)",1,"text-dark"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["class","portletfix-height",4,"ngIf"],[3,"page","count","tableSize","callfunction"],[1,"portletfix-height"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],["valign","middle","class","hoverable",3,"background-color","click",4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["valign","middle",1,"hoverable",3,"click"],["width","140px"],["width","50px",1,"text-center"],[1,"h6",3,"ngClass"],[1,"d-flex","justify-content-between"],["class","text-primary",4,"ngIf"],["title","Check Out","href","javascript:void(0)",3,"ngbTooltip",4,"ngIf"],["title","bookmark","ngbTooltip","Bookmark","href","javascript:void(0)"],[1,"bi",3,"ngClass","click"],[1,"text-right"],[1,"d-block","text-primary","mt-1"],[1,"text-primary"],["ngbTooltip","Locked File"],[1,"d-block","text-dark","mt-1"],["title","Check Out","href","javascript:void(0)",3,"ngbTooltip"],[1,"row"],["class","col-md-6 col-lg-6 col-xl-6 col-xxl-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-4"],[1,"div-view-section",3,"click"],[1,"mb-3"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"",3,"ngClass"],[1,"col"],[1,""],[1,"text-primary","d-block","mt-1","mb-0"],[1,"no-content"],[1,"card"],["id","gr",1,"grabber",3,"click"],[1,"bi",3,"ngClass"],["id","filepropertiessection",1,"portletfix-height2"],[3,"roleId","folderid","folderDelete","folderModify","callfunction",4,"ngIf"],[3,"folderid","callfunction",4,"ngIf"],[3,"parentfolderid","callfunction",4,"ngIf"],["href","javascript:void(0)",1,"nav-item","nav-link","tab-link",3,"ngClass","click"],["herf","href:javascripr:void(0)",1,"nav-item","nav-link","tab-link",3,"ngClass","click"],[3,"roleId","folderid","folderDelete","folderModify","callfunction"],[3,"folderid","callfunction"],[3,"parentfolderid","callfunction"],[3,"fileid","callfunction",4,"ngIf"],[3,"folderid","fileid","lockstatus","filetype","checkinFileId","callfunction",4,"ngIf"],[3,"fileid","folderFileDownload","folderDelete","folderModify","roleId","callfunction","callfunction2",4,"ngIf"],[3,"rfileid","rfolderid","rdate","callfunction","callfunction2",4,"ngIf"],[3,"folderid","fileid","fileRefNo","fileName","updatedate","fsplitVal","fsplitId","callfunction","callfunction2",4,"ngIf"],[3,"fileId","folderid","callfunction",4,"ngIf"],[3,"fileId","lockstatus","filetype","callfunction",4,"ngIf"],[3,"mfileid","mFolderid","mFileName","mrefNo","callfunction",4,"ngIf"],[3,"fileid","callfunction"],[3,"folderid","fileid","lockstatus","filetype","checkinFileId","callfunction"],[3,"fileid","folderFileDownload","folderDelete","folderModify","roleId","callfunction","callfunction2"],[3,"rfileid","rfolderid","rdate","callfunction","callfunction2"],[3,"folderid","fileid","fileRefNo","fileName","updatedate","fsplitVal","fsplitId","callfunction","callfunction2"],[3,"fileId","folderid","callfunction"],[3,"fileId","lockstatus","filetype","callfunction"],[3,"mfileid","mFolderid","mFileName","mrefNo","callfunction"],["id","reminderModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["id","movetoFolderModalLabel",1,"modal-title","mb-0"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,P1,4,3,"li",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,D1,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div")(14,"h6",10),e._UZ(15,"i",11),e.TgZ(16,"a",12),e.NdJ("click",function(){return i.all()}),e._uU(17),e.ALo(18,"langReplace"),e.qZA(),e.YNc(19,L1,2,1,"ng-container",5),e.YNc(20,F1,2,1,"span",13),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15),e._uU(23),e.ALo(24,"langReplace"),e.TgZ(25,"select",16),e.NdJ("change",function(r){return i.onTableSizeChange(r)}),e.YNc(26,I1,2,2,"option",17),e.qZA()(),e.TgZ(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21),e.YNc(31,N1,5,2,"div",22),e.qZA(),e.TgZ(32,"input",23,24),e.NdJ("ngModelChange",function(r){return i.txtSearch=r}),e.ALo(34,"langReplace"),e.qZA(),e._UZ(35,"i",25),e.qZA(),e.YNc(36,Z1,2,1,"div",26),e.qZA()()()(),e.YNc(37,W1,4,5,"div",27),e.YNc(38,G1,3,3,"ng-template",null,28,e.W1O),e.qZA()()(),e.YNc(40,g0,27,18,"div",29),e.YNc(41,I0,26,20,"div",29),e.YNc(42,N0,6,0,"ng-template",30,31,e.W1O),e.TgZ(44,"div",32)(45,"div",33)(46,"div",34)(47,"div",35),e._UZ(48,"canvas",36),e.qZA()()()(),e.YNc(49,R0,8,0,"ng-template",37,38,e.W1O),e.YNc(51,Z0,5,0,"ng-template",39,40,e.W1O),e.TgZ(53,"div",41)(54,"div",33)(55,"div",34)(56,"div",42),e._uU(57,"Connection Failed"),e.qZA(),e.TgZ(58,"div",43),e._uU(59," No Scan app application found in your machine please download,install and open first then refresh the browser. "),e.TgZ(60,"a",44),e._uU(61,"Download Files"),e.qZA()()()()(),e.YNc(62,B0,4,0,"div",45)),2&t){const o=e.MAs(39);e.xp6(2),e.Oqu(e.lcZ(3,17,1==i.bookmarktype?"Bookmark Files":i.title)),e.xp6(6),e.Q6J("ngIf",1==i.desgId),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(7),e.hij("\xa0",e.lcZ(18,19,"Documents")," "),e.xp6(2),e.Q6J("ngIf",i.folderid>1),e.xp6(1),e.Q6J("ngIf",i.hfolderName),e.xp6(3),e.hij(" ",e.lcZ(24,21,"Display")," \xa0 "),e.xp6(3),e.Q6J("ngForOf",i.pageSizes),e.xp6(5),e.Q6J("ngForOf",i.searchselcteditems),e.xp6(1),e.MGl("placeholder","",e.lcZ(34,23,"Search"),"..."),e.Q6J("ngModel",i.txtSearch),e.xp6(4),e.Q6J("ngIf",i.txtSearch),e.xp6(1),e.Q6J("ngIf",(null==i.ffdetailsArr?null:i.ffdetailsArr.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.folderPropId>1),e.xp6(1),e.Q6J("ngIf",i.selectedfileid),e.xp6(21),e.Q6J("ngIf",i.loading)}},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.JJ,w.On,xn.Q,Jt.t,zh,b._L,Ir,qo,qs,Vs,zs,B,Js,Ws,Gs,Si,Rr,Jb,Gb,p1,w1,M1,C.JJ,$t._s,E.c],styles:["#first-card[_ngcontent-%COMP%]{margin-top:.1rem;padding:0;transition:all 1s ease-in-out;height:430px}"]}),n})();function H0(n,s){if(1&n&&e._UZ(0,"app-tabs",25),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.metaid)("tabMessage",t)}}function Y0(n,s){1&n&&e._UZ(0,"app-utils",26),2&n&&e.Q6J("childMessage",s.$implicit)}function U0(n,s){1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Nl=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.router=i,this.httpClient=o,this.commonserveice=r,this.encDec=x,this.authService=T,this.vldChkLst=L,this.jsonurl="assets/js/_configs/addMeta.config.json",this.letterID="",this.files_dropped=[],this.loading=!1,this.txtFieldName="",this.txtFieldDesc="",this.selMetaType="0",this.metaid="",this.metalist=[],this.langKey="en"}ngOnInit(){this.loadconfig();let t=this.router.snapshot.paramMap.get("id");if(""!=t){let o=this.encDec.decText(t).split(":");this.metaid=o[0],(""!=this.metaid||0!=this.metaid)&&this.viewMetaLit(this.metaid)}}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle,this.metaid&&(this.title="Edit Meta Configuration")},t=>{f().fire({icon:"error",text:t})})}formReset(){this.txtFieldName="",this.txtFieldDesc="",this.selMetaType="0"}viewMetaLit(t){let i={intMetaId:t};this.loading=!0,this.commonserveice.viewMeta(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status?(this.loading=!1,this.metalist=R.result,this.metalist.length>0&&(this.txtFieldName=this.metalist[0].metaName,this.txtFieldDesc=this.metalist[0].description,this.selMetaType=this.metalist[0].metaType)):501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}createMeta(){let t=this.txtFieldName,i=this.txtFieldDesc,o=this.selMetaType;if(this.vldChkLst.blankCheck(t,this.commonserveice.langReplace(this.messaageslist.metaname),"txtFieldName"))if(this.vldChkLst.containsSpecialChars(t)){if(this.vldChkLst.blankCheck(i,this.commonserveice.langReplace(this.messaageslist.metadesc),"txtFieldDesc")&&this.vldChkLst.selectDropdown(o,this.commonserveice.langReplace(this.messaageslist.metaType),"selMetaType")){let r={intMetaId:this.metaid,metaName:t.trim(),description:i.trim(),metaType:o};this.loading=!0,this.commonserveice.createMeta(r).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?(this.loading=!1,f().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(me=>{this.formReset(),this.route.navigate(["/admin/viewMeta"])})):202==se.status?(this.loading=!1,f().fire({text:this.commonserveice.langReplace(this.messaageslist.updatesuccessMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then(me=>{this.formReset(),this.route.navigate(["/admin/viewMeta"])})):501==se.status?this.authService.directlogout():400==se.status?(this.loading=!1,f().fire({icon:"error",text:se.message.metaName[0]})):(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},x=>{this.loading=!1,this.authService.directlogout()})}}else f().fire({icon:"error",text:this.commonserveice.langReplace("Special Char Not allowed in Field Name")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(Ce.gz),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$),e.Y36(M._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meta-details"]],decls:51,vars:24,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"col-md-6","col-lg-4"],[1,"form-group"],["type","text","id","txtFieldName",1,"form-control",3,"ngModel","ngModelChange"],["id","txtFieldDesc","rows","3","cols","3",1,"form-control",3,"ngModel","ngModelChange"],["id","selMetaType",1,"form-select",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],[1,"row","form-group"],[1,"col-md-9"],[1,"btn","btn-success",3,"click"],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[1,"loader"],[1,"loader-item"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,H0,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,Y0,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15),e.ALo(16,"langReplace"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"input",14),e.NdJ("ngModelChange",function(r){return i.txtFieldName=r}),e.qZA()()()(),e.TgZ(20,"div",10)(21,"label",11),e._uU(22),e.ALo(23,"langReplace"),e.qZA(),e.TgZ(24,"div",12)(25,"div",13)(26,"textarea",15),e.NdJ("ngModelChange",function(r){return i.txtFieldDesc=r}),e._uU(27,"\n                                                    "),e.qZA()()()(),e.TgZ(28,"div",10)(29,"label",11),e._uU(30),e.ALo(31,"langReplace"),e.qZA(),e.TgZ(32,"div",12)(33,"div",13)(34,"select",16),e.NdJ("ngModelChange",function(r){return i.selMetaType=r}),e.TgZ(35,"option",17),e._uU(36),e.ALo(37,"langReplace"),e.qZA(),e.TgZ(38,"option",18),e._uU(39,"String"),e.qZA(),e.TgZ(40,"option",19),e._uU(41,"Date"),e.qZA(),e.TgZ(42,"option",20),e._uU(43,"Intiger"),e.qZA()()()()(),e.TgZ(44,"div",21),e._UZ(45,"label",11),e.TgZ(46,"div",22)(47,"button",23),e.NdJ("click",function(){return i.createMeta()}),e._uU(48),e.ALo(49,"langReplace"),e.qZA()()()()()(),e.YNc(50,U0,4,0,"div",24),e.qZA()),2&t&&(e.xp6(2),e.hij("",e.lcZ(3,12,i.title)," "),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(5),e.hij("* ",e.lcZ(16,14,"Meta Name")," "),e.xp6(4),e.Q6J("ngModel",i.txtFieldName),e.xp6(3),e.hij("* ",e.lcZ(23,16,"Description")," "),e.xp6(4),e.Q6J("ngModel",i.txtFieldDesc),e.xp6(4),e.hij("* ",e.lcZ(31,18,"Type")," "),e.xp6(4),e.Q6J("ngModel",i.selMetaType),e.xp6(2),e.hij(" ",e.lcZ(37,20,"Select")," "),e.xp6(12),e.Oqu(e.lcZ(49,22,""==i.metaid?"Save":"Update")),e.xp6(2),e.Q6J("ngIf",i.loading))},dependencies:[C.sg,C.O5,w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.On,en.n,Jt.t,E.c]}),n})();const j0=["movetoFolderModal"],q0=["searchField"];function V0(n,s){1&n&&e._UZ(0,"app-utils",30),2&n&&e.Q6J("childMessage",s.$implicit)}function z0(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function J0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",33),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,x=o.$implicit,T=e.oxw();return e.KtG(T.removeselitems(r,x.searchkey,x.searchvalue))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function W0(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.setSearchParam(r,x.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(i.txtSearch)}}function G0(n,s){if(1&n&&(e.TgZ(0,"div",34),e.YNc(1,W0,7,2,"ng-container",35),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function Q0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",45),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(3);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function K0(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,Q0,1,0,"i",44),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function $0(n,s){if(1&n&&(e.TgZ(0,"a",57),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.fileName," ")}}function X0(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"i",58),e.TgZ(3,"small",59),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.hij("",t.copiedFrom?"( copy of "+t.copiedFrom+" )":""," ")}}function eC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",46),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,x=o.index,T=e.oxw(3);return e.KtG(2==r.type?T.rowClick(r.fileId,x,r.folderId,r.retentionDate,r.fileRefNo,r.fileName,r.CreatedOn,r.lockStatus,r.fileType):T.loadFolderData(r.folderId))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",48),e.YNc(9,$0,2,1,"a",49),e.YNc(10,X0,5,5,"span",50),e.TgZ(11,"a",51)(12,"i",52),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.addBookmark(1==r.type?"":r.fileId,2==r.type?"":r.folderId,null==r.BookmarkStatus?"1":"0"))}),e.qZA()()()(),e.TgZ(13,"td",53),e._UZ(14,"i",54),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td",55),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.TgZ(22,"small",56),e._uU(23),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.Udp("background-color",o.rowClicked==i?"#fff9c6":""),e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+i+1),e.xp6(2),e.hij(" ",1==t.type?t.folderRefNo:t.fileRefNo," "),e.xp6(2),e.Oqu(t.folderName),e.xp6(3),e.Q6J("ngIf",1==t.type),e.xp6(1),e.Q6J("ngIf",2==t.type),e.xp6(2),e.Q6J("ngClass",null==t.BookmarkStatus?"bi-star":"bi-star-fill text-warning"),e.xp6(2),e.Q6J("ngClass",o.getfiletype(t.fileType)),e.xp6(2),e.AsE("",t.type>1?"v":"","",e.xi3(17,14,t.fileVersion,"1.1-5"),""),e.xp6(3),e.Oqu(o.formatBytes(t.fileSize,2)),e.xp6(2),e.hij("",t.createdByName," "),e.xp6(2),e.hij("on ",t.CreatedOn,"")}}const Rl=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function tC(n,s){if(1&n&&(e.TgZ(0,"div",39)(1,"div",40)(2,"table",41)(3,"thead")(4,"tr")(5,"th",42),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,K0,4,4,"th",35),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,eC,24,17,"tr",43),e.ALo(11,"paginate"),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,3,"Sl No"),""),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.Q6J("ngForOf",e.xi3(11,5,t.ffdetailsArr,e.kEZ(8,Rl,t.tableSize,t.page,t.count)))}}function nC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,x=o.index,T=e.oxw(3);return e.KtG(T.rowClick(r.fileId,x,r.folderId,r.retentionDate,r.fileRefNo,r.fileName,r.CreatedOn,r.lockStatus,r.fileType))}),e.TgZ(2,"p",64)(3,"a",65),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return 1==r.type&&x.loadFolderData(r.folderId),e.KtG(1==r.type?x.loadHierarchy(r.folderId):"")}),e._UZ(4,"i",66),e._uU(5),e.qZA(),e.TgZ(6,"a",51)(7,"i",52),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.addBookmark(1==r.type?"":r.fileId,2==r.type?"":r.folderId,null==r.BookmarkStatus?"1":"0"))}),e.qZA()()(),e.TgZ(8,"div",60)(9,"div",67)(10,"div",68),e._uU(11),e.TgZ(12,"span",69),e._uU(13),e.qZA()()()()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.xp6(1),e.Udp("background-color",o.rowClicked==i?"#fff9c6":""),e.xp6(3),e.Q6J("ngClass",1==t.type?"h5 bi bi-folder-fill text-warning":"h5 bi-file-pdf text-danger"),e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(2),e.Q6J("ngClass",null==t.BookmarkStatus?"bi-star":"bi-star-fill text-warning"),e.xp6(4),e.hij(" ",1==t.type?"Folder":"File"," Size "),e.xp6(2),e.hij(" ",t.fileSize," ")}}function iC(n,s){if(1&n&&(e.TgZ(0,"div",39)(1,"div",60),e.YNc(2,nC,14,7,"div",61),e.ALo(3,"paginate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,t.ffdetailsArr,e.kEZ(4,Rl,t.tableSize,t.page,t.count)))}}function oC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,tC,12,12,"div",37),e.YNc(2,iC,4,8,"div",37),e.TgZ(3,"app-pagination",38),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.dataviewtype),e.xp6(1),e.Q6J("ngIf",2==t.dataviewtype),e.xp6(1),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function sC(n,s){1&n&&(e.TgZ(0,"h6",70),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function rC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-filevesions",82),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileid",t.fileversions)}}function aC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-filemodify",82),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileid",t.fileModifyid)}}function lC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-fileproperties",83),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.selectedfileid,o.finalobj))})("callfunction2",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cleartabdata())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileid",t.filePrperties)}}function cC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-retention",84),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))})("callfunction2",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.retentionFile(o.selectedfileid,o.selectedfolderid,o.selectedrtention))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("rfileid",t.retensionid)("rfolderid",t.retensionFolderid)("rdate",t.retenstionDate)}}function dC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-filenumbering",85),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))})("callfunction2",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.filenumbering(o.selectedfileid,o.selectedfileRefNo,o.selectedfileName,o.selectedCreatedOn,o.selectedfolderid))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("folderid",t.nfolderid)("fileid",t.fileid)("fileRefNo",t.filenumber)("fileName",t.filesName)("updatedate",t.updatedate)("fsplitVal",t.splitVal)("fsplitId",t.splitId)}}function hC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-share-document",86),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileId",t.shareedid)("folderid",t.shareedFolderid)}}function uC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-preview-file",87),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("fileId",t.previewfileid)("lockstatus",t.prvlockfile)("filetype",t.filetype)}}function fC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",71)(1,"div",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resizediv(0))}),e._UZ(2,"i",73),e.qZA(),e.TgZ(3,"div",3)(4,"ul",4)(5,"li")(6,"a",74),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.fileproperties(o.selectedfileid))}),e._uU(7),e.ALo(8,"langReplace"),e.qZA()(),e.TgZ(9,"li")(10,"a",74),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.previewDoc(o.selectedfileid,o.selectedfileName,o.filelockStatus,o.selectedfileType))}),e._uU(11),e.ALo(12,"langReplace"),e.qZA()(),e.TgZ(13,"li")(14,"a",74),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewVersions(o.selectedfileid))}),e._uU(15),e.ALo(16,"langReplace"),e.qZA()()()(),e.TgZ(17,"div",7)(18,"div",75),e.YNc(19,rC,1,1,"app-filevesions",76),e.YNc(20,aC,1,1,"app-filemodify",76),e.YNc(21,lC,1,1,"app-fileproperties",77),e.YNc(22,cC,1,3,"app-retention",78),e.YNc(23,dC,1,7,"app-filenumbering",79),e.YNc(24,hC,1,2,"app-share-document",80),e.YNc(25,uC,1,3,"app-preview-file",81),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.toggle?"bi-caret-down-fill":"bi-caret-up-fill"),e.xp6(4),e.Q6J("ngClass",1==t.loadFileproperties?"active":""),e.xp6(1),e.hij(" ",e.lcZ(8,14,"Properties")," "),e.xp6(3),e.Q6J("ngClass",1==t.loadpreviewfile?"active":""),e.xp6(1),e.hij(" ",e.lcZ(12,16,"Preview")," "),e.xp6(3),e.Q6J("ngClass",1==t.loadFileversions?"active":""),e.xp6(1),e.hij(" ",e.lcZ(16,18,"Versions")," "),e.xp6(4),e.Q6J("ngIf",t.loadFileversions),e.xp6(1),e.Q6J("ngIf",t.loadFileModify),e.xp6(1),e.Q6J("ngIf",t.loadFileproperties),e.xp6(1),e.Q6J("ngIf",t.loadFileretention),e.xp6(1),e.Q6J("ngIf",t.loadFilenumbering),e.xp6(1),e.Q6J("ngIf",t.loadsharefile),e.xp6(1),e.Q6J("ngIf",t.loadpreviewfile)}}function pC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",88)(1,"h5",89),e._uU(2,"Set Reminder"),e.qZA(),e.TgZ(3,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",91),e._UZ(5,"app-setreminder"),e.qZA()}}function gC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",88)(1,"h5",92),e._uU(2,"Move to Folder"),e.qZA(),e.TgZ(3,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",91)(5,"app-movetofolder",93),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewDetails(o.folderid,o.finalobj))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("mfileid",t.movefileid)("mFolderid",t.moveFolderid)("mFileName",t.movefileName)("mrefNo",t.movefilerefNo)}}function _C(n,s){1&n&&(e.TgZ(0,"div",94),e._UZ(1,"div",95),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let mC=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.modalService=L,this.jsonurl="assets/js/_configs/viewRecentfiles.config.json",this.letterID="",this.dimensions=[],this.dataArr=[],this.ffdetailsArr=[],this.metalist=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.dataviewtype=1,this.downloadlink="",this.fileid="",this.bookmarktype="",this.retensionid="",this.retensionFolderid="",this.filesName="",this.loading=!1,this.searchColList=["Name","Document No.","Size","Document","Created by","Meta","Tags"],this.searchselcteditems=[],this.namesarray=[],this.refnoarray=[],this.filesizearray=[],this.documentdetails=[],this.createdbyarray=[],this.metaarray=[],this.tagsarray=[],this.finalarray=[],this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray},this.nobj={},this.loadFileversions=!1,this.loadFileproperties=!1,this.loadFileModify=!1,this.loadFileretention=!1,this.loadFilenumbering=!1,this.loadsharefile=!1,this.toggle=!1,this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!0},{name:"Folder Name",cname:"folderName",sortable:!0},{name:"Name",cname:"fileName",sortable:!0},{name:"Type",cname:"fileType",sortable:!1},{name:"Version",cname:"fileVersion",sortable:!1},{name:"Size",cname:"fileSize",sortable:!0},{name:"Created By",cname:"createdByName",sortable:!0}]}ngOnInit(){this.loadconfig(),this.router.paramMap.subscribe(t=>{let i=t.get("id"),r=this.encDec.decText(i).split(":");this.folderid=r[0],this.bookmarktype=r[1],this.viewDetails(this.folderid,this.finalobj),this.loadHierarchy(this.folderid)})}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{this.loading=!1,f().fire({icon:"error",text:t})})}viewDetails(t,i){this.loading=!0,this.commonserveice.getrecentFiles({searchfilter:i}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status&&(this.loading=!1,this.ffdetailsArr=J.result,this.rowClicked=-1),400==J.status?(this.loading=!1,f().fire({icon:"error",text:J.message})):501==J.status?this.authService.directlogout():this.loading=!1}else this.loading=!1,this.authService.directlogout()},r=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}tableview(){this.dataviewtype=1}boxview(){this.dataviewtype=2}loadFolderData(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/viewupload",i])}all(){let i=this.encDec.encText("0:0".toString());this.route.navigate(["/admin/viewupload",i])}loadHierarchy(t){this.commonserveice.folderHierarchy({folderId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);"200"==R.status?(this.folderHierarchy=R.result.folderDetails,this.rowClicked=-1,this.selectedfileid="",this.clearProperties()):501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}addBookmark(t,i,o){this.commonserveice.fileBookmark({fileId:t,fileBookmarkStatus:o,folderId:i}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?"1"==o?f().fire({icon:"success",text:this.commonserveice.langReplace("Bookmarked Successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{me.isConfirmed&&window.location.reload()}):f().fire({icon:"success",text:this.commonserveice.langReplace("Bookmark Removed Successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{me.isConfirmed&&window.location.reload()}):501==se.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},x=>{this.loading=!1,this.authService.directlogout()})}moveFile(t,i,o,r){this.open(this.movetoFolderModal),this.movefileid=t,this.moveFolderid=i,this.movefilerefNo=o,this.movefileName=r}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}setSearchParam(t,i){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=i,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(i):"Document No."==t?this.refnoarray.push(i):"Size"==t?this.filesizearray.push(i):"Document"==t?this.documentdetails.push(i):"Created by"==t?this.createdbyarray.push(i):"Meta"==t?this.metaarray.push(i):"Tags"==t&&this.tagsarray.push(i),this.page=1,this.ffdetailsArr=[],this.viewDetails(this.folderid,this.finalobj)}removeselitems(t,i,o){if(this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==i){const r=this.namesarray.indexOf(o);-1!==r&&this.namesarray.splice(r,1)}else if("Document No."==i){const r=this.refnoarray.indexOf(o);-1!==r&&this.refnoarray.splice(r,1)}else if("Size"==i){const r=this.filesizearray.indexOf(o);-1!==r&&this.filesizearray.splice(r,1)}else if("Document"==i){const r=this.documentdetails.indexOf(o);-1!==r&&this.documentdetails.splice(r,1)}else if("Created by"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.createdbyarray.splice(r,1)}else if("Meta"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.metaarray.splice(r,1)}else if("Tags"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.tagsarray.splice(r,1)}0==this.searchselcteditems.length?(this.finalobj={Name:this.namesarray=[],Reference:this.refnoarray=[],Size:this.filesizearray=[],Document:this.documentdetails=[],Createdby:this.createdbyarray=[],Meta:this.metaarray=[],Tags:this.tagsarray=[]},this.viewDetails(this.folderid,this.finalobj)):this.viewDetails(this.folderid,this.finalobj)}rowClick(t,i,o,r,x,T,L,R,J){this.rowClicked===i?this.rowClicked=-1:(this.rowClicked=i,this.selectedfolderid="",this.selectedrtention="",this.selectedfileid="",this.selectedfileRefNo="",this.selectedfileName="",this.selectedCreatedOn="",this.selectedfileType="",this.filelockStatus="",this.selectedfileid=t,this.selectedfolderid=o,this.selectedrtention=r,this.filelockStatus=R,this.selectedfileRefNo=x,this.selectedfileName=T,this.selectedCreatedOn=L,this.selectedfileType=J,this.loadFileproperties=!1,this.filePrperties=t,this.clearProperties(),this.loadFileproperties=!0,this.childC.viewFileDetails(t))}cleartabdata(){this.rowClicked=-1,this.selectedfileid="",this.loadFileproperties=!1,this.clearProperties(),this.viewDetails(this.folderid,this.finalobj)}clearProperties(){this.loadFileversions=!1,this.loadFileModify=!1,this.loadFileproperties=!1,this.loadFileversions=!1,this.loadFileretention=!1,this.loadsharefile=!1,this.loadFilenumbering=!1,this.loadpreviewfile=!1}fileproperties(t){this.filePrperties=t,this.clearProperties(),this.loadFileproperties=!0}fileModify(t){this.fileModifyid=t,this.clearProperties(),this.loadFileModify=!0}viewVersions(t){this.fileversions=t,this.clearProperties(),this.loadFileversions=!0}retentionFile(t,i,o){this.retensionid=t,this.retensionFolderid=i,this.retenstionDate=o,this.clearProperties(),this.loadFileretention=!0}shareDoc(t,i){this.shareedid=t,this.shareedFolderid=i,this.clearProperties(),this.loadsharefile=!0}previewDoc(t,i,o,r){this.resizediv(1),this.previewfileid=t,i.split("."),this.prvlockfile=o,this.filetype=r,this.clearProperties(),this.loadpreviewfile=!0}filenumbering(t,i,o,r,x){this.clearProperties(),this.loadFilenumbering=!0,this.fileid=t,this.filenumber=i,this.filesName=o,this.updatedate=r,this.nfolderid=x;const T=i.split("/");this.splitVal=T[0]+"/"+T[1]+"/"+T[2]+"/",this.splitId=T[3]}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}resizediv(t){this.toggle=!this.toggle;let i=document.getElementById("first-card"),o=document.getElementById("filepropertiessection");1==this.toggle||1==t?(i.style.transitionDelay="2s",i.style.height="0px",i.style.overflow="hidden",o.style.height="80vh"):(i.style.transitionDelay="2s",i.style.height="auto",i.style.overflow="hidden",o.style.height="35vh")}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.ffdetailsArr=this.ffdetailsArr.sort((i,o)=>"asc"==this.sortOrder?i[t].localeCompare(o[t],"en",{numeric:!0}):o[t].localeCompare(i[t],"en",{numeric:!0}))}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recentfiles"]],viewQuery:function(t,i){if(1&t&&(e.Gf(j0,5),e.Gf(q0,5),e.Gf(Si,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.movetoFolderModal=o.first),e.iGM(o=e.CRH())&&(i.searchField=o.first),e.iGM(o=e.CRH())&&(i.childC=o.first)}},inputs:{folderid:"folderid"},decls:38,vars:18,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],["id","first-card",1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"d-flex","align-items-center"],[1,"d-flex","align-items-center","me-2"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","aria-label","Search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],[4,"ngIf","ngIfElse"],["norecord",""],["class","card",4,"ngIf"],["id","reminderModal"],["reminderModal",""],["id","movetoFolderModal"],["movetoFolderModal",""],["class","loader",4,"ngIf"],[3,"childMessage"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["class","portletfix-height",4,"ngIf"],[3,"page","count","tableSize","callfunction"],[1,"portletfix-height"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],["valign","middle","class","hoverable",3,"background-color","click",4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["valign","middle",1,"hoverable",3,"click"],["width","140px"],[1,"d-flex","justify-content-between"],["class","text-primary",4,"ngIf"],[4,"ngIf"],["title","bookmark","ngbTooltip","Bookmark","href","javascript:void(0)"],[1,"bi",3,"ngClass","click"],["width","50px",1,"text-center"],[1,"h6",3,"ngClass"],[1,"text-right"],[1,"d-block","text-primary","mt-1"],[1,"text-primary"],["ngbTooltip","Locked File"],[1,"d-block","text-dark","mt-1"],[1,"row"],["class","col-md-6 col-lg-6 col-xl-6 col-xxl-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-4"],[1,"div-view-section",3,"click"],[1,"mb-3"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"",3,"ngClass"],[1,"col"],[1,""],[1,"text-primary","d-block","mt-1","mb-0"],[1,"no-content"],[1,"card"],["id","gr",1,"grabber",3,"click"],[1,"bi",3,"ngClass"],["href","javascript:void(0)",1,"nav-item","nav-link","tab-link",3,"ngClass","click"],["id","filepropertiessection",1,"portletfix-height2"],[3,"fileid","callfunction",4,"ngIf"],[3,"fileid","callfunction","callfunction2",4,"ngIf"],[3,"rfileid","rfolderid","rdate","callfunction","callfunction2",4,"ngIf"],[3,"folderid","fileid","fileRefNo","fileName","updatedate","fsplitVal","fsplitId","callfunction","callfunction2",4,"ngIf"],[3,"fileId","folderid","callfunction",4,"ngIf"],[3,"fileId","lockstatus","filetype","callfunction",4,"ngIf"],[3,"fileid","callfunction"],[3,"fileid","callfunction","callfunction2"],[3,"rfileid","rfolderid","rdate","callfunction","callfunction2"],[3,"folderid","fileid","fileRefNo","fileName","updatedate","fsplitVal","fsplitId","callfunction","callfunction2"],[3,"fileId","folderid","callfunction"],[3,"fileId","lockstatus","filetype","callfunction"],[1,"modal-header"],["id","reminderModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","movetoFolderModalLabel",1,"modal-title","mb-0"],[3,"mfileid","mFolderid","mFileName","mrefNo","callfunction"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3),e._UZ(7,"ul",4),e.TgZ(8,"div",5),e.YNc(9,V0,1,1,"app-utils",6),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8),e._UZ(12,"div"),e.TgZ(13,"div",9)(14,"div",10),e._uU(15),e.ALo(16,"langReplace"),e.TgZ(17,"select",11),e.NdJ("change",function(r){return i.onTableSizeChange(r)}),e.YNc(18,z0,2,2,"option",12),e.qZA()(),e.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16),e.YNc(23,J0,5,2,"div",17),e.qZA(),e.TgZ(24,"input",18,19),e.NdJ("ngModelChange",function(r){return i.txtSearch=r}),e.ALo(26,"langReplace"),e.qZA(),e._UZ(27,"i",20),e.qZA(),e.YNc(28,G0,2,1,"div",21),e.qZA()()()(),e.YNc(29,oC,4,5,"div",22),e.YNc(30,sC,3,3,"ng-template",null,23,e.W1O),e.qZA()()(),e.YNc(32,fC,26,20,"div",24),e.YNc(33,pC,6,0,"ng-template",25,26,e.W1O),e.YNc(35,gC,6,4,"ng-template",27,28,e.W1O),e.YNc(37,_C,4,0,"div",29)),2&t){const o=e.MAs(31);e.xp6(2),e.Oqu(e.lcZ(3,12,i.title)),e.xp6(7),e.Q6J("ngForOf",i.utillist),e.xp6(6),e.hij(" ",e.lcZ(16,14,"Display")," \xa0 "),e.xp6(3),e.Q6J("ngForOf",i.pageSizes),e.xp6(5),e.Q6J("ngForOf",i.searchselcteditems),e.xp6(1),e.MGl("placeholder","",e.lcZ(26,16,"Search"),"..."),e.Q6J("ngModel",i.txtSearch),e.xp6(4),e.Q6J("ngIf",i.txtSearch),e.xp6(1),e.Q6J("ngIf",(null==i.ffdetailsArr?null:i.ffdetailsArr.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.selectedfileid),e.xp6(5),e.Q6J("ngIf",i.loading)}},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.JJ,w.On,xn.Q,Jt.t,b._L,qo,qs,Vs,zs,B,Js,Ws,Gs,Si,C.JJ,$t._s,E.c],styles:[".table-responsive[_ngcontent-%COMP%]{min-height:300px}"]}),n})(),Zl=(()=>{class n{transform(t,i){return i?t.filter(o=>o.metaName.toLocaleLowerCase().includes(i)||o.description.includes(i)||o.createdOn.includes(i)||o.createdBy.toLocaleLowerCase().includes(i)):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"metasearch",type:n,pure:!0}),n})();const vC=["searchField"];function bC(n,s){if(1&n&&e._UZ(0,"app-tabs",16),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.letterID)("tabMessage",t)}}function CC(n,s){1&n&&e._UZ(0,"app-utils",17),2&n&&e.Q6J("childMessage",s.$implicit)}function yC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",25),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function xC(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,yC,1,0,"i",24),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function wC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.TgZ(11,"small",26),e._uU(12),e.qZA()(),e.TgZ(13,"td",27)(14,"a",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.gotoEdit(r.intMetaId))}),e._UZ(15,"i",29),e.qZA(),e.TgZ(16,"a",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.deletMeta(r.intMetaId))}),e._UZ(17,"i",31),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(2);e.xp6(2),e.hij("",o.tableSize*(o.page-1)+i+1," "),e.xp6(2),e.Oqu(t.metaName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.hij(" ",o.mettypelist[t.metaType]," "),e.xp6(2),e.hij("",t.createdBy," "),e.xp6(2),e.hij("on ",t.createdOn,"")}}const MC=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function SC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",18)(2,"table",19)(3,"thead")(4,"tr")(5,"th",20),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,xC,4,4,"th",21),e.TgZ(9,"th",22),e._uU(10),e.ALo(11,"langReplace"),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,wC,18,6,"tr",21),e.ALo(14,"paginate"),e.ALo(15,"metasearch"),e.qZA()()(),e.TgZ(16,"app-pagination",23),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,7,"Sl No"),""),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.hij(" ",e.lcZ(11,9,"Action")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(14,11,e.xi3(15,14,t.metalist,t.txtSearch),e.kEZ(17,MC,t.tableSize,t.page,t.count))),e.xp6(3),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function TC(n,s){1&n&&(e.TgZ(0,"h6",32),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function kC(n,s){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"div",34),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let AC=(()=>{class n{constructor(t,i,o,r,x){this.route=t,this.httpClient=i,this.commonserveice=o,this.encDec=r,this.authService=x,this.jsonurl="assets/js/_configs/viewMeta.config.json",this.letterID="",this.metalist=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.mettypelist=["-","String","Date","Intiger"],this.searchColList=["Meta Name","Description","Type","Created By"],this.searchselcteditems=[],this.namesarray=[],this.Descriptionarray=[],this.filesizearray=[],this.typearray=[],this.createdbyarray=[],this.finalarray=[],this.finalobj={"Meta Name":this.namesarray,Description:this.Descriptionarray,Type:this.typearray,Createdby:this.createdbyarray},this.loading=!1,this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Meta Name",cname:"metaName",sortable:!0},{name:"Description",cname:"description",sortable:!0},{name:"Type",cname:"metaType",sortable:!0},{name:"Created By",cname:"createdBy",sortable:!0}]}ngOnInit(){this.loadconfig(),this.viewMetaLit()}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{f().fire({icon:"error",text:t})})}gotoEdit(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/editMeta",i])}viewMetaLit(){this.loading=!0,this.commonserveice.viewMeta({intMetaId:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?(this.loading=!1,this.metalist=L.result):501==L.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},i=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}deletMeta(t){let i={intMetaId:t};f().fire({title:this.commonserveice.langReplace("Are you sure")+" ?",text:this.commonserveice.langReplace(this.messaageslist.warningtype),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.commonserveice.langReplace("Cancel"),confirmButtonText:this.commonserveice.langReplace("Yes")+", "+this.commonserveice.langReplace("delete it")+" !"}).then(o=>{o.isConfirmed&&this.commonserveice.deleteMeta(i).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);200==J.status?(f().fire(this.commonserveice.langReplace("Deleted")+" !",this.commonserveice.langReplace(this.messaageslist.deleteMsg),"success"),this.viewMetaLit()):400==J.status?f().fire({icon:"error",text:this.commonserveice.langReplace("Meta details used in different files")}):501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1},r=>{this.authService.directlogout()})})}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.metalist=this.metalist.sort((i,o)=>i[t]<o[t]?"asc"==this.sortOrder?-1:1:i[t]>o[t]?"asc"==this.sortOrder?1:-1:0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-meta"]],viewQuery:function(t,i){if(1&t&&e.Gf(vC,5),2&t){let o;e.iGM(o=e.CRH())&&(i.searchField=o.first)}},decls:22,vars:12,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","align-items-center"],["type","search","aria-label","Search",1,"form-control",2,"width","400px",3,"placeholder","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],["width","100px",1,"p-none"],[3,"page","count","tableSize","callfunction"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],[1,"text-primary","d-block","mt-1"],[1,"p-none"],["title","Edit","href","javascript:void(0)",1,"text-primary",3,"click"],[1,"icon-edit-solid"],["href","javascript:void(0)",1,"text-danger",3,"click"],[1,"icon-trash-solid"],[1,"no-content"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,bC,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,CC,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10),e._UZ(14,"div"),e.TgZ(15,"div",11)(16,"input",12),e.NdJ("ngModelChange",function(r){return i.txtSearch=r}),e.ALo(17,"langReplace"),e.qZA()()(),e.YNc(18,SC,17,21,"div",13),e.YNc(19,TC,3,3,"ng-template",null,14,e.W1O),e.qZA()()(),e.YNc(21,kC,4,0,"div",15),e.qZA()),2&t){const o=e.MAs(20);e.xp6(2),e.Oqu(e.lcZ(3,8,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(6),e.MGl("placeholder","",e.lcZ(17,10,"Search"),".."),e.Q6J("ngModel",i.txtSearch),e.xp6(2),e.Q6J("ngIf",(null==i.metalist?null:i.metalist.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.sg,C.O5,w.Fj,w.JJ,w.On,en.n,xn.Q,Jt.t,$t._s,E.c,Zl]}),n})();const OC=["previewModal"],PC=["searchField"];function DC(n,s){if(1&n&&e._UZ(0,"app-tabs",31),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.letterID)("tabMessage",t)}}function EC(n,s){1&n&&e._UZ(0,"app-utils",32),2&n&&e.Q6J("childMessage",s.$implicit)}function LC(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function FC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",35),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,x=o.$implicit,T=e.oxw();return e.KtG(T.removeselitems(r,x.searchkey,x.searchvalue))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function IC(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.setSearchParam(r,x.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(i.txtSearch)}}function NC(n,s){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,IC,7,2,"ng-container",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function RC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",48),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(3);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function ZC(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,RC,1,0,"i",47),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function BC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",49)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",50),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",51)(9,"a",52),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.loadpreview(r.fileId,r.fileType,r.logId,r.filePath,r.lockStatus))}),e._UZ(10,"i",53),e._uU(11),e._UZ(12,"i",54),e.qZA()()(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.TgZ(19,"small",55),e._uU(20),e.qZA()(),e.TgZ(21,"td",56)(22,"div",57)(23,"a",58),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.restore(r.fileId))}),e.ALo(24,"langReplace"),e._UZ(25,"i",59),e.qZA(),e.TgZ(26,"a",60),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.delete(r.fileId))}),e.ALo(27,"langReplace"),e._UZ(28,"i",61),e.qZA()()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+i+1),e.xp6(2),e.hij(" ",t.fileRefNo," "),e.xp6(2),e.Oqu(t.folderName),e.xp6(4),e.Q6J("ngClass","1"==t.type?"bi-folder-fill text-warning":o.getfiletype(t.fileType)),e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.Oqu(t.fileType),e.xp6(2),e.Oqu(o.formatBytes(t.fileSize,2)),e.xp6(2),e.hij("",t.createdByName," "),e.xp6(2),e.hij("On : ",t.CreatedOn,""),e.xp6(3),e.MGl("ngbTooltip","",e.lcZ(24,14,"Restore")," "),e.xp6(3),e.s9C("ngbTooltip",e.lcZ(27,16,"Delete"))}}const Bl=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function HC(n,s){if(1&n&&(e.TgZ(0,"div",42)(1,"table",43)(2,"thead")(3,"tr")(4,"th",44),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.YNc(7,ZC,4,4,"th",37),e.TgZ(8,"th",45),e._uU(9),e.ALo(10,"langReplace"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,BC,29,18,"tr",46),e.ALo(13,"paginate"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij("",e.lcZ(6,4,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.hij(" ",e.lcZ(10,6,"Action")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(13,8,t.ffdetailsArr,e.kEZ(11,Bl,t.tableSize,t.page,t.count)))}}function YC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"a",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.restore(o.fileId))}),e._UZ(2,"i",59),e.qZA(),e.TgZ(3,"a",74),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.delete(o.fileId))}),e._UZ(4,"i",61),e.qZA()()}}function UC(n,s){if(1&n&&(e.TgZ(0,"div",64)(1,"div",65),e.YNc(2,YC,5,0,"div",66),e.TgZ(3,"p",67)(4,"a",68),e._UZ(5,"i",69),e._uU(6),e.qZA()(),e.TgZ(7,"div",62)(8,"div",70)(9,"div",57),e._uU(10),e.TgZ(11,"span",71),e._uU(12),e.qZA()()()()()()),2&n){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf",2==t.type),e.xp6(3),e.Q6J("ngClass",1==t.type?"h5 bi bi-folder-fill text-warning":"h5 bi-file-pdf text-danger"),e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(4),e.hij(" ",1==t.type?"Folder":"File"," Size "),e.xp6(2),e.hij(" ",t.fileSize," ")}}function jC(n,s){if(1&n&&(e.TgZ(0,"div",62),e.YNc(1,UC,13,5,"div",63),e.ALo(2,"paginate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.ffdetailsArr,e.kEZ(4,Bl,t.tableSize,t.page,t.count)))}}function qC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,HC,14,15,"div",39),e.YNc(2,jC,3,8,"div",40),e.TgZ(3,"app-pagination",41),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.dataviewtype),e.xp6(1),e.Q6J("ngIf",2==t.dataviewtype),e.xp6(1),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function VC(n,s){1&n&&(e.TgZ(0,"h6",75),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function zC(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"h5",77),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",79),e._UZ(6,"app-preview-file",80),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,6,"Document Preview")," "),e.xp6(4),e.Q6J("fileId",t.previewfileid)("filetype",t.filetype)("lockstatus",t.lockstatus)("logid",t.logId)("vfilepath",t.vfilepath)}}function JC(n,s){1&n&&(e.TgZ(0,"div",81),e._UZ(1,"div",82),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let WC=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.modalService=L,this.pipeName=R,this.jsonurl="assets/js/_configs/archiveList.config.json",this.letterID="",this.dimensions=[],this.dataArr=[],this.ffdetailsArr=[],this.metalist=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.dataviewtype=1,this.downloadlink="",this.fileid="",this.filesName="",this.loading=!1,this.searchColList=["Name","Document No.","Size","Document","Created by","Meta","Tags"],this.searchselcteditems=[],this.namesarray=[],this.refnoarray=[],this.filesizearray=[],this.documentdetails=[],this.createdbyarray=[],this.metaarray=[],this.tagsarray=[],this.finalarray=[],this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray},this.nobj={},this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!0},{name:"Folder Name",cname:"folderName",sortable:!0},{name:"Name",cname:"fileName",sortable:!0},{name:"Type",cname:"fileType",sortable:!0},{name:"Size",cname:"fileSize",sortable:!0},{name:"Created By",cname:"createdByName",sortable:!0}],this.langKey="en"}ngOnInit(){this.loadconfig(),this.viewDetails(this.finalobj)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}viewDetails(t){this.loading=!0,this.commonserveice.getArchiveFiles({searchfilter:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L.toString());200==R.status||400==R.status?(this.loading=!1,this.ffdetailsArr=R.result):501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}tableview(){this.dataviewtype=1}boxview(){this.dataviewtype=2}delete(t){let i={fileId:t,archieveAction:1};f().fire({title:this.commonserveice.langReplace("Are you sure")+" ?",text:this.commonserveice.langReplace(this.messaageslist.deleteWarn),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.commonserveice.langReplace("Cancel"),confirmButtonText:this.commonserveice.langReplace("Yes")}).then(o=>{o.isConfirmed&&this.commonserveice.archiveAction(i).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R.toString());200==J.status?(f().fire(this.commonserveice.langReplace("Deleted")+" !",this.messaageslist.deleteMsg,"success"),this.viewDetails(this.finalobj)):501==J.status?this.authService.directlogout():400==J.status?f().fire({icon:"error",text:J.message}):f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})})}restore(t){this.commonserveice.archiveAction({fileId:t,archieveAction:0}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L.toString());200==R.status?(f().fire({icon:"success",text:this.commonserveice.langReplace(this.messaageslist.restoreSuccess)}),this.viewDetails(this.finalobj)):501==R.status?this.authService.directlogout():400==R.status?(this.loading=!1,f().fire({icon:"error",text:R.message})):(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}setSearchParam(t,i){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=i,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(i):"Document No."==t?this.refnoarray.push(i):"Size"==t?this.filesizearray.push(i):"Document"==t?this.documentdetails.push(i):"Created by"==t?this.createdbyarray.push(i):"Meta"==t?this.metaarray.push(i):"Tags"==t&&this.tagsarray.push(i),this.ffdetailsArr=[],this.page=1,this.viewDetails(this.finalobj)}removeselitems(t,i,o){if(this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==i){const r=this.namesarray.indexOf(o);-1!==r&&this.namesarray.splice(r,1)}else if("Document No."==i){const r=this.refnoarray.indexOf(o);-1!==r&&this.refnoarray.splice(r,1)}else if("Size"==i){const r=this.filesizearray.indexOf(o);-1!==r&&this.filesizearray.splice(r,1)}else if("Document"==i){const r=this.documentdetails.indexOf(o);-1!==r&&this.documentdetails.splice(r,1)}else if("Created by"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.createdbyarray.splice(r,1)}else if("Meta"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.metaarray.splice(r,1)}else if("Tags"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.tagsarray.splice(r,1)}0==this.searchselcteditems.length?(this.finalobj={Name:this.namesarray=[],Reference:this.refnoarray=[],Size:this.filesizearray=[],Document:this.documentdetails=[],Createdby:this.createdbyarray=[],Meta:this.metaarray=[],Tags:this.tagsarray=[]},this.viewDetails(this.finalobj)):this.viewDetails(this.finalobj)}loadpreview(t,i,o,r,x){this.open(this.previewModal),this.previewfileid=t,this.logId=o,this.vfilepath=r,this.lockstatus=x,this.filetype=i}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.ffdetailsArr=this.ffdetailsArr.sort((i,o)=>"asc"==this.sortOrder?i[t].localeCompare(o[t],void 0,{numeric:!0}):o[t].localeCompare(i[t],void 0,{numeric:!0}))}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(b.FF),e.Y36(E.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-archivelist"]],viewQuery:function(t,i){if(1&t&&(e.Gf(OC,5),e.Gf(PC,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.previewModal=o.first),e.iGM(o=e.CRH())&&(i.searchField=o.first)}},decls:39,vars:20,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],["href","javascript:void(0)","ngbTooltip","Table View","title","Tabular View",1,"tableviews",3,"ngClass","click"],[1,"icon-table-solid"],["href","javascript:void(0)","ngbTooltip","Div View","title","Box View",1,"me-2","tableviews",3,"ngClass","click"],[1,"icon-th-large-solid"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"d-flex","align-items-center"],[1,"d-flex","align-items-center","me-3"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","aria-label","Search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],[4,"ngIf","ngIfElse"],["norecord",""],["id","previewModal"],["previewModal",""],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["class","table-responsive print-section",4,"ngIf"],["class","row",4,"ngIf"],[3,"page","count","tableSize","callfunction"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],["width","100px",1,"p-none"],["valign","middle",4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["valign","middle"],["width","140px"],[1,"d-flex","justify-content-between"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"h6",3,"ngClass"],["ngbTooltip","Locked File"],[1,"mt-1","d-block","text-primary"],[1,"p-none","text-center"],[1,""],[1,"text-primary",3,"ngbTooltip","click"],[1,"icon-trash-restore-solid"],[1,"text-danger",3,"ngbTooltip","click"],[1,"icon-trash-solid"],[1,"row"],["class","col-md-6 col-lg-6 col-xl-6 col-xxl-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-4"],[1,"div-view-section"],["class","div-view-addons",4,"ngIf"],[1,"mb-3"],["href","javascript:void(0)",1,"text-primary"],[1,"",3,"ngClass"],[1,"col"],[1,"text-primary","d-block","mt-1","mb-0"],[1,"div-view-addons"],["ngbTooltip","Restore",1,"text-primary",3,"click"],["ngbTooltip","Delete",1,"text-danger",3,"click"],[1,"no-content"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","90vh","min-height","300px","overflow-y","auto","position","relative"],[3,"fileId","filetype","lockstatus","logid","vfilepath"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,DC,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6)(10,"a",7),e.NdJ("click",function(){return i.tableview()}),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"a",9),e.NdJ("click",function(){return i.boxview()}),e._UZ(13,"i",10),e.qZA(),e.YNc(14,EC,1,1,"app-utils",11),e.qZA()(),e.TgZ(15,"div",12)(16,"div",13),e._UZ(17,"div"),e.TgZ(18,"div",14)(19,"div",15),e._uU(20),e.ALo(21,"langReplace"),e.TgZ(22,"select",16),e.NdJ("change",function(r){return i.onTableSizeChange(r)}),e.YNc(23,LC,2,2,"option",17),e.qZA()(),e.TgZ(24,"div",18)(25,"div",19)(26,"div",20),e.YNc(27,FC,5,2,"div",21),e.qZA(),e.TgZ(28,"input",22,23),e.NdJ("ngModelChange",function(r){return i.txtSearch=r}),e.ALo(30,"langReplace"),e.qZA(),e._UZ(31,"i",24),e.qZA(),e.YNc(32,NC,2,1,"div",25),e.qZA()()(),e.YNc(33,qC,4,5,"div",26),e.YNc(34,VC,3,3,"ng-template",null,27,e.W1O),e.qZA()(),e.YNc(36,zC,7,8,"ng-template",28,29,e.W1O),e.YNc(38,JC,4,0,"div",30),e.qZA()),2&t){const o=e.MAs(35);e.xp6(2),e.hij("",e.lcZ(3,14,i.title)," "),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngClass",1==i.dataviewtype?"text-info":"text-dark"),e.xp6(2),e.Q6J("ngClass",2==i.dataviewtype?"text-info":"text-dark"),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(6),e.hij(" ",e.lcZ(21,16,"Per Page")," : "),e.xp6(3),e.Q6J("ngForOf",i.pageSizes),e.xp6(4),e.Q6J("ngForOf",i.searchselcteditems),e.xp6(1),e.MGl("placeholder","",e.lcZ(30,18,"Search"),"..."),e.Q6J("ngModel",i.txtSearch),e.xp6(4),e.Q6J("ngIf",i.txtSearch),e.xp6(1),e.Q6J("ngIf",(null==i.ffdetailsArr?null:i.ffdetailsArr.length)>0)("ngIfElse",o),e.xp6(5),e.Q6J("ngIf",i.loading)}},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.JJ,w.On,en.n,xn.Q,Jt.t,b._L,B,$t._s,E.c]}),n})();const GC=["retentionModal"],QC=["reminderModal"],KC=["numberingModal"],$C=["movetoFolderModal"],XC=["fileversionModal"],ey=["searchField"];function ty(n,s){if(1&n&&e._UZ(0,"app-tabs",35),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.letterID)("tabMessage",t)}}function ny(n,s){1&n&&e._UZ(0,"app-utils",36),2&n&&e.Q6J("childMessage",s.$implicit)}function iy(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function oy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",39),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,x=o.$implicit,T=e.oxw();return e.KtG(T.removeselitems(r,x.searchkey,x.searchvalue))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function sy(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",42),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.setSearchParam(r,x.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(i.txtSearch)}}function ry(n,s){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,sy,7,2,"ng-container",41),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function ay(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",52),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(3);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function ly(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,ay,1,0,"i",51),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function cy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",53)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",54),e._uU(4),e.qZA(),e.TgZ(5,"td",55),e._UZ(6,"i",56),e.qZA(),e.TgZ(7,"td")(8,"div",57),e._uU(9),e.TgZ(10,"a",58)(11,"i",59),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.addBookmark(1==r.type?"":r.fileId,2==r.type?"":r.folderId,null==r.BookmarkStatus?"1":"0"))}),e.qZA()()()(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.TgZ(16,"small",60),e._uU(17),e.qZA()(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td",61)(21,"div",10)(22,"a",62),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.downloadfils(r.fileId,r.filePath))}),e._UZ(23,"i",63),e.qZA()()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+i+1),e.xp6(2),e.hij(" ",t.fileRefNo," "),e.xp6(2),e.Q6J("ngClass",o.getfiletype(t.fileType)),e.xp6(3),e.hij(" ",t.fileName," "),e.xp6(2),e.Q6J("ngClass",null==t.BookmarkStatus?"bi-star":"bi-star-fill text-warning"),e.xp6(2),e.Oqu(o.formatBytes(t.fileSize,2)),e.xp6(2),e.hij("",t.createdByName," "),e.xp6(2),e.hij("on ",t.CreatedOn,""),e.xp6(2),e.hij(" ",t.sharedByName," ")}}const Hl=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function dy(n,s){if(1&n&&(e.TgZ(0,"div",46)(1,"table",47)(2,"thead")(3,"tr")(4,"th",48),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.YNc(7,ly,4,4,"th",41),e.TgZ(8,"th",49),e._uU(9),e.ALo(10,"langReplace"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,cy,24,9,"tr",50),e.ALo(13,"paginate"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,4,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.hij(" ",e.lcZ(10,6,"Action")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(13,8,t.ffdetailsArr,e.kEZ(11,Hl,t.tableSize,t.page,t.count)))}}function hy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",75)(1,"a",76),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.shareDoc(o.fileId+":"+o.folderId))}),e._UZ(2,"i",77),e.qZA(),e.TgZ(3,"a",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.downloadfils(o.fileId,o.filePath))}),e._UZ(4,"i",63),e.qZA()()}}function uy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"div",67),e.YNc(2,hy,5,0,"div",68),e.TgZ(3,"p",69)(4,"a",70),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.previewDoc(r.fileId))}),e._UZ(5,"i",71),e._uU(6),e.qZA(),e.TgZ(7,"a",58)(8,"i",59),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.addBookmark(1==r.type?"":r.fileId,2==r.type?"":r.folderId,null==r.BookmarkStatus?"1":"0"))}),e.qZA()()(),e.TgZ(9,"div",64)(10,"div",72)(11,"div",73),e._uU(12),e.TgZ(13,"span",74),e._uU(14),e.qZA()()()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf",2==t.type),e.xp6(3),e.Q6J("ngClass",1==t.type?"h5 bi bi-folder-fill text-warning":"h5 bi-file-pdf text-danger"),e.xp6(1),e.hij(" ",t.fileName," "),e.xp6(2),e.Q6J("ngClass",null==t.BookmarkStatus?"bi-star":"bi-star-fill text-warning"),e.xp6(4),e.hij(" ",1==t.type?"Folder":"File"," Size "),e.xp6(2),e.hij(" ",t.fileSize," ")}}function fy(n,s){if(1&n&&(e.TgZ(0,"div",64),e.YNc(1,uy,15,6,"div",65),e.ALo(2,"paginate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.ffdetailsArr,e.kEZ(4,Hl,t.tableSize,t.page,t.count)))}}function py(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,dy,14,15,"div",43),e.YNc(2,fy,3,8,"div",44),e.TgZ(3,"app-pagination",45),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1==t.dataviewtype),e.xp6(1),e.Q6J("ngIf",2==t.dataviewtype),e.xp6(1),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function gy(n,s){1&n&&(e.TgZ(0,"h6",79),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function _y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"h5",81),e._uU(2,"File Number"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",83)(5,"app-filenumbering",84),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewDetails(o.finalobj))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("folderid",t.nfolderid)("fileid",t.fileid)("fileRefNo",t.filenumber)("fileName",t.filesName)("updatedate",t.updatedate)("fsplitVal",t.splitVal)("fsplitId",t.splitId)}}function my(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"h5",85),e._uU(2,"Set Reminder"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",83),e._UZ(5,"app-setreminder"),e.qZA()}}function vy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"h5",86),e._uU(2,"Retention"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",83)(5,"app-retention",87),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewDetails(o.finalobj))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("rfileid",t.retensionid)("rfolderid",t.retensionFolderid)("rdate",t.retenstionDate)}}function by(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"h5",88),e._uU(2,"Move to Folder"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",83)(5,"app-movetofolder",89),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewDetails(o.finalobj))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("mfileid",t.movefileid)("mFolderid",t.moveFolderid)("mFileName",t.movefileName)("mrefNo",t.movefilerefNo)}}function Cy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"h5",90),e._uU(2,"File Versions"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(4,"div",83)(5,"app-filevesions",91),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewDetails(o.finalobj))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("fileid",t.fileversions)}}function yy(n,s){1&n&&(e.TgZ(0,"div",92),e._UZ(1,"div",93),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let xy=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.modalService=L,this.jsonurl="assets/js/_configs/sharedList.config.json",this.letterID="",this.dimensions=[],this.dataArr=[],this.ffdetailsArr=[],this.metalist=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.dataviewtype=1,this.downloadlink="",this.fileid="",this.bookmarktype="",this.retensionid="",this.retensionFolderid="",this.filesName="",this.loading=!1,this.searchColList=["Name","Document No.","Size","Document","Created by","Meta","Tags"],this.searchselcteditems=[],this.namesarray=[],this.refnoarray=[],this.filesizearray=[],this.documentdetails=[],this.createdbyarray=[],this.metaarray=[],this.tagsarray=[],this.finalarray=[],this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray},this.nobj={},this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!0},{name:"Type",cname:"fileType",sortable:!1},{name:"Name",cname:"fileName",sortable:!0},{name:"Size",cname:"fileSize",sortable:!0},{name:"Created By",cname:"createdByName",sortable:!0},{name:"Shared By",cname:"sharedByName",sortable:!0}]}ngOnInit(){this.loadconfig(),this.viewDetails(this.finalobj)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}shareDoc(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/shareFile",i])}previewDoc(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/previewfile",i])}fileModify(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/modifyfile",i])}viewDetails(t){this.loading=!0,this.commonserveice.getSharedFiles({searchfilter:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status||400==R.status?(this.loading=!1,this.ffdetailsArr=R.result):500==R.status?(this.loading=!1,f().fire({icon:"error",text:R.message})):501==R.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}tableview(){this.dataviewtype=1}boxview(){this.dataviewtype=2}downloadfils(t,i){this.commonserveice.fileDownload({fileId:t,url:i}).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64"),J=JSON.parse(R);if(200==J.status){this.downloaditem=J.result,this.downloadlink=this.downloaditem.filePath;let se=document.createElement("a");se.download=this.downloadlink,se.href=this.downloadlink,se.target="_blank",se.click()}else 501==J.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},r=>{this.authService.directlogout()})}addBookmark(t,i,o){this.commonserveice.fileBookmark({fileId:t,fileBookmarkStatus:o,folderId:i}).subscribe(x=>{let T=x.RESPONSE_DATA;if(x.RESPONSE_TOKEN==l.HmacSHA256(T,u.N.apiHashingKey).toString()){let J=c.lW.from(T,"base64"),se=JSON.parse(J);200==se.status?"1"==o?f().fire({icon:"success",text:this.commonserveice.langReplace("Bookmarked Successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{me.isConfirmed&&this.viewDetails(this.finalobj)}):f().fire({icon:"success",text:this.commonserveice.langReplace("Bookmark Removed Successfully"),confirmButtonText:this.commonserveice.langReplace("Ok")}).then(me=>{me.isConfirmed&&this.viewDetails(this.finalobj)}):501==se.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},x=>{this.authService.directlogout()})}retentionFile(t,i,o){this.open(this.retentionModal),this.retensionid=t,this.retensionFolderid=i,this.retenstionDate=o}moveFile(t,i,o,r){this.open(this.movetoFolderModal),this.movefileid=t,this.moveFolderid=i,this.movefilerefNo=o,this.movefileName=r}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}viewVersions(t){this.fileversions=t,this.open(this.fileversionModal)}closeModal(){this.modalService.dismissAll()}setSearchParam(t,i){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=i,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(i):"Document No."==t?this.refnoarray.push(i):"Size"==t?this.filesizearray.push(i):"Document"==t?this.documentdetails.push(i):"Created by"==t?this.createdbyarray.push(i):"Meta"==t?this.metaarray.push(i):"Tags"==t&&this.tagsarray.push(i),this.page=1,this.ffdetailsArr=[],this.viewDetails(this.finalobj)}removeselitems(t,i,o){if(this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==i){const r=this.namesarray.indexOf(o);-1!==r&&this.namesarray.splice(r,1)}else if("Document No."==i){const r=this.refnoarray.indexOf(o);-1!==r&&this.refnoarray.splice(r,1)}else if("Size"==i){const r=this.filesizearray.indexOf(o);-1!==r&&this.filesizearray.splice(r,1)}else if("Document"==i){const r=this.documentdetails.indexOf(o);-1!==r&&this.documentdetails.splice(r,1)}else if("Created by"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.createdbyarray.splice(r,1)}else if("Meta"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.metaarray.splice(r,1)}else if("Tags"==i){const r=this.createdbyarray.indexOf(o);-1!==r&&this.tagsarray.splice(r,1)}0==this.searchselcteditems.length?(this.finalobj={Name:this.namesarray=[],Reference:this.refnoarray=[],Size:this.filesizearray=[],Document:this.documentdetails=[],Createdby:this.createdbyarray=[],Meta:this.metaarray=[],Tags:this.tagsarray=[]},this.viewDetails(this.finalobj)):this.viewDetails(this.finalobj)}getfiletype(t){let i,o=u.N.iconsGroups;for(let r=0;r<o.length;r++)1==o[r].groups.includes(t)&&(i=o[r].name);return i}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.ffdetailsArr=this.ffdetailsArr.sort((i,o)=>"asc"==this.sortOrder?i[t].localeCompare(o[t],"en",{numeric:!0}):o[t].localeCompare(i[t],"en",{numeric:!0}))}formatBytes(t,i){if(!+t)return"0 Bytes";const r=i<0?0:i,T=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,T)).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][T]}`}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sharedfiles"]],viewQuery:function(t,i){if(1&t&&(e.Gf(GC,5),e.Gf(QC,5),e.Gf(KC,5),e.Gf($C,5),e.Gf(XC,5),e.Gf(ey,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.retentionModal=o.first),e.iGM(o=e.CRH())&&(i.reminderModal=o.first),e.iGM(o=e.CRH())&&(i.numberingModal=o.first),e.iGM(o=e.CRH())&&(i.movetoFolderModal=o.first),e.iGM(o=e.CRH())&&(i.fileversionModal=o.first),e.iGM(o=e.CRH())&&(i.searchField=o.first)}},inputs:{folderid:"folderid"},decls:43,vars:18,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"d-flex","align-items-center"],[1,"d-flex","align-items-center","me-3"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","aria-label","Search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],[4,"ngIf","ngIfElse"],["norecord",""],["id","numberingModal"],["numberingModal",""],["id","reminderModal"],["reminderModal",""],["id","retentionModal"],["retentionModal",""],["id","movetoFolderModal"],["movetoFolderModal",""],["id","fileversionModal"],["fileversionModal",""],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],["class","table-responsive print-section",4,"ngIf"],["class","row",4,"ngIf"],[3,"page","count","tableSize","callfunction"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],["width","100px",1,"p-none"],["valign","middle",4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["valign","middle"],["width","140px"],["width","50px",1,"text-center"],[1,"h6",3,"ngClass"],[1,"d-flex","justify-content-between"],["title","bookmark","ngbTooltip","Bookmark","href","javascript:void(0)"],[1,"bi",3,"ngClass","click"],[1,"d-block","text-primary","mt-1"],[1,"p-none"],["ngbTooltip","Download","target","_blank",1,"text-primary",3,"click"],[1,"bi","bi-download"],[1,"row"],["class","col-md-6 col-lg-6 col-xl-6 col-xxl-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-4"],[1,"div-view-section"],["class","div-view-addons",4,"ngIf"],[1,"mb-3"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"",3,"ngClass"],[1,"col"],[1,""],[1,"text-primary","d-block","mt-1","mb-0"],[1,"div-view-addons"],["href","javascript:void(0)","ngbTooltip","Share",1,"text-primary",3,"click"],[1,"bi","bi-share"],["ngbTooltip","Download",1,"text-primary",3,"click"],[1,"no-content"],[1,"modal-header"],["id","numberingModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"folderid","fileid","fileRefNo","fileName","updatedate","fsplitVal","fsplitId","callfunction"],["id","reminderModalLabel",1,"modal-title","mb-0"],["id","retentionModalLabel",1,"modal-title","mb-0"],[3,"rfileid","rfolderid","rdate","callfunction"],["id","movetoFolderModalLabel",1,"modal-title","mb-0"],[3,"mfileid","mFolderid","mFileName","mrefNo","callfunction"],["id","fileversionModalLabel",1,"modal-title","mb-0"],[3,"fileid","callfunction"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,ty,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,ny,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9),e._UZ(13,"div"),e.TgZ(14,"div",10)(15,"div",11),e._uU(16),e.ALo(17,"langReplace"),e.TgZ(18,"select",12),e.NdJ("change",function(r){return i.onTableSizeChange(r)}),e.YNc(19,iy,2,2,"option",13),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16),e.YNc(23,oy,5,2,"div",17),e.qZA(),e.TgZ(24,"input",18,19),e.NdJ("ngModelChange",function(r){return i.txtSearch=r}),e.ALo(26,"langReplace"),e.qZA(),e._UZ(27,"i",20),e.qZA(),e.YNc(28,ry,2,1,"div",21),e.qZA()()(),e.YNc(29,py,4,5,"div",22),e.YNc(30,gy,3,3,"ng-template",null,23,e.W1O),e.qZA()(),e.YNc(32,_y,6,7,"ng-template",24,25,e.W1O),e.YNc(34,my,6,0,"ng-template",26,27,e.W1O),e.YNc(36,vy,6,3,"ng-template",28,29,e.W1O),e.YNc(38,by,6,4,"ng-template",30,31,e.W1O),e.YNc(40,Cy,6,1,"ng-template",32,33,e.W1O),e.YNc(42,yy,4,0,"div",34),e.qZA()),2&t){const o=e.MAs(31);e.xp6(2),e.Oqu(e.lcZ(3,12,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(6),e.hij(" ",e.lcZ(17,14,"Per Page")," "),e.xp6(3),e.Q6J("ngForOf",i.pageSizes),e.xp6(4),e.Q6J("ngForOf",i.searchselcteditems),e.xp6(1),e.MGl("placeholder","",e.lcZ(26,16,"Search"),"..."),e.Q6J("ngModel",i.txtSearch),e.xp6(4),e.Q6J("ngIf",i.txtSearch),e.xp6(1),e.Q6J("ngIf",(null==i.ffdetailsArr?null:i.ffdetailsArr.length)>0)("ngIfElse",o),e.xp6(13),e.Q6J("ngIf",i.loading)}},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.JJ,w.On,en.n,xn.Q,Jt.t,b._L,qs,Vs,zs,Ws,Gs,$t._s,E.c]}),n})();const wy=["searchField"];function My(n,s){if(1&n&&e._UZ(0,"app-tabs",12),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.letterID)("tabMessage",t)}}function Sy(n,s){1&n&&e._UZ(0,"app-utils",13),2&n&&e.Q6J("childMessage",s.$implicit)}function Ty(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function ky(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",33),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,x=o.$implicit,T=e.oxw(2);return e.KtG(T.removeselitems(r,x.searchkey,x.searchvalue))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function Ay(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.setSearchParam(r,x.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(i.txtSearch)}}function Oy(n,s){if(1&n&&(e.TgZ(0,"div",34),e.YNc(1,Ay,7,2,"ng-container",35),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function Py(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",42),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(3);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function Dy(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,Py,1,0,"i",41),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function Ey(n,s){if(1&n&&(e.TgZ(0,"tr",43)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&n){const t=s.$implicit,i=s.index,o=e.oxw(3);e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+i+1),e.xp6(2),e.Oqu(t.userFullName),e.xp6(2),e.Oqu(t.departmentName?t.departmentName:"-"),e.xp6(2),e.Oqu(t.roleName),e.xp6(2),e.Oqu(t.userMailId),e.xp6(2),e.hij(" ",t.userMobile,"")}}const Yl=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function Ly(n,s){if(1&n&&(e.TgZ(0,"div",37)(1,"table",38)(2,"thead")(3,"tr")(4,"th",39),e._uU(5),e.ALo(6,"langReplace"),e.qZA(),e.YNc(7,Dy,4,4,"th",35),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,Ey,13,6,"tr",40),e.ALo(10,"paginate"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,3,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.Q6J("ngForOf",e.xi3(10,5,t.userList,e.kEZ(8,Yl,t.tableSize,t.page,t.count)))}}function Fy(n,s){1&n&&e._UZ(0,"div",55)}function Iy(n,s){if(1&n&&(e.TgZ(0,"div",46)(1,"div",47),e.YNc(2,Fy,1,0,"div",48),e.TgZ(3,"p",49)(4,"strong"),e._uU(5),e.qZA()(),e.TgZ(6,"div",50)(7,"div",51),e._UZ(8,"i",52),e._uU(9),e.qZA()(),e.TgZ(10,"div",50)(11,"div",51),e._UZ(12,"i",53),e._uU(13),e.qZA()(),e.TgZ(14,"div",50)(15,"div",51),e._UZ(16,"i",54),e._uU(17),e.qZA()()()()),2&n){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf",2==t.type),e.xp6(3),e.hij(" ",t.userFullName,""),e.xp6(4),e.hij("\xa0 ",t.roleName," "),e.xp6(4),e.hij("\xa0 ",t.userMailId," "),e.xp6(4),e.hij("\xa0 ",t.userMobile," ")}}function Ny(n,s){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,Iy,18,5,"div",45),e.ALo(2,"paginate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.userList,e.kEZ(4,Yl,t.tableSize,t.page,t.count)))}}function Ry(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14),e._UZ(2,"div"),e.TgZ(3,"div",15)(4,"div",16),e._uU(5),e.ALo(6,"langReplace"),e.TgZ(7,"select",17),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableSizeChange(o))}),e.YNc(8,Ty,2,2,"option",18),e.qZA()(),e.TgZ(9,"div",19)(10,"div",20)(11,"div",21)(12,"div",22),e.YNc(13,ky,5,2,"div",23),e.qZA(),e.TgZ(14,"input",24,25),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.txtSearch=o)}),e.qZA(),e._UZ(16,"i",26),e.qZA(),e.YNc(17,Oy,2,1,"div",27),e.qZA()()()(),e.YNc(18,Ly,11,12,"div",28),e.YNc(19,Ny,3,8,"div",29),e.TgZ(20,"app-pagination",30),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,10,"Per Page")," "),e.xp6(3),e.Q6J("ngForOf",t.pageSizes),e.xp6(5),e.Q6J("ngForOf",t.searchselcteditems),e.xp6(1),e.Q6J("ngModel",t.txtSearch),e.xp6(3),e.Q6J("ngIf",t.txtSearch),e.xp6(1),e.Q6J("ngIf",1==t.dataviewtype),e.xp6(1),e.Q6J("ngIf",2==t.dataviewtype),e.xp6(1),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function Zy(n,s){1&n&&(e.TgZ(0,"h6",56),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function By(n,s){1&n&&(e.TgZ(0,"div",57),e._UZ(1,"div",58),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let Hy=(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.httpClient=i,this.router=o,this.encDec=r,this.commonserveice=x,this.authService=T,this.modalService=L,this.Name=[],this.jsonurl="assets/js/_configs/userList.config.json",this.letterID="",this.dimensions=[],this.dataArr=[],this.userList=[],this.metalist=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.dataviewtype=1,this.downloadlink="",this.fileid="",this.bookmarktype="",this.retensionid="",this.retensionFolderid="",this.filesName="",this.loading=!1,this.searchColList=["Name","Role","Email","Phone"],this.searchselcteditems=[],this.namesarray=[],this.rolesarray=[],this.emailarray=[],this.phonearray=[],this.finalarray=[],this.finalobj={Name:this.namesarray,Role:this.rolesarray,Email:this.emailarray,Phone:this.phonearray},this.nobj={},this.departmentsList=[],this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Name",cname:"userFullName",sortable:!0},{name:"Department",cname:"departmentName",sortable:!1},{name:"Role",cname:"roleName",sortable:!0},{name:"Email",cname:"userMailId",sortable:!0},{name:"Phone Number",cname:"userMobile",sortable:!0}]}ngOnInit(){this.loadconfig(),this.viewDetails(this.finalobj)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}viewDetails(t){this.loading=!0,this.commonserveice.getuserList({searchfilter:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);200==R.status&&(this.loading=!1,this.userList=R.result),400==R.status&&(this.loading=!1,this.userList=R.result),500==R.status?(this.loading=!1,this.userList=R.result):501==R.status?this.authService.directlogout():this.loading=!1}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}tableview(){this.dataviewtype=1}boxview(){this.dataviewtype=2}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}setSearchParam(t,i){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=i,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(i):"Role"==t?this.rolesarray.push(i):"Email"==t?this.emailarray.push(i):"Phone"==t&&this.phonearray.push(i),this.page=1,this.finalarray=[],this.viewDetails(this.finalobj)}removeselitems(t,i,o){if(this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==i){const r=this.namesarray.indexOf(o);-1!==r&&this.namesarray.splice(r,1)}else if("Role"==i){const r=this.rolesarray.indexOf(o);-1!==r&&this.rolesarray.splice(r,1)}else if("Email"==i){const r=this.emailarray.indexOf(o);-1!==r&&this.emailarray.splice(r,1)}else if("Phone"==i){const r=this.phonearray.indexOf(o);-1!==r&&this.phonearray.splice(r,1)}this.viewDetails(this.finalobj)}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.userList=this.userList.sort((i,o)=>i[t]<o[t]?"asc"==this.sortOrder?-1:1:i[t]>o[t]?"asc"==this.sortOrder?1:-1:0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(Ce.gz),e.Y36(g.Z),e.Y36(m.l),e.Y36(h.$),e.Y36(b.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-userlist"]],viewQuery:function(t,i){if(1&t&&e.Gf(wy,5),2&t){let o;e.iGM(o=e.CRH())&&(i.searchField=o.first)}},decls:16,vars:8,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"d-flex","align-items-center"],[1,"d-flex","align-items-center","me-3"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","placeholder","Search...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],["class","table-responsive print-section",4,"ngIf"],["class","row",4,"ngIf"],[3,"page","count","tableSize","callfunction"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],["valign","middle",4,"ngFor","ngForOf"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["valign","middle"],[1,"row"],["class","col-md-6 col-lg-6 col-xl-6 col-xxl-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-4"],[1,"div-view-section"],["class","div-view-addons",4,"ngIf"],[1,"mb-3"],[1,"row","mb-2"],[1,"col"],[1,"bi","bi-person-circle","text-primary"],[1,"bi","bi-envelope","text-primary"],[1,"bi","bi-phone","text-primary"],[1,"div-view-addons"],[1,"no-content"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,My,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,Sy,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8),e.YNc(12,Ry,21,12,"div",9),e.YNc(13,Zy,3,3,"ng-template",null,10,e.W1O),e.qZA()(),e.YNc(15,By,4,0,"div",11),e.qZA()),2&t){const o=e.MAs(14);e.xp6(2),e.Oqu(e.lcZ(3,6,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(2),e.Q6J("ngIf",(null==i.userList?null:i.userList.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.sg,C.O5,w.YN,w.Kr,w.Fj,w.JJ,w.On,en.n,xn.Q,Jt.t,$t._s,E.c]}),n})();var Yy=be(8621),Qs=be(6036),Uy=be.t(Qs,2);const jy=["myCanvas"];let qy=(()=>{class n{constructor(){this.url="https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/web/compressed.tracemonkey-pldi-09.pdf",this.pdfDocument=null,this.currPage=1,this.numPages=0,this.scale=1,this.zoomStep=.2,this.KeywordToFind="",this.findedKeywords=[],this.nbOccuranceKeyword=0,this.activeFindedKeyword=0,this.activeDrowMode=!1,this.fabricCanvas=[],this.dataurl="",this.originurl="",Qs.GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.10.377/build/pdf.worker.js",Yy.fabric.Object.prototype.objectCaching=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pdfdemo"]],viewQuery:function(t,i){if(1&t&&e.Gf(jy,5),2&t){let o;e.iGM(o=e.CRH())&&(i.canvas=o.first)}},decls:4,vars:0,consts:[[1,"card"],[1,"card-body"],[1,"pdf-container"],["id","canvas-container"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"section",3),e.qZA()()())},styles:[".viewer[_ngcontent-%COMP%]{width:100%;height:80vh}canvas[_ngcontent-%COMP%], .canvas-container[_ngcontent-%COMP%]{box-shadow:10px 10px 5px #000000bf;margin:0 auto}.previewdiv[_ngcontent-%COMP%]{background-color:#323639}.toolbar[_ngcontent-%COMP%]{width:100%;background-color:#323639;height:40px;position:absolute;top:0;left:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:0 1rem}#pdf-container[_ngcontent-%COMP%]{margin-top:60px;padding-left:10px;text-align:center}button[_ngcontent-%COMP%]:focus{outline:0}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{display:inline-block;color:#fff;height:100%;padding-top:10px;padding-left:10px;margin-right:5px}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;width:auto;height:auto!important;padding:0}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35px}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .color-tool[_ngcontent-%COMP%]{height:18px;width:18px;border-radius:0;border:0;margin-right:3px;cursor:pointer;display:inline-block}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .color-tool.active[_ngcontent-%COMP%]{box-shadow:3px 4px 5px #000000bf}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]:nth-last-child(1){float:right}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .tool-button[_ngcontent-%COMP%]{background-color:#323639;border:1px solid rgb(50,54,57);color:#fff;cursor:pointer}.toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .tool-button[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .tool-button.active[_ngcontent-%COMP%]{background-color:#525659;border-color:#525659}.pdf-container[_ngcontent-%COMP%]{position:relative;height:70vh;overflow:hidden;overflow-y:auto;width:100%;background-color:#00000080}.viewer[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;right:0;height:70vh}"]}),n})();function Vy(n,s){if(1&n&&e._UZ(0,"app-tabs",31),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.letterID)("tabMessage",t)}}function zy(n,s){1&n&&e._UZ(0,"app-utils",32),2&n&&e.Q6J("childMessage",s.$implicit)}function Jy(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.userId),e.xp6(1),e.Oqu(t.userFullName)}}function Wy(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",15)(2,"label"),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selUserId=o)}),e.TgZ(6,"option",17),e._uU(7),e.ALo(8,"langReplace"),e.qZA(),e.YNc(9,Jy,2,2,"option",18),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,4,"User")," "),e.xp6(2),e.Q6J("ngModel",t.selUserId),e.xp6(2),e.Oqu(e.lcZ(8,6,"Select")),e.xp6(2),e.Q6J("ngForOf",t.userlist)}}function Gy(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.action),e.xp6(1),e.Oqu(t.activity)}}function Qy(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function Ky(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",41),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.onSortClick(r.cname,o))}),e.qZA()}}function $y(n,s){if(1&n&&(e.TgZ(0,"th"),e.YNc(1,Ky,1,0,"i",40),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function Xy(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.TgZ(7,"span",42),e._uU(8),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&n){const t=s.$implicit,i=s.index,o=e.oxw(2);e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+i+1),e.xp6(2),e.Oqu(t.createdBy),e.xp6(2),e.HOy(" ",t.folderName?t.folderName:t.fileName," ",t.fileOrFoldertype," ","Logged in"==t.activityPerformed?"Time: "+t.lastLoginTime:""," ","Logged out"==t.activityPerformed?"Time: "+t.lastLogoutTime:""," "),e.xp6(2),e.Oqu(t.activityPerformed),e.xp6(2),e.Oqu(t.createdOn)}}const ex=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function tx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",35)(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,$y,4,4,"th",38),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,Xy,11,8,"tr",38),e.ALo(11,"paginate"),e.ALo(12,"metasearch"),e.qZA()()(),e.TgZ(13,"app-pagination",39),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,6,"Sl No"),""),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(2),e.Q6J("ngForOf",e.xi3(11,8,e.xi3(12,11,t.loglist,t.txtSearch),e.kEZ(14,ex,t.tableSize,t.page,t.count))),e.xp6(3),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function nx(n,s){1&n&&(e.TgZ(0,"h6",43),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function ix(n,s){1&n&&(e.TgZ(0,"div",44),e._UZ(1,"div",45),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let ox=(()=>{class n{constructor(t,i,o,r,x){this.route=t,this.httpClient=i,this.commonserveice=o,this.encDec=r,this.authService=x,this.jsonurl="assets/js/_configs/viewLogs.config.json",this.letterID="",this.loglist=[],this.page=1,this.count=0,this.tableSize=20,this.pageSizes=[10,20,50,100,500,1e3],this.mettypelist=["-","String","Date","Intiger"],this.searchColList=["Meta Name","Description","Type","Created By"],this.searchselcteditems=[],this.loading=!1,this.selUserId="0",this.selType="0",this.logactivitytypeList=u.N.logactivitytype,this.userlist=[],this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"User",cname:"createdBy",sortable:!0},{name:"Activity Details",cname:"activityPerformed",sortable:!0},{name:"Date",cname:"createdOn",sortable:!0}]}ngOnInit(){this.loadconfig(),this.viewLog(this.selUserId,this.selType,this.txtFromDate,this.txtToDate),this.getUsers(),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.desgId=t.USER_ID,this.roleId=t.ROLE_ID}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{this.authService.directlogout()})}reset(){this.viewLog(0,0,"",""),this.selUserId="0",this.txtFromDate="",this.txtToDate="",this.selType="0"}viewLog(t,i,o,r){let x={userId:t,activityType:i,fromDate:o,toDate:r};this.loading=!0,this.commonserveice.activitylog(x).subscribe(T=>{let L=T.RESPONSE_DATA;if(T.RESPONSE_TOKEN==l.HmacSHA256(L,u.N.apiHashingKey).toString()){let se=c.lW.from(L,"base64"),me=JSON.parse(se);200==me.status?(this.loading=!1,this.loglist=me.result):400==me.status?(this.loading=!1,this.loglist=[]):501==me.status?this.authService.directlogout():(this.loading=!1,f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},T=>{this.loading=!1,this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}setSearchParam(t,i){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=i,this.searchselcteditems.push(o),this.searchField.nativeElement.focus()}removeselitems(t){this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus()}getUsers(){this.commonserveice.getUserlist({userId:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64"),L=JSON.parse(T);200==L.status?this.userlist=L.result:501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},i=>{this.authService.directlogout()})}onSortClick(t,i){let r=i.currentTarget.classList;r.contains("bi-arrow-up")?(r.remove("bi-arrow-up"),r.add("bi-arrow-down"),this.sortDir=-1):(r.add("bi-arrow-up"),r.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.loglist=this.loglist.sort((i,o)=>i[t]<o[t]?"asc"==this.sortOrder?-1:1:i[t]>o[t]?"asc"==this.sortOrder?1:-1:0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(m.l),e.Y36(g.Z),e.Y36(h.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recentactivities"]],decls:57,vars:35,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"search-container","active"],[1,"search-sec"],[1,"row"],["class","col-md-6 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-2"],[1,"form-group"],[1,"form-select",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["type","date","placeholder","DD-MM-YYYY","id","expiryDate",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-3"],[1,"form-group","pt-4"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"d-flex","justify-content-end"],[1,"d-flex","align-items-center","mb-2"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[3,"value"],[3,"ngValue"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],[4,"ngFor","ngForOf"],[3,"page","count","tableSize","callfunction"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],[1,"text-primary","d-block","mt-1"],[1,"no-content"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,Vy,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,zy,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),e.YNc(16,Wy,10,8,"div",13),e.TgZ(17,"div",14)(18,"div",15)(19,"label"),e._uU(20),e.ALo(21,"langReplace"),e.qZA(),e.TgZ(22,"select",16),e.NdJ("ngModelChange",function(r){return i.selType=r}),e.TgZ(23,"option",17),e._uU(24),e.ALo(25,"langReplace"),e.qZA(),e.YNc(26,Gy,2,2,"option",18),e.qZA()()(),e.TgZ(27,"div",14)(28,"div",15)(29,"label"),e._uU(30),e.ALo(31,"langReplace"),e.qZA(),e.TgZ(32,"input",19),e.NdJ("ngModelChange",function(r){return i.txtFromDate=r}),e.qZA()()(),e.TgZ(33,"div",14)(34,"div",15)(35,"label"),e._uU(36),e.ALo(37,"langReplace"),e.qZA(),e.TgZ(38,"input",19),e.NdJ("ngModelChange",function(r){return i.txtToDate=r}),e.qZA()()(),e.TgZ(39,"div",20)(40,"div",21)(41,"button",22),e.NdJ("click",function(){return i.viewLog(i.selUserId,i.selType,i.txtFromDate,i.txtToDate)}),e._uU(42),e.ALo(43,"langReplace"),e.qZA(),e.TgZ(44,"button",23),e.NdJ("click",function(){return i.reset()}),e._uU(45),e.ALo(46,"langReplace"),e.qZA()()()()()(),e.TgZ(47,"div",24)(48,"div",25),e._uU(49),e.ALo(50,"langReplace"),e.TgZ(51,"select",26),e.NdJ("change",function(r){return i.onTableSizeChange(r)}),e.YNc(52,Qy,2,2,"option",27),e.qZA()()(),e.YNc(53,tx,14,18,"div",28),e.YNc(54,nx,3,3,"ng-template",null,29,e.W1O),e.qZA()()(),e.YNc(56,ix,4,0,"div",30),e.qZA()),2&t){const o=e.MAs(55);e.xp6(2),e.Oqu(e.lcZ(3,19,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(6),e.Q6J("ngIf",1==i.roleId),e.xp6(4),e.hij(" ",e.lcZ(21,21,"Type")," "),e.xp6(2),e.Q6J("ngModel",i.selType),e.xp6(2),e.hij(" ",e.lcZ(25,23,"Select"),""),e.xp6(2),e.Q6J("ngForOf",i.logactivitytypeList),e.xp6(4),e.hij(" ",e.lcZ(31,25,"Form Date")," "),e.xp6(2),e.Q6J("ngModel",i.txtFromDate),e.xp6(4),e.hij(" ",e.lcZ(37,27,"To Date")," "),e.xp6(2),e.Q6J("ngModel",i.txtToDate),e.xp6(4),e.hij(" ",e.lcZ(43,29,"Search"),""),e.xp6(3),e.hij(" ",e.lcZ(46,31,"Reset"),""),e.xp6(4),e.hij(" ",e.lcZ(50,33,"Display")," \xa0 "),e.xp6(3),e.Q6J("ngForOf",i.pageSizes),e.xp6(1),e.Q6J("ngIf",(null==i.loglist?null:i.loglist.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.sg,C.O5,w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.On,en.n,xn.Q,Jt.t,$t._s,E.c,Zl]}),n})();function sx(n,s){1&n&&e._UZ(0,"i",23)}function rx(n,s){1&n&&e._UZ(0,"i",24)}function ax(n,s){1&n&&e._UZ(0,"i",23)}function lx(n,s){1&n&&e._UZ(0,"i",24)}function cx(n,s){1&n&&e._UZ(0,"i",23)}function dx(n,s){1&n&&e._UZ(0,"i",24)}let hx=(()=>{class n{constructor(t,i,o,r,x){this.route=t,this.httpClient=i,this.commonserveice=o,this.vldChkLst=r,this.authService=x,this.txtConPass=null,this.txtOldPass=null,this.txtNewPass=null,this.show=!1,this.password="password",this.nshow=!1,this.npassword="password",this.cshow=!1,this.cpassword="password"}ngOnInit(){this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(l.AES.decrypt(this.sessiontoken,u.N.apiHashingKey).toString(l.enc.Utf8));this.userLoginId=t.USER_LOGINID,this.username=t.USER_NAME}toggleFieldTextType(){"password"==this.password?(this.password="text",this.show=!0):(this.password="password",this.show=!1)}toggleFieldNTextType(){"password"==this.npassword?(this.npassword="text",this.nshow=!0):(this.npassword="password",this.nshow=!1)}toggleFieldCTextType(){"password"==this.cpassword?(this.cpassword="text",this.cshow=!0):(this.cpassword="password",this.cshow=!1)}changePassword(){let i=this.txtOldPass,o=this.txtNewPass,r=this.txtConPass;this.vldChkLst.blankCheck(i,this.commonserveice.langReplace("Please Enter Current Password"),"txtOldPass")&&this.vldChkLst.blankCheck(o,this.commonserveice.langReplace("Enter New Password"),"txtNewPass")&&this.vldChkLst.chkPassword(o)&&this.vldChkLst.blankCheck(r,this.commonserveice.langReplace("Enter Confirm Password"),"txtConPass")&&this.vldChkLst.chkPassword(r)&&(o!==r?f().fire({icon:"error",text:this.commonserveice.langReplace("Enter New and Confirm Password not matched")}):this.commonserveice.changePassword({old_password:i,new_password:o,new_confirm_password:r}).subscribe(T=>{let L=T.RESPONSE_DATA;if(T.RESPONSE_TOKEN==l.HmacSHA256(L,u.N.apiHashingKey).toString()){let se=c.lW.from(L,"base64"),me=JSON.parse(se);200==me.status?f().fire({icon:"success",text:this.commonserveice.langReplace("Your Password changed Successfully")}).then(Me=>{Me.isConfirmed&&(this.resetform(),this.authService.directlogout())}):400==me.status?f().fire({icon:"error",text:me.message}):501==me.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace("Enter Old Password Not Matched")})}else this.authService.directlogout()},T=>{this.authService.directlogout()}))}resetform(){this.txtConPass=null,this.txtNewPass=null,this.txtOldPass=null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(m.l),e.Y36(M._),e.Y36(h.$))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-changepassword"]],decls:56,vars:30,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-lg-2","col-md-4","pt-2"],[1,"col-lg-4","col-md-8"],[1,"form-group"],[1,"input-group"],["id","txtOldPass",1,"form-control","border-end-0",3,"type","ngModel","ngModelChange"],[1,"input-group-text","border-start-0",3,"click"],["class","bi bi-eye","aria-hidden","true",4,"ngIf"],["class","bi bi-eye-slash","aria-hidden","true",4,"ngIf"],[1,"input-group","mb-3"],["id","txtNewPass","maxlength","15","minlength","8",1,"form-control","border-end-0",3,"type","ngModel","ngModelChange"],["id","basic-addon2",1,"input-group-text"],["ngbTooltip","Password Must 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character"],[1,"bi","bi-info-circle"],["id","txtConPass",1,"form-control","border-end-0",3,"type","ngModel","ngModelChange"],["ngbTooltip","Password Must 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character","title",""],[1,"col-lg-2","col-md-4"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger"],["aria-hidden","true",1,"bi","bi-eye"],["aria-hidden","true",1,"bi","bi-eye-slash"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"label",5),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"input",9),e.NdJ("ngModelChange",function(r){return i.txtOldPass=r}),e.qZA(),e.TgZ(15,"span",10),e.NdJ("click",function(){return i.toggleFieldTextType()}),e.YNc(16,sx,1,0,"i",11),e.YNc(17,rx,1,0,"i",12),e.qZA()()()()(),e.TgZ(18,"div",4)(19,"label",5),e._uU(20),e.ALo(21,"langReplace"),e.qZA(),e.TgZ(22,"div",6)(23,"div",7)(24,"div",13)(25,"input",14),e.NdJ("ngModelChange",function(r){return i.txtNewPass=r}),e.qZA(),e.TgZ(26,"span",10),e.NdJ("click",function(){return i.toggleFieldNTextType()}),e.YNc(27,ax,1,0,"i",11),e.YNc(28,lx,1,0,"i",12),e.qZA(),e.TgZ(29,"span",15)(30,"a",16),e._UZ(31,"i",17),e.qZA()()()()()(),e.TgZ(32,"div",4)(33,"label",5),e._uU(34),e.ALo(35,"langReplace"),e.qZA(),e.TgZ(36,"div",6)(37,"div",7)(38,"div",8)(39,"input",18),e.NdJ("ngModelChange",function(r){return i.txtConPass=r}),e.qZA(),e.TgZ(40,"span",10),e.NdJ("click",function(){return i.toggleFieldCTextType()}),e.YNc(41,cx,1,0,"i",11),e.YNc(42,dx,1,0,"i",12),e.qZA(),e.TgZ(43,"span",15)(44,"a",19),e._UZ(45,"i",17),e.qZA()()()()()(),e.TgZ(46,"div",4),e._UZ(47,"label",20),e.TgZ(48,"div",6)(49,"button",21),e.NdJ("click",function(){return i.changePassword()}),e._uU(50),e.ALo(51,"langReplace"),e.qZA(),e._uU(52," \xa0 "),e.TgZ(53,"button",22),e._uU(54),e.ALo(55,"langReplace"),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,18,"Change Password")),e.xp6(7),e.hij("* ",e.lcZ(10,20,"Current Password"),""),e.xp6(5),e.Q6J("type",i.password)("ngModel",i.txtOldPass),e.xp6(2),e.Q6J("ngIf",!i.show),e.xp6(1),e.Q6J("ngIf",i.show),e.xp6(3),e.hij("* ",e.lcZ(21,22,"New Password"),""),e.xp6(5),e.Q6J("type",i.npassword)("ngModel",i.txtNewPass),e.xp6(2),e.Q6J("ngIf",!i.nshow),e.xp6(1),e.Q6J("ngIf",i.nshow),e.xp6(6),e.hij("* ",e.lcZ(35,24,"Confirm Password"),""),e.xp6(5),e.Q6J("type",i.cpassword)("ngModel",i.txtConPass),e.xp6(2),e.Q6J("ngIf",!i.cshow),e.xp6(1),e.Q6J("ngIf",i.cshow),e.xp6(8),e.Oqu(e.lcZ(51,26,"Submit")),e.xp6(4),e.Oqu(e.lcZ(55,28,"Reset")))},dependencies:[C.O5,w.Fj,w.JJ,w.wO,w.nD,w.On,b._L,E.c]}),n})();var ux=be(1291);const fx=["fileuploadModal"],px=["myckeditor"];function gx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"input",15),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onchkHobbiesChange(o))}),e.qZA(),e.TgZ(2,"label",16),e._uU(3),e.qZA()()}if(2&n){const t=s.index,i=e.oxw();e.xp6(1),e.Q6J("formControlName",t)("value",i.chkSkills[t].name),e.xp6(2),e.Oqu(i.chkSkills[t].name)}}function _x(n,s){if(1&n&&(e.TgZ(0,"div",17),e._UZ(1,"input",18),e.TgZ(2,"label",16),e._uU(3),e.qZA()()),2&n){const t=s.index,i=e.oxw();e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.Oqu(i.userlist[t].name)}}let mx=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.modalService=t,this.httpClient=i,this.encDec=o,this.uploadfiles=r,this.fb=x,this.router=T,this.vldChkLst=L,this.reportService=R,this.name="ng2-ckeditor",this.mycontent2=[],this.log="",this.showFiles=!1,this.txtdata="",this.serviceURL=u.N.serviceURL,this.useremail="",this.userid=0,this.username="",this.resubmitstatus=0,this.chkHobbies=[{name:"Dancing",value:"Dancing"},{name:"Singing",value:"Singing"},{name:"Playing",value:"Playing"}],this.chkSkills=[{name:"React",value:"React"},{name:"Dotnet",value:"Dotnet"},{name:"java",value:"java"},{name:"Python",value:"Python"},{name:"PHP",value:"PHP"},{name:"Angular",value:"Angular"}],this.userlist=[],this.loadusers(0),this.mycontent="<p>My html content</p>",setTimeout(()=>{const J=this.chkSkills.map(me=>this.fb.control(!1)),se=this.userlist.map(me=>this.fb.control(!1));this.apply_check_two=this.fb.group({intId:"",intCreatedBy:this.userid,intUpdatedBy:this.userid,txtName:"",chkSkills:this.fb.array(J),userlist:this.fb.array(se)})},500)}ngOnInit(){this.mycontent2.test="testval",this.ckeConfig={allowedContent:!0,extraPlugins:"uploadimage",removeButtons:"exportPdf,Save,NewPage,Preview,Print,Templates,Cut,Copy,Paste,PasteFromWord,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Strike,Subscript,Superscript,CopyFormatting,RemoveFormat,Outdent,Indent,CreateDiv,Blockquote,BidiLtr,BidiRtl,Language,Anchor,Flash,Smiley,SpecialChar,Iframe,Maximize,ShowBlocks,About",disallowedContent:"*{*color}; *{*align}",filebrowserBrowseUrl:"https://ckeditor.com/apps/ckfinder/3.4.5/ckfinder.html",filebrowserImageBrowseUrl:"https://ckeditor.com/apps/ckfinder/3.4.5/ckfinder.html?type=Images",filebrowserUploadUrl:"http://172.27.30.93:7001/DMS_PHP/admin/ckEditorFileUpload",filebrowserImageUploadUrl:"http://172.27.30.93:7001/DMS_PHP/admin/ckEditorImageUpload"};let t=this.router.snapshot.paramMap.get("id");if(""!=t){let o=this.encDec.decText(t).split(":");this.itemID=o[0],this.resubmitstatus=o[1],this.itemID>0&&this.previewDetails(this.itemID)}}get chkSkillsArr(){return this.apply_check_two.get("chkSkills")}get userlistArr(){return this.apply_check_two.get("userlist")}open(t){this.modalService.open(t,{size:"md",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{})}closeModal(){this.modalService.dismissAll()}onChange(t){console.log("onChange")}onPaste(t){console.log("onPaste")}onFileUploadRequest(t){console.log("onPaste")}onFileUploadResponse(t){console.log("onPaste")}submitForm(){console.log(this.apply_check_two.value)}previewDetails(t){}loadusers(t){this.reportService.getUserlist({userId:t,fileId:""}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64"),R=JSON.parse(L);if(200==R.status){let J=R.result;for(let se=0;se<J.length;se++){let me={};me.name=J[se].userFullName,me.value=J[se].userId,this.userlist.push(me)}}400==R.status&&(this.userlist=R.result),500==R.status&&(this.userlist=R.result)}},o=>{})}UploadFile(t,i,o,r){let x=t.target.files[0],L=!0;if(this.vldChkLst.validateFile(x.type,r)||(L=!1,f().fire({icon:"error",text:"invalid file type"})),!this.vldChkLst.validateFileSize(x.size,i,o)){L=!1;let R="";R="kb"==o.toLowerCase()?"File size exceeds "+i+"KB.":"File size exceeds "+i+"MB.",f().fire({icon:"error",text:R})}L&&(new FormData).append("file",x)}removeFile(t){document.getElementById(t).value=[],this.apply_check_two.controls[t].setValue("")}onchkHobbiesChange(t){const i=this.apply_check_two.get("userlist");if(t.target.checked)i.push(new w.NI(t.target.value));else{let o=0;i.controls.forEach(r=>{r.value!=t.target.value?o++:i.removeAt(o)})}}setvaluesss(){let t=["React"],i=[4,8];this.apply_check_two.patchValue({intId:"",intCreatedBy:this.userid,intUpdatedBy:this.userid,txtName:"Bikash"}),this.chkSkills.map((o,r)=>{-1!==t.indexOf(o.name)&&this.chkSkillsArr.at(r).patchValue(!0)}),console.log(this.userlist),this.userlist.map((o,r)=>{-1!==i.indexOf(o.value)&&this.userlistArr.at(r).patchValue(!0)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.FF),e.Y36(a.eN),e.Y36(g.Z),e.Y36(j),e.Y36(w.qu),e.Y36(Ce.gz),e.Y36(M._),e.Y36(ux.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-feedbackreport"]],viewQuery:function(t,i){if(1&t&&(e.Gf(fx,5),e.Gf(px,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.fileuploadModal=o.first),e.iGM(o=e.CRH())&&(i.ckeditor=o.first)}},decls:28,vars:6,consts:[[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"onegrid"],["type","hidden","formControlName","intId"],[1,"form-group"],["Class","w-full text-md "],[1,"control-item"],["type","text","formControlName","txtName","id","txtName","minlength","","maxlength","","placeholder","","autocomplete","off",1,"form-control"],["class","form-check form-check-inline","formArrayName","chkSkills",4,"ngFor","ngForOf"],["class","form-check form-check-inline","formArrayName","userlist",4,"ngFor","ngForOf"],[1,"mt-10","onegrid","btn-div"],["type","submit",1,"btn","btn-success"],["type","submit",1,"btn","btn-success",3,"click"],["formArrayName","chkSkills",1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input",3,"formControlName","value","change"],["for","chkHobbies",1,"form-check-label"],["formArrayName","userlist",1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input",3,"formControlName"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(3,"div",3),e._UZ(4,"input",4),e.TgZ(5,"div",5)(6,"label",6),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.qZA()(),e.TgZ(10,"div",5)(11,"label",6),e._uU(12,"Skills"),e.qZA(),e.TgZ(13,"div",7),e.YNc(14,gx,4,3,"div",9),e.qZA()(),e.TgZ(15,"div",5)(16,"label",6),e._uU(17,"User List"),e.qZA(),e.TgZ(18,"div",7),e.YNc(19,_x,4,2,"div",10),e.qZA()()(),e.TgZ(20,"div",11)(21,"button",12),e._uU(22," Submit "),e.qZA()()(),e.TgZ(23,"button",13),e.NdJ("click",function(){return i.setvaluesss()}),e._uU(24," Set "),e.qZA(),e.TgZ(25,"pre"),e._uU(26),e.ALo(27,"json"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.apply_check_two),e.xp6(12),e.Q6J("ngForOf",i.chkSkillsArr.controls),e.xp6(5),e.Q6J("ngForOf",i.userlistArr.controls),e.xp6(7),e.Oqu(e.lcZ(27,4,i.apply_check_two.value)))},dependencies:[C.sg,w._Y,w.Fj,w.Wl,w.JJ,w.JL,w.wO,w.nD,w.sg,w.u,w.CE,C.Ts],styles:['.qs-div[_ngcontent-%COMP%]{margin-bottom:1.5rem}.qs-div[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.8rem}.result-div[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;margin-bottom:.5rem}.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{display:block;color:#fff;flex:0 0 20%;padding:1rem;position:relative;justify-content:flex-start}.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:before{font-family:icons!important;content:"";font-size:3rem;display:inline-block;position:absolute;top:1rem;right:1rem;color:#ffffff80}.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1rem}.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:75%}.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-data[_ngcontent-%COMP%]{margin-bottom:.6rem}@media screen and (max-width: 1440px){.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{flex:0 0 25%;padding:.6rem}.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:before{font-size:2.6rem;top:.6rem;right:.6rem}}@media screen and (max-width: 1440px){.result-div[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{flex:0 0 33%}}.result-div[_ngcontent-%COMP%]   .option-result[_ngcontent-%COMP%]{display:flex;flex:0 0 80%}.result-div[_ngcontent-%COMP%]   .option-result[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex}.one[_ngcontent-%COMP%]{background:#e10000}.one[_ngcontent-%COMP%]:before{content:"\\eb3c"!important}.two[_ngcontent-%COMP%]{background:#f95656}.two[_ngcontent-%COMP%]:before{content:"\\eb3c"!important}.three[_ngcontent-%COMP%]{background:#FF9800}.three[_ngcontent-%COMP%]:before{content:"\\ec89"!important}.four[_ngcontent-%COMP%]{background:#2aaf2f}.four[_ngcontent-%COMP%]:before{content:"\\edb8"!important}.five[_ngcontent-%COMP%]{background:#009b05}.five[_ngcontent-%COMP%]:before{content:"\\eb89"!important}']}),n})();var On=be(10),Ks=be(1155);function vx(n,s){1&n&&e._UZ(0,"app-tabs",22),2&n&&e.Q6J("tabMessage",s.$implicit)}function bx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-utils",23),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getLanguages("0"))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("childMessage",t)("sendIds",i.letterIdArray)("funType",i.sevName)("pubUnpubStatus",i.pubUnpStatus)}}function Cx(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function yx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",47),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw().$implicit,x=e.oxw(2);return e.KtG(x.onChange(r.intId,o,r.tinPublishStatus))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.s9C("name",t.intId),e.Q6J("id",t.intId)("value",t.intId),e.uIk("pubstatus",t.tinPublishStatus)}}function xx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.editForm(o.intId))}),e._UZ(1,"i",49),e.qZA()}}const wx=function(n,s){return{"border-left-danger":n,"border-left-success":s}};function Mx(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",43)(2,"div"),e.YNc(3,yx,1,4,"input",44),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td",45),e.YNc(13,xx,2,0,"a",46),e.qZA()()),2&n){const t=s.$implicit,i=s.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(7,wx,0==t.tinPublishStatus,1==t.tinPublishStatus)),e.xp6(2),e.Q6J("ngIf",o.defaultLanguage!=t.aliasName),e.xp6(2),e.Oqu(i+1+o.indexNumber),e.xp6(2),e.Oqu(t.langName),e.xp6(2),e.Oqu(t.aliasName),e.xp6(2),e.hij("",0==t.tinPublishStatus?"Unpublish":"Publish"," "),e.xp6(2),e.Q6J("ngIf",o.defaultLanguage!=t.aliasName)}}const Sx=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}};function Tx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",24)(2,"div")(3,"ul",25)(4,"li"),e._UZ(5,"span",26),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.TgZ(8,"li"),e._UZ(9,"span",27),e._uU(10),e.ALo(11,"langReplace"),e.qZA()()(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"langReplace"),e.TgZ(15,"select",28),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableSizeChange(o))}),e.YNc(16,Cx,2,2,"option",29),e.qZA()()(),e.TgZ(17,"div")(18,"div",30)(19,"table",31)(20,"thead",32)(21,"tr")(22,"th",33)(23,"div")(24,"input",34),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectAll(o))}),e.qZA()()(),e.TgZ(25,"th",35),e._uU(26),e.ALo(27,"langReplace"),e.qZA(),e.TgZ(28,"th",36),e._uU(29),e.ALo(30,"langReplace"),e.qZA(),e.TgZ(31,"th",36),e._uU(32),e.ALo(33,"langReplace"),e.qZA(),e.TgZ(34,"th",37),e._uU(35),e.ALo(36,"langReplace"),e.qZA(),e.TgZ(37,"th",38),e._uU(38),e.ALo(39,"langReplace"),e.qZA()()(),e.TgZ(40,"tbody"),e.YNc(41,Mx,14,10,"tr",39),e.ALo(42,"paginate"),e.qZA()()(),e.TgZ(43,"div",40)(44,"app-pagination",41),e.NdJ("callfunction",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(o))}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.hij("",e.lcZ(7,13,"Publish")," "),e.xp6(4),e.hij("",e.lcZ(11,15,"Unpublish")," "),e.xp6(3),e.hij(" ",e.lcZ(14,17,"Per Page"),": "),e.xp6(3),e.Q6J("ngForOf",t.pageSizes),e.xp6(10),e.hij("",e.lcZ(27,19,"Sl No")," "),e.xp6(3),e.Oqu(e.lcZ(30,21,"Language Name")),e.xp6(3),e.Oqu(e.lcZ(33,23,"Alias Name")),e.xp6(3),e.Oqu(e.lcZ(36,25,"Status")),e.xp6(3),e.hij(" ",e.lcZ(39,27,"Action")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(42,29,t.getLanguageList,e.kEZ(32,Sx,t.tableSize,t.page,t.count))),e.xp6(3),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function kx(n,s){1&n&&(e.TgZ(0,"h6",50),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found"),""))}function Ax(n,s){1&n&&(e.TgZ(0,"div",51),e._UZ(1,"div",52),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&n&&(e.xp6(3),e.hij("","Loading","..."))}let Ox=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.httpClient=i,this.fb=o,this.manageLanguage=r,this.encDec=x,this.validationService=T,this.authService=L,this.commonserveice=R,this.loading=!1,this.jsonurl="assets/js/_configs/manageLanguage.config.json",this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.dynamicListArray=[],this.rowList=[],this.getLanguageList=[],this.editStatus=!1,this.letterIdArray=[],this.sevName="language_module/manageLanguage",this.newDynamic={},this.deleteStatus=!1,this.pubUnpStatus=[],this.langKey="en",this.defaultLanguage="en",this.indexNumber=0,this.txtLangName="",this.txtAliasName="",this.messageid=""}ngOnInit(){this.resetform(),this.getLanguages("0"),this.loadconfig(),this.letterIdArray=[]}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}multilingual(t){return t}onTableDataChange(t){this.page=t,this.indexNumber=(this.page-1)*this.tableSize}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.indexNumber=0}onChange(t,i,o){if(i.target.checked)this.letterIdArray.includes(t)||(this.letterIdArray.push(t),this.pubUnpStatus.push({letterId:t,publishUnpublisStatus:o}));else{let r=this.letterIdArray.indexOf(t),x=0;for(let T of this.pubUnpStatus){if(T.letterId==t){this.pubUnpStatus.splice(x,1);break}x++}this.letterIdArray.splice(r,1)}}selectAll(t){let i=document.querySelectorAll(".rowCheck");if(t.target.checked){for(var o=0;o<i.length;o++)this.letterIdArray.push(parseInt(i[o].id));i.forEach(x=>x.click()),$(i).prop("checked",!0)}else this.letterIdArray=[],$(i).prop("checked",!1)}validateForm(){var i=this.txtLangName.trim(),o=this.txtAliasName.trim();return!(!this.validationService.blankCheck(i,this.commonserveice.langReplace("Enter Language Name"),"txtLangName")||(i.match(/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/)?(f().fire("warning !!",this.commonserveice.langReplace("Language Name should not have any special character"),"warning"),1):!this.validationService.blankCheck(o,this.commonserveice.langReplace("Enter Alias Name"),"txtAliasName")||!this.validationService.maxLength(o,8,this.commonserveice.langReplace("Alias Name"),"txtAliasName")))}onSubmit(){this.validateForm()&&this.manageLanguage.addLanguage({intId:this.messageid,languageName:this.txtLangName,aliasName:this.txtAliasName}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64");T=JSON.parse(T.toString()),200==T.status?f().fire({icon:"success",text:this.commonserveice.langReplace(this.messaageslist.successMsg)}).then(L=>{this.resetform(),this.ngOnInit()}):400==T.status?f().fire({icon:"warning",text:T.message}):417==T.status?f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)}):f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.errorMsg)})}else f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.errorApiResponse)})},i=>{this.authService.directlogout()})}resetform(){this.editStatus=!1,this.rowList=[],this.dynamicListArray=[],this.txtAliasName="",this.txtLangName="",this.deleteStatus=!1,this.messageid=""}getLanguages(t){this.manageLanguage.viewLanguage({data:"",pageStatus:"configuration",intId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64");L=JSON.parse(L.toString()),200==L.status?this.getLanguageList=L.result:417==L.status?f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)}):501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}editForm(t){this.messageid=t,this.editStatus=!0,this.manageLanguage.viewLanguage({data:"",pageStatus:"configuration",intId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64");if(L=JSON.parse(L.toString()),200==L.status){let R=L.result;this.txtLangName=R[0].langName,this.txtAliasName=R[0].aliasName}else 417==L.status?f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)}):501==L.status?this.authService.directlogout():f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},o=>{this.loading=!1,this.authService.directlogout()})}cancel(){this.resetform(),this.ngOnInit()}nullidsArray(){this.letterIdArray=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(w.qu),e.Y36(Ks.T),e.Y36(g.Z),e.Y36(M._),e.Y36(h.$),e.Y36(m.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-language"]],decls:46,vars:22,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"tabMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-3"],[1,"col-md-6","col-lg-4"],[1,"form-group"],["type","text","id","txtLangName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtAliasName",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-lg-9"],["type","submit","id","submit",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"indicatorslist"],[3,"childMessage","sendIds","funType","pubUnpubStatus","callfunction",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],[3,"tabMessage"],[3,"childMessage","sendIds","funType","pubUnpubStatus","callfunction"],[1,"d-flex","justify-content-between","mb-3"],[1,"legends"],[1,"bg-success"],[1,"bg-danger"],[3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"table-responsive","print-section"],["data-toggle","table",1,"table","table-bordered","valign-middle"],[1,"thead-dark"],["scope","col",1,"noPrint",2,"width","40px"],["type","checkbox","id","checkall","name","checkall","value","checkall",1,"form-check-input","checkAll",3,"click"],["scope","col",2,"width","40px"],["scope","col"],["scope","col",1,"noPrint"],["scope","col",1,"noPrint",2,"width","80px"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"page","count","tableSize","callfunction"],[3,"ngValue"],[1,"noPrint","border-left-2",3,"ngClass"],["class","form-check-input rowCheck","type","checkbox",3,"name","id","value","change",4,"ngIf"],[1,"p-none","text-center","p-none"],["class","text-primary","data-toggle","tooltip","title","","data-original-title","Edit",3,"click",4,"ngIf"],["type","checkbox",1,"form-check-input","rowCheck",3,"name","id","value","change"],["data-toggle","tooltip","title","","data-original-title","Edit",1,"text-primary",3,"click"],[1,"icon-edit-solid"],[1,"no-content"],[1,"loader"],[1,"loader-item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,vx,1,1,"app-tabs",5),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"langReplace"),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"input",12),e.NdJ("ngModelChange",function(r){return i.txtLangName=r}),e.qZA()()()(),e.TgZ(18,"div",8)(19,"label",9),e._uU(20),e.ALo(21,"langReplace"),e.qZA(),e.TgZ(22,"div",10)(23,"div",11)(24,"input",13),e.NdJ("ngModelChange",function(r){return i.txtAliasName=r}),e.qZA()()()(),e.TgZ(25,"div",8),e._UZ(26,"label",9),e.TgZ(27,"div",14)(28,"div")(29,"button",15),e.NdJ("click",function(){return i.onSubmit()}),e._uU(30),e.ALo(31,"langReplace"),e.qZA(),e._uU(32,"\xa0 "),e.TgZ(33,"button",16),e.NdJ("click",function(){return i.cancel()}),e._uU(34),e.ALo(35,"langReplace"),e.qZA()()()()()()(),e.TgZ(36,"div",2)(37,"div",3),e._UZ(38,"ul",4),e.TgZ(39,"div",17),e.YNc(40,bx,1,4,"app-utils",18),e.qZA()(),e.TgZ(41,"div",6),e.YNc(42,Tx,45,36,"div",19),e.YNc(43,kx,3,3,"ng-template",null,20,e.W1O),e.qZA()()(),e.YNc(45,Ax,4,1,"div",21)),2&t){const o=e.MAs(44);e.xp6(2),e.Oqu(e.lcZ(3,12,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(5),e.hij("* ",e.lcZ(14,14,"Language Name")," "),e.xp6(4),e.Q6J("ngModel",i.txtLangName),e.xp6(3),e.hij("* ",e.lcZ(21,16,"Alias Name")," "),e.xp6(4),e.Q6J("ngModel",i.txtAliasName),e.xp6(6),e.Oqu(e.lcZ(31,18,i.editStatus?"Update":"Submit")),e.xp6(4),e.Oqu(e.lcZ(35,20,i.editStatus?"Cancel":"Reset")),e.xp6(6),e.Q6J("ngForOf",i.utillist),e.xp6(2),e.Q6J("ngIf",(null==i.getLanguageList?null:i.getLanguageList.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.loading)}},dependencies:[C.mk,C.sg,C.O5,w.YN,w.Kr,w.Fj,w.JJ,w.On,en.n,xn.Q,Jt.t,$t._s,E.c]}),n})();function Px(n,s){if(1&n&&e._UZ(0,"app-tabs",15),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("activeid",i.schemeStr)("tabMessage",t)}}const Dx=function(){return{standalone:!0}};function Ex(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label",11),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"div",16)(5,"div",17)(6,"input",18),e.NdJ("ngModelChange",function(o){const x=e.CHM(t).$implicit;return e.KtG(x.value=o)}),e.qZA()()()()}if(2&n){const t=s.$implicit,i=s.index;e.xp6(2),e.hij("* ",e.lcZ(3,4,t.name)," "),e.xp6(4),e.MGl("id","lang_",i,""),e.Q6J("ngModel",t.value)("ngModelOptions",e.DdM(6,Dx))}}let Ul=(()=>{class n{constructor(t,i,o,r,x,T,L,R){this.route=t,this.httpClient=i,this.encDec=o,this.labelLanguage=r,this.validatorCheck=x,this.authService=T,this.router=L,this.commonserveice=R,this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.editData="",this.jsonurl="assets/js/_configs/LabelLanguage.config.json",this.loading=!1,this.newDynamic={},this.english=null,this.hindi=null,this.odia=null,this.txtPageName=null,this.rowList=[],this.schemeStr="0",this.editStatus=!1,this.langKey="en",this.langDynaic=[],this.langmap={},this.isLangEng=JSON.parse(sessionStorage.getItem("setLang")+"")}ngOnInit(){this.getLanguage(""),this.loadconfig();let t=this.router.snapshot.paramMap.get("id");""!=t&&null!=t?(this.editStatus=!0,this.schemeStr=this.encDec.decText(t),setTimeout(()=>{this.editLableLanguage(this.schemeStr)},100)):this.schemeStr="0"}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle,"0"!=this.schemeStr&&this.tablist.map(o=>{"View Label"==o.tabName&&Object.assign(o,{tabUrl:"../viewAllLanguage"})})})}getLanguage(t){let i={intId:t};this.loading=!0,this.labelLanguage.getlanguages(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64");if(L=JSON.parse(L.toString()),200==L.status){this.languageList=L.result;for(let R=0;R<this.languageList.length;R++){let J={};J.name=this.languageList[R].vchLanguageName,J.aliasName=this.languageList[R].vchAliasName,J.value="",this.langDynaic.push(J)}}else console.log(L.messages)}else f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)})})}validateForm(){let i=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;for(let o=0;o<this.langDynaic.length;o++){if(!this.validatorCheck.blankCheck(this.langDynaic[o].value,this.commonserveice.langReplace("Enter language label of")+" "+this.commonserveice.langReplace(this.langDynaic[o].name),"lang_"+o))return!1;if(this.langDynaic[o].value.match(i))return f().fire("warning !!",this.commonserveice.langReplace("Label Name should not have any special character"),"warning"),!1}return!0}doSubmit(){if(this.validateForm()){let t={},i="";for(let r=0;r<this.langDynaic.length;r++)t[this.langDynaic[r].aliasName]=this.langDynaic[r].value,"en"==this.langDynaic[r].aliasName&&(i=this.langDynaic[r].value);this.langmap=t;let o={data:this.langmap,vchLabel:i.toLowerCase(),intId:parseInt(this.schemeStr)};this.labelLanguage.submitlables(o).subscribe(r=>{let x=r.RESPONSE_DATA;if(r.RESPONSE_TOKEN==l.HmacSHA256(x,u.N.apiHashingKey).toString()){let R=c.lW.from(x,"base64");R=JSON.parse(R.toString()),200==R.status?f().fire({icon:"success",text:this.commonserveice.langReplace(this.messaageslist.successMsg)}).then(J=>{this.editStatus?this.route.navigate(["/admin/viewAllLanguage"]):this.resetform()}):400==R.status?f().fire({icon:"warning",text:this.commonserveice.langReplace("Label name already in the database")}):417==R.status?f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)}):f().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.errorMsg)})}else f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)})},r=>{this.authService.directlogout()})}}switchLanguage(t){}editLableLanguage(t){this.loading=!0,this.labelLanguage.editLableLanguageById({intId:t}).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64");if(L=JSON.parse(L.toString()),200==L.status){this.loading=!1,this.editData=JSON.parse(L.result.vchOtherLabel);for(let R=0;R<this.langDynaic.length;R++)this.langDynaic[R].value=this.editData[this.langDynaic[R].aliasName];this.english=this.editData.en}else 417==L.status?f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)}):f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.somethingWrong)})}else f().fire({icon:"error",text:this.commonserveice.langReplace(u.N.invalidResponse)})})}resetform(){this.ngOnInit(),this.langDynaic=[]}cancel(){this.route.navigate(["/admin/viewAllLanguage"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(g.Z),e.Y36(Ks.T),e.Y36(M._),e.Y36(h.$),e.Y36(Ce.gz),e.Y36(m.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-languagelabels"]],decls:25,vars:11,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[1,"col-md-12","bg-light","text-right"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4","col-lg-2"],[1,"col-md-6","col-lg-9"],["type","submit","id","submit",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"activeid","tabMessage"],[1,"col-md-6","col-lg-4"],[1,"form-group"],["type","text","name","",1,"form-control","txtval",3,"ngModel","ngModelOptions","id","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e._UZ(8,"div",5),e.YNc(9,Px,1,2,"app-tabs",6),e.qZA()(),e.TgZ(10,"form")(11,"div",7)(12,"div",8),e.YNc(13,Ex,7,7,"div",9),e.TgZ(14,"div",10),e._UZ(15,"label",11),e.TgZ(16,"div",12)(17,"div")(18,"button",13),e.NdJ("click",function(){return i.doSubmit()}),e._uU(19),e.ALo(20,"langReplace"),e.qZA(),e._uU(21,"\xa0 "),e.TgZ(22,"button",14),e.NdJ("click",function(){return i.editStatus?i.cancel():i.resetform()}),e._uU(23),e.ALo(24,"langReplace"),e.qZA()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,5,i.title)),e.xp6(7),e.Q6J("ngForOf",i.tablist),e.xp6(4),e.Q6J("ngForOf",i.langDynaic),e.xp6(6),e.Oqu(e.lcZ(20,7,"Submit")),e.xp6(4),e.Oqu(e.lcZ(24,9,i.editStatus?"Cancel":"Reset")))},dependencies:[C.sg,w._Y,w.Fj,w.JJ,w.JL,w.On,w.F,en.n,E.c]}),n})();function Lx(n,s){1&n&&e._UZ(0,"app-tabs",31),2&n&&e.Q6J("tabMessage",s.$implicit)}function Fx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-utils",32),e.NdJ("callfunction",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewItems())})("callfunction2",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectAll(o))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("childMessage",t)("sendIds",i.letterIdArray)("funType",i.sevName)}}function Ix(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Nx(n,s){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.vchLanguageName)," ")}}function Rx(n,s){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",""!=i.vchOtherLabel[t.vchAliasName]?i.vchOtherLabel[t.vchAliasName]:"--"," ")}}const Zx=function(n,s){return{"border-left-danger":n,"border-left-success":s}};function Bx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",34)(2,"div")(3,"input",35),e.NdJ("change",function(o){const x=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.onChange(x.intId,o))}),e.qZA()()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.YNc(6,Rx,2,1,"td",26),e.TgZ(7,"td",36)(8,"a",37),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw();return e.KtG(x.editForm(r.intId))}),e._UZ(9,"i",38),e.qZA()()()}if(2&n){const t=s.$implicit,i=s.index,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(6,Zx,0==t.tinPublishStatus,1==t.tinPublishStatus)),e.xp6(2),e.s9C("name",t.intId),e.Q6J("id",t.intId)("value",t.intId),e.xp6(2),e.hij("",i+1+o.indexNumber," "),e.xp6(1),e.Q6J("ngForOf",o.language)}}function Hx(n,s){1&n&&(e.TgZ(0,"h6",39),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}const Yx=function(n,s,t){return{itemsPerPage:n,currentPage:s,totalItems:t}},jx=[{path:"",component:Y,children:[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:ge,canActivate:[fe.a]},{path:"upload",component:Ir,canActivate:[fe.a]},{path:"viewupload",component:Il,canActivate:[fe.a]},{path:"viewupload/:id",component:Il,canActivate:[fe.a]},{path:"recentFiles",component:mC,canActivate:[fe.a]},{path:"newfolder",component:Nr,canActivate:[fe.a]},{path:"createfolder/:id",component:Nr,canActivate:[fe.a]},{path:"shareFile/:id",component:qo,canActivate:[fe.a]},{path:"previewfile/:id",component:B},{path:"addMeta",component:Nl,canActivate:[fe.a]},{path:"editMeta/:id",component:Nl,canActivate:[fe.a]},{path:"viewMeta",component:AC,canActivate:[fe.a]},{path:"modifyfile/:id",component:Js,canActivate:[fe.a]},{path:"archivefiles",component:WC,canActivate:[fe.a]},{path:"sharedfiles",component:xy,canActivate:[fe.a]},{path:"userlist",component:Hy,canActivate:[fe.a]},{path:"pdfdemo",component:qy,canActivate:[fe.a]},{path:"fileproperties",component:Si,canActivate:[fe.a]},{path:"recentactivities",component:ox,canActivate:[fe.a]},{path:"changepassword",component:hx,canActivate:[fe.a]},{path:"feedbackreport",component:mx},{path:"managelanguage",component:Ox,canActivate:[fe.a]},{path:"labelLanguage",component:Ul,canActivate:[fe.a]},{path:"editLanguage/:id",component:Ul,canActivate:[fe.a]},{path:"viewAllLanguage",component:(()=>{class n{constructor(t,i,o,r,x,T,L){this.route=t,this.httpClient=i,this.encDec=o,this.vldChkLst=r,this.router=x,this.labelLanguage=T,this.commonserveice=L,this.showDelete=!1,this.loading=!1,this.allLanguage="",this.editStatus=!1,this.jsonurl="assets/js/_configs/viewAllLanguage.config.json",this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.letterIdArray=[],this.sevName="language_module/deleteLableLanguages",this.language=[],this.status=!1,this.langKey="en",this.indexNumber=0}ngOnInit(){this.getLanguage(),this.viewItems(),this.loadconfig()}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle})}onTableDataChange(t){this.page=t,this.indexNumber=(this.page-1)*this.tableSize}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.indexNumber=0}viewItems(t=""){let i={searchDetails:t,intId:""};this.loading=!0,this.labelLanguage.viewAllLanguages(i).subscribe(o=>{let r=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==l.HmacSHA256(r,u.N.apiHashingKey).toString()){let L=c.lW.from(r,"base64");L=JSON.parse(L.toString()),200==L.status?(this.allLanguage=L.result,this.letterIdArray=[]):console.log(L.messages)}else f().fire({icon:"error",text:"environment.invalidResponseMsg"})})}editForm(t){let i=this.encDec.encText(t.toString());this.route.navigate(["/admin/editLanguage",i])}getLanguage(){this.loading=!0,this.labelLanguage.getlanguages({intId:"",langName:""}).subscribe(i=>{let o=i.RESPONSE_DATA;if(i.RESPONSE_TOKEN==l.HmacSHA256(o,u.N.apiHashingKey).toString()){let T=c.lW.from(o,"base64");T=JSON.parse(T.toString()),200==T.status?(this.loading=!1,this.language=T.result):console.log(T.messages)}else f().fire({icon:"error",text:"environment.invalidResponseMsg"})})}onChange(t,i){if(i.target.checked)this.letterIdArray.includes(t)||this.letterIdArray.push(t);else{let o=this.letterIdArray.indexOf(t);this.letterIdArray.splice(o,1)}console.log("letterIdArray is "+this.letterIdArray)}selectAll(t){let i=document.querySelectorAll(".rowCheck");if(t.target.checked){for(let o=0;o<i.length;o++)this.letterIdArray.push(parseInt(i[o].id));i.forEach(o=>o.click()),$(i).prop("checked",!0)}else this.letterIdArray=[],$(i).prop("checked",!1)}searchDetails(){let t=document.getElementById("formName").value;return!!this.vldChkLst.blankCheck(t,"english label can not be left blank")&&(this.viewItems(t.toLowerCase()),!0)}resetMe(){document.getElementById("formName").value="",this.viewItems()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.F0),e.Y36(a.eN),e.Y36(g.Z),e.Y36(M._),e.Y36(Ce.gz),e.Y36(Ks.T),e.Y36(m.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-viewalllanguages"]],decls:57,vars:33,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage","sendIds","funType","callfunction","callfunction2",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"search-container","active"],[1,"search-sec"],[1,"row"],[1,"col-12","col-md-3","col-lg-3"],[1,"form-group"],["type","text","name","formName","id","formName",1,"form-control",3,"placeholder"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger","ml-1",3,"click"],[1,"d-flex","justify-content-end","mb-3"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive","print-section"],["data-toggle","table",1,"table","table-bordered","valign-middle"],["scope","col","width","40px",1,"noPrint"],["type","checkbox","id","checkall","name","checkall","value","checkall",1,"form-check-input","checkAll",3,"click"],["scope","col",2,"width","50px"],[4,"ngFor","ngForOf"],["scope","col"],[1,"d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],["norecord",""],[3,"tabMessage"],[3,"childMessage","sendIds","funType","callfunction","callfunction2"],[3,"value"],[1,"noPrint",3,"ngClass"],["type","checkbox",1,"form-check-input","rowCheck",3,"name","id","value","change"],["width","60px",1,"noPrint"],["data-toggle","tooltip","title","","data-original-title","Edit",1,"text-primary",3,"click"],[1,"icon-edit-solid"],[1,"no-content"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,Lx,1,1,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,Fx,1,3,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14),e._UZ(18,"input",15),e.ALo(19,"langReplace"),e.qZA()(),e.TgZ(20,"div",13)(21,"div",14)(22,"button",16),e.NdJ("click",function(){return i.searchDetails()}),e._uU(23),e.ALo(24,"langReplace"),e.qZA(),e.TgZ(25,"button",17),e.NdJ("click",function(){return i.resetMe()}),e._uU(26),e.ALo(27,"langReplace"),e.qZA()()()()()(),e.TgZ(28,"div")(29,"div",18)(30,"div"),e._uU(31),e.ALo(32,"langReplace"),e.TgZ(33,"select",19),e.NdJ("change",function(r){return i.onTableSizeChange(r)}),e.YNc(34,Ix,2,2,"option",20),e.qZA()()(),e.TgZ(35,"div",21)(36,"table",22)(37,"thead"),e._UZ(38,"tr"),e.TgZ(39,"tr")(40,"th",23)(41,"div")(42,"input",24),e.NdJ("click",function(r){return i.selectAll(r)}),e.qZA()()(),e.TgZ(43,"th",25),e._uU(44),e.ALo(45,"langReplace"),e.qZA(),e.YNc(46,Nx,3,3,"th",26),e.TgZ(47,"th",27),e._uU(48),e.ALo(49,"langReplace"),e.qZA()()(),e.TgZ(50,"tbody"),e.YNc(51,Bx,10,9,"tr",26),e.ALo(52,"paginate"),e.qZA()(),e.TgZ(53,"div",28)(54,"pagination-controls",29),e.NdJ("pageChange",function(r){return i.onTableDataChange(r)}),e.qZA()()()(),e.YNc(55,Hx,3,3,"ng-template",null,30,e.W1O),e.qZA()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,12,i.title)),e.xp6(6),e.Q6J("ngForOf",i.tablist),e.xp6(2),e.Q6J("ngForOf",i.utillist),e.xp6(8),e.s9C("placeholder",e.lcZ(19,14,"Enter English label")),e.xp6(5),e.hij(" ",e.lcZ(24,16,"Search")," "),e.xp6(3),e.hij(" ",e.lcZ(27,18,"Reset")," "),e.xp6(5),e.hij(" ",e.lcZ(32,20,"Per Page")," : "),e.xp6(3),e.Q6J("ngForOf",i.pageSizes),e.xp6(10),e.hij(" ",e.lcZ(45,22,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",i.language),e.xp6(2),e.hij(" ",e.lcZ(49,24,"Action")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(52,26,i.allLanguage,e.kEZ(29,Yx,i.tableSize,i.page,i.count))))},dependencies:[C.mk,C.sg,w.YN,w.Kr,en.n,Jt.t,$t.LS,$t._s,E.c]}),n})(),canActivate:[fe.a]},{path:"addgateway",component:On.fO,canActivate:[fe.a]},{path:"viewgateway",component:On.zJ,canActivate:[fe.a]},{path:"addmessageengine",component:On.Fl,canActivate:[fe.a]},{path:"addmessageengine/:id",component:On.Fl,canActivate:[fe.a]},{path:"editReminderEngine/:id",component:On.Fl,canActivate:[fe.a]},{path:"viewmessageengine",component:On.$i,canActivate:[fe.a]},{path:"viewmessagereminder",component:On.K9,canActivate:[fe.a]}]}];let qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ce.Bz.forChild(jx),Ce.Bz]}),n})();var Vx=be(9830);let ew=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.ez]}),n})();var tw=be(3651);be(2813),function ow(){return typeof window>"u"}()||function iw(n,s,t){n[s]=t}(Uy,"verbosity",Qs.VerbosityLevel.INFOS);let sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var rw=be(6976),aw=be(6590),lw=be(1557);let cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[C.uU,{provide:a.TP,useClass:tw.p,multi:!0}],imports:[C.ez,qx,w.u5,w.UX,Vx.IncludesModule,rw.WorkflowModule,te.bB,ew,If,b.IJ,sw,$f,v.l,$t.JX,fd,Mi.xD,aw.d,On.Jz,lw.l,ob.forRoot()]}),n})()},6553:function(Ee,G){var C,Ce=function(){this._tweens={},this._tweensAddedDuringUpdate={}};Ce.prototype={getAll:function(){return Object.keys(this._tweens).map(function(D){return this._tweens[D]}.bind(this))},removeAll:function(){this._tweens={}},add:function(D){this._tweens[D.getId()]=D,this._tweensAddedDuringUpdate[D.getId()]=D},remove:function(D){delete this._tweens[D.getId()],delete this._tweensAddedDuringUpdate[D.getId()]},update:function(D,V){var Y=Object.keys(this._tweens);if(0===Y.length)return!1;for(D=void 0!==D?D:e.now();Y.length>0;){this._tweensAddedDuringUpdate={};for(var _=0;_<Y.length;_++){var p=this._tweens[Y[_]];p&&!1===p.update(D)&&(p._isPlaying=!1,V||delete this._tweens[Y[_]])}Y=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var D,e=new Ce;e.Group=Ce,e._nextId=0,e.nextId=function(){return e._nextId++},e.now=typeof self>"u"&&typeof process<"u"&&process.hrtime?function(){var D=process.hrtime();return 1e3*D[0]+D[1]/1e6}:typeof self<"u"&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},e.Tween=function(D,V){this._object=D,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=e.Easing.Linear.None,this._interpolationFunction=e.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=V||e,this._id=e.nextId()},e.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(D,V){return this._valuesEnd=D,void 0!==V&&(this._duration=V),this},duration:function(V){return this._duration=V,this},start:function(D){for(var V in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==D?"string"==typeof D?e.now()+parseFloat(D):D:e.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[V]instanceof Array){if(0===this._valuesEnd[V].length)continue;this._valuesEnd[V]=[this._object[V]].concat(this._valuesEnd[V])}void 0!==this._object[V]&&(this._valuesStart[V]=this._object[V],this._valuesStart[V]instanceof Array||(this._valuesStart[V]*=1),this._valuesStartRepeat[V]=this._valuesStart[V]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var D=0,V=this._chainedTweens.length;D<V;D++)this._chainedTweens[D].stop()},group:function(D){return this._group=D,this},delay:function(D){return this._delayTime=D,this},repeat:function(D){return this._repeat=D,this},repeatDelay:function(D){return this._repeatDelayTime=D,this},yoyo:function(D){return this._yoyo=D,this},easing:function(D){return this._easingFunction=D,this},interpolation:function(D){return this._interpolationFunction=D,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(D){return this._onStartCallback=D,this},onUpdate:function(D){return this._onUpdateCallback=D,this},onRepeat:function(V){return this._onRepeatCallback=V,this},onComplete:function(D){return this._onCompleteCallback=D,this},onStop:function(D){return this._onStopCallback=D,this},update:function(D){var V,Y,_;if(D<this._startTime)return!0;for(V in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),Y=(D-this._startTime)/this._duration,_=this._easingFunction(Y=0===this._duration||Y>1?1:Y),this._valuesEnd)if(void 0!==this._valuesStart[V]){var p=this._valuesStart[V]||0,f=this._valuesEnd[V];f instanceof Array?this._object[V]=this._interpolationFunction(f,_):("string"==typeof f&&(f="+"===f.charAt(0)||"-"===f.charAt(0)?p+parseFloat(f):parseFloat(f)),"number"==typeof f&&(this._object[V]=p+(f-p)*_))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,Y),1===Y){if(this._repeat>0){for(V in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[V]&&(this._valuesStartRepeat[V]=this._valuesStartRepeat[V]+parseFloat(this._valuesEnd[V])),this._yoyo){var u=this._valuesStartRepeat[V];this._valuesStartRepeat[V]=this._valuesEnd[V],this._valuesEnd[V]=u}this._valuesStart[V]=this._valuesStartRepeat[V]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?D+this._repeatDelayTime:D+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,c=this._chainedTweens.length;l<c;l++)this._chainedTweens[l].start(this._startTime+this._duration);return!1}return!0}},e.Easing={Linear:{None:function(D){return D}},Quadratic:{In:function(D){return D*D},Out:function(D){return D*(2-D)},InOut:function(D){return(D*=2)<1?.5*D*D:-.5*(--D*(D-2)-1)}},Cubic:{In:function(D){return D*D*D},Out:function(D){return--D*D*D+1},InOut:function(D){return(D*=2)<1?.5*D*D*D:.5*((D-=2)*D*D+2)}},Quartic:{In:function(D){return D*D*D*D},Out:function(D){return 1- --D*D*D*D},InOut:function(D){return(D*=2)<1?.5*D*D*D*D:-.5*((D-=2)*D*D*D-2)}},Quintic:{In:function(D){return D*D*D*D*D},Out:function(D){return--D*D*D*D*D+1},InOut:function(D){return(D*=2)<1?.5*D*D*D*D*D:.5*((D-=2)*D*D*D*D+2)}},Sinusoidal:{In:function(D){return 1-Math.cos(D*Math.PI/2)},Out:function(D){return Math.sin(D*Math.PI/2)},InOut:function(D){return.5*(1-Math.cos(Math.PI*D))}},Exponential:{In:function(D){return 0===D?0:Math.pow(1024,D-1)},Out:function(D){return 1===D?1:1-Math.pow(2,-10*D)},InOut:function(D){return 0===D?0:1===D?1:(D*=2)<1?.5*Math.pow(1024,D-1):.5*(2-Math.pow(2,-10*(D-1)))}},Circular:{In:function(D){return 1-Math.sqrt(1-D*D)},Out:function(D){return Math.sqrt(1- --D*D)},InOut:function(D){return(D*=2)<1?-.5*(Math.sqrt(1-D*D)-1):.5*(Math.sqrt(1-(D-=2)*D)+1)}},Elastic:{In:function(D){return 0===D?0:1===D?1:-Math.pow(2,10*(D-1))*Math.sin(5*(D-1.1)*Math.PI)},Out:function(D){return 0===D?0:1===D?1:Math.pow(2,-10*D)*Math.sin(5*(D-.1)*Math.PI)+1},InOut:function(D){return 0===D?0:1===D?1:(D*=2)<1?-.5*Math.pow(2,10*(D-1))*Math.sin(5*(D-1.1)*Math.PI):.5*Math.pow(2,-10*(D-1))*Math.sin(5*(D-1.1)*Math.PI)+1}},Back:{In:function(D){var V=1.70158;return D*D*((V+1)*D-V)},Out:function(D){var V=1.70158;return--D*D*((V+1)*D+V)+1},InOut:function(D){var V=2.5949095;return(D*=2)<1?D*D*((V+1)*D-V)*.5:.5*((D-=2)*D*((V+1)*D+V)+2)}},Bounce:{In:function(D){return 1-e.Easing.Bounce.Out(1-D)},Out:function(D){return D<1/2.75?7.5625*D*D:D<2/2.75?7.5625*(D-=1.5/2.75)*D+.75:D<2.5/2.75?7.5625*(D-=2.25/2.75)*D+.9375:7.5625*(D-=2.625/2.75)*D+.984375},InOut:function(D){return D<.5?.5*e.Easing.Bounce.In(2*D):.5*e.Easing.Bounce.Out(2*D-1)+.5}}},e.Interpolation={Linear:function(D,V){var Y=D.length-1,_=Y*V,p=Math.floor(_),f=e.Interpolation.Utils.Linear;return V<0?f(D[0],D[1],_):V>1?f(D[Y],D[Y-1],Y-_):f(D[p],D[p+1>Y?Y:p+1],_-p)},Bezier:function(D,V){for(var Y=0,_=D.length-1,p=Math.pow,f=e.Interpolation.Utils.Bernstein,u=0;u<=_;u++)Y+=p(1-V,_-u)*p(V,u)*D[u]*f(_,u);return Y},CatmullRom:function(D,V){var Y=D.length-1,_=Y*V,p=Math.floor(_),f=e.Interpolation.Utils.CatmullRom;return D[0]===D[Y]?(V<0&&(p=Math.floor(_=Y*(1+V))),f(D[(p-1+Y)%Y],D[p],D[(p+1)%Y],D[(p+2)%Y],_-p)):V<0?D[0]-(f(D[0],D[0],D[1],D[1],-_)-D[0]):V>1?D[Y]-(f(D[Y],D[Y],D[Y-1],D[Y-1],_-Y)-D[Y]):f(D[p?p-1:0],D[p],D[Y<p+1?Y:p+1],D[Y<p+2?Y:p+2],_-p)},Utils:{Linear:function(D,V,Y){return(V-D)*Y+D},Bernstein:function(D,V){var Y=e.Interpolation.Utils.Factorial;return Y(D)/Y(V)/Y(D-V)},Factorial:(D=[1],function(V){var Y=1;if(D[V])return D[V];for(var _=V;_>1;_--)Y*=_;return D[V]=Y,Y}),CatmullRom:function(D,V,Y,_,p){var f=.5*(Y-D),u=.5*(_-V),l=p*p;return(2*V-2*Y+f+u)*(p*l)+(-3*V+3*Y-2*f-u)*l+f*p+V}}},void 0!==(C=function(){return e}.apply(G,[]))&&(Ee.exports=C)},60:function(Ee){typeof self<"u"&&self,Ee.exports=function(G){var be={};function C(Ce){if(be[Ce])return be[Ce].exports;var e=be[Ce]={i:Ce,l:!1,exports:{}};return G[Ce].call(e.exports,e,e.exports,C),e.l=!0,e.exports}return C.m=G,C.c=be,C.d=function(Ce,e,D){C.o(Ce,e)||Object.defineProperty(Ce,e,{enumerable:!0,get:D})},C.r=function(Ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ce,"__esModule",{value:!0})},C.t=function(Ce,e){if(1&e&&(Ce=C(Ce)),8&e||4&e&&"object"==typeof Ce&&Ce&&Ce.__esModule)return Ce;var D=Object.create(null);if(C.r(D),Object.defineProperty(D,"default",{enumerable:!0,value:Ce}),2&e&&"string"!=typeof Ce)for(var V in Ce)C.d(D,V,function(Y){return Ce[Y]}.bind(null,V));return D},C.n=function(Ce){var e=Ce&&Ce.__esModule?function(){return Ce.default}:function(){return Ce};return C.d(e,"a",e),e},C.o=function(Ce,e){return Object.prototype.hasOwnProperty.call(Ce,e)},C.p="",C(C.s=0)}([function(G,be,C){"use strict";C.r(be),C.d(be,"default",function(){return Ce});class Ce{constructor(D,V=null){this.events={},this.container=D,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.select_elements=null,this.noderegister={},this.render=V,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(D){this.evCache.push(D)}pointermove_handler(D){for(var V=0;V<this.evCache.length;V++)if(D.pointerId==this.evCache[V].pointerId){this.evCache[V]=D;break}if(2==this.evCache.length){var Y=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(Y>this.prevDiff&&this.zoom_in(),Y<this.prevDiff&&this.zoom_out()),this.prevDiff=Y}}pointerup_handler(D){this.remove_event(D),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(D){for(var V=0;V<this.evCache.length;V++)if(this.evCache[V].pointerId==D.pointerId){this.evCache.splice(V,1);break}}load(){for(var D in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[D],this.precanvas);if(this.reroute)for(var D in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[D]);for(var D in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+D);const V=this.drawflow.drawflow;let Y=1;Object.keys(V).map(function(_,p){Object.keys(V[_].data).map(function(f,u){parseInt(f)>=Y&&(Y=parseInt(f)+1)})}),this.nodeId=Y}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((D,V)=>{D.classList.remove("selected")})}click(D){if(this.dispatch("click",D),"fixed"===this.editor_mode){if("parent-drawflow"!==D.target.classList[0]&&"drawflow"!==D.target.classList[0])return!1;this.ele_selected=D.target.closest(".parent-drawflow")}else this.first_click=D.target,this.ele_selected=D.target,0===D.button&&this.contextmenuDel(),null!=D.target.closest(".drawflow_content_node")&&(this.ele_selected=D.target.closest(".drawflow_content_node").parentElement);switch(this.ele_selected.classList[0]){case"drawflow-node":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?"SELECT"!==D.target.tagName&&(this.drag=!0):"INPUT"!==D.target.tagName&&"TEXTAREA"!==D.target.tagName&&"SELECT"!==D.target.tagName&&!0!==D.target.hasAttribute("contenteditable")&&(this.drag=!0);break;case"output":this.connection=!0,null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(D.target);break;case"parent-drawflow":case"drawflow":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const V=this.connection_selected.parentElement.classList;this.dispatch("connectionSelected",{output_id:V[2].slice(14),input_id:V[1].slice(13),output_class:V[3],input_class:V[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((Y,_)=>{Y.classList.add("selected")});break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}"touchstart"===D.type?(this.pos_x=D.touches[0].clientX,this.pos_x_start=D.touches[0].clientX,this.pos_y=D.touches[0].clientY,this.pos_y_start=D.touches[0].clientY):(this.pos_x=D.clientX,this.pos_x_start=D.clientX,this.pos_y=D.clientY,this.pos_y_start=D.clientY),this.dispatch("clickEnd",D)}position(D){if("touchmove"===D.type)var V=D.touches[0].clientX,Y=D.touches[0].clientY;else V=D.clientX,Y=D.clientY;if(this.connection&&this.updateConnection(V,Y),this.editor_selected&&(this.dispatch("translate",{x:_=this.canvas_x+-(this.pos_x-V),y:p=this.canvas_y+-(this.pos_y-Y)}),this.precanvas.style.transform="translate("+_+"px, "+p+"px) scale("+this.zoom+")"),this.drag){var _=(this.pos_x-V)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),p=(this.pos_y-Y)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=V,this.pos_y=Y,this.ele_selected.style.top=this.ele_selected.offsetTop-p+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-_+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-_,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-p,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){_=(this.pos_x-V)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),p=(this.pos_y-Y)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom),this.pos_x=V,this.pos_y=Y;var f=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),u=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",f),this.ele_selected.setAttributeNS(null,"cy",u);const l=this.ele_selected.parentElement.classList[2].slice(9),c=this.ele_selected.parentElement.classList[1].slice(13),a=this.ele_selected.parentElement.classList[3],d=this.ele_selected.parentElement.classList[4];let g=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;this.reroute_fix_curvature&&(g-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,g<0&&(g=0));const h=l.slice(5),m=this.drawflow.drawflow[this.module].data[h].outputs[a].connections.findIndex(function(v,y){return v.node===c&&v.output===d});this.drawflow.drawflow[this.module].data[h].outputs[a].connections[m].points[g]={pos_x:f,pos_y:u};const b=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(b)}"touchmove"===D.type&&(this.mouse_x=V,this.mouse_y=Y),this.dispatch("mouseMove",{x:V,y:Y})}dragEnd(D){if(null!=this.select_elements&&(this.select_elements.remove(),this.select_elements=null),"touchend"===D.type)var V=this.mouse_x,Y=this.mouse_y,_=document.elementFromPoint(V,Y);else V=D.clientX,Y=D.clientY,_=D.target;if(this.drag&&(this.pos_x_start==V&&this.pos_y_start==Y||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&this.ele_selected.classList.remove("selected"),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-V),this.canvas_y=this.canvas_y+-(this.pos_y-Y),this.editor_selected=!1),!0===this.connection)if("input"===_.classList[0]||this.force_first_input&&(null!=_.closest(".drawflow_content_node")||"drawflow-node"===_.classList[0])){if(!this.force_first_input||null==_.closest(".drawflow_content_node")&&"drawflow-node"!==_.classList[0])p=_.parentElement.parentElement.id,f=_.classList[1];else{if(null!=_.closest(".drawflow_content_node"))var p=_.closest(".drawflow_content_node").parentElement.id;else p=_.id;if(0===Object.keys(this.getNodeFromId(p.slice(5)).inputs).length)var f=!1;else f="input_1"}var u=this.ele_selected.parentElement.parentElement.id,l=this.ele_selected.classList[1];if(u!==p&&!1!==f){if(0===this.container.querySelectorAll(".connection.node_in_"+p+".node_out_"+u+"."+l+"."+f).length){this.connection_ele.classList.add("node_in_"+p),this.connection_ele.classList.add("node_out_"+u),this.connection_ele.classList.add(l),this.connection_ele.classList.add(f);var c=p.slice(5),a=u.slice(5);this.drawflow.drawflow[this.module].data[a].outputs[l].connections.push({node:c,output:f}),this.drawflow.drawflow[this.module].data[c].inputs[f].connections.push({node:a,input:l}),this.updateConnectionNodes("node-"+a),this.updateConnectionNodes("node-"+c),this.dispatch("connectionCreated",{output_id:a,input_id:c,output_class:l,input_class:f})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1}contextmenu(D){if(this.dispatch("contextmenu",D),D.preventDefault(),"fixed"===this.editor_mode)return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var V=document.createElement("div");V.classList.add("drawflow-delete"),V.innerHTML="x",this.node_selected&&this.node_selected.appendChild(V),this.connection_selected&&(V.style.top=D.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",V.style.left=D.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(V))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(D){if(this.dispatch("keydown",D),"fixed"===this.editor_mode)return!1;("Delete"===D.key||"Backspace"===D.key&&D.metaKey)&&(null!=this.node_selected&&"INPUT"!==this.first_click.tagName&&"TEXTAREA"!==this.first_click.tagName&&!0!==this.first_click.hasAttribute("contenteditable")&&this.removeNodeId(this.node_selected.id),null!=this.connection_selected&&this.removeConnection())}zoom_enter(D,V){D.ctrlKey&&(D.preventDefault(),D.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){1!=this.zoom&&(this.zoom=1,this.zoom_refresh())}createCurvature(D,V,Y,_,p,f){var u=D,l=V,c=Y,a=_,d=p;switch(f){case"open":if(D>=Y)var g=u+Math.abs(c-u)*d,h=c-Math.abs(c-u)*(-1*d);else g=u+Math.abs(c-u)*d,h=c-Math.abs(c-u)*d;return" M "+u+" "+l+" C "+g+" "+l+" "+h+" "+a+" "+c+"  "+a;case"close":return D>=Y?(g=u+Math.abs(c-u)*(-1*d),h=c-Math.abs(c-u)*d):(g=u+Math.abs(c-u)*d,h=c-Math.abs(c-u)*d)," M "+u+" "+l+" C "+g+" "+l+" "+h+" "+a+" "+c+"  "+a;case"other":return D>=Y?(g=u+Math.abs(c-u)*(-1*d),h=c-Math.abs(c-u)*(-1*d)):(g=u+Math.abs(c-u)*d,h=c-Math.abs(c-u)*d)," M "+u+" "+l+" C "+g+" "+l+" "+h+" "+a+" "+c+"  "+a;default:return" M "+u+" "+l+" C "+(g=u+Math.abs(c-u)*d)+" "+l+" "+(h=c-Math.abs(c-u)*d)+" "+a+" "+c+"  "+a}}drawConnection(D){var V=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=V;var Y=document.createElementNS("http://www.w3.org/2000/svg","path");Y.classList.add("main-path"),Y.setAttributeNS(null,"d",""),V.classList.add("connection"),V.appendChild(Y),this.precanvas.appendChild(V);var _=D.parentElement.parentElement.id.slice(5);this.dispatch("connectionStart",{output_id:_,output_class:D.classList[1]})}updateConnection(D,V){const Y=this.precanvas,_=this.zoom;let p=Y.clientWidth/(Y.clientWidth*_);p=p||0;let f=Y.clientHeight/(Y.clientHeight*_);f=f||0;var u=this.connection_ele.children[0],l=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-Y.getBoundingClientRect().x)*p,c=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-Y.getBoundingClientRect().y)*f,a=D*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),d=V*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),h=this.createCurvature(l,c,a,d,this.curvature,"openclose");u.setAttributeNS(null,"d",h)}addConnection(D,V,Y,_){var p=this.getModuleFromNodeId(D);if(p===this.getModuleFromNodeId(V)){var f=this.getNodeFromId(D),u=!1;for(var l in f.outputs[Y].connections){var c=f.outputs[Y].connections[l];c.node==V&&c.output==_&&(u=!0)}if(!1===u){if(this.drawflow.drawflow[p].data[D].outputs[Y].connections.push({node:V.toString(),output:_}),this.drawflow.drawflow[p].data[V].inputs[_].connections.push({node:D.toString(),input:Y}),this.module===p){var a=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=document.createElementNS("http://www.w3.org/2000/svg","path");d.classList.add("main-path"),d.setAttributeNS(null,"d",""),a.classList.add("connection"),a.classList.add("node_in_node-"+V),a.classList.add("node_out_node-"+D),a.classList.add(Y),a.classList.add(_),a.appendChild(d),this.precanvas.appendChild(a),this.updateConnectionNodes("node-"+D),this.updateConnectionNodes("node-"+V)}this.dispatch("connectionCreated",{output_id:D,input_id:V,output_class:Y,input_class:_})}}}updateConnectionNodes(D){const V="node_in_"+D,_=this.precanvas,p=this.curvature,f=this.createCurvature,u=this.reroute_curvature,l=this.reroute_curvature_start_end,c=this.reroute_fix_curvature,a=this.reroute_width,d=this.zoom;let g=_.clientWidth/(_.clientWidth*d);g=g||0;let h=_.clientHeight/(_.clientHeight*d);h=h||0;const m=document.getElementsByClassName("node_out_"+D);Object.keys(m).map(function(v,y){if(null===m[v].querySelector(".point")){var M=document.getElementById(D),w=m[v].classList[1].replace("node_in_",""),E=document.getElementById(w).querySelectorAll("."+m[v].classList[4])[0],Z=E.offsetWidth/2+(E.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,U=E.offsetHeight/2+(E.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,q=M.querySelectorAll("."+m[v].classList[3])[0],Q=q.offsetWidth/2+(q.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,re=q.offsetHeight/2+(q.getBoundingClientRect().y-_.getBoundingClientRect().y)*h;const le=f(Q,re,Z,U,p,"openclose");m[v].children[0].setAttributeNS(null,"d",le)}else{const le=m[v].querySelectorAll(".point");let ue="";const W=[];le.forEach((ce,pe)=>{if(0===pe&&le.length-1==0){var _e=document.getElementById(D),B=((O=ce).getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,F=(O.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,k=(I=_e.querySelectorAll("."+ce.parentElement.classList[3])[0]).offsetWidth/2+(I.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,P=I.offsetHeight/2+(I.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,S=f(k,P,B,F,l,"open");ue+=S,W.push(S),_e=ce;var A=ce.parentElement.classList[1].replace("node_in_",""),O=(N=document.getElementById(A)).querySelectorAll("."+ce.parentElement.classList[4])[0];B=(H=N.querySelectorAll("."+ce.parentElement.classList[4])[0]).offsetWidth/2+(H.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,F=H.offsetHeight/2+(H.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,k=(_e.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,P=(_e.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,S=f(k,P,B,F,l,"close"),ue+=S,W.push(S)}else if(0===pe){var I;_e=document.getElementById(D),B=((O=ce).getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,F=(O.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,k=(I=_e.querySelectorAll("."+ce.parentElement.classList[3])[0]).offsetWidth/2+(I.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,P=I.offsetHeight/2+(I.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,S=f(k,P,B,F,l,"open"),ue+=S,W.push(S),_e=ce,B=((O=le[pe+1]).getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,F=(O.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,k=(_e.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,P=(_e.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,S=f(k,P,B,F,u,"other"),ue+=S,W.push(S)}else if(pe===le.length-1){var N,H;_e=ce,A=ce.parentElement.classList[1].replace("node_in_",""),O=(N=document.getElementById(A)).querySelectorAll("."+ce.parentElement.classList[4])[0],B=(H=N.querySelectorAll("."+ce.parentElement.classList[4])[0]).offsetWidth/2+(H.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,F=H.offsetHeight/2+(H.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,k=(_e.getBoundingClientRect().x-_.getBoundingClientRect().x)*(_.clientWidth/(_.clientWidth*d))+a,P=(_e.getBoundingClientRect().y-_.getBoundingClientRect().y)*(_.clientHeight/(_.clientHeight*d))+a,S=f(k,P,B,F,l,"close"),ue+=S,W.push(S)}else _e=ce,B=((O=le[pe+1]).getBoundingClientRect().x-_.getBoundingClientRect().x)*(_.clientWidth/(_.clientWidth*d))+a,F=(O.getBoundingClientRect().y-_.getBoundingClientRect().y)*(_.clientHeight/(_.clientHeight*d))+a,k=(_e.getBoundingClientRect().x-_.getBoundingClientRect().x)*(_.clientWidth/(_.clientWidth*d))+a,P=(_e.getBoundingClientRect().y-_.getBoundingClientRect().y)*(_.clientHeight/(_.clientHeight*d))+a,S=f(k,P,B,F,u,"other"),ue+=S,W.push(S)}),c?W.forEach((ce,pe)=>{m[v].children[pe].setAttributeNS(null,"d",ce)}):m[v].children[0].setAttributeNS(null,"d",ue)}});const b=document.getElementsByClassName(V);Object.keys(b).map(function(v,y){if(null===b[v].querySelector(".point")){var M=document.getElementById(D),w=b[v].classList[2].replace("node_out_",""),E=document.getElementById(w).querySelectorAll("."+b[v].classList[3])[0],Z=E.offsetWidth/2+(E.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,U=E.offsetHeight/2+(E.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,q=(M=M.querySelectorAll("."+b[v].classList[4])[0]).offsetWidth/2+(M.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,Q=M.offsetHeight/2+(M.getBoundingClientRect().y-_.getBoundingClientRect().y)*h;const re=f(Z,U,q,Q,p,"openclose");b[v].children[0].setAttributeNS(null,"d",re)}else{const re=b[v].querySelectorAll(".point");let le="";const ue=[];re.forEach((W,ce)=>{if(0===ce&&re.length-1==0){var pe=document.getElementById(D),_e=((A=W).getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,B=(A.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,F=(N=pe.querySelectorAll("."+W.parentElement.classList[4])[0]).offsetWidth/2+(N.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,k=N.offsetHeight/2+(N.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,P=f(_e,B,F,k,l,"close");le+=P,ue.push(P),pe=W;var S=W.parentElement.classList[2].replace("node_out_",""),A=(I=document.getElementById(S)).querySelectorAll("."+W.parentElement.classList[3])[0];_e=(O=I.querySelectorAll("."+W.parentElement.classList[3])[0]).offsetWidth/2+(O.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,B=O.offsetHeight/2+(O.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,F=(pe.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,k=(pe.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,P=f(_e,B,F,k,l,"open"),le+=P,ue.push(P)}else if(0===ce){var O;pe=W,S=W.parentElement.classList[2].replace("node_out_",""),A=(I=document.getElementById(S)).querySelectorAll("."+W.parentElement.classList[3])[0],_e=(O=I.querySelectorAll("."+W.parentElement.classList[3])[0]).offsetWidth/2+(O.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,B=O.offsetHeight/2+(O.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,F=(pe.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,k=(pe.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,P=f(_e,B,F,k,l,"open"),le+=P,ue.push(P),pe=W,F=((A=re[ce+1]).getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,k=(A.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,_e=(pe.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,B=(pe.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,P=f(_e,B,F,k,u,"other"),le+=P,ue.push(P)}else if(ce===re.length-1){var I,N;pe=W,S=W.parentElement.classList[1].replace("node_in_",""),A=(I=document.getElementById(S)).querySelectorAll("."+W.parentElement.classList[4])[0],F=(N=I.querySelectorAll("."+W.parentElement.classList[4])[0]).offsetWidth/2+(N.getBoundingClientRect().x-_.getBoundingClientRect().x)*g,k=N.offsetHeight/2+(N.getBoundingClientRect().y-_.getBoundingClientRect().y)*h,_e=(pe.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,B=(pe.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,P=f(_e,B,F,k,l,"close"),le+=P,ue.push(P)}else pe=W,F=((A=re[ce+1]).getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,k=(A.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,_e=(pe.getBoundingClientRect().x-_.getBoundingClientRect().x)*g+a,B=(pe.getBoundingClientRect().y-_.getBoundingClientRect().y)*h+a,P=f(_e,B,F,k,u,"other"),le+=P,ue.push(P)}),c?ue.forEach((W,ce)=>{b[v].children[ce].setAttributeNS(null,"d",W)}):b[v].children[0].setAttributeNS(null,"d",le)}})}dblclick(D){null!=this.connection_selected&&this.reroute&&this.createReroutePoint(this.connection_selected),"point"===D.target.classList[0]&&this.removeReroutePoint(D.target)}createReroutePoint(D){this.connection_selected.classList.remove("selected");const V=this.connection_selected.parentElement.classList[2].slice(9),Y=this.connection_selected.parentElement.classList[1].slice(13),_=this.connection_selected.parentElement.classList[3],p=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.classList.add("point");var u=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),l=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));f.setAttributeNS(null,"cx",u),f.setAttributeNS(null,"cy",l),f.setAttributeNS(null,"r",this.reroute_width);let c=0;if(this.reroute_fix_curvature){const h=D.parentElement.querySelectorAll(".main-path").length;var a=document.createElementNS("http://www.w3.org/2000/svg","path");if(a.classList.add("main-path"),a.setAttributeNS(null,"d",""),D.parentElement.insertBefore(a,D.parentElement.children[h]),1===h)D.parentElement.appendChild(f);else{const m=Array.from(D.parentElement.children).indexOf(D);c=m,D.parentElement.insertBefore(f,D.parentElement.children[m+h+1])}}else D.parentElement.appendChild(f);const d=V.slice(5),g=this.drawflow.drawflow[this.module].data[d].outputs[_].connections.findIndex(function(h,m){return h.node===Y&&h.output===p});void 0===this.drawflow.drawflow[this.module].data[d].outputs[_].connections[g].points&&(this.drawflow.drawflow[this.module].data[d].outputs[_].connections[g].points=[]),this.reroute_fix_curvature?(c>0?this.drawflow.drawflow[this.module].data[d].outputs[_].connections[g].points.splice(c,0,{pos_x:u,pos_y:l}):this.drawflow.drawflow[this.module].data[d].outputs[_].connections[g].points.push({pos_x:u,pos_y:l}),D.parentElement.querySelectorAll(".main-path").forEach((h,m)=>{h.classList.remove("selected")})):this.drawflow.drawflow[this.module].data[d].outputs[_].connections[g].points.push({pos_x:u,pos_y:l}),this.dispatch("addReroute",d),this.updateConnectionNodes(V)}removeReroutePoint(D){const V=D.parentElement.classList[2].slice(9),Y=D.parentElement.classList[1].slice(13),_=D.parentElement.classList[3],p=D.parentElement.classList[4];let f=Array.from(D.parentElement.children).indexOf(D)-1;const u=V.slice(5),l=this.drawflow.drawflow[this.module].data[u].outputs[_].connections.findIndex(function(c,a){return c.node===Y&&c.output===p});if(this.reroute_fix_curvature){const c=D.parentElement.querySelectorAll(".main-path").length;D.parentElement.children[c-1].remove(),f-=c,f<0&&(f=0)}this.drawflow.drawflow[this.module].data[u].outputs[_].connections[l].points.splice(f,1),D.remove(),this.dispatch("removeReroute",u),this.updateConnectionNodes(V)}registerNode(D,V,Y=null,_=null){this.noderegister[D]={html:V,props:Y,options:_}}getNodeFromId(D){var V=this.getModuleFromNodeId(D);return JSON.parse(JSON.stringify(this.drawflow.drawflow[V].data[D]))}getNodesFromName(D){var V=[];const Y=this.drawflow.drawflow;return Object.keys(Y).map(function(_,p){for(var f in Y[_].data)Y[_].data[f].name==D&&V.push(Y[_].data[f].id)}),V}addNode(D,V,Y,_,p,f,u,l,c=!1){const a=document.createElement("div");a.classList.add("parent-node");const d=document.createElement("div");d.innerHTML="",d.setAttribute("id","node-"+this.nodeId),d.classList.add("drawflow-node"),""!=f&&d.classList.add(f);const g=document.createElement("div");g.classList.add("inputs");const h=document.createElement("div");h.classList.add("outputs");const m={};for(var b=0;b<V;b++){const E=document.createElement("div");E.classList.add("input"),E.classList.add("input_"+(b+1)),m["input_"+(b+1)]={connections:[]},g.appendChild(E)}const v={};for(b=0;b<Y;b++){const E=document.createElement("div");E.classList.add("output"),E.classList.add("output_"+(b+1)),v["output_"+(b+1)]={connections:[]},h.appendChild(E)}const y=document.createElement("div");if(y.classList.add("drawflow_content_node"),!1===c)y.innerHTML=l;else if(!0===c)y.appendChild(this.noderegister[l].html.cloneNode(!0));else if(3===parseInt(this.render.version))this.render.createApp({render:E=>this.render.h(this.noderegister[l].html,this.noderegister[l].props,this.noderegister[l].options)}).mount(y);else{let E=new this.render({render:Z=>Z(this.noderegister[l].html,{props:this.noderegister[l].props}),...this.noderegister[l].options}).$mount();y.appendChild(E.$el)}Object.entries(u).forEach(function(E,Z){if("object"==typeof E[1])!function Q(re,le,ue){re=null===re?u[le]:re[le],Object.entries(re).forEach(function(W,ce){if("object"==typeof W[1])Q(re,W[0],le+"-"+W[0]);else for(var pe=y.querySelectorAll("[df-"+ue+"-"+W[0]+"]"),_e=0;_e<pe.length;_e++)pe[_e].value=W[1]})}(null,E[0],E[0]);else for(var U=y.querySelectorAll("[df-"+E[0]+"]"),q=0;q<U.length;q++)U[q].value=E[1]}),d.appendChild(g),d.appendChild(y),d.appendChild(h),d.style.top=p+"px",d.style.left=_+"px",a.appendChild(d),this.precanvas.appendChild(a),this.drawflow.drawflow[this.module].data[this.nodeId]={id:this.nodeId,name:D,data:u,class:f,html:l,typenode:c,inputs:m,outputs:v,pos_x:_,pos_y:p},this.dispatch("nodeCreated",this.nodeId);var w=this.nodeId;return this.nodeId++,w}addNodeImport(D,V){const Y=document.createElement("div");Y.classList.add("parent-node");const _=document.createElement("div");_.innerHTML="",_.setAttribute("id","node-"+D.id),_.classList.add("drawflow-node"),""!=D.class&&_.classList.add(D.class);const p=document.createElement("div");p.classList.add("inputs");const f=document.createElement("div");f.classList.add("outputs"),Object.keys(D.inputs).map(function(c,a){const d=document.createElement("div");d.classList.add("input"),d.classList.add(c),p.appendChild(d),Object.keys(D.inputs[c].connections).map(function(g,h){var m=document.createElementNS("http://www.w3.org/2000/svg","svg"),b=document.createElementNS("http://www.w3.org/2000/svg","path");b.classList.add("main-path"),b.setAttributeNS(null,"d",""),m.classList.add("connection"),m.classList.add("node_in_node-"+D.id),m.classList.add("node_out_node-"+D.inputs[c].connections[g].node),m.classList.add(D.inputs[c].connections[g].input),m.classList.add(c),m.appendChild(b),V.appendChild(m)})});for(var u=0;u<Object.keys(D.outputs).length;u++){const c=document.createElement("div");c.classList.add("output"),c.classList.add("output_"+(u+1)),f.appendChild(c)}const l=document.createElement("div");if(l.classList.add("drawflow_content_node"),!1===D.typenode)l.innerHTML=D.html;else if(!0===D.typenode)l.appendChild(this.noderegister[D.html].html.cloneNode(!0));else if(3===parseInt(this.render.version))this.render.createApp({render:c=>this.render.h(this.noderegister[D.html].html,this.noderegister[D.html].props,this.noderegister[D.html].options)}).mount(l);else{let c=new this.render({render:a=>a(this.noderegister[D.html].html,{props:this.noderegister[D.html].props}),...this.noderegister[D.html].options}).$mount();l.appendChild(c.$el)}Object.entries(D.data).forEach(function(c,a){if("object"==typeof c[1])!function h(m,b,v){m=null===m?D.data[b]:m[b],Object.entries(m).forEach(function(y,M){if("object"==typeof y[1])h(m,y[0],b+"-"+y[0]);else for(var w=l.querySelectorAll("[df-"+v+"-"+y[0]+"]"),E=0;E<w.length;E++)w[E].value=y[1]})}(null,c[0],c[0]);else for(var d=l.querySelectorAll("[df-"+c[0]+"]"),g=0;g<d.length;g++)d[g].value=c[1]}),_.appendChild(p),_.appendChild(l),_.appendChild(f),_.style.top=D.pos_y+"px",_.style.left=D.pos_x+"px",Y.appendChild(_),this.precanvas.appendChild(Y)}addRerouteImport(D){const V=this.reroute_width,Y=this.reroute_fix_curvature;Object.keys(D.outputs).map(function(_,p){Object.keys(D.outputs[_].connections).map(function(f,u){const l=D.outputs[_].connections[f].points;void 0!==l&&l.forEach((c,a)=>{const h=document.querySelector(".connection.node_in_node-"+D.outputs[_].connections[f].node+".node_out_node-"+D.id+"."+_+"."+D.outputs[_].connections[f].output);if(Y&&0===a)for(var m=0;m<l.length;m++){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.classList.add("main-path"),b.setAttributeNS(null,"d",""),h.appendChild(b)}const v=document.createElementNS("http://www.w3.org/2000/svg","circle");v.classList.add("point");var M=c.pos_y;v.setAttributeNS(null,"cx",c.pos_x),v.setAttributeNS(null,"cy",M),v.setAttributeNS(null,"r",V),h.appendChild(v)})})})}updateNodeValue(D){for(var V=D.target.attributes,Y=0;Y<V.length;Y++)V[Y].nodeName.startsWith("df-")&&(this.drawflow.drawflow[this.module].data[D.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data[V[Y].nodeName.slice(3)]=D.target.value)}updateNodeDataFromId(D,V){var Y=this.getModuleFromNodeId(D);if(this.drawflow.drawflow[Y].data[D].data=V,this.module===Y){const _=document.querySelector("#node-"+D);Object.entries(V).forEach(function(p,f){if("object"==typeof p[1])!function c(a,d,g){a=null===a?V[d]:a[d],Object.entries(a).forEach(function(h,m){if("object"==typeof h[1])c(a,h[0],d+"-"+h[0]);else for(var b=_.querySelectorAll("[df-"+g+"-"+h[0]+"]"),v=0;v<b.length;v++)b[v].value=h[1]})}(null,p[0],p[0]);else for(var u=_.querySelectorAll("[df-"+p[0]+"]"),l=0;l<u.length;l++)u[l].value=p[1]})}}addNodeInput(D){var V=this.getModuleFromNodeId(D);const Y=this.getNodeFromId(D),_=Object.keys(Y.inputs).length;if(this.module===V){const p=document.createElement("div");p.classList.add("input"),p.classList.add("input_"+(_+1)),document.querySelector("#node-"+D+" .inputs").appendChild(p),this.updateConnectionNodes("node-"+D)}this.drawflow.drawflow[V].data[D].inputs["input_"+(_+1)]={connections:[]}}addNodeOutput(D){var V=this.getModuleFromNodeId(D);const Y=this.getNodeFromId(D),_=Object.keys(Y.outputs).length;if(this.module===V){const p=document.createElement("div");p.classList.add("output"),p.classList.add("output_"+(_+1)),document.querySelector("#node-"+D+" .outputs").appendChild(p),this.updateConnectionNodes("node-"+D)}this.drawflow.drawflow[V].data[D].outputs["output_"+(_+1)]={connections:[]}}removeNodeInput(D,V){var Y=this.getModuleFromNodeId(D);const _=this.getNodeFromId(D);this.module===Y&&document.querySelector("#node-"+D+" .inputs .input."+V).remove();const p=[];Object.keys(_.inputs[V].connections).map(function(a,d){p.push({id_output:_.inputs[V].connections[d].node,id:D,output_class:_.inputs[V].connections[d].input,input_class:V})}),p.forEach((a,d)=>{this.removeSingleConnection(a.id_output,a.id,a.output_class,a.input_class)}),delete this.drawflow.drawflow[Y].data[D].inputs[V];const f=[],u=this.drawflow.drawflow[Y].data[D].inputs;Object.keys(u).map(function(a,d){f.push(u[a])}),this.drawflow.drawflow[Y].data[D].inputs={};const l=V.slice(6);let c=[];f.forEach((a,d)=>{a.connections.forEach((g,h)=>{c.push(g)}),this.drawflow.drawflow[Y].data[D].inputs["input_"+(d+1)]=a}),c=new Set(c.map(a=>JSON.stringify(a))),c=Array.from(c).map(a=>JSON.parse(a)),this.module===Y&&document.querySelectorAll("#node-"+D+" .inputs .input").forEach((a,d)=>{const g=a.classList[1].slice(6);parseInt(l)<parseInt(g)&&(a.classList.remove("input_"+g),a.classList.add("input_"+(g-1)))}),c.forEach((a,d)=>{this.drawflow.drawflow[Y].data[a.node].outputs[a.input].connections.forEach((g,h)=>{if(g.node==D){const m=g.output.slice(6);if(parseInt(l)<parseInt(m)){if(this.module===Y){const b=document.querySelector(".connection.node_in_node-"+D+".node_out_node-"+a.node+"."+a.input+".input_"+m);b.classList.remove("input_"+m),b.classList.add("input_"+(m-1))}this.drawflow.drawflow[Y].data[a.node].outputs[a.input].connections[h]=g.points?{node:g.node,output:"input_"+(m-1),points:g.points}:{node:g.node,output:"input_"+(m-1)}}}})}),this.updateConnectionNodes("node-"+D)}removeNodeOutput(D,V){var Y=this.getModuleFromNodeId(D);const _=this.getNodeFromId(D);this.module===Y&&document.querySelector("#node-"+D+" .outputs .output."+V).remove();const p=[];Object.keys(_.outputs[V].connections).map(function(a,d){p.push({id:D,id_input:_.outputs[V].connections[d].node,output_class:V,input_class:_.outputs[V].connections[d].output})}),p.forEach((a,d)=>{this.removeSingleConnection(a.id,a.id_input,a.output_class,a.input_class)}),delete this.drawflow.drawflow[Y].data[D].outputs[V];const f=[],u=this.drawflow.drawflow[Y].data[D].outputs;Object.keys(u).map(function(a,d){f.push(u[a])}),this.drawflow.drawflow[Y].data[D].outputs={};const l=V.slice(7);let c=[];f.forEach((a,d)=>{a.connections.forEach((g,h)=>{c.push({node:g.node,output:g.output})}),this.drawflow.drawflow[Y].data[D].outputs["output_"+(d+1)]=a}),c=new Set(c.map(a=>JSON.stringify(a))),c=Array.from(c).map(a=>JSON.parse(a)),this.module===Y&&document.querySelectorAll("#node-"+D+" .outputs .output").forEach((a,d)=>{const g=a.classList[1].slice(7);parseInt(l)<parseInt(g)&&(a.classList.remove("output_"+g),a.classList.add("output_"+(g-1)))}),c.forEach((a,d)=>{this.drawflow.drawflow[Y].data[a.node].inputs[a.output].connections.forEach((g,h)=>{if(g.node==D){const m=g.input.slice(7);if(parseInt(l)<parseInt(m)){if(this.module===Y){const b=document.querySelector(".connection.node_in_node-"+a.node+".node_out_node-"+D+".output_"+m+"."+a.output);b.classList.remove("output_"+m),b.classList.remove(a.output),b.classList.add("output_"+(m-1)),b.classList.add(a.output)}this.drawflow.drawflow[Y].data[a.node].inputs[a.output].connections[h]=g.points?{node:g.node,input:"output_"+(m-1),points:g.points}:{node:g.node,input:"output_"+(m-1)}}}})}),this.updateConnectionNodes("node-"+D)}removeNodeId(D){this.removeConnectionNodeId(D);var V=this.getModuleFromNodeId(D.slice(5));this.module===V&&document.getElementById(D).remove(),delete this.drawflow.drawflow[V].data[D.slice(5)],this.dispatch("nodeRemoved",D.slice(5))}removeConnection(){if(null!=this.connection_selected){var D=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var V=this.drawflow.drawflow[this.module].data[D[2].slice(14)].outputs[D[3]].connections.findIndex(function(_,p){return _.node===D[1].slice(13)&&_.output===D[4]});this.drawflow.drawflow[this.module].data[D[2].slice(14)].outputs[D[3]].connections.splice(V,1);var Y=this.drawflow.drawflow[this.module].data[D[1].slice(13)].inputs[D[4]].connections.findIndex(function(_,p){return _.node===D[2].slice(14)&&_.input===D[3]});this.drawflow.drawflow[this.module].data[D[1].slice(13)].inputs[D[4]].connections.splice(Y,1),this.dispatch("connectionRemoved",{output_id:D[2].slice(14),input_id:D[1].slice(13),output_class:D[3],input_class:D[4]}),this.connection_selected=null}}removeSingleConnection(D,V,Y,_){var p=this.getModuleFromNodeId(D);if(p===this.getModuleFromNodeId(V)){if(this.drawflow.drawflow[p].data[D].outputs[Y].connections.findIndex(function(l,c){return l.node==V&&l.output===_})>-1){this.module===p&&document.querySelector(".connection.node_in_node-"+V+".node_out_node-"+D+"."+Y+"."+_).remove();var f=this.drawflow.drawflow[p].data[D].outputs[Y].connections.findIndex(function(l,c){return l.node==V&&l.output===_});this.drawflow.drawflow[p].data[D].outputs[Y].connections.splice(f,1);var u=this.drawflow.drawflow[p].data[V].inputs[_].connections.findIndex(function(l,c){return l.node==D&&l.input===Y});return this.drawflow.drawflow[p].data[V].inputs[_].connections.splice(u,1),this.dispatch("connectionRemoved",{output_id:D,input_id:V,output_class:Y,input_class:_}),!0}return!1}return!1}removeConnectionNodeId(D){const V="node_in_"+D,_=document.getElementsByClassName("node_out_"+D);for(var p=_.length-1;p>=0;p--){var f=_[p].classList,u=this.drawflow.drawflow[this.module].data[f[1].slice(13)].inputs[f[4]].connections.findIndex(function(a,d){return a.node===f[2].slice(14)&&a.input===f[3]});this.drawflow.drawflow[this.module].data[f[1].slice(13)].inputs[f[4]].connections.splice(u,1);var l=this.drawflow.drawflow[this.module].data[f[2].slice(14)].outputs[f[3]].connections.findIndex(function(a,d){return a.node===f[1].slice(13)&&a.output===f[4]});this.drawflow.drawflow[this.module].data[f[2].slice(14)].outputs[f[3]].connections.splice(l,1),_[p].remove(),this.dispatch("connectionRemoved",{output_id:f[2].slice(14),input_id:f[1].slice(13),output_class:f[3],input_class:f[4]})}const c=document.getElementsByClassName(V);for(p=c.length-1;p>=0;p--)l=this.drawflow.drawflow[this.module].data[(f=c[p].classList)[2].slice(14)].outputs[f[3]].connections.findIndex(function(a,d){return a.node===f[1].slice(13)&&a.output===f[4]}),this.drawflow.drawflow[this.module].data[f[2].slice(14)].outputs[f[3]].connections.splice(l,1),u=this.drawflow.drawflow[this.module].data[f[1].slice(13)].inputs[f[4]].connections.findIndex(function(a,d){return a.node===f[2].slice(14)&&a.input===f[3]}),this.drawflow.drawflow[this.module].data[f[1].slice(13)].inputs[f[4]].connections.splice(u,1),c[p].remove(),this.dispatch("connectionRemoved",{output_id:f[2].slice(14),input_id:f[1].slice(13),output_class:f[3],input_class:f[4]})}getModuleFromNodeId(D){var V;const Y=this.drawflow.drawflow;return Object.keys(Y).map(function(_,p){Object.keys(Y[_].data).map(function(f,u){f==D&&(V=_)})}),V}addModule(D){this.drawflow.drawflow[D]={data:{}},this.dispatch("moduleCreated",D)}changeModule(D){this.dispatch("moduleChanged",D),this.module=D,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow)}removeModule(D){this.module===D&&this.changeModule("Home"),delete this.drawflow.drawflow[D],this.dispatch("moduleRemoved",D)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const D=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",D),D}import(D){this.clear(),this.drawflow=JSON.parse(JSON.stringify(D)),this.load(),this.dispatch("import","import")}on(D,V){return"function"!=typeof V?(console.error("The listener callback must be a function, the given type is "+typeof V),!1):"string"!=typeof D?(console.error("The event name must be a string, the given type is "+typeof D),!1):(void 0===this.events[D]&&(this.events[D]={listeners:[]}),void this.events[D].listeners.push(V))}removeListener(D,V){if(void 0===this.events[D])return!1;this.events[D].listeners=this.events[D].listeners.filter(Y=>Y.toString()!==V.toString())}dispatch(D,V){if(void 0===this.events[D])return!1;this.events[D].listeners.forEach(Y=>{Y(V)})}}}]).default},8621:(Ee,G,be)=>{var _,p,f,u,l,c,C=C||{version:"5.3.0"};if(G.fabric=C,typeof document<"u"&&typeof window<"u")C.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),C.window=window;else{var e=new(be(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;C.document=e.document,C.jsdomImplForWrapper=be(6759).implForWrapper,C.nodeCanvas=be(6272).Canvas,C.window=e,DOMParser=C.window.DOMParser}function V(_,p){var f=_.canvas,u=p.targetCanvas,l=u.getContext("2d");l.translate(0,u.height),l.scale(1,-1),l.drawImage(f,0,f.height-u.height,u.width,u.height,0,0,u.width,u.height)}function Y(_,p){var u=p.targetCanvas.getContext("2d"),l=p.destinationWidth,c=p.destinationHeight,a=l*c*4,d=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);_.readPixels(0,0,l,c,_.RGBA,_.UNSIGNED_BYTE,d);var h=new ImageData(g,l,c);u.putImageData(h,0,0)}C.isTouchSupported="ontouchstart"in C.window||"ontouchstart"in C.document||C.window&&C.window.navigator&&C.window.navigator.maxTouchPoints>0,C.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",C.commaWsp="(?:\\s+,?\\s*|,\\s*)",C.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,C.reNonWord=/[ \n\.,;!\?\-]/,C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.svgNS="http://www.w3.org/2000/svg",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.disableStyleCopyPaste=!1,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.arcToSegmentsCache={},C.boundsOfCurveCache={},C.cachesBoundsOfCurve=!0,C.forceGLPutImageData=!1,C.initFilterBackend=function(){return C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize)?(console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize})):C.Canvas2dFilterBackend?new C.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=C),function(){function _(a,d){if(this.__eventListeners[a]){var g=this.__eventListeners[a];d?g[g.indexOf(d)]=!1:C.util.array.fill(g,!1)}}function f(a,d){var g=function(){d.apply(this,arguments),this.off(a,g)}.bind(this);this.on(a,g)}C.Observable={fire:function c(a,d){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var h=0,m=g.length;h<m;h++)g[h]&&g[h].call(this,d||{});return this.__eventListeners[a]=g.filter(function(b){return!1!==b}),this},on:function p(a,d){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(d);return this},once:function u(a,d){if(1===arguments.length)for(var g in a)f.call(this,g,a[g]);else f.call(this,a,d);return this},off:function l(a,d){if(!this.__eventListeners)return this;if(0===arguments.length)for(a in this.__eventListeners)_.call(this,a);else if(1===arguments.length&&"object"==typeof arguments[0])for(var g in a)_.call(this,g,a[g]);else _.call(this,a,d);return this}}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var _=0,p=arguments.length;_<p;_++)this._onObjectAdded(arguments[_]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(_,p,f){var u=this._objects;return f?u[p]=_:u.splice(p,0,_),this._onObjectAdded&&this._onObjectAdded(_),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var p,_=this._objects,f=!1,u=0,l=arguments.length;u<l;u++)-1!==(p=_.indexOf(arguments[u]))&&(f=!0,_.splice(p,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[u]));return this.renderOnAddRemove&&f&&this.requestRenderAll(),this},forEachObject:function(_,p){for(var f=this.getObjects(),u=0,l=f.length;u<l;u++)_.call(p,f[u],u,f);return this},getObjects:function(_){return typeof _>"u"?this._objects.concat():this._objects.filter(function(p){return p.type===_})},item:function(_){return this._objects[_]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(_,p){return this._objects.indexOf(_)>-1||!!p&&this._objects.some(function(f){return"function"==typeof f.contains&&f.contains(_,!0)})},complexity:function(){return this._objects.reduce(function(_,p){return _+(p.complexity?p.complexity():0)},0)}},C.CommonMethods={_setOptions:function(_){for(var p in _)this.set(p,_[p])},_initGradient:function(_,p){_&&_.colorStops&&!(_ instanceof C.Gradient)&&this.set(p,new C.Gradient(_))},_initPattern:function(_,p,f){!_||!_.source||_ instanceof C.Pattern?f&&f():this.set(p,new C.Pattern(_,f))},_setObject:function(_){for(var p in _)this._set(p,_[p])},set:function(_,p){return"object"==typeof _?this._setObject(_):this._set(_,p),this},_set:function(_,p){this[_]=p},toggle:function(_){var p=this.get(_);return"boolean"==typeof p&&this.set(_,!p),this},get:function(_){return this[_]}},_=G,p=Math.sqrt,f=Math.atan2,u=Math.pow,l=Math.PI/180,c=Math.PI/2,C.util={cos:function(a){if(0===a)return 1;switch(a<0&&(a=-a),a/c){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(0===a)return 0;var g=1;switch(a<0&&(g=-1),a/c){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,d){var g=a.indexOf(d);return-1!==g&&a.splice(g,1),a},getRandomInt:function(a,d){return Math.floor(Math.random()*(d-a+1))+a},degreesToRadians:function(a){return a*l},radiansToDegrees:function(a){return a/l},rotatePoint:function(a,d,g){var h=new C.Point(a.x-d.x,a.y-d.y),m=C.util.rotateVector(h,g);return new C.Point(m.x,m.y).addEquals(d)},rotateVector:function(a,d){var g=C.util.sin(d),h=C.util.cos(d);return{x:a.x*h-a.y*g,y:a.x*g+a.y*h}},createVector:function(a,d){return new C.Point(d.x-a.x,d.y-a.y)},calcAngleBetweenVectors:function(a,d){return Math.acos((a.x*d.x+a.y*d.y)/(Math.hypot(a.x,a.y)*Math.hypot(d.x,d.y)))},getHatVector:function(a){return new C.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,d,g){var h=C.util.createVector(a,d),m=C.util.createVector(a,g),b=C.util.calcAngleBetweenVectors(h,m),v=C.util.calcAngleBetweenVectors(C.util.rotateVector(h,b),m);return{vector:C.util.getHatVector(C.util.rotateVector(h,b*(0===v?1:-1)/2)),angle:b}},projectStrokeOnPoints:function(a,d,g){var h=[],m=d.strokeWidth/2,b=d.strokeUniform?new C.Point(1/d.scaleX,1/d.scaleY):new C.Point(1,1),v=function(y){var M=m/Math.hypot(y.x,y.y);return new C.Point(y.x*M*b.x,y.y*M*b.y)};return a.length<=1||a.forEach(function(y,M){var E,Z,w=new C.Point(y.x,y.y);0===M?(Z=a[M+1],E=g?v(C.util.createVector(Z,w)).addEquals(w):a[a.length-1]):M===a.length-1?(E=a[M-1],Z=g?v(C.util.createVector(E,w)).addEquals(w):a[0]):(E=a[M-1],Z=a[M+1]);var re,le,U=C.util.getBisector(w,E,Z),q=U.vector;if("miter"===d.strokeLineJoin&&(re=-m/Math.sin(U.angle/2),le=new C.Point(q.x*re*b.x,q.y*re*b.y),Math.hypot(le.x,le.y)/m<=d.strokeMiterLimit))return h.push(w.add(le)),void h.push(w.subtract(le));re=-m*Math.SQRT2,le=new C.Point(q.x*re*b.x,q.y*re*b.y),h.push(w.add(le)),h.push(w.subtract(le))}),h},transformPoint:function(a,d,g){return g?new C.Point(d[0]*a.x+d[2]*a.y,d[1]*a.x+d[3]*a.y):new C.Point(d[0]*a.x+d[2]*a.y+d[4],d[1]*a.x+d[3]*a.y+d[5])},makeBoundingBoxFromPoints:function(a,d){if(d)for(var g=0;g<a.length;g++)a[g]=C.util.transformPoint(a[g],d);var h=[a[0].x,a[1].x,a[2].x,a[3].x],m=C.util.array.min(h),v=C.util.array.max(h)-m,y=[a[0].y,a[1].y,a[2].y,a[3].y],M=C.util.array.min(y);return{left:m,top:M,width:v,height:C.util.array.max(y)-M}},invertTransform:function(a){var d=1/(a[0]*a[3]-a[1]*a[2]),g=[d*a[3],-d*a[1],-d*a[2],d*a[0]],h=C.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-h.x,g[5]=-h.y,g},toFixed:function(a,d){return parseFloat(Number(a).toFixed(d))},parseUnit:function(a,d){var g=/\D{0,2}$/.exec(a),h=parseFloat(a);switch(d||(d=C.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return h*C.DPI/25.4;case"cm":return h*C.DPI/2.54;case"in":return h*C.DPI;case"pt":return h*C.DPI/72;case"pc":return h*C.DPI/72*12;case"em":return h*d;default:return h}},falseFunction:function(){return!1},getKlass:function(a,d){return a=C.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),C.util.resolveNamespace(d)[a]},getSvgAttributes:function(a){var d=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":d=d.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":d=d.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":d=d.concat(["offset","stop-color","stop-opacity"])}return d},resolveNamespace:function(a){if(!a)return C;var h,d=a.split("."),g=d.length,m=_||C.window;for(h=0;h<g;++h)m=m[d[h]];return m},loadImage:function(a,d,g,h){if(a){var m=C.util.createImage(),b=function(){d&&d.call(g,m,!1),m=m.onload=m.onerror=null};m.onload=b,m.onerror=function(){C.log("Error loading "+m.src),d&&d.call(g,null,!0),m=m.onload=m.onerror=null},0!==a.indexOf("data")&&null!=h&&(m.crossOrigin=h),"data:image/svg"===a.substring(0,14)&&(m.onload=null,C.util.loadImageInDom(m,b)),m.src=a}else d&&d.call(g,a)},loadImageInDom:function(a,d){var g=C.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),C.document.querySelector("body").appendChild(g),a.onload=function(){d(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,d,g,h){var m=[],b=0,v=(a=a||[]).length;function y(){++b===v&&d&&d(m.filter(function(M){return M}))}v?a.forEach(function(M,w){M&&M.type?C.util.getKlass(M.type,g).fromObject(M,function(Z,U){U||(m[w]=Z),h&&h(M,Z,U),y()}):y()}):d&&d(m)},enlivenObjectEnlivables:function(a,d,g){var h=C.Object.ENLIVEN_PROPS.filter(function(m){return!!a[m]});C.util.enlivenObjects(h.map(function(m){return a[m]}),function(m){var b={};h.forEach(function(v,y){b[v]=m[y],d&&(d[v]=m[y])}),g&&g(b)})},enlivenPatterns:function(a,d){function g(){++m===b&&d&&d(h)}var h=[],m=0,b=(a=a||[]).length;b?a.forEach(function(v,y){v&&v.source?new C.Pattern(v,function(M){h[y]=M,g()}):(h[y]=v,g())}):d&&d(h)},groupSVGElements:function(a,d,g){var h;return a&&1===a.length?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(d&&(d.width&&d.height?d.centerPoint={x:d.width/2,y:d.height/2}:(delete d.width,delete d.height)),h=new C.Group(a,d),typeof g<"u"&&(h.sourcePath=g),h)},populateWithProperties:function(a,d,g){if(g&&Array.isArray(g))for(var h=0,m=g.length;h<m;h++)g[h]in a&&(d[g[h]]=a[g[h]])},createCanvasElement:function(){return C.document.createElement("canvas")},copyCanvasElement:function(a){var d=C.util.createCanvasElement();return d.width=a.width,d.height=a.height,d.getContext("2d").drawImage(a,0,0),d},toDataURL:function(a,d,g){return a.toDataURL("image/"+d,g)},createImage:function(){return C.document.createElement("img")},multiplyTransformMatrices:function(a,d,g){return[a[0]*d[0]+a[2]*d[1],a[1]*d[0]+a[3]*d[1],a[0]*d[2]+a[2]*d[3],a[1]*d[2]+a[3]*d[3],g?0:a[0]*d[4]+a[2]*d[5]+a[4],g?0:a[1]*d[4]+a[3]*d[5]+a[5]]},qrDecompose:function(a){var d=f(a[1],a[0]),g=u(a[0],2)+u(a[1],2),h=p(g),m=(a[0]*a[3]-a[2]*a[1])/h,b=f(a[0]*a[2]+a[1]*a[3],g);return{angle:d/l,scaleX:h,scaleY:m,skewX:b/l,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return C.iMatrix.concat();var d=C.util.degreesToRadians(a.angle),g=C.util.cos(d),h=C.util.sin(d);return[g,h,-h,g,0,0]},calcDimensionsMatrix:function(a){var d=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,h=[a.flipX?-d:d,0,0,a.flipY?-g:g,0,0],m=C.util.multiplyTransformMatrices,b=C.util.degreesToRadians;return a.skewX&&(h=m(h,[1,0,Math.tan(b(a.skewX)),1],!0)),a.skewY&&(h=m(h,[1,Math.tan(b(a.skewY)),0,1],!0)),h},composeMatrix:function(a){var d=[1,0,0,1,a.translateX||0,a.translateY||0],g=C.util.multiplyTransformMatrices;return a.angle&&(d=g(d,C.util.calcRotateMatrix(a))),(1!==a.scaleX||1!==a.scaleY||a.skewX||a.skewY||a.flipX||a.flipY)&&(d=g(d,C.util.calcDimensionsMatrix(a))),d},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,d,g,h){h>0&&(d>h?d-=h:d=0,g>h?g-=h:g=0);var b,m=!0,y=a.getImageData(d,g,2*h||1,2*h||1),M=y.data.length;for(b=3;b<M&&0!=(m=y.data[b]<=0);b+=4);return y=null,m},parsePreserveAspectRatioAttribute:function(a){var b,d="meet",m=a.split(" ");return m&&m.length&&("meet"!==(d=m.pop())&&"slice"!==d?(b=d,d="meet"):m.length&&(b=m.pop())),{meetOrSlice:d,alignX:"none"!==b?b.slice(1,4):"none",alignY:"none"!==b?b.slice(5,8):"none"}},clearFabricFontCache:function(a){(a=(a||"").toLowerCase())?C.charWidthsCache[a]&&delete C.charWidthsCache[a]:C.charWidthsCache={}},limitDimsByArea:function(a,d){var g=Math.sqrt(d*a),h=Math.floor(d/g);return{x:Math.floor(g),y:h}},capValue:function(a,d,g){return Math.max(a,Math.min(d,g))},findScaleToFit:function(a,d){return Math.min(d.width/a.width,d.height/a.height)},findScaleToCover:function(a,d){return Math.max(d.width/a.width,d.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(d){return C.util.toFixed(d,C.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,d){var g=C.util.invertTransform(d),h=C.util.multiplyTransformMatrices(g,a.calcOwnMatrix());C.util.applyTransformToObject(a,h)},addTransformToObject:function(a,d){C.util.applyTransformToObject(a,C.util.multiplyTransformMatrices(d,a.calcOwnMatrix()))},applyTransformToObject:function(a,d){var g=C.util.qrDecompose(d),h=new C.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(h,"center","center")},sizeAfterTransform:function(a,d,g){var h=a/2,m=d/2,b=[{x:-h,y:-m},{x:h,y:-m},{x:-h,y:m},{x:h,y:m}],v=C.util.calcDimensionsMatrix(g),y=C.util.makeBoundingBoxFromPoints(b,v);return{x:y.width,y:y.height}},mergeClipPaths:function(a,d){var g=a,h=d;g.inverted&&!h.inverted&&(g=d,h=a),C.util.applyTransformToObject(h,C.util.multiplyTransformMatrices(C.util.invertTransform(g.calcTransformMatrix()),h.calcTransformMatrix()));var m=g.inverted&&h.inverted;return m&&(g.inverted=h.inverted=!1),new C.Group([g],{clipPath:h,inverted:m})},hasStyleChanged:function(a,d,g){return g=g||!1,a.fill!==d.fill||a.stroke!==d.stroke||a.strokeWidth!==d.strokeWidth||a.fontSize!==d.fontSize||a.fontFamily!==d.fontFamily||a.fontWeight!==d.fontWeight||a.fontStyle!==d.fontStyle||a.textBackgroundColor!==d.textBackgroundColor||a.deltaY!==d.deltaY||g&&(a.overline!==d.overline||a.underline!==d.underline||a.linethrough!==d.linethrough)},stylesToArray:function(g,d){g=C.util.object.clone(g,!0);for(var h=d.split("\n"),m=-1,b={},v=[],y=0;y<h.length;y++)if(g[y])for(var M=0;M<h[y].length;M++){m++;var w=g[y][M];w&&Object.keys(w).length>0&&(C.util.hasStyleChanged(b,w,!0)?v.push({start:m,end:m+1,style:w}):v[v.length-1].end++),b=w||{}}else m+=h[y].length;return v},stylesFromArray:function(a,d){if(!Array.isArray(a))return a;for(var g=d.split("\n"),h=-1,m=0,b={},v=0;v<g.length;v++)for(var y=0;y<g[v].length;y++)h++,a[m]&&a[m].start<=h&&h<a[m].end&&(b[v]=b[v]||{},b[v][y]=Object.assign({},a[m].style),h===a[m].end-1&&m++);return b}},function(){var _=Array.prototype.join,p={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function u(B,F,k,P,S,A,O,I,N,H,z){var X=C.util.cos(B),ee=C.util.sin(B),de=C.util.cos(F),ne=C.util.sin(F),K=k*S*de-P*A*ne+O,ve=P*S*de+k*A*ne+I;return["C",H+N*(-k*S*ee-P*A*X),z+N*(-P*S*ee+k*A*X),K+N*(k*S*ne+P*A*de),ve+N*(P*S*ne-k*A*de),K,ve]}function c(B,F,k,P){var S=Math.atan2(F,B),A=Math.atan2(P,k);return A>=S?A-S:2*Math.PI-(S-A)}function d(B,F,k){for(var z=function l(B,F,k,P,S,A,O){var I=Math.PI,N=O*I/180,H=C.util.sin(N),z=C.util.cos(N),X=0,ee=0,de=-z*B*.5-H*F*.5,ne=-z*F*.5+H*B*.5,K=(k=Math.abs(k))*k,ve=(P=Math.abs(P))*P,ye=ne*ne,oe=de*de,ge=K*ve-K*ye-ve*oe,fe=0;if(ge<0){var j=Math.sqrt(1-ge/(K*ve));k*=j,P*=j}else fe=(S===A?-1:1)*Math.sqrt(ge/(K*ye+ve*oe));var te=fe*k*ne/P,ie=-fe*P*de/k,we=z*te-H*ie+.5*B,Se=H*te+z*ie+.5*F,Te=c(1,0,(de-te)/k,(ne-ie)/P),De=c((de-te)/k,(ne-ie)/P,(-de-te)/k,(-ne-ie)/P);0===A&&De>0?De-=2*I:1===A&&De<0&&(De+=2*I);for(var Oe=Math.ceil(Math.abs(De/I*2)),He=[],Ie=De/Oe,et=8/3*Math.sin(Ie/4)*Math.sin(Ie/4)/Math.sin(Ie/2),xe=Te+Ie,ae=0;ae<Oe;ae++)He[ae]=u(Te,xe,z,H,k,P,we,Se,et,X,ee),X=He[ae][5],ee=He[ae][6],Te=xe,xe+=Ie;return He}(k[6]-B,k[7]-F,k[1],k[2],k[4],k[5],k[3]),X=0,ee=z.length;X<ee;X++)z[X][1]+=B,z[X][2]+=F,z[X][3]+=B,z[X][4]+=F,z[X][5]+=B,z[X][6]+=F;return z}function h(B,F,k,P){return Math.sqrt((k-B)*(k-B)+(P-F)*(P-F))}function M(B,F,k,P,S,A,O,I){return function(N){var H=function m(B){return B*B*B}(N),z=function b(B){return 3*B*B*(1-B)}(N),X=function v(B){return 3*B*(1-B)*(1-B)}(N),ee=function y(B){return(1-B)*(1-B)*(1-B)}(N);return{x:O*H+S*z+k*X+B*ee,y:I*H+A*z+P*X+F*ee}}}function w(B,F,k,P,S,A,O,I){return function(N){var H=1-N;return Math.atan2(3*H*H*(P-F)+6*H*N*(A-P)+3*N*N*(I-A),3*H*H*(k-B)+6*H*N*(S-k)+3*N*N*(O-S))}}function q(B,F,k,P,S,A){return function(O){var I=function E(B){return B*B}(O),N=function Z(B){return 2*B*(1-B)}(O),H=function U(B){return(1-B)*(1-B)}(O);return{x:S*I+k*N+B*H,y:A*I+P*N+F*H}}}function Q(B,F,k,P,S,A){return function(O){var I=1-O;return Math.atan2(2*I*(P-F)+2*O*(A-P),2*I*(k-B)+2*O*(S-k))}}function re(B,F,k){var S,O,P={x:F,y:k},A=0;for(O=1;O<=100;O+=1)S=B(O/100),A+=h(P.x,P.y,S.x,S.y),P=S;return A}function ue(B){for(var P,H,z,X,F=0,k=B.length,S=0,A=0,O=0,I=0,N=[],ee=0;ee<k;ee++){switch(z={x:S,y:A,command:(P=B[ee])[0]},P[0]){case"M":z.length=0,O=S=P[1],I=A=P[2];break;case"L":z.length=h(S,A,P[1],P[2]),S=P[1],A=P[2];break;case"C":H=M(S,A,P[1],P[2],P[3],P[4],P[5],P[6]),X=w(S,A,P[1],P[2],P[3],P[4],P[5],P[6]),z.iterator=H,z.angleFinder=X,z.length=re(H,S,A),S=P[5],A=P[6];break;case"Q":H=q(S,A,P[1],P[2],P[3],P[4]),X=Q(S,A,P[1],P[2],P[3],P[4]),z.iterator=H,z.angleFinder=X,z.length=re(H,S,A),S=P[3],A=P[4];break;case"Z":case"z":z.destX=O,z.destY=I,z.length=h(S,A,O,I),S=O,A=I}F+=z.length,N.push(z)}return N.push({length:F,x:S,y:A}),N}C.util.joinPath=function(B){return B.map(function(F){return F.join(" ")}).join(" ")},C.util.parsePath=function ce(B){var P,S,X,ee,de,F=[],k=[],A=C.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",I="("+O+")"+C.commaWsp,N="([01])"+C.commaWsp+"?",z=new RegExp(I+"?"+I+"?"+I+N+N+I+"?("+O+")","g");if(!B||!B.match)return F;for(var K,ne=0,ve=(de=B.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;ne<ve;ne++){ee=(P=de[ne]).slice(1).trim(),k.length=0;var ye=P.charAt(0);if(K=[ye],"a"===ye.toLowerCase())for(var oe;oe=z.exec(ee);)for(var ge=1;ge<oe.length;ge++)k.push(oe[ge]);else for(;X=A.exec(ee);)k.push(X[0]);ge=0;for(var fe=k.length;ge<fe;ge++)S=parseFloat(k[ge]),isNaN(S)||K.push(S);var j=p[ye.toLowerCase()],te=f[ye]||ye;if(K.length-1>j)for(var ie=1,we=K.length;ie<we;ie+=j)F.push([ye].concat(K.slice(ie,ie+j))),ye=te;else F.push(K)}return F},C.util.makePathSimpler=function g(B){var O,I,N,z,X,ee,F=0,k=0,P=B.length,S=0,A=0,H=[];for(I=0;I<P;++I){switch(N=!1,(O=B[I].slice(0))[0]){case"l":O[0]="L",O[1]+=F,O[2]+=k;case"L":F=O[1],k=O[2];break;case"h":O[1]+=F;case"H":O[0]="L",O[2]=k,F=O[1];break;case"v":O[1]+=k;case"V":O[0]="L",k=O[1],O[1]=F,O[2]=k;break;case"m":O[0]="M",O[1]+=F,O[2]+=k;case"M":F=O[1],k=O[2],S=O[1],A=O[2];break;case"c":O[0]="C",O[1]+=F,O[2]+=k,O[3]+=F,O[4]+=k,O[5]+=F,O[6]+=k;case"C":X=O[3],ee=O[4],F=O[5],k=O[6];break;case"s":O[0]="S",O[1]+=F,O[2]+=k,O[3]+=F,O[4]+=k;case"S":"C"===z?(X=2*F-X,ee=2*k-ee):(X=F,ee=k),F=O[3],k=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=X,O[2]=ee,X=O[3],ee=O[4];break;case"q":O[0]="Q",O[1]+=F,O[2]+=k,O[3]+=F,O[4]+=k;case"Q":X=O[1],ee=O[2],F=O[3],k=O[4];break;case"t":O[0]="T",O[1]+=F,O[2]+=k;case"T":"Q"===z?(X=2*F-X,ee=2*k-ee):(X=F,ee=k),O[0]="Q",F=O[1],k=O[2],O[1]=X,O[2]=ee,O[3]=F,O[4]=k;break;case"a":O[0]="A",O[6]+=F,O[7]+=k;case"A":N=!0,H=H.concat(d(F,k,O)),F=O[6],k=O[7];break;case"z":case"Z":F=S,k=A}N||H.push(O),z=O[0]}return H},C.util.getSmoothPathFromPoints=function pe(B,F){var P,k=[],S=new C.Point(B[0].x,B[0].y),A=new C.Point(B[1].x,B[1].y),O=B.length,I=1,N=0,H=O>2;for(H&&(I=B[2].x<A.x?-1:B[2].x===A.x?0:1,N=B[2].y<A.y?-1:B[2].y===A.y?0:1),k.push(["M",S.x-I*(F=F||0),S.y-N*F]),P=1;P<O;P++){if(!S.eq(A)){var z=S.midPointFrom(A);k.push(["Q",S.x,S.y,z.x,z.y])}S=B[P],P+1<B.length&&(A=B[P+1])}return H&&(I=S.x>B[P-2].x?1:S.x===B[P-2].x?0:-1,N=S.y>B[P-2].y?1:S.y===B[P-2].y?0:-1),k.push(["L",S.x+I*F,S.y+N*F]),k},C.util.getPathSegmentsInfo=ue,C.util.getBoundsOfCurve=function a(B,F,k,P,S,A,O,I){var N;if(C.cachesBoundsOfCurve&&(N=_.call(arguments),C.boundsOfCurveCache[N]))return C.boundsOfCurveCache[N];var K,ve,ye,oe,ge,fe,j,te,H=Math.sqrt,z=Math.min,X=Math.max,ee=Math.abs,de=[],ne=[[],[]];ve=6*B-12*k+6*S,K=-3*B+9*k-9*S+3*O,ye=3*k-3*B;for(var ie=0;ie<2;++ie)if(ie>0&&(ve=6*F-12*P+6*A,K=-3*F+9*P-9*A+3*I,ye=3*P-3*F),ee(K)<1e-12){if(ee(ve)<1e-12)continue;0<(oe=-ye/ve)&&oe<1&&de.push(oe)}else!((j=ve*ve-4*ye*K)<0)&&(0<(ge=(-ve+(te=H(j)))/(2*K))&&ge<1&&de.push(ge),0<(fe=(-ve-te)/(2*K))&&fe<1&&de.push(fe));for(var Oe,Te=de.length,De=Te;Te--;)ne[0][Te]=(Oe=1-(oe=de[Te]))*Oe*Oe*B+3*Oe*Oe*oe*k+3*Oe*oe*oe*S+oe*oe*oe*O,ne[1][Te]=Oe*Oe*Oe*F+3*Oe*Oe*oe*P+3*Oe*oe*oe*A+oe*oe*oe*I;ne[0][De]=B,ne[1][De]=F,ne[0][De+1]=O,ne[1][De+1]=I;var He=[{x:z.apply(null,ne[0]),y:z.apply(null,ne[1])},{x:X.apply(null,ne[0]),y:X.apply(null,ne[1])}];return C.cachesBoundsOfCurve&&(C.boundsOfCurveCache[N]=He),He},C.util.getPointOnPath=function W(B,F,k){k||(k=ue(B));for(var P=0;F-k[P].length>0&&P<k.length-2;)F-=k[P].length,P++;var N,S=k[P],A=F/S.length,I=B[P];switch(S.command){case"M":return{x:S.x,y:S.y,angle:0};case"Z":case"z":return(N=new C.Point(S.x,S.y).lerp(new C.Point(S.destX,S.destY),A)).angle=Math.atan2(S.destY-S.y,S.destX-S.x),N;case"L":return(N=new C.Point(S.x,S.y).lerp(new C.Point(I[1],I[2]),A)).angle=Math.atan2(I[2]-S.y,I[1]-S.x),N;case"C":case"Q":return function le(B,F){for(var O,I,z,k=0,P=0,S=B.iterator,A={x:B.x,y:B.y},N=.01,H=B.angleFinder;P<F&&N>1e-4;)O=S(k),z=k,(I=h(A.x,A.y,O.x,O.y))+P>F?(k-=N,N/=2):(A=O,k+=N,P+=I);return O.angle=H(z),O}(S,F)}},C.util.transformPath=function _e(B,F,k){return k&&(F=C.util.multiplyTransformMatrices(F,[1,0,0,1,-k.x,-k.y])),B.map(function(P){for(var S=P.slice(0),A={},O=1;O<P.length-1;O+=2)A.x=P[O],A.y=P[O+1],A=C.util.transformPoint(A,F),S[O]=A.x,S[O+1]=A.y;return S})}}(),function(){var _=Array.prototype.slice;function c(a,d,g){if(a&&0!==a.length){var h=a.length-1,m=d?a[h][d]:a[h];if(d)for(;h--;)g(a[h][d],m)&&(m=a[h][d]);else for(;h--;)g(a[h],m)&&(m=a[h]);return m}}C.util.array={fill:function l(a,d){for(var g=a.length;g--;)a[g]=d;return a},invoke:function p(a,d){for(var g=_.call(arguments,2),h=[],m=0,b=a.length;m<b;m++)h[m]=g.length?a[m][d].apply(a[m],g):a[m][d].call(a[m]);return h},min:function u(a,d){return c(a,d,function(g,h){return g<h})},max:function f(a,d){return c(a,d,function(g,h){return g>=h})}}}(),function(){function _(f,u,l){if(l)if(!C.isLikelyNode&&u instanceof Element)f=u;else if(u instanceof Array){f=[];for(var c=0,a=u.length;c<a;c++)f[c]=_({},u[c],l)}else if(u&&"object"==typeof u)for(var d in u)"canvas"===d||"group"===d?f[d]=null:u.hasOwnProperty(d)&&(f[d]=_({},u[d],l));else f=u;else for(var d in u)f[d]=u[d];return f}C.util.object={extend:_,clone:function p(f,u){return _({},f,u)}},C.util.object.extend(C.util,C.Observable)}(),function(){function l(c,a){var d=c.charCodeAt(a);if(isNaN(d))return"";if(d<55296||d>57343)return c.charAt(a);if(55296<=d&&d<=56319){if(c.length<=a+1)throw"High surrogate without following low surrogate";var g=c.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return c.charAt(a)+c.charAt(a+1)}if(0===a)throw"Low surrogate without preceding high surrogate";var h=c.charCodeAt(a-1);if(55296>h||h>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:function _(c){return c.replace(/-+(.)?/g,function(a,d){return d?d.toUpperCase():""})},capitalize:function p(c,a){return c.charAt(0).toUpperCase()+(a?c.slice(1):c.slice(1).toLowerCase())},escapeXml:function f(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function u(c){var d,a=0,g=[];for(a=0;a<c.length;a++)!1!==(d=l(c,a))&&g.push(d);return g}}}(),function(){var _=Array.prototype.slice,p=function(){},f=function(){for(var d in{toString:1})if("toString"===d)return!1;return!0}(),u=function(d,g,h){for(var m in g)d.prototype[m]=m in d.prototype&&"function"==typeof d.prototype[m]&&(g[m]+"").indexOf("callSuper")>-1?function(b){return function(){var v=this.constructor.superclass;this.constructor.superclass=h;var y=g[b].apply(this,arguments);if(this.constructor.superclass=v,"initialize"!==b)return y}}(m):g[m],f&&(g.toString!==Object.prototype.toString&&(d.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(d.prototype.valueOf=g.valueOf))};function l(){}function c(d){for(var g=null,h=this;h.constructor.superclass;){var m=h.constructor.superclass.prototype[d];if(h[d]!==m){g=m;break}h=h.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,_.call(arguments,1)):g.call(this):console.log("tried to callSuper "+d+", method not found in prototype chain",this)}C.util.createClass=function a(){var d=null,g=_.call(arguments,0);function h(){this.initialize.apply(this,arguments)}"function"==typeof g[0]&&(d=g.shift()),h.superclass=d,h.subclasses=[],d&&(l.prototype=d.prototype,h.prototype=new l,d.subclasses.push(h));for(var m=0,b=g.length;m<b;m++)u(h,g[m],d);return h.prototype.initialize||(h.prototype.initialize=p),h.prototype.constructor=h,h.prototype.callSuper=c,h}}(),function(){var _=!!C.document.createElement("div").attachEvent,p=["touchstart","touchmove","touchend"];C.util.addListener=function(u,l,c,a){u&&u.addEventListener(l,c,!_&&a)},C.util.removeListener=function(u,l,c,a){u&&u.removeEventListener(l,c,!_&&a)},C.util.getPointer=function(u){var c=C.util.getScrollLeftTop(u.target),a=function f(u){var l=u.changedTouches;return l&&l[0]?l[0]:u}(u);return{x:a.clientX+c.left,y:a.clientY+c.top}},C.util.isTouchEvent=function(u){return p.indexOf(u.type)>-1||"touch"===u.pointerType}}(),function(){var p=C.document.createElement("div"),l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(a){return a};"string"==typeof p.style.opacity?c=function(a,d){return a.style.opacity=d,a}:"string"==typeof p.style.filter&&(c=function(a,d){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),l.test(g.filter)?g.filter=g.filter.replace(l,d=d>=.9999?"":"alpha(opacity="+100*d+")"):g.filter+=" alpha(opacity="+100*d+")",a}),C.util.setStyle=function _(a,d){var g=a.style;if(!g)return a;if("string"==typeof d)return a.style.cssText+=";"+d,d.indexOf("opacity")>-1?c(a,d.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var h in d)"opacity"===h?c(a,d[h]):g.setProperty("float"===h||"cssFloat"===h?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":h,d[h]);return a}}(),function(){var f,h,y,M,_=Array.prototype.slice,u=function(y){return _.call(y,0)};try{f=u(C.document.childNodes)instanceof Array}catch{}function l(y,M){var w=C.document.createElement(y);for(var E in M)"class"===E?w.className=M[E]:"for"===E?w.htmlFor=M[E]:w.setAttribute(E,M[E]);return w}function d(y){for(var M=0,w=0,E=C.document.documentElement,Z=C.document.body||{scrollLeft:0,scrollTop:0};y&&(y.parentNode||y.host)&&((y=y.parentNode||y.host)===C.document?(M=Z.scrollLeft||E.scrollLeft||0,w=Z.scrollTop||E.scrollTop||0):(M+=y.scrollLeft||0,w+=y.scrollTop||0),1!==y.nodeType||"fixed"!==y.style.position););return{left:M,top:w}}f||(u=function(y){for(var M=new Array(y.length),w=y.length;w--;)M[w]=y[w];return M}),h=C.document.defaultView&&C.document.defaultView.getComputedStyle?function(y,M){var w=C.document.defaultView.getComputedStyle(y,null);return w?w[M]:void 0}:function(y,M){var w=y.style[M];return!w&&y.currentStyle&&(w=y.currentStyle[M]),w},M="userSelect"in(y=C.document.documentElement.style)?"userSelect":"MozUserSelect"in y?"MozUserSelect":"WebkitUserSelect"in y?"WebkitUserSelect":"KhtmlUserSelect"in y?"KhtmlUserSelect":"",C.util.makeElementUnselectable=function w(Z){return typeof Z.onselectstart<"u"&&(Z.onselectstart=C.util.falseFunction),M?Z.style[M]="none":"string"==typeof Z.unselectable&&(Z.unselectable="on"),Z},C.util.makeElementSelectable=function E(Z){return typeof Z.onselectstart<"u"&&(Z.onselectstart=null),M?Z.style[M]="":"string"==typeof Z.unselectable&&(Z.unselectable=""),Z},C.util.setImageSmoothing=function v(y,M){y.imageSmoothingEnabled=y.imageSmoothingEnabled||y.webkitImageSmoothingEnabled||y.mozImageSmoothingEnabled||y.msImageSmoothingEnabled||y.oImageSmoothingEnabled,y.imageSmoothingEnabled=M},C.util.getById=function p(y){return"string"==typeof y?C.document.getElementById(y):y},C.util.toArray=u,C.util.addClass=function c(y,M){y&&-1===(" "+y.className+" ").indexOf(" "+M+" ")&&(y.className+=(y.className?" ":"")+M)},C.util.makeElement=l,C.util.wrapElement=function a(y,M,w){return"string"==typeof M&&(M=l(M,w)),y.parentNode&&y.parentNode.replaceChild(M,y),M.appendChild(y),M},C.util.getScrollLeftTop=d,C.util.getElementOffset=function g(y){var M,U,w=y&&y.ownerDocument,E={left:0,top:0},Z={left:0,top:0},q={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!w)return Z;for(var Q in q)Z[q[Q]]+=parseInt(h(y,Q),10)||0;return M=w.documentElement,typeof y.getBoundingClientRect<"u"&&(E=y.getBoundingClientRect()),U=d(y),{left:E.left+U.left-(M.clientLeft||0)+Z.left,top:E.top+U.top-(M.clientTop||0)+Z.top}},C.util.getNodeCanvas=function m(y){var M=C.jsdomImplForWrapper(y);return M._canvas||M._image},C.util.cleanUpJsdomNode=function b(y){if(C.isLikelyNode){var M=C.jsdomImplForWrapper(y);M&&(M._image=null,M._canvas=null,M._currentSrc=null,M._attributes=null,M._classList=null)}}}(),function(){function p(){}C.util.request=function f(u,l){l||(l={});var c=l.method?l.method.toUpperCase():"GET",a=l.onComplete||function(){},d=new C.window.XMLHttpRequest,g=l.body||l.parameters;return d.onreadystatechange=function(){4===d.readyState&&(a(d),d.onreadystatechange=p)},"GET"===c&&(g=null,"string"==typeof l.parameters&&(u=function _(u,l){return u+(/\?/.test(u)?"&":"?")+l}(u,l.parameters))),d.open(c,u,!0),("POST"===c||"PUT"===c)&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(g),d}}(),C.log=console.log,C.warn=console.warn,function(){var _=C.util.object.extend,p=C.util.object.clone,f=[];function u(){return!1}function l(m,b,v,y){return-v*Math.cos(m/y*(Math.PI/2))+v+b}C.util.object.extend(f,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(b){b.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var b=this.filter(function(v){return"object"==typeof v.target&&v.target.canvas===m});return b.forEach(function(v){v.cancel()}),b},cancelByTarget:function(m){var b=this.findAnimationsByTarget(m);return b.forEach(function(v){v.cancel()}),b},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(b){return b.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(b){return b.target===m}):[]}});var a=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(m){return C.window.setTimeout(m,1e3/60)},d=C.window.cancelAnimationFrame||C.window.clearTimeout;function g(){return a.apply(C.window,arguments)}C.util.animate=function c(m){m||(m={});var v,b=!1,y=function(){var M=C.runningAnimations.indexOf(v);return M>-1&&C.runningAnimations.splice(M,1)[0]};return v=_(p(m),{cancel:function(){return b=!0,y()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),C.runningAnimations.push(v),g(function(M){var U,w=M||+new Date,E=m.duration||500,Z=w+E,q=m.onChange||u,Q=m.abort||u,re=m.onComplete||u,le=m.easing||l,ue="startValue"in m&&m.startValue.length>0,W="startValue"in m?m.startValue:0,ce="endValue"in m?m.endValue:100,pe=m.byValue||(ue?W.map(function(_e,B){return ce[B]-W[B]}):ce-W);m.onStart&&m.onStart(),function _e(B){var F=(U=B||+new Date)>Z?E:U-w,k=F/E,P=ue?W.map(function(A,O){return le(F,W[O],pe[O],E)}):le(F,W,pe,E),S=Math.abs(ue?(P[0]-W[0])/pe[0]:(P-W)/pe);if(v.currentValue=ue?P.slice():P,v.completionRate=S,v.durationRate=k,!b){if(Q(P,S,k))return void y();if(U>Z)return v.currentValue=ue?ce.slice():ce,v.completionRate=1,v.durationRate=1,q(ue?ce.slice():ce,1,1),re(ce,1,1),void y();q(P,S,k),g(_e)}}(w)}),v.cancel},C.util.requestAnimFrame=g,C.util.cancelAnimFrame=function h(){return d.apply(C.window,arguments)},C.runningAnimations=f}(),function(){function _(f,u,l){var c="rgba("+parseInt(f[0]+l*(u[0]-f[0]),10)+","+parseInt(f[1]+l*(u[1]-f[1]),10)+","+parseInt(f[2]+l*(u[2]-f[2]),10);return(c+=","+(f&&u?parseFloat(f[3]+l*(u[3]-f[3])):1))+")"}C.util.animateColor=function p(f,u,l,c){var a=new C.Color(f).getSource(),d=new C.Color(u).getSource(),g=c.onComplete,h=c.onChange;return C.util.animate(C.util.object.extend(c=c||{},{duration:l||500,startValue:a,endValue:d,byValue:d,easing:function(m,b,v,y){return _(b,v,c.colorEasing?c.colorEasing(m,y):1-Math.cos(m/y*(Math.PI/2)))},onComplete:function(m,b,v){if(g)return g(_(d,d,0),b,v)},onChange:function(m,b,v){if(h){if(Array.isArray(m))return h(_(m,m,0),b,v);h(m,b,v)}}}))}}(),function(){function _(B,F,k,P){return B<Math.abs(F)?(B=F,P=k/4):P=0===F&&0===B?k/(2*Math.PI)*Math.asin(1):k/(2*Math.PI)*Math.asin(F/B),{a:B,c:F,p:k,s:P}}function p(B,F,k){return B.a*Math.pow(2,10*(F-=1))*Math.sin((F*k-B.s)*(2*Math.PI)/B.p)}function ce(B,F,k,P){return k-pe(P-B,0,k,P)+F}function pe(B,F,k,P){return(B/=P)<1/2.75?k*(7.5625*B*B)+F:B<2/2.75?k*(7.5625*(B-=1.5/2.75)*B+.75)+F:B<2.5/2.75?k*(7.5625*(B-=2.25/2.75)*B+.9375)+F:k*(7.5625*(B-=2.625/2.75)*B+.984375)+F}C.util.ease={easeInQuad:function(B,F,k,P){return k*(B/=P)*B+F},easeOutQuad:function(B,F,k,P){return-k*(B/=P)*(B-2)+F},easeInOutQuad:function(B,F,k,P){return(B/=P/2)<1?k/2*B*B+F:-k/2*(--B*(B-2)-1)+F},easeInCubic:function(B,F,k,P){return k*(B/=P)*B*B+F},easeOutCubic:function f(B,F,k,P){return k*((B=B/P-1)*B*B+1)+F},easeInOutCubic:function u(B,F,k,P){return(B/=P/2)<1?k/2*B*B*B+F:k/2*((B-=2)*B*B+2)+F},easeInQuart:function l(B,F,k,P){return k*(B/=P)*B*B*B+F},easeOutQuart:function c(B,F,k,P){return-k*((B=B/P-1)*B*B*B-1)+F},easeInOutQuart:function a(B,F,k,P){return(B/=P/2)<1?k/2*B*B*B*B+F:-k/2*((B-=2)*B*B*B-2)+F},easeInQuint:function d(B,F,k,P){return k*(B/=P)*B*B*B*B+F},easeOutQuint:function g(B,F,k,P){return k*((B=B/P-1)*B*B*B*B+1)+F},easeInOutQuint:function h(B,F,k,P){return(B/=P/2)<1?k/2*B*B*B*B*B+F:k/2*((B-=2)*B*B*B*B+2)+F},easeInSine:function m(B,F,k,P){return-k*Math.cos(B/P*(Math.PI/2))+k+F},easeOutSine:function b(B,F,k,P){return k*Math.sin(B/P*(Math.PI/2))+F},easeInOutSine:function v(B,F,k,P){return-k/2*(Math.cos(Math.PI*B/P)-1)+F},easeInExpo:function y(B,F,k,P){return 0===B?F:k*Math.pow(2,10*(B/P-1))+F},easeOutExpo:function M(B,F,k,P){return B===P?F+k:k*(1-Math.pow(2,-10*B/P))+F},easeInOutExpo:function w(B,F,k,P){return 0===B?F:B===P?F+k:(B/=P/2)<1?k/2*Math.pow(2,10*(B-1))+F:k/2*(2-Math.pow(2,-10*--B))+F},easeInCirc:function E(B,F,k,P){return-k*(Math.sqrt(1-(B/=P)*B)-1)+F},easeOutCirc:function Z(B,F,k,P){return k*Math.sqrt(1-(B=B/P-1)*B)+F},easeInOutCirc:function U(B,F,k,P){return(B/=P/2)<1?-k/2*(Math.sqrt(1-B*B)-1)+F:k/2*(Math.sqrt(1-(B-=2)*B)+1)+F},easeInElastic:function q(B,F,k,P){var A=0;return 0===B?F:1==(B/=P)?F+k:(A||(A=.3*P),-p(_(k,k,A,1.70158),B,P)+F)},easeOutElastic:function Q(B,F,k,P){var A=0;if(0===B)return F;if(1==(B/=P))return F+k;A||(A=.3*P);var I=_(k,k,A,1.70158);return I.a*Math.pow(2,-10*B)*Math.sin((B*P-I.s)*(2*Math.PI)/I.p)+I.c+F},easeInOutElastic:function re(B,F,k,P){var A=0;if(0===B)return F;if(2==(B/=P/2))return F+k;A||(A=P*(.3*1.5));var I=_(k,k,A,1.70158);return B<1?-.5*p(I,B,P)+F:I.a*Math.pow(2,-10*(B-=1))*Math.sin((B*P-I.s)*(2*Math.PI)/I.p)*.5+I.c+F},easeInBack:function le(B,F,k,P,S){return void 0===S&&(S=1.70158),k*(B/=P)*B*((S+1)*B-S)+F},easeOutBack:function ue(B,F,k,P,S){return void 0===S&&(S=1.70158),k*((B=B/P-1)*B*((S+1)*B+S)+1)+F},easeInOutBack:function W(B,F,k,P,S){return void 0===S&&(S=1.70158),(B/=P/2)<1?k/2*(B*B*((1+(S*=1.525))*B-S))+F:k/2*((B-=2)*B*((1+(S*=1.525))*B+S)+2)+F},easeInBounce:ce,easeOutBounce:pe,easeInOutBounce:function _e(B,F,k,P){return B<P/2?.5*ce(2*B,0,k,P)+F:.5*pe(2*B-P,0,k,P)+.5*k+F}}}(),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.util.object.clone,l=p.util.toFixed,c=p.util.parseUnit,a=p.util.multiplyTransformMatrices,b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},v={stroke:"strokeOpacity",fill:"fillOpacity"},y="font-size",M="clip-path";function w(A){return A in b?b[A]:A}function E(A,O,I,N){var z,H=Array.isArray(O);if("fill"!==A&&"stroke"!==A||"none"!==O){if("strokeUniform"===A)return"non-scaling-stroke"===O;if("strokeDashArray"===A)O="none"===O?null:O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===A)O=I&&I.transformMatrix?a(I.transformMatrix,p.parseTransformAttribute(O)):p.parseTransformAttribute(O);else if("visible"===A)O="none"!==O&&"hidden"!==O,I&&!1===I.visible&&(O=!1);else if("opacity"===A)O=parseFloat(O),I&&typeof I.opacity<"u"&&(O*=I.opacity);else if("textAnchor"===A)O="start"===O?"left":"end"===O?"right":"center";else if("charSpacing"===A)z=c(O,N)/N*1e3;else if("paintFirst"===A){var X=O.indexOf("fill"),ee=O.indexOf("stroke");O="fill",(X>-1&&ee>-1&&ee<X||-1===X&&ee>-1)&&(O="stroke")}else{if("href"===A||"xlink:href"===A||"font"===A)return O;if("imageSmoothing"===A)return"optimizeQuality"===O;z=H?O.map(c):c(O,N)}}else O="";return!H&&isNaN(z)?O:z}function Z(A){return new RegExp("^("+A.join("|")+")\\b","i")}function q(A,O){var H,z,X,N=[];for(z=0,X=O.length;z<X;z++)H=A.getElementsByTagName(O[z]),N=N.concat(Array.prototype.slice.call(H));return N}function ue(A,O){var I,N=!0;return(I=ce(A,O.pop()))&&O.length&&(N=function W(A,O){for(var I,N=!0;A.parentNode&&1===A.parentNode.nodeType&&O.length;)N&&(I=O.pop()),N=ce(A=A.parentNode,I);return 0===O.length}(A,O)),I&&N&&0===O.length}function ce(A,O){var z,X,I=A.nodeName,N=A.getAttribute("class"),H=A.getAttribute("id");if(z=new RegExp("^"+I,"i"),O=O.replace(z,""),H&&O.length&&(z=new RegExp("#"+H+"(?![a-zA-Z\\-]+)","i"),O=O.replace(z,"")),N&&O.length)for(X=(N=N.split(" ")).length;X--;)z=new RegExp("\\."+N[X]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(z,"");return 0===O.length}function pe(A,O){var I;if(A.getElementById&&(I=A.getElementById(O)),I)return I;var N,H,z,X=A.getElementsByTagName("*");for(H=0,z=X.length;H<z;H++)if(O===(N=X[H]).getAttribute("id"))return N}p.svgValidTagNamesRegEx=Z(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),p.svgViewBoxElementsRegEx=Z(["symbol","image","marker","pattern","view","svg"]),p.svgInvalidAncestorsRegEx=Z(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),p.svgValidParentsRegEx=Z(["symbol","g","a","svg","clipPath","defs"]),p.cssRules={},p.gradientDefs={},p.clipPaths={},p.parseTransformAttribute=function(){function I(ie,we,Se){ie[Se]=Math.tan(p.util.degreesToRadians(we[0]))}var H=p.iMatrix,z=p.reNum,X=p.commaWsp,oe="(?:(?:(matrix)\\s*\\(\\s*("+z+")"+X+"("+z+")"+X+"("+z+")"+X+"("+z+")"+X+"("+z+")"+X+"("+z+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+z+")(?:"+X+"("+z+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+z+")(?:"+X+"("+z+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+z+")(?:"+X+"("+z+")"+X+"("+z+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+z+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+z+")\\s*\\)))",j=new RegExp("^\\s*(?:(?:"+oe+"(?:"+X+"*"+oe+")*)?)\\s*$"),te=new RegExp(oe,"g");return function(ie){var we=H.concat(),Se=[];if(!ie||ie&&!j.test(ie))return we;ie.replace(te,function(De){var Oe=new RegExp(oe).exec(De).filter(function(et){return!!et}),He=Oe[1],Ie=Oe.slice(2).map(parseFloat);switch(He){case"translate":!function N(ie,we){ie[4]=we[0],2===we.length&&(ie[5]=we[1])}(we,Ie);break;case"rotate":Ie[0]=p.util.degreesToRadians(Ie[0]),function A(ie,we){var Se=p.util.cos(we[0]),Te=p.util.sin(we[0]),De=0,Oe=0;3===we.length&&(De=we[1],Oe=we[2]),ie[0]=Se,ie[1]=Te,ie[2]=-Te,ie[3]=Se,ie[4]=De-(Se*De-Te*Oe),ie[5]=Oe-(Te*De+Se*Oe)}(we,Ie);break;case"scale":!function O(ie,we){var Te=2===we.length?we[1]:we[0];ie[0]=we[0],ie[3]=Te}(we,Ie);break;case"skewX":I(we,Ie,2);break;case"skewY":I(we,Ie,1);break;case"matrix":we=Ie}Se.push(we.concat()),we=H.concat()});for(var Te=Se[0];Se.length>1;)Se.shift(),Te=p.util.multiplyTransformMatrices(Te,Se[0]);return Te}}();var B=new RegExp("^\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*$");function F(A){if(!p.svgViewBoxElementsRegEx.test(A.nodeName))return{};var H,z,X,ee,de,ne,O=A.getAttribute("viewBox"),I=1,N=1,K=A.getAttribute("width"),ve=A.getAttribute("height"),ye=A.getAttribute("x")||0,oe=A.getAttribute("y")||0,ge=A.getAttribute("preserveAspectRatio")||"",fe=!O||!(O=O.match(B)),j=!K||!ve||"100%"===K||"100%"===ve,te=fe&&j,ie={},we="",Se=0,Te=0;if(ie.width=0,ie.height=0,ie.toBeParsed=te,fe&&(ye||oe)&&A.parentNode&&"#document"!==A.parentNode.nodeName&&(we=" translate("+c(ye)+" "+c(oe)+") ",de=(A.getAttribute("transform")||"")+we,A.setAttribute("transform",de),A.removeAttribute("x"),A.removeAttribute("y")),te)return ie;if(fe)return ie.width=c(K),ie.height=c(ve),ie;if(H=-parseFloat(O[1]),z=-parseFloat(O[2]),X=parseFloat(O[3]),ee=parseFloat(O[4]),ie.minX=H,ie.minY=z,ie.viewBoxWidth=X,ie.viewBoxHeight=ee,j?(ie.width=X,ie.height=ee):(ie.width=c(K),ie.height=c(ve),I=ie.width/X,N=ie.height/ee),"none"!==(ge=p.util.parsePreserveAspectRatioAttribute(ge)).alignX&&("meet"===ge.meetOrSlice&&(N=I=I>N?N:I),"slice"===ge.meetOrSlice&&(N=I=I>N?I:N),Se=ie.width-X*I,Te=ie.height-ee*I,"Mid"===ge.alignX&&(Se/=2),"Mid"===ge.alignY&&(Te/=2),"Min"===ge.alignX&&(Se=0),"Min"===ge.alignY&&(Te=0)),1===I&&1===N&&0===H&&0===z&&0===ye&&0===oe)return ie;if((ye||oe)&&"#document"!==A.parentNode.nodeName&&(we=" translate("+c(ye)+" "+c(oe)+") "),de=we+" matrix("+I+" 0 0 "+N+" "+(H*I+Se)+" "+(z*N+Te)+") ","svg"===A.nodeName){for(ne=A.ownerDocument.createElementNS(p.svgNS,"g");A.firstChild;)ne.appendChild(A.firstChild);A.appendChild(ne)}else(ne=A).removeAttribute("x"),ne.removeAttribute("y"),de=ne.getAttribute("transform")+de;return ne.setAttribute("transform",de),ie}function P(A,O){var N="xlink:href",z=pe(A,O.getAttribute(N).slice(1));if(z&&z.getAttribute(N)&&P(A,z),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(ee){z&&!O.hasAttribute(ee)&&z.hasAttribute(ee)&&O.setAttribute(ee,z.getAttribute(ee))}),!O.children.length)for(var X=z.cloneNode(!0);X.firstChild;)O.appendChild(X.firstChild);O.removeAttribute(N)}p.parseSVGDocument=function(A,O,I,N){if(A){!function _e(A){for(var O=q(A,["use","svg:use"]),I=0;O.length&&I<O.length;){var N=O[I],H=N.getAttribute("xlink:href")||N.getAttribute("href");if(null===H)return;var ye,oe,ge,fe,z=H.slice(1),X=N.getAttribute("x")||0,ee=N.getAttribute("y")||0,de=pe(A,z).cloneNode(!0),ne=(de.getAttribute("transform")||"")+" translate("+X+", "+ee+")",ve=O.length,j=p.svgNS;if(F(de),/^svg$/i.test(de.nodeName)){var te=de.ownerDocument.createElementNS(j,"g");for(oe=0,fe=(ge=de.attributes).length;oe<fe;oe++)ye=ge.item(oe),te.setAttributeNS(j,ye.nodeName,ye.nodeValue);for(;de.firstChild;)te.appendChild(de.firstChild);de=te}for(oe=0,fe=(ge=N.attributes).length;oe<fe;oe++)"x"!==(ye=ge.item(oe)).nodeName&&"y"!==ye.nodeName&&"xlink:href"!==ye.nodeName&&"href"!==ye.nodeName&&("transform"===ye.nodeName?ne=ye.nodeValue+" "+ne:de.setAttribute(ye.nodeName,ye.nodeValue));de.setAttribute("transform",ne),de.setAttribute("instantiated_by_use","1"),de.removeAttribute("id"),N.parentNode.replaceChild(de,N),O.length===ve&&I++}}(A);var z,X,H=p.Object.__uid++,ee=F(A),de=p.util.toArray(A.getElementsByTagName("*"));if(ee.crossOrigin=N&&N.crossOrigin,ee.svgUid=H,0===de.length&&p.isLikelyNode){var ne=[];for(z=0,X=(de=A.selectNodes('//*[name(.)!="svg"]')).length;z<X;z++)ne[z]=de[z];de=ne}var K=de.filter(function(ye){return F(ye),p.svgValidTagNamesRegEx.test(ye.nodeName.replace("svg:",""))&&!function k(A,O){for(;A&&(A=A.parentNode);)if(A.nodeName&&O.test(A.nodeName.replace("svg:",""))&&!A.getAttribute("instantiated_by_use"))return!0;return!1}(ye,p.svgInvalidAncestorsRegEx)});if(!K||K&&!K.length)return void(O&&O([],{}));var ve={};de.filter(function(ye){return"clipPath"===ye.nodeName.replace("svg:","")}).forEach(function(ye){var oe=ye.getAttribute("id");ve[oe]=p.util.toArray(ye.getElementsByTagName("*")).filter(function(ge){return p.svgValidTagNamesRegEx.test(ge.nodeName.replace("svg:",""))})}),p.gradientDefs[H]=p.getGradientDefs(A),p.cssRules[H]=p.getCSSRules(A),p.clipPaths[H]=ve,p.parseElements(K,function(ye,oe){O&&(O(ye,ee,oe,de),delete p.gradientDefs[H],delete p.cssRules[H],delete p.clipPaths[H])},u(ee),I,N)}};var S=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+p.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+p.reNum+"))?\\s+(.*)");f(p,{parseFontDeclaration:function(A,O){var I=A.match(S);if(I){var N=I[1],H=I[3],z=I[4],X=I[5],ee=I[6];N&&(O.fontStyle=N),H&&(O.fontWeight=isNaN(parseFloat(H))?H:parseFloat(H)),z&&(O.fontSize=c(z)),ee&&(O.fontFamily=ee),X&&(O.lineHeight="normal"===X?1:X)}},getGradientDefs:function(A){var N,I=q(A,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),H=0,z={};for(H=I.length;H--;)(N=I[H]).getAttribute("xlink:href")&&P(A,N),z[N.getAttribute("id")]=N;return z},parseAttributes:function(A,O,I){if(A){var N,z,X,H={};typeof I>"u"&&(I=A.getAttribute("svgUid")),A.parentNode&&p.svgValidParentsRegEx.test(A.parentNode.nodeName)&&(H=p.parseAttributes(A.parentNode,O,I));var ee=O.reduce(function(ge,fe){return(N=A.getAttribute(fe))&&(ge[fe]=N),ge},{}),de=f(function le(A,O){var I={};for(var N in p.cssRules[O])if(ue(A,N.split(" ")))for(var H in p.cssRules[O][N])I[H]=p.cssRules[O][N][H];return I}(A,I),p.parseStyleAttribute(A));ee=f(ee,de),de[M]&&A.setAttribute(M,de[M]),z=X=H.fontSize||p.Text.DEFAULT_SVG_FONT_SIZE,ee[y]&&(ee[y]=z=c(ee[y],X));var ne,K,ve={};for(var ye in ee)K=E(ne=w(ye),ee[ye],H,z),ve[ne]=K;ve&&ve.font&&p.parseFontDeclaration(ve.font,ve);var oe=f(H,ve);return p.svgValidParentsRegEx.test(A.nodeName)?oe:function U(A){for(var O in v)if(!(typeof A[v[O]]>"u"||""===A[O])){if(typeof A[O]>"u"){if(!p.Object.prototype[O])continue;A[O]=p.Object.prototype[O]}if(0!==A[O].indexOf("url(")){var I=new p.Color(A[O]);A[O]=I.setAlpha(l(I.getAlpha()*A[v[O]],2)).toRgba()}}return A}(oe)}},parseElements:function(A,O,I,N,H){new p.ElementsParser(A,O,I,N,H).parse()},parseStyleAttribute:function(A){var O={},I=A.getAttribute("style");return I&&("string"==typeof I?function Q(A,O){var I,N;A.replace(/;\s*$/,"").split(";").forEach(function(H){var z=H.split(":");I=z[0].trim().toLowerCase(),N=z[1].trim(),O[I]=N})}(I,O):function re(A,O){for(var H in A)typeof A[H]>"u"||(O[H.toLowerCase()]=A[H])}(I,O)),O},parsePointsAttribute:function(A){if(!A)return null;var I,N,O=[];for(I=0,N=(A=(A=A.replace(/,/g," ").trim()).split(/\s+/)).length;I<N;I+=2)O.push({x:parseFloat(A[I]),y:parseFloat(A[I+1])});return O},getCSSRules:function(A){var I,N,O=A.getElementsByTagName("style"),H={};for(I=0,N=O.length;I<N;I++){var X=O[I].textContent;""!==(X=X.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&X.split("}").filter(function(ee){return ee.trim()}).forEach(function(ee){var de=ee.split("{"),ne={},ve=de[1].trim().split(";").filter(function(fe){return fe.trim()});for(I=0,N=ve.length;I<N;I++){var ye=ve[I].split(":"),oe=ye[0].trim(),ge=ye[1].trim();ne[oe]=ge}(ee=de[0].trim()).split(",").forEach(function(fe){""!==(fe=fe.replace(/^svg/i,"").trim())&&(H[fe]?p.util.object.extend(H[fe],ne):H[fe]=p.util.object.clone(ne))})})}return H},loadSVGFromURL:function(A,O,I,N){A=A.replace(/^\n\s*/,"").trim(),new p.util.request(A,{method:"get",onComplete:function H(z){var X=z.responseXML;if(!X||!X.documentElement)return O&&O(null),!1;p.parseSVGDocument(X.documentElement,function(ee,de,ne,K){O&&O(ee,de,ne,K)},I,N)}})},loadSVGFromString:function(A,O,I,N){var z=(new p.window.DOMParser).parseFromString(A.trim(),"text/xml");p.parseSVGDocument(z.documentElement,function(X,ee,de,ne){O(X,ee,de,ne)},I,N)}})}(G),C.ElementsParser=function(_,p,f,u,l,c){this.elements=_,this.callback=p,this.options=f,this.reviver=u,this.svgUid=f&&f.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(_){_.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},_.createObjects=function(){var p=this;this.elements.forEach(function(f,u){f.setAttribute("svgUid",p.svgUid),p.createObject(f,u)})},_.findTag=function(p){return C[C.util.string.capitalize(p.tagName.replace("svg:",""))]},_.createObject=function(p,f){var u=this.findTag(p);if(u&&u.fromElement)try{u.fromElement(p,this.createCallback(f,p),this.options)}catch(l){C.log(l)}else this.checkIfDone()},_.createCallback=function(p,f){var u=this;return function(l){var c;u.resolveGradient(l,f,"fill"),u.resolveGradient(l,f,"stroke"),l instanceof C.Image&&l._originalElement&&(c=l.parsePreserveAspectRatioAttribute(f)),l._removeTransformMatrix(c),u.resolveClipPath(l,f),u.reviver&&u.reviver(f,l),u.instances[p]=l,u.checkIfDone()}},_.extractPropertyDefinition=function(p,f,u){var l=p[f],c=this.regexUrl;if(c.test(l)){c.lastIndex=0;var a=c.exec(l)[1];return c.lastIndex=0,C[u][this.svgUid][a]}},_.resolveGradient=function(p,f,u){var l=this.extractPropertyDefinition(p,u,"gradientDefs");if(l){var c=f.getAttribute(u+"-opacity"),a=C.Gradient.fromElement(l,p,c,this.options);p.set(u,a)}},_.createClipPathCallback=function(p,f){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,f.push(u)}},_.resolveClipPath=function(p,f){var l,a,d,g,u=this.extractPropertyDefinition(p,"clipPath","clipPaths");if(u){d=[],a=C.util.invertTransform(p.calcTransformMatrix());for(var m=u[0].parentNode,b=f;b.parentNode&&b.getAttribute("clip-path")!==p.clipPath;)b=b.parentNode;b.parentNode.appendChild(m);for(var v=0;v<u.length;v++)this.findTag(l=u[v]).fromElement(l,this.createClipPathCallback(p,d),this.options);u=1===d.length?d[0]:new C.Group(d),g=C.util.multiplyTransformMatrices(a,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,b);var h=C.util.qrDecompose(g);u.flipX=!1,u.flipY=!1,u.set("scaleX",h.scaleX),u.set("scaleY",h.scaleY),u.angle=h.angle,u.skewX=h.skewX,u.skewY=0,u.setPositionByOrigin({x:h.translateX,y:h.translateY},"center","center"),p.clipPath=u}else delete p.clipPath},_.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(p){return null!=p}),this.callback(this.instances,this.elements))}}(C.ElementsParser.prototype),function(_){"use strict";var p=_.fabric||(_.fabric={});function f(u,l){this.x=u,this.y=l}p.Point?p.warn("fabric.Point is already defined"):(p.Point=f,f.prototype={type:"point",constructor:f,add:function(u){return new f(this.x+u.x,this.y+u.y)},addEquals:function(u){return this.x+=u.x,this.y+=u.y,this},scalarAdd:function(u){return new f(this.x+u,this.y+u)},scalarAddEquals:function(u){return this.x+=u,this.y+=u,this},subtract:function(u){return new f(this.x-u.x,this.y-u.y)},subtractEquals:function(u){return this.x-=u.x,this.y-=u.y,this},scalarSubtract:function(u){return new f(this.x-u,this.y-u)},scalarSubtractEquals:function(u){return this.x-=u,this.y-=u,this},multiply:function(u){return new f(this.x*u,this.y*u)},multiplyEquals:function(u){return this.x*=u,this.y*=u,this},divide:function(u){return new f(this.x/u,this.y/u)},divideEquals:function(u){return this.x/=u,this.y/=u,this},eq:function(u){return this.x===u.x&&this.y===u.y},lt:function(u){return this.x<u.x&&this.y<u.y},lte:function(u){return this.x<=u.x&&this.y<=u.y},gt:function(u){return this.x>u.x&&this.y>u.y},gte:function(u){return this.x>=u.x&&this.y>=u.y},lerp:function(u,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new f(this.x+(u.x-this.x)*l,this.y+(u.y-this.y)*l)},distanceFrom:function(u){var l=this.x-u.x,c=this.y-u.y;return Math.sqrt(l*l+c*c)},midPointFrom:function(u){return this.lerp(u)},min:function(u){return new f(Math.min(this.x,u.x),Math.min(this.y,u.y))},max:function(u){return new f(Math.max(this.x,u.x),Math.max(this.y,u.y))},toString:function(){return this.x+","+this.y},setXY:function(u,l){return this.x=u,this.y=l,this},setX:function(u){return this.x=u,this},setY:function(u){return this.y=u,this},setFromPoint:function(u){return this.x=u.x,this.y=u.y,this},swap:function(u){var l=this.x,c=this.y;this.x=u.x,this.y=u.y,u.x=l,u.y=c},clone:function(){return new f(this.x,this.y)}})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={});function f(u){this.status=u,this.points=[]}p.Intersection?p.warn("fabric.Intersection is already defined"):(p.Intersection=f,p.Intersection.prototype={constructor:f,appendPoint:function(u){return this.points.push(u),this},appendPoints:function(u){return this.points=this.points.concat(u),this}},p.Intersection.intersectLineLine=function(u,l,c,a){var d,g=(a.x-c.x)*(u.y-c.y)-(a.y-c.y)*(u.x-c.x),h=(l.x-u.x)*(u.y-c.y)-(l.y-u.y)*(u.x-c.x),m=(a.y-c.y)*(l.x-u.x)-(a.x-c.x)*(l.y-u.y);if(0!==m){var b=g/m,v=h/m;0<=b&&b<=1&&0<=v&&v<=1?(d=new f("Intersection")).appendPoint(new p.Point(u.x+b*(l.x-u.x),u.y+b*(l.y-u.y))):d=new f}else d=new f(0===g||0===h?"Coincident":"Parallel");return d},p.Intersection.intersectLinePolygon=function(u,l,c){var m,b,a=new f,d=c.length;for(b=0;b<d;b++)m=f.intersectLineLine(u,l,c[b],c[(b+1)%d]),a.appendPoints(m.points);return a.points.length>0&&(a.status="Intersection"),a},p.Intersection.intersectPolygonPolygon=function(u,l){var d,c=new f,a=u.length;for(d=0;d<a;d++){var m=f.intersectLinePolygon(u[d],u[(d+1)%a],l);c.appendPoints(m.points)}return c.points.length>0&&(c.status="Intersection"),c},p.Intersection.intersectPolygonRectangle=function(u,l,c){var a=l.min(c),d=l.max(c),g=new p.Point(d.x,a.y),h=new p.Point(a.x,d.y),m=f.intersectLinePolygon(a,g,u),b=f.intersectLinePolygon(g,d,u),v=f.intersectLinePolygon(d,h,u),y=f.intersectLinePolygon(h,a,u),M=new f;return M.appendPoints(m.points),M.appendPoints(b.points),M.appendPoints(v.points),M.appendPoints(y.points),M.points.length>0&&(M.status="Intersection"),M})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={});function f(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}function u(l,c,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?l+6*(c-l)*a:a<.5?c:a<2/3?l+(c-l)*(2/3-a)*6:l}p.Color?p.warn("fabric.Color is already defined."):(p.Color=f,p.Color.prototype={_tryParsingColor:function(l){var c;l in f.colorNameMap&&(l=f.colorNameMap[l]),"transparent"===l&&(c=[255,255,255,0]),c||(c=f.sourceFromHex(l)),c||(c=f.sourceFromRgb(l)),c||(c=f.sourceFromHsl(l)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(l,c,a){var d,g,h,m=p.util.array.max([l/=255,c/=255,a/=255]),b=p.util.array.min([l,c,a]);if(h=(m+b)/2,m===b)d=g=0;else{var v=m-b;switch(g=h>.5?v/(2-m-b):v/(m+b),m){case l:d=(c-a)/v+(c<a?6:0);break;case c:d=(a-l)/v+2;break;case a:d=(l-c)/v+4}d/=6}return[Math.round(360*d),Math.round(100*g),Math.round(100*h)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),c=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var l=this.getSource(),c=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+l[3]+")"},toHex:function(){var c,a,d,l=this.getSource();return c=1===(c=l[0].toString(16)).length?"0"+c:c,a=1===(a=l[1].toString(16)).length?"0"+a:a,d=1===(d=l[2].toString(16)).length?"0"+d:d,c.toUpperCase()+a.toUpperCase()+d.toUpperCase()},toHexa:function(){var c,l=this.getSource();return c=1===(c=(c=Math.round(255*l[3])).toString(16)).length?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var c=this.getSource();return c[3]=l,this.setSource(c),this},toGrayscale:function(){var l=this.getSource(),c=parseInt((.3*l[0]+.59*l[1]+.11*l[2]).toFixed(0),10);return this.setSource([c,c,c,l[3]]),this},toBlackWhite:function(l){var c=this.getSource(),a=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),d=c[3];return l=l||127,a=Number(a)<Number(l)?0:255,this.setSource([a,a,a,d]),this},overlayWith:function(l){l instanceof f||(l=new f(l));var m,c=[],a=this.getAlpha(),g=this.getSource(),h=l.getSource();for(m=0;m<3;m++)c.push(Math.round(.5*g[m]+.5*h[m]));return c[3]=a,this.setSource(c),this}},p.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,p.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,p.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,p.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},p.Color.fromRgb=function(l){return f.fromSource(f.sourceFromRgb(l))},p.Color.sourceFromRgb=function(l){var c=l.match(f.reRGBa);if(c){var a=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),d=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),g=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(a,10),parseInt(d,10),parseInt(g,10),c[4]?parseFloat(c[4]):1]}},p.Color.fromRgba=f.fromRgb,p.Color.fromHsl=function(l){return f.fromSource(f.sourceFromHsl(l))},p.Color.sourceFromHsl=function(l){var c=l.match(f.reHSLa);if(c){var h,m,b,a=(parseFloat(c[1])%360+360)%360/360,d=parseFloat(c[2])/(/%$/.test(c[2])?100:1),g=parseFloat(c[3])/(/%$/.test(c[3])?100:1);if(0===d)h=m=b=g;else{var v=g<=.5?g*(d+1):g+d-g*d,y=2*g-v;h=u(y,v,a+1/3),m=u(y,v,a),b=u(y,v,a-1/3)}return[Math.round(255*h),Math.round(255*m),Math.round(255*b),c[4]?parseFloat(c[4]):1]}},p.Color.fromHsla=f.fromHsl,p.Color.fromHex=function(l){return f.fromSource(f.sourceFromHex(l))},p.Color.sourceFromHex=function(l){if(l.match(f.reHex)){var c=l.slice(l.indexOf("#")+1),a=3===c.length||4===c.length,d=8===c.length||4===c.length,g=a?c.charAt(0)+c.charAt(0):c.substring(0,2),h=a?c.charAt(1)+c.charAt(1):c.substring(2,4),m=a?c.charAt(2)+c.charAt(2):c.substring(4,6),b=d?a?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(g,16),parseInt(h,16),parseInt(m,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},p.Color.fromSource=function(l){var c=new f;return c.setSource(l),c})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],l={},c="left",a="top",d="right",g="bottom",h="center",m={top:g,bottom:a,left:d,right:c,center:h},b=p.util.radiansToDegrees,v=Math.sign||function(ne){return(ne>0)-(ne<0)||+ne};function y(ne,K){var ve=ne.angle+b(Math.atan2(K.y,K.x))+360;return Math.round(ve%360/45)}function M(ne,K){var ve=K.transform.target,ye=ve.canvas,oe=p.util.object.clone(K);oe.target=ve,ye&&ye.fire("object:"+ne,oe),ve.fire(ne,K)}function w(ne,K){var ve=K.canvas,oe=ne[ve.uniScaleKey];return ve.uniformScaling&&!oe||!ve.uniformScaling&&oe}function E(ne){return ne.originX===h&&ne.originY===h}function Z(ne,K,ve){var ye=ne.lockScalingX,oe=ne.lockScalingY;return!!(ye&&oe||!K&&(ye||oe)&&ve||ye&&"x"===K||oe&&"y"===K)}function ue(ne,K,ve,ye){return{e:ne,transform:K,pointer:{x:ve,y:ye}}}function W(ne){return function(K,ve,ye,oe){var ge=ve.target,fe=ge.getCenterPoint(),j=ge.translateToOriginPoint(fe,ve.originX,ve.originY),te=ne(K,ve,ye,oe);return ge.setPositionByOrigin(j,ve.originX,ve.originY),te}}function ce(ne,K){return function(ve,ye,oe,ge){var fe=K(ve,ye,oe,ge);return fe&&M(ne,ue(ve,ye,oe,ge)),fe}}function pe(ne,K,ve,ye,oe){var ge=ne.target,fe=ge.controls[ne.corner],j=ge.canvas.getZoom(),te=ge.padding/j,ie=ge.toLocalPoint(new p.Point(ye,oe),K,ve);return ie.x>=te&&(ie.x-=te),ie.x<=-te&&(ie.x+=te),ie.y>=te&&(ie.y-=te),ie.y<=te&&(ie.y+=te),ie.x-=fe.offsetX,ie.y-=fe.offsetY,ie}function _e(ne){return ne.flipX!==ne.flipY}function B(ne,K,ve,ye,oe){if(0!==ne[K]){var ge=ne._getTransformedDimensions()[ye];ne.set(ve,oe/ge*ne[ve])}}function F(ne,K,ve,ye){var ie,oe=K.target,ge=oe._getTransformedDimensions(0,oe.skewY),fe=pe(K,K.originX,K.originY,ve,ye),j=Math.abs(2*fe.x)-ge.x,te=oe.skewX;j<2?ie=0:(ie=b(Math.atan2(j/oe.scaleX,ge.y/oe.scaleY)),K.originX===c&&K.originY===g&&(ie=-ie),K.originX===d&&K.originY===a&&(ie=-ie),_e(oe)&&(ie=-ie));var we=te!==ie;if(we){var Se=oe._getTransformedDimensions().y;oe.set("skewX",ie),B(oe,"skewY","scaleY","y",Se)}return we}function k(ne,K,ve,ye){var ie,oe=K.target,ge=oe._getTransformedDimensions(oe.skewX,0),fe=pe(K,K.originX,K.originY,ve,ye),j=Math.abs(2*fe.y)-ge.y,te=oe.skewY;j<2?ie=0:(ie=b(Math.atan2(j/oe.scaleY,ge.x/oe.scaleX)),K.originX===c&&K.originY===g&&(ie=-ie),K.originX===d&&K.originY===a&&(ie=-ie),_e(oe)&&(ie=-ie));var we=te!==ie;if(we){var Se=oe._getTransformedDimensions().x;oe.set("skewY",ie),B(oe,"skewX","scaleX","x",Se)}return we}function O(ne,K,ve,ye,oe){var ie,we,Se,Te,He,Ie,ge=K.target,fe=ge.lockScalingX,j=ge.lockScalingY,te=(oe=oe||{}).by,De=w(ne,ge),Oe=Z(ge,te,De),et=K.gestureScale;if(Oe)return!1;if(et)we=K.scaleX*et,Se=K.scaleY*et;else{if(ie=pe(K,K.originX,K.originY,ve,ye),He="y"!==te?v(ie.x):1,Ie="x"!==te?v(ie.y):1,K.signX||(K.signX=He),K.signY||(K.signY=Ie),ge.lockScalingFlip&&(K.signX!==He||K.signY!==Ie))return!1;if(Te=ge._getTransformedDimensions(),De&&!te){var xe=Math.abs(ie.x)+Math.abs(ie.y),ae=K.original,ke=xe/(Math.abs(Te.x*ae.scaleX/ge.scaleX)+Math.abs(Te.y*ae.scaleY/ge.scaleY));we=ae.scaleX*ke,Se=ae.scaleY*ke}else we=Math.abs(ie.x*ge.scaleX/Te.x),Se=Math.abs(ie.y*ge.scaleY/Te.y);E(K)&&(we*=2,Se*=2),K.signX!==He&&"y"!==te&&(K.originX=m[K.originX],we*=-1,K.signX=He),K.signY!==Ie&&"x"!==te&&(K.originY=m[K.originY],Se*=-1,K.signY=Ie)}var Pe=ge.scaleX,Le=ge.scaleY;return te?("x"===te&&ge.set("scaleX",we),"y"===te&&ge.set("scaleY",Se)):(!fe&&ge.set("scaleX",we),!j&&ge.set("scaleY",Se)),Pe!==ge.scaleX||Le!==ge.scaleY}l.scaleCursorStyleHandler=function U(ne,K,ve){var oe=w(ne,ve),ge="";if(0!==K.x&&0===K.y?ge="x":0===K.x&&0!==K.y&&(ge="y"),Z(ve,ge,oe))return"not-allowed";var fe=y(ve,K);return f[fe]+"-resize"},l.skewCursorStyleHandler=function q(ne,K,ve){if(0!==K.x&&ve.lockSkewingY||0!==K.y&&ve.lockSkewingX)return"not-allowed";var oe=y(ve,K)%4;return u[oe]+"-resize"},l.scaleSkewCursorStyleHandler=function Q(ne,K,ve){return ne[ve.canvas.altActionKey]?l.skewCursorStyleHandler(ne,K,ve):l.scaleCursorStyleHandler(ne,K,ve)},l.rotationWithSnapping=ce("rotating",W(function A(ne,K,ve,ye){var oe=K,ge=oe.target,fe=ge.translateToOriginPoint(ge.getCenterPoint(),oe.originX,oe.originY);if(ge.lockRotation)return!1;var we,j=Math.atan2(oe.ey-fe.y,oe.ex-fe.x),te=Math.atan2(ye-fe.y,ve-fe.x),ie=b(te-j+oe.theta);if(ge.snapAngle>0){var Se=ge.snapAngle,Te=ge.snapThreshold||Se,De=Math.ceil(ie/Se)*Se,Oe=Math.floor(ie/Se)*Se;Math.abs(ie-Oe)<Te?ie=Oe:Math.abs(ie-De)<Te&&(ie=De)}return ie<0&&(ie=360+ie),we=ge.angle!==(ie%=360),ge.angle=ie,we})),l.scalingEqually=ce("scaling",W(function I(ne,K,ve,ye){return O(ne,K,ve,ye)})),l.scalingX=ce("scaling",W(function N(ne,K,ve,ye){return O(ne,K,ve,ye,{by:"x"})})),l.scalingY=ce("scaling",W(function H(ne,K,ve,ye){return O(ne,K,ve,ye,{by:"y"})})),l.scalingYOrSkewingX=function z(ne,K,ve,ye){return ne[K.target.canvas.altActionKey]?l.skewHandlerX(ne,K,ve,ye):l.scalingY(ne,K,ve,ye)},l.scalingXOrSkewingY=function X(ne,K,ve,ye){return ne[K.target.canvas.altActionKey]?l.skewHandlerY(ne,K,ve,ye):l.scalingX(ne,K,ve,ye)},l.changeWidth=ce("resizing",W(function ee(ne,K,ve,ye){var oe=K.target,ge=pe(K,K.originX,K.originY,ve,ye),fe=oe.strokeWidth/(oe.strokeUniform?oe.scaleX:1),j=E(K)?2:1,te=oe.width,ie=Math.abs(ge.x*j/oe.scaleX)-fe;return oe.set("width",Math.max(ie,0)),te!==ie})),l.skewHandlerX=function P(ne,K,ve,ye){var fe,oe=K.target,ge=oe.skewX,j=K.originY;return!oe.lockSkewingX&&(0===ge?fe=pe(K,h,h,ve,ye).x>0?c:d:(ge>0&&(fe=j===a?c:d),ge<0&&(fe=j===a?d:c),_e(oe)&&(fe=fe===c?d:c)),K.originX=fe,ce("skewing",W(F))(ne,K,ve,ye))},l.skewHandlerY=function S(ne,K,ve,ye){var fe,oe=K.target,ge=oe.skewY,j=K.originX;return!oe.lockSkewingY&&(0===ge?fe=pe(K,h,h,ve,ye).y>0?a:g:(ge>0&&(fe=j===c?a:g),ge<0&&(fe=j===c?g:a),_e(oe)&&(fe=fe===a?g:a)),K.originY=fe,ce("skewing",W(k))(ne,K,ve,ye))},l.dragHandler=function de(ne,K,ve,ye){var oe=K.target,ge=ve-K.offsetX,fe=ye-K.offsetY,j=!oe.get("lockMovementX")&&oe.left!==ge,te=!oe.get("lockMovementY")&&oe.top!==fe;return j&&oe.set("left",ge),te&&oe.set("top",fe),(j||te)&&M("moving",ue(ne,K,ve,ye)),j||te},l.scaleOrSkewActionName=function re(ne,K,ve){var ye=ne[ve.canvas.altActionKey];return 0===K.x?ye?"skewX":"scaleY":0===K.y?ye?"skewY":"scaleX":void 0},l.rotationStyleHandler=function le(ne,K,ve){return ve.lockRotation?"not-allowed":K.cursorStyle},l.fireEvent=M,l.wrapWithFixedAnchor=W,l.wrapWithFireEvent=ce,l.getLocalPoint=pe,p.controlsUtils=l}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.degreesToRadians,u=p.controlsUtils;u.renderCircleControl=function l(a,d,g,h,m){h=h||{};var U,b=this.sizeX||h.cornerSize||m.cornerSize,v=this.sizeY||h.cornerSize||m.cornerSize,y=typeof h.transparentCorners<"u"?h.transparentCorners:m.transparentCorners,M=y?"stroke":"fill",w=!y&&(h.cornerStrokeColor||m.cornerStrokeColor),E=d,Z=g;a.save(),a.fillStyle=h.cornerColor||m.cornerColor,a.strokeStyle=h.cornerStrokeColor||m.cornerStrokeColor,b>v?(U=b,a.scale(1,v/b),Z=g*b/v):v>b?(U=v,a.scale(b/v,1),E=d*v/b):U=b,a.lineWidth=1,a.beginPath(),a.arc(E,Z,U/2,0,2*Math.PI,!1),a[M](),w&&a.stroke(),a.restore()},u.renderSquareControl=function c(a,d,g,h,m){h=h||{};var b=this.sizeX||h.cornerSize||m.cornerSize,v=this.sizeY||h.cornerSize||m.cornerSize,y=typeof h.transparentCorners<"u"?h.transparentCorners:m.transparentCorners,M=y?"stroke":"fill",w=!y&&(h.cornerStrokeColor||m.cornerStrokeColor),E=b/2,Z=v/2;a.save(),a.fillStyle=h.cornerColor||m.cornerColor,a.strokeStyle=h.cornerStrokeColor||m.cornerStrokeColor,a.lineWidth=1,a.translate(d,g),a.rotate(f(m.angle)),a[M+"Rect"](-E,-Z,b,v),w&&a.strokeRect(-E,-Z,b,v),a.restore()}}(G),function(_){"use strict";var p=_.fabric||(_.fabric={});p.Control=function f(u){for(var l in u)this[l]=u[l]},p.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(u,l){return l.cursorStyle},getActionName:function(u,l){return l.actionName},getVisibility:function(u,l){var c=u._controlsVisibility;return c&&typeof c[l]<"u"?c[l]:this.visible},setVisibility:function(u){this.visible=u},positionHandler:function(u,l){return p.util.transformPoint({x:this.x*u.x+this.offsetX,y:this.y*u.y+this.offsetY},l)},calcCornerCoords:function(u,l,c,a,d){var g,h,m,b,v=d?this.touchSizeX:this.sizeX,y=d?this.touchSizeY:this.sizeY;if(v&&y&&v!==y){var M=Math.atan2(y,v),w=Math.sqrt(v*v+y*y)/2,E=M-p.util.degreesToRadians(u),Z=Math.PI/2-M-p.util.degreesToRadians(u);g=w*p.util.cos(E),h=w*p.util.sin(E),m=w*p.util.cos(Z),b=w*p.util.sin(Z)}else w=.7071067812*(v&&y?v:l),E=p.util.degreesToRadians(45-u),g=m=w*p.util.cos(E),h=b=w*p.util.sin(E);return{tl:{x:c-b,y:a-m},tr:{x:c+g,y:a-h},bl:{x:c-g,y:a+h},br:{x:c+b,y:a+m}}},render:function(u,l,c,a,d){"circle"===((a=a||{}).cornerStyle||d.cornerStyle)?p.controlsUtils.renderCircleControl.call(this,u,l,c,a,d):p.controlsUtils.renderSquareControl.call(this,u,l,c,a,d)}}}(G),function(){function _(c,a){var h,m,b,v,d=c.getAttribute("style"),g=c.getAttribute("offset")||0;if(g=(g=parseFloat(g)/(/%$/.test(g)?100:1))<0?0:g>1?1:g,d){var y=d.split(/\s*;\s*/);for(""===y[y.length-1]&&y.pop(),v=y.length;v--;){var M=y[v].split(/\s*:\s*/),w=M[0].trim(),E=M[1].trim();"stop-color"===w?h=E:"stop-opacity"===w&&(b=E)}}return h||(h=c.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=c.getAttribute("stop-opacity")),m=(h=new C.Color(h)).getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=m*a,{offset:g,color:h.toRgb(),opacity:b}}var u=C.util.object.clone;C.Gradient=C.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var a,d=this;Object.keys(c).forEach(function(g){d[g]=c[g]}),this.id?this.id+="_"+C.Object.__uid++:this.id=C.Object.__uid++,a={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},"radial"===this.type&&(a.r1=c.coords.r1||0,a.r2=c.coords.r2||0),this.coords=a,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var a in c){var d=new C.Color(c[a]);this.colorStops.push({offset:parseFloat(a),color:d.toRgb(),opacity:d.getAlpha()})}return this},toObject:function(c){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,a,c),a},toSVG:function(c,m){var g,h,b,v,d=u(this.coords,!0),y=(m=m||{},u(this.colorStops,!0)),M=d.r1>d.r2,w=this.gradientTransform?this.gradientTransform.concat():C.iMatrix.concat(),E=-this.offsetX,Z=-this.offsetY,U=!!m.additionalTransform,q="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(y.sort(function(W,ce){return W.offset-ce.offset}),"objectBoundingBox"===q?(E/=c.width,Z/=c.height):(E+=c.width/2,Z+=c.height/2),"path"===c.type&&"percentage"!==this.gradientUnits&&(E-=c.pathOffset.x,Z-=c.pathOffset.y),w[4]-=E,w[5]-=Z,v='id="SVGID_'+this.id+'" gradientUnits="'+q+'"',v+=' gradientTransform="'+(U?m.additionalTransform+" ":"")+C.util.matrixToSVG(w)+'" ',"linear"===this.type?b=["<linearGradient ",v,' x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,'">\n']:"radial"===this.type&&(b=["<radialGradient ",v,' cx="',M?d.x1:d.x2,'" cy="',M?d.y1:d.y2,'" r="',M?d.r1:d.r2,'" fx="',M?d.x2:d.x1,'" fy="',M?d.y2:d.y1,'">\n']),"radial"===this.type){if(M)for((y=y.concat()).reverse(),g=0,h=y.length;g<h;g++)y[g].offset=1-y[g].offset;var Q=Math.min(d.r1,d.r2);if(Q>0){var le=Q/Math.max(d.r1,d.r2);for(g=0,h=y.length;g<h;g++)y[g].offset+=le*(1-y[g].offset)}}for(g=0,h=y.length;g<h;g++){var ue=y[g];b.push("<stop ",'offset="',100*ue.offset+"%",'" style="stop-color:',ue.color,typeof ue.opacity<"u"?";stop-opacity: "+ue.opacity:";",'"/>\n')}return b.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),b.join("")},toLive:function(c){var a,g,h,d=C.util.object.clone(this.coords);if(this.type){for("linear"===this.type?a=c.createLinearGradient(d.x1,d.y1,d.x2,d.y2):"radial"===this.type&&(a=c.createRadialGradient(d.x1,d.y1,d.r1,d.x2,d.y2,d.r2)),g=0,h=this.colorStops.length;g<h;g++){var m=this.colorStops[g].color,b=this.colorStops[g].opacity,v=this.colorStops[g].offset;typeof b<"u"&&(m=new C.Color(m).setAlpha(b).toRgba()),a.addColorStop(v,m)}return a}}}),C.util.object.extend(C.Gradient,{fromElement:function(c,a,d,g){var h=parseFloat(d)/(/%$/.test(d)?100:1);h=h<0?0:h>1?1:h,isNaN(h)&&(h=1);var b,w,E,q,m=c.getElementsByTagName("stop"),v="userSpaceOnUse"===c.getAttribute("gradientUnits")?"pixels":"percentage",y=c.getAttribute("gradientTransform")||"",M=[],Z=0,U=0;for("linearGradient"===c.nodeName||"LINEARGRADIENT"===c.nodeName?(b="linear",w=function p(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}(c)):(b="radial",w=function f(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}(c)),E=m.length;E--;)M.push(_(m[E],h));return q=C.parseTransformAttribute(y),function l(c,a,d,g){var h,m;Object.keys(a).forEach(function(b){"Infinity"===(h=a[b])?m=1:"-Infinity"===h?m=0:(m=parseFloat(a[b],10),"string"==typeof h&&/^(\d+\.\d+)%|(\d+)%$/.test(h)&&(m*=.01,"pixels"===g&&(("x1"===b||"x2"===b||"r2"===b)&&(m*=d.viewBoxWidth||d.width),("y1"===b||"y2"===b)&&(m*=d.viewBoxHeight||d.height)))),a[b]=m})}(0,w,g,v),"pixels"===v&&(Z=-a.left,U=-a.top),new C.Gradient({id:c.getAttribute("id"),type:b,coords:w,colorStops:M,gradientUnits:v,gradientTransform:q,offsetX:Z,offsetY:U})}})}(),function(){"use strict";var _=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(p,f){if(p||(p={}),this.id=C.Object.__uid++,this.setOptions(p),!p.source||p.source&&"string"!=typeof p.source)f&&f(this);else{var u=this;this.source=C.util.createImage(),C.util.loadImage(p.source,function(l,c){u.source=l,f&&f(u,c)},null,this.crossOrigin)}},toObject:function(p){var u,l,f=C.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?u=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(u=this.source.toDataURL()),l={type:"pattern",source:u,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:_(this.offsetX,f),offsetY:_(this.offsetY,f),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,l,p),l},toSVG:function(p){var f="function"==typeof this.source?this.source():this.source,u=f.width/p.width,l=f.height/p.height,c=this.offsetX/p.width,a=this.offsetY/p.height,d="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(l=1,a&&(l+=Math.abs(a))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(u=1,c&&(u+=Math.abs(c))),f.src?d=f.src:f.toDataURL&&(d=f.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+a+'" width="'+u+'" height="'+l+'">\n<image x="0" y="0" width="'+f.width+'" height="'+f.height+'" xlink:href="'+d+'"></image>\n</pattern>\n'},setOptions:function(p){for(var f in p)this[f]=p[f]},toLive:function(p){var f=this.source;return!f||typeof f.src<"u"&&(!f.complete||0===f.naturalWidth||0===f.naturalHeight)?"":p.createPattern(f,this.repeat)}})}(),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.toFixed;p.Shadow?p.warn("fabric.Shadow is already defined."):(p.Shadow=p.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(u){for(var l in"string"==typeof u&&(u=this._parseShadow(u)),u)this[l]=u[l];this.id=p.Object.__uid++},_parseShadow:function(u){var l=u.trim(),c=p.Shadow.reOffsetsAndBlur.exec(l)||[];return{color:(l.replace(p.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(u){var l=40,c=40,a=p.Object.NUM_FRACTION_DIGITS,d=p.util.rotateVector({x:this.offsetX,y:this.offsetY},p.util.degreesToRadians(-u.angle)),h=new p.Color(this.color);return u.width&&u.height&&(l=100*f((Math.abs(d.x)+this.blur)/u.width,a)+20,c=100*f((Math.abs(d.y)+this.blur)/u.height,a)+20),u.flipX&&(d.x*=-1),u.flipY&&(d.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+l+'%" width="'+(100+2*l)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+f(this.blur?this.blur/2:0,a)+'"></feGaussianBlur>\n\t<feOffset dx="'+f(d.x,a)+'" dy="'+f(d.y,a)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+h.toRgb()+'" flood-opacity="'+h.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var u={},l=p.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==l[c]&&(u[c]=this[c])},this),u}}),p.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(G),function(){"use strict";if(C.StaticCanvas)C.warn("fabric.StaticCanvas is already defined.");else{var _=C.util.object.extend,p=C.util.getElementOffset,f=C.util.removeFromArray,u=C.util.toFixed,l=C.util.transformPoint,c=C.util.invertTransform,a=C.util.getNodeCanvas,d=C.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(h,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(h,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(h,m){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(h),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,b),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,b),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,b),m.overlayColor&&this.setOverlayColor(m.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return C.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,C.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var h=C.devicePixelRatio;this.__initRetinaScaling(h,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(h,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(h,m,b){m.setAttribute("width",this.width*h),m.setAttribute("height",this.height*h),b.scale(h,h)},calcOffset:function(){return this._offset=p(this.lowerCanvasEl),this},setOverlayImage:function(h,m,b){return this.__setBgOverlayImage("overlayImage",h,m,b)},setBackgroundImage:function(h,m,b){return this.__setBgOverlayImage("backgroundImage",h,m,b)},setOverlayColor:function(h,m){return this.__setBgOverlayColor("overlayColor",h,m)},setBackgroundColor:function(h,m){return this.__setBgOverlayColor("backgroundColor",h,m)},__setBgOverlayImage:function(h,m,b,v){return"string"==typeof m?C.util.loadImage(m,function(y,M){if(y){var w=new C.Image(y,v);this[h]=w,w.canvas=this}b&&b(y,M)},this,v&&v.crossOrigin):(v&&m.setOptions(v),this[h]=m,m&&(m.canvas=this),b&&b(m,!1)),this},__setBgOverlayColor:function(h,m,b){return this[h]=m,this._initGradient(m,h),this._initPattern(m,h,b),this},_createCanvasElement:function(){var h=d();if(!h||(h.style||(h.style={}),typeof h.getContext>"u"))throw g;return h},_initOptions:function(h){var m=this.lowerCanvasEl;this._setOptions(h),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(h){this.lowerCanvasEl=h&&h.getContext?h:C.util.getById(h)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(h,m){return this.setDimensions({width:h},m)},setHeight:function(h,m){return this.setDimensions({height:h},m)},setDimensions:function(h,m){var b;for(var v in m=m||{},h)b=h[v],m.cssOnly||(this._setBackstoreDimension(v,h[v]),b+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(v,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(h,m){return this.lowerCanvasEl[h]=m,this.upperCanvasEl&&(this.upperCanvasEl[h]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[h]=m),this[h]=m,this},_setCssDimension:function(h,m){return this.lowerCanvasEl.style[h]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[h]=m),this.wrapperEl&&(this.wrapperEl.style[h]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(h){var y,M,w,m=this._activeObject,b=this.backgroundImage,v=this.overlayImage;for(this.viewportTransform=h,M=0,w=this._objects.length;M<w;M++)(y=this._objects[M]).group||y.setCoords(!0);return m&&m.setCoords(),b&&b.setCoords(!0),v&&v.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(h,m){var b=h,v=this.viewportTransform.slice(0);h=l(h,c(this.viewportTransform)),v[0]=m,v[3]=m;var y=l(h,v);return v[4]+=b.x-y.x,v[5]+=b.y-y.y,this.setViewportTransform(v)},setZoom:function(h){return this.zoomToPoint(new C.Point(0,0),h),this},absolutePan:function(h){var m=this.viewportTransform.slice(0);return m[4]=-h.x,m[5]=-h.y,this.setViewportTransform(m)},relativePan:function(h){return this.absolutePan(new C.Point(-h.x-this.viewportTransform[4],-h.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(h){this.stateful&&h.setupState(),h._set("canvas",this),h.setCoords(),this.fire("object:added",{target:h}),h.fire("added")},_onObjectRemoved:function(h){this.fire("object:removed",{target:h}),h.fire("removed"),delete h.canvas},clearContext:function(h){return h.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var h={},m=this.width,b=this.height,v=c(this.viewportTransform);return h.tl=l({x:0,y:0},v),h.br=l({x:m,y:b},v),h.tr=new C.Point(h.br.x,h.tl.y),h.bl=new C.Point(h.tl.x,h.br.y),this.vptCoords=h,h},cancelRequestedRender:function(){this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(h,m){var b=this.viewportTransform,v=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(h),C.util.setImageSmoothing(h,this.imageSmoothingEnabled),this.fire("before:render",{ctx:h}),this._renderBackground(h),h.save(),h.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(h,m),h.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),v&&(v.canvas=this,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(h)),this._renderOverlay(h),this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),this.fire("after:render",{ctx:h})},drawClipPathOnCanvas:function(h){var m=this.viewportTransform,b=this.clipPath;h.save(),h.transform(m[0],m[1],m[2],m[3],m[4],m[5]),h.globalCompositeOperation="destination-in",b.transform(h),h.scale(1/b.zoomX,1/b.zoomY),h.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),h.restore()},_renderObjects:function(h,m){var b,v;for(b=0,v=m.length;b<v;++b)m[b]&&m[b].render(h)},_renderBackgroundOrOverlay:function(h,m){var b=this[m+"Color"],v=this[m+"Image"],y=this.viewportTransform,M=this[m+"Vpt"];if(b||v){if(b){h.save(),h.beginPath(),h.moveTo(0,0),h.lineTo(this.width,0),h.lineTo(this.width,this.height),h.lineTo(0,this.height),h.closePath(),h.fillStyle=b.toLive?b.toLive(h,this):b,M&&h.transform(y[0],y[1],y[2],y[3],y[4],y[5]),h.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var w=b.gradientTransform||b.patternTransform;w&&h.transform(w[0],w[1],w[2],w[3],w[4],w[5]),h.fill(),h.restore()}v&&(h.save(),M&&h.transform(y[0],y[1],y[2],y[3],y[4],y[5]),v.render(h),h.restore())}},_renderBackground:function(h){this._renderBackgroundOrOverlay(h,"background")},_renderOverlay:function(h){this._renderBackgroundOrOverlay(h,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new C.Point(this.width/2,this.height/2)},centerObjectH:function(h){return this._centerObject(h,new C.Point(this.getCenterPoint().x,h.getCenterPoint().y))},centerObjectV:function(h){return this._centerObject(h,new C.Point(h.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(h){var m=this.getCenterPoint();return this._centerObject(h,m)},viewportCenterObject:function(h){var m=this.getVpCenter();return this._centerObject(h,m)},viewportCenterObjectH:function(h){var m=this.getVpCenter();return this._centerObject(h,new C.Point(m.x,h.getCenterPoint().y)),this},viewportCenterObjectV:function(h){var m=this.getVpCenter();return this._centerObject(h,new C.Point(h.getCenterPoint().x,m.y))},getVpCenter:function(){var h=this.getCenterPoint(),m=c(this.viewportTransform);return l(h,m)},_centerObject:function(h,m){return h.setPositionByOrigin(m,"center","center"),h.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(h){return this.toDatalessObject(h)},toObject:function(h){return this._toObjectMethod("toObject",h)},toDatalessObject:function(h){return this._toObjectMethod("toDatalessObject",h)},_toObjectMethod:function(h,m){var b=this.clipPath,v={version:C.version,objects:this._toObjects(h,m)};return b&&!b.excludeFromExport&&(v.clipPath=this._toObject(this.clipPath,h,m)),_(v,this.__serializeBgOverlay(h,m)),C.util.populateWithProperties(this,v,m),v},_toObjects:function(h,m){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,h,m)},this)},_toObject:function(h,m,b){var v;this.includeDefaultValues||(v=h.includeDefaultValues,h.includeDefaultValues=!1);var y=h[m](b);return this.includeDefaultValues||(h.includeDefaultValues=v),y},__serializeBgOverlay:function(h,m){var b={},v=this.backgroundImage,y=this.overlayImage,M=this.backgroundColor,w=this.overlayColor;return M&&M.toObject?M.excludeFromExport||(b.background=M.toObject(m)):M&&(b.background=M),w&&w.toObject?w.excludeFromExport||(b.overlay=w.toObject(m)):w&&(b.overlay=w),v&&!v.excludeFromExport&&(b.backgroundImage=this._toObject(v,h,m)),y&&!y.excludeFromExport&&(b.overlayImage=this._toObject(y,h,m)),b},svgViewportTransformation:!0,toSVG:function(h,m){h||(h={}),h.reviver=m;var b=[];return this._setSVGPreamble(b,h),this._setSVGHeader(b,h),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",m),this._setSVGObjects(b,m),this.clipPath&&b.push("</g>\n"),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",m),b.push("</svg>"),b.join("")},_setSVGPreamble:function(h,m){m.suppressPreamble||h.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(h,m){var y,b=m.width||this.width,v=m.height||this.height,M='viewBox="0 0 '+this.width+" "+this.height+'" ',w=C.Object.NUM_FRACTION_DIGITS;m.viewBox?M='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(M='viewBox="'+u(-(y=this.viewportTransform)[4]/y[0],w)+" "+u(-y[5]/y[3],w)+" "+u(this.width/y[0],w)+" "+u(this.height/y[3],w)+'" '),h.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',v,'" ',M,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",C.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),"</defs>\n")},createSVGClipPathMarkup:function(h){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+C.Object.__uid++,'<clipPath id="'+m.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(h.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var h=this;return["background","overlay"].map(function(b){var v=h[b+"Color"];if(v&&v.toLive){var y=h[b+"Vpt"],M=h.viewportTransform;return v.toSVG({width:h.width/(y?M[0]:1),height:h.height/(y?M[3]:1)},{additionalTransform:y?C.util.matrixToSVG(M):""})}}).join("")},createSVGFontFacesMarkup:function(){var b,v,y,M,w,Z,U,q,h="",m={},Q=C.fontPaths,re=[];for(this._objects.forEach(function ue(W){re.push(W),W._objects&&W._objects.forEach(ue)}),U=0,q=re.length;U<q;U++)if(v=(b=re[U]).fontFamily,-1!==b.type.indexOf("text")&&!m[v]&&Q[v]&&(m[v]=!0,b.styles))for(w in y=b.styles)for(Z in M=y[w])!m[v=M[Z].fontFamily]&&Q[v]&&(m[v]=!0);for(var le in m)h+=["\t\t@font-face {\n","\t\t\tfont-family: '",le,"';\n","\t\t\tsrc: url('",Q[le],"');\n","\t\t}\n"].join("");return h&&(h=['\t<style type="text/css">',"<![CDATA[\n",h,"]]>","</style>\n"].join("")),h},_setSVGObjects:function(h,m){var b,v,y,M=this._objects;for(v=0,y=M.length;v<y;v++)!(b=M[v]).excludeFromExport&&this._setSVGObject(h,b,m)},_setSVGObject:function(h,m,b){h.push(m.toSVG(b))},_setSVGBgOverlayImage:function(h,m,b){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&h.push(this[m].toSVG(b))},_setSVGBgOverlayColor:function(h,m){var b=this[m+"Color"],y=this.width,M=this.height;if(b)if(b.toLive){var w=b.repeat,E=C.util.invertTransform(this.viewportTransform),U=this[m+"Vpt"]?C.util.matrixToSVG(E):"";h.push('<rect transform="'+U+" translate(",y/2,",",M/2,')"',' x="',b.offsetX-y/2,'" y="',b.offsetY-M/2,'" ','width="',"repeat-y"===w||"no-repeat"===w?b.source.width:y,'" height="',"repeat-x"===w||"no-repeat"===w?b.source.height:M,'" fill="url(#SVGID_'+b.id+')"',"></rect>\n")}else h.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',"></rect>\n")},sendToBack:function(h){if(!h)return this;var b,v,y,m=this._activeObject;if(h===m&&"activeSelection"===h.type)for(b=(y=m._objects).length;b--;)f(this._objects,v=y[b]),this._objects.unshift(v);else f(this._objects,h),this._objects.unshift(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(h){if(!h)return this;var b,v,y,m=this._activeObject;if(h===m&&"activeSelection"===h.type)for(y=m._objects,b=0;b<y.length;b++)f(this._objects,v=y[b]),this._objects.push(v);else f(this._objects,h),this._objects.push(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(h,m){if(!h)return this;var v,y,M,w,E,b=this._activeObject,Z=0;if(h===b&&"activeSelection"===h.type)for(E=b._objects,v=0;v<E.length;v++)(M=this._objects.indexOf(y=E[v]))>0+Z&&(w=M-1,f(this._objects,y),this._objects.splice(w,0,y)),Z++;else 0!==(M=this._objects.indexOf(h))&&(w=this._findNewLowerIndex(h,M,m),f(this._objects,h),this._objects.splice(w,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(h,m,b){var v,y;if(b){for(v=m,y=m-1;y>=0;--y)if(h.intersectsWithObject(this._objects[y])||h.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(h)){v=y;break}}else v=m-1;return v},bringForward:function(h,m){if(!h)return this;var v,y,M,w,E,b=this._activeObject,Z=0;if(h===b&&"activeSelection"===h.type)for(v=(E=b._objects).length;v--;)(M=this._objects.indexOf(y=E[v]))<this._objects.length-1-Z&&(w=M+1,f(this._objects,y),this._objects.splice(w,0,y)),Z++;else(M=this._objects.indexOf(h))!==this._objects.length-1&&(w=this._findNewUpperIndex(h,M,m),f(this._objects,h),this._objects.splice(w,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(h,m,b){var v,y,M;if(b){for(v=m,y=m+1,M=this._objects.length;y<M;++y)if(h.intersectsWithObject(this._objects[y])||h.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(h)){v=y;break}}else v=m+1;return v},moveTo:function(h,m){return f(this._objects,h),this._objects.splice(m,0,h),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(h){h.dispose&&h.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),C.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),C.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),_(C.StaticCanvas.prototype,C.Observable),_(C.StaticCanvas.prototype,C.Collection),_(C.StaticCanvas.prototype,C.DataURLExporter),_(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(h){var m=d();if(!m||!m.getContext)return null;var b=m.getContext("2d");return b&&"setLineDash"===h?typeof b.setLineDash<"u":null}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var h=a(this.lowerCanvasEl);return h&&h.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(h){var m=a(this.lowerCanvasEl);return m&&m.createJPEGStream(h)})}}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(_){_.strokeStyle=this.color,_.lineWidth=this.width,_.lineCap=this.strokeLineCap,_.miterLimit=this.strokeMiterLimit,_.lineJoin=this.strokeLineJoin,_.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(_){var p=this.canvas.viewportTransform;_.save(),_.transform(p[0],p[1],p[2],p[3],p[4],p[5])},_setShadow:function(){if(this.shadow){var _=this.canvas,p=this.shadow,f=_.contextTop,u=_.getZoom();_&&_._isRetinaScaling()&&(u*=C.devicePixelRatio),f.shadowColor=p.color,f.shadowBlur=p.blur*u,f.shadowOffsetX=p.offsetX*u,f.shadowOffsetY=p.offsetY*u}},needsFullRender:function(){return new C.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var _=this.canvas.contextTop;_.shadowColor="",_.shadowBlur=_.shadowOffsetX=_.shadowOffsetY=0},_isOutSideCanvas:function(_){return _.x<0||_.x>this.canvas.getWidth()||_.y<0||_.y>this.canvas.getHeight()}}),C.PencilBrush=C.util.createClass(C.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(_){this.canvas=_,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(_,p,f){var u=p.midPointFrom(f);return _.quadraticCurveTo(p.x,p.y,u.x,u.y),u},onMouseDown:function(_,p){!this.canvas._isMainEvent(p.e)||(this.drawStraightLine=p.e[this.straightLineKey],this._prepareForDrawing(_),this._captureDrawingPath(_),this._render())},onMouseMove:function(_,p){if(this.canvas._isMainEvent(p.e)&&(this.drawStraightLine=p.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(_))&&this._captureDrawingPath(_)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var f=this._points,u=f.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,f[u-2],f[u-1],!0),l.stroke(),l.restore()}},onMouseUp:function(_){return!this.canvas._isMainEvent(_.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(_){var p=new C.Point(_.x,_.y);this._reset(),this._addPoint(p),this.canvas.contextTop.moveTo(p.x,p.y)},_addPoint:function(_){return!(this._points.length>1&&_.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(_),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(_){var p=new C.Point(_.x,_.y);return this._addPoint(p)},_render:function(_){var p,f,u=this._points[0],l=this._points[1];if(this._saveAndTransform(_=_||this.canvas.contextTop),_.beginPath(),2===this._points.length&&u.x===l.x&&u.y===l.y){var c=this.width/1e3;u=new C.Point(u.x,u.y),l=new C.Point(l.x,l.y),u.x-=c,l.x+=c}for(_.moveTo(u.x,u.y),p=1,f=this._points.length;p<f;p++)this._drawSegment(_,u,l),u=this._points[p],l=this._points[p+1];_.lineTo(u.x,u.y),_.stroke(),_.restore()},convertPointsToSVGPath:function(_){return C.util.getSmoothPathFromPoints(_,this.width/1e3)},_isEmptySVGPath:function(_){return"M 0 0 Q 0 0 0 0 L 0 0"===C.util.joinPath(_)},createPath:function(_){var p=new C.Path(_,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,p.shadow=new C.Shadow(this.shadow)),p},decimatePoints:function(_,p){if(_.length<=2)return _;var l,f=this.canvas.getZoom(),u=Math.pow(p/f,2),c=_.length-1,a=_[0],d=[a];for(l=1;l<c-1;l++)Math.pow(a.x-_[l].x,2)+Math.pow(a.y-_[l].y,2)>=u&&d.push(a=_[l]);return d.push(_[c]),d},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var p=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(p))this.canvas.requestRenderAll();else{var f=this.createPath(p);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.requestRenderAll(),f.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:f})}}}),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(_){this.canvas=_,this.points=[]},drawDot:function(_){var p=this.addPoint(_),f=this.canvas.contextTop;this._saveAndTransform(f),this.dot(f,p),f.restore()},dot:function(_,p){_.fillStyle=p.fill,_.beginPath(),_.arc(p.x,p.y,p.radius,0,2*Math.PI,!1),_.closePath(),_.fill()},onMouseDown:function(_){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(_)},_render:function(){var p,f,_=this.canvas.contextTop,u=this.points;for(this._saveAndTransform(_),p=0,f=u.length;p<f;p++)this.dot(_,u[p]);_.restore()},onMouseMove:function(_){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(_)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(_),this._render()):this.drawDot(_))},onMouseUp:function(){var p,f,_=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var u=[];for(p=0,f=this.points.length;p<f;p++){var l=this.points[p],c=new C.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(c.shadow=new C.Shadow(this.shadow)),u.push(c)}var a=new C.Group(u);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=_,this.canvas.requestRenderAll()},addPoint:function(_){var p=new C.Point(_.x,_.y),f=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,u=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return p.radius=f,p.fill=u,this.points.push(p),p}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(_){this.canvas=_,this.sprayChunks=[]},onMouseDown:function(_){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(_),this.render(this.sprayChunkPoints)},onMouseMove:function(_){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(_)||(this.addSprayChunk(_),this.render(this.sprayChunkPoints))},onMouseUp:function(){var _=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var p=[],f=0,u=this.sprayChunks.length;f<u;f++)for(var l=this.sprayChunks[f],c=0,a=l.length;c<a;c++){var d=new C.Rect({width:l[c].width,height:l[c].width,left:l[c].x+1,top:l[c].y+1,originX:"center",originY:"center",fill:this.color});p.push(d)}this.optimizeOverlapping&&(p=this._getOptimizedRects(p));var g=new C.Group(p);this.shadow&&g.set("shadow",new C.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=_,this.canvas.requestRenderAll()},_getOptimizedRects:function(_){var f,u,l,p={};for(u=0,l=_.length;u<l;u++)p[f=_[u].left+""+_[u].top]||(p[f]=_[u]);var c=[];for(f in p)c.push(p[f]);return c},render:function(_){var f,u,p=this.canvas.contextTop;for(p.fillStyle=this.color,this._saveAndTransform(p),f=0,u=_.length;f<u;f++){var l=_[f];typeof l.opacity<"u"&&(p.globalAlpha=l.opacity),p.fillRect(l.x,l.y,l.width,l.width)}p.restore()},_render:function(){var p,f,_=this.canvas.contextTop;for(_.fillStyle=this.color,this._saveAndTransform(_),p=0,f=this.sprayChunks.length;p<f;p++)this.render(this.sprayChunks[p]);_.restore()},addSprayChunk:function(_){this.sprayChunkPoints=[];var p,f,u,c,l=this.width/2;for(c=0;c<this.density;c++){p=C.util.getRandomInt(_.x-l,_.x+l),f=C.util.getRandomInt(_.y-l,_.y+l),u=this.dotWidthVariance?C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new C.Point(p,f);a.width=u,this.randomOpacity&&(a.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var f=C.util.createCanvasElement(),u=f.getContext("2d");return f.width=f.height=25,u.fillStyle=this.color,u.beginPath(),u.arc(10,10,10,0,2*Math.PI,!1),u.closePath(),u.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(_){return _.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(_){this.callSuper("_setBrushStyles",_),_.strokeStyle=this.getPattern(_)},createPath:function(_){var p=this.callSuper("createPath",_),f=p._getLeftTopCoords().scalarAdd(p.strokeWidth/2);return p.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-f.x,offsetY:-f.y}),p}}),function(){var _=C.util.getPointer,p=C.util.degreesToRadians,f=C.util.isTouchEvent;for(var u in C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(l,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var c,a,d,l=this.getActiveObjects();if(l.length>0&&!this.preserveObjectStacking){a=[],d=[];for(var g=0,h=this._objects.length;g<h;g++)-1===l.indexOf(c=this._objects[g])?a.push(c):d.push(c);l.length>1&&(this._activeObject._objects=d),a.push.apply(a,d)}else a=this._objects;return a},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,c){var a=l.calcTransformMatrix(),d=C.util.invertTransform(a),g=this.restorePointerVpt(c);return C.util.transformPoint(g,d)},isTargetTransparent:function(l,c,a){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var d=this._normalizePointer(l,{x:c,y:a}),g=Math.max(l.cacheTranslationX+d.x*l.zoomX,0),h=Math.max(l.cacheTranslationY+d.y*l.zoomY,0);return C.util.isTransparent(l._cacheContext,Math.round(g),Math.round(h),this.targetFindTolerance)}var m=this.contextCache,b=l.selectionBackgroundColor,v=this.viewportTransform;return l.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(v[0],v[1],v[2],v[3],v[4],v[5]),l.render(m),m.restore(),l.selectionBackgroundColor=b,C.util.isTransparent(m,c,a,this.targetFindTolerance)},_isSelectionKeyPressed:function(l){return Array.isArray(this.selectionKey)?!!this.selectionKey.find(function(a){return!0===l[a]}):l[this.selectionKey]},_shouldClearSelection:function(l,c){var a=this.getActiveObjects(),d=this._activeObject;return!c||c&&d&&a.length>1&&-1===a.indexOf(c)&&d!==c&&!this._isSelectionKeyPressed(l)||c&&!c.evented||c&&!c.selectable&&d&&d!==c},_shouldCenterTransform:function(l,c,a){var d;if(l)return"scale"===c||"scaleX"===c||"scaleY"===c||"resizing"===c?d=this.centeredScaling||l.centeredScaling:"rotate"===c&&(d=this.centeredRotation||l.centeredRotation),d?!a:a},_getOriginFromCorner:function(l,c){var a={x:l.originX,y:l.originY};return"ml"===c||"tl"===c||"bl"===c?a.x="right":("mr"===c||"tr"===c||"br"===c)&&(a.x="left"),"tl"===c||"mt"===c||"tr"===c?a.y="bottom":("bl"===c||"mb"===c||"br"===c)&&(a.y="top"),a},_getActionFromCorner:function(l,c,a,d){if(!c||!l)return"drag";var g=d.controls[c];return g.getActionName(a,g,d)},_setupCurrentTransform:function(l,c,a){if(c){var d=this.getPointer(l),g=c.__corner,h=c.controls[g],m=a&&g?h.getActionHandler(l,c,h):C.controlsUtils.dragHandler,b=this._getActionFromCorner(a,g,l,c),v=this._getOriginFromCorner(c,g),y=l[this.centeredKey],M={target:c,action:b,actionHandler:m,corner:g,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:d.x-c.left,offsetY:d.y-c.top,originX:v.x,originY:v.y,ex:d.x,ey:d.y,lastX:d.x,lastY:d.y,theta:p(c.angle),width:c.width*c.scaleX,shiftKey:l.shiftKey,altKey:y,original:C.util.saveObjectTransform(c)};this._shouldCenterTransform(c,b,y)&&(M.originX="center",M.originY="center"),M.original.originX=v.x,M.original.originY=v.y,this._currentTransform=M,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var c=this._groupSelector,a=new C.Point(c.ex,c.ey),d=C.util.transformPoint(a,this.viewportTransform),g=new C.Point(c.ex+c.left,c.ey+c.top),h=C.util.transformPoint(g,this.viewportTransform),m=Math.min(d.x,h.x),b=Math.min(d.y,h.y),v=Math.max(d.x,h.x),y=Math.max(d.y,h.y),M=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(m,b,v-m,y-b)),this.selectionLineWidth&&this.selectionBorderColor&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,m+=M,b+=M,v-=M,y-=M,C.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(m,b,v-m,y-b))},findTarget:function(l,c){if(!this.skipTargetFind){var m,b,d=this.getPointer(l,!0),g=this._activeObject,h=this.getActiveObjects(),v=f(l),y=h.length>1&&!c||1===h.length;if(this.targets=[],y&&g._findTargetCorner(d,v)||h.length>1&&!c&&g===this._searchPossibleTargets([g],d))return g;if(1===h.length&&g===this._searchPossibleTargets([g],d)){if(!this.preserveObjectStacking)return g;m=g,b=this.targets,this.targets=[]}var M=this._searchPossibleTargets(this._objects,d);return l[this.altSelectionKey]&&M&&m&&M!==m&&(M=m,this.targets=b),M}},_checkTarget:function(l,c,a){if(c&&c.visible&&c.evented&&c.containsPoint(l)){if(!this.perPixelTargetFind&&!c.perPixelTargetFind||c.isEditing)return!0;if(!this.isTargetTransparent(c,a.x,a.y))return!0}},_searchPossibleTargets:function(l,c){for(var a,g,d=l.length;d--;){var h=l[d],m=h.group?this._normalizePointer(h.group,c):c;if(this._checkTarget(m,h,c)){(a=l[d]).subTargetCheck&&a instanceof C.Group&&(g=this._searchPossibleTargets(a._objects,c))&&this.targets.push(g);break}}return a},restorePointerVpt:function(l){return C.util.transformPoint(l,C.util.invertTransform(this.viewportTransform))},getPointer:function(l,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var b,a=_(l),d=this.upperCanvasEl,g=d.getBoundingClientRect(),h=g.width||0,m=g.height||0;(!h||!m)&&("top"in g&&"bottom"in g&&(m=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(h=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,c||(a=this.restorePointerVpt(a));var v=this.getRetinaScaling();return 1!==v&&(a.x/=v,a.y/=v),{x:a.x*(b=0===h||0===m?{width:1,height:1}:{width:d.width/h,height:d.height/m}).width,y:a.y*b.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),C.util.addClass(a,"upper-canvas "+l),this.wrapperEl.appendChild(a),this._copyCanvasStyle(c,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var c=this.width||l.width,a=this.height||l.height;C.util.setStyle(l,{position:"absolute",width:c+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=c,l.height=a,C.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,c){c.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?"activeSelection"===l.type&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,c){var a=!1,d=this.getActiveObjects(),g=[],h=[];l.forEach(function(m){-1===d.indexOf(m)&&(a=!0,m.fire("deselected",{e:c,target:m}),h.push(m))}),d.forEach(function(m){-1===l.indexOf(m)&&(a=!0,m.fire("selected",{e:c,target:m}),g.push(m))}),l.length>0&&d.length>0?a&&this.fire("selection:updated",{e:c,selected:g,deselected:h}):d.length>0?this.fire("selection:created",{e:c,selected:g}):l.length>0&&this.fire("selection:cleared",{e:c,deselected:h})},setActiveObject:function(l,c){var a=this.getActiveObjects();return this._setActiveObject(l,c),this._fireSelectionEvents(a,c),this},_setActiveObject:function(l,c){return!(this._activeObject===l||!this._discardActiveObject(c,l)||l.onSelect({e:c})||(this._activeObject=l,0))},_discardActiveObject:function(l,c){var a=this._activeObject;if(a){if(a.onDeselect({e:l,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var c=this.getActiveObjects(),a=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:a,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(c,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(c){C.util.cleanUpJsdomNode(this[c]),this[c]=void 0}.bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var c=this._activeObject;c&&c._renderControls(l)},_toObject:function(l,c,a){var d=this._realizeGroupTransformOnObject(l),g=this.callSuper("_toObject",l,c,a);return this._unwindGroupTransformOnObject(l,d),g},_realizeGroupTransformOnObject:function(l){if(l.group&&"activeSelection"===l.group.type&&this._activeObject===l.group){var a={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(d){a[d]=l[d]}),C.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),a}return null},_unwindGroupTransformOnObject:function(l,c){c&&l.set(c)},_setSVGObject:function(l,c,a){var d=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",l,c,a),this._unwindGroupTransformOnObject(c,d)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,l)}}),C.StaticCanvas)"prototype"!==u&&(C.Canvas[u]=C.StaticCanvas[u])}(),function(){var _=C.util.addListener,p=C.util.removeListener,c={passive:!1};function a(d,g){return d.button&&d.button===g-1}C.util.object.extend(C.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(_,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(d,g){var h=this.upperCanvasEl,m=this._getEventPrefix();d(C.window,"resize",this._onResize),d(h,m+"down",this._onMouseDown),d(h,m+"move",this._onMouseMove,c),d(h,m+"out",this._onMouseOut),d(h,m+"enter",this._onMouseEnter),d(h,"wheel",this._onMouseWheel),d(h,"contextmenu",this._onContextMenu),d(h,"dblclick",this._onDoubleClick),d(h,"dragover",this._onDragOver),d(h,"dragenter",this._onDragEnter),d(h,"dragleave",this._onDragLeave),d(h,"drop",this._onDrop),this.enablePointerEvents||d(h,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](h,"gesture",this._onGesture),eventjs[g](h,"drag",this._onDrag),eventjs[g](h,"orientation",this._onOrientationChange),eventjs[g](h,"shake",this._onShake),eventjs[g](h,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(p,"remove");var d=this._getEventPrefix();p(C.document,d+"up",this._onMouseUp),p(C.document,"touchend",this._onTouchEnd,c),p(C.document,d+"move",this._onMouseMove,c),p(C.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(d,g){this.__onTransformGesture&&this.__onTransformGesture(d,g)},_onDrag:function(d,g){this.__onDrag&&this.__onDrag(d,g)},_onMouseWheel:function(d){this.__onMouseWheel(d)},_onMouseOut:function(d){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:d}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:d});var h=this;this._hoveredTargets.forEach(function(m){h.fire("mouse:out",{target:g,e:d}),m&&g.fire("mouseout",{e:d})}),this._hoveredTargets=[]},_onMouseEnter:function(d){!this._currentTransform&&!this.findTarget(d)&&(this.fire("mouse:over",{target:null,e:d}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(d,g){this.__onOrientationChange&&this.__onOrientationChange(d,g)},_onShake:function(d,g){this.__onShake&&this.__onShake(d,g)},_onLongPress:function(d,g){this.__onLongPress&&this.__onLongPress(d,g)},_onDragOver:function(d){d.preventDefault();var g=this._simpleEventHandler("dragover",d);this._fireEnterLeaveEvents(g,d)},_onDrop:function(d){return this._simpleEventHandler("drop:before",d),this._simpleEventHandler("drop",d)},_onContextMenu:function(d){return this.stopContextMenu&&(d.stopPropagation(),d.preventDefault()),!1},_onDoubleClick:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"dblclick"),this._resetTransformEventData(d)},getPointerId:function(d){var g=d.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?d.pointerId:-1},_isMainEvent:function(d){return!0===d.isPrimary||!1!==d.isPrimary&&("touchend"===d.type&&0===d.touches.length||!d.changedTouches||d.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(d){d.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(d)),this.__onMouseDown(d),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();_(C.document,"touchend",this._onTouchEnd,c),_(C.document,"touchmove",this._onMouseMove,c),p(g,h+"down",this._onMouseDown)},_onMouseDown:function(d){this.__onMouseDown(d),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();p(g,h+"move",this._onMouseMove,c),_(C.document,h+"up",this._onMouseUp),_(C.document,h+"move",this._onMouseMove,c)},_onTouchEnd:function(d){if(!(d.touches.length>0)){this.__onMouseUp(d),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();p(C.document,"touchend",this._onTouchEnd,c),p(C.document,"touchmove",this._onMouseMove,c);var h=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){_(h.upperCanvasEl,g+"down",h._onMouseDown),h._willAddMouseDown=0},400)}},_onMouseUp:function(d){this.__onMouseUp(d),this._resetTransformEventData();var g=this.upperCanvasEl,h=this._getEventPrefix();this._isMainEvent(d)&&(p(C.document,h+"up",this._onMouseUp),p(C.document,h+"move",this._onMouseMove,c),_(g,h+"move",this._onMouseMove,c))},_onMouseMove:function(d){!this.allowTouchScrolling&&d.preventDefault&&d.preventDefault(),this.__onMouseMove(d)},_onResize:function(){this.calcOffset()},_shouldRender:function(d){var g=this._activeObject;return!!(!!g!=!!d||g&&d&&g!==d)},__onMouseUp:function(d){var g,h=this._currentTransform,m=this._groupSelector,b=!1,v=!m||0===m.left&&0===m.top;if(this._cacheTransformEventData(d),g=this._target,this._handleEvent(d,"up:before"),a(d,3))this.fireRightClick&&this._handleEvent(d,"up",3,v);else{if(a(d,2))return this.fireMiddleClick&&this._handleEvent(d,"up",2,v),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(d);else if(this._isMainEvent(d)){if(h&&(this._finalizeCurrentTransform(d),b=h.actionPerformed),!v){var y=g===this._activeObject;this._maybeGroupObjects(d),b||(b=this._shouldRender(g)||!y&&g===this._activeObject)}var M,w;if(g){if(M=g._findTargetCorner(this.getPointer(d,!0),C.util.isTouchEvent(d)),g.selectable&&g!==this._activeObject&&"up"===g.activeOn)this.setActiveObject(g,d),b=!0;else{var E=g.controls[M],Z=E&&E.getMouseUpHandler(d,g,E);Z&&Z(d,h,(w=this.getPointer(d)).x,w.y)}g.isMoving=!1}if(h&&(h.target!==g||h.corner!==M)){var U=h.target&&h.target.controls[h.corner],q=U&&U.getMouseUpHandler(d,g,E);w=w||this.getPointer(d),q&&q(d,h,w.x,w.y)}this._setCursorFromEvent(d,g),this._handleEvent(d,"up",1,v),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),b?this.requestRenderAll():v||this.renderTop()}}},_simpleEventHandler:function(d,g){var h=this.findTarget(g),m=this.targets,b={e:g,target:h,subTargets:m};if(this.fire(d,b),h&&h.fire(d,b),!m)return h;for(var v=0;v<m.length;v++)m[v].fire(d,b);return h},_handleEvent:function(d,g,h,m){var b=this._target,v=this.targets||[],y={e:d,target:b,subTargets:v,button:h||1,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===g&&(y.currentTarget=this.findTarget(d),y.currentSubTargets=this.targets),this.fire("mouse:"+g,y),b&&b.fire("mouse"+g,y);for(var M=0;M<v.length;M++)v[M].fire("mouse"+g,y)},_finalizeCurrentTransform:function(d){var g=this._currentTransform,h=g.target,m={e:d,target:h,transform:g,action:g.action};h._scaling&&(h._scaling=!1),h.setCoords(),(g.actionPerformed||this.stateful&&h.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(d){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(d).requestRenderAll();var g=this.getPointer(d);this.freeDrawingBrush.onMouseDown(g,{e:d,pointer:g}),this._handleEvent(d,"down")},_onMouseMoveInDrawingMode:function(d){if(this._isCurrentlyDrawing){var g=this.getPointer(d);this.freeDrawingBrush.onMouseMove(g,{e:d,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(d,"move")},_onMouseUpInDrawingMode:function(d){var g=this.getPointer(d);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:d,pointer:g}),this._handleEvent(d,"up")},__onMouseDown:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"down:before");var g=this._target;if(a(d,3))this.fireRightClick&&this._handleEvent(d,"down",3);else if(a(d,2))this.fireMiddleClick&&this._handleEvent(d,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(d);else if(this._isMainEvent(d)&&!this._currentTransform){this._previousPointer=h=this._pointer;var m=this._shouldRender(g),b=this._shouldGroup(d,g);if(this._shouldClearSelection(d,g)?this.discardActiveObject(d):b&&(this._handleGrouping(d,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var v=g===this._activeObject;g.selectable&&"down"===g.activeOn&&this.setActiveObject(g,d);var y=g._findTargetCorner(this.getPointer(d,!0),C.util.isTouchEvent(d));if(g.__corner=y,g===this._activeObject&&(y||!b)){this._setupCurrentTransform(d,g,v);var M=g.controls[y],h=this.getPointer(d),w=M&&M.getMouseDownHandler(d,g,M);w&&w(d,this._currentTransform,h.x,h.y)}}this._handleEvent(d,"down"),(m||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(d){this._resetTransformEventData(),this._pointer=this.getPointer(d,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(d)||null},_beforeTransform:function(d){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:d,transform:g})},__onMouseMove:function(d){var g,h;if(this._handleEvent(d,"move:before"),this._cacheTransformEventData(d),this.isDrawingMode)this._onMouseMoveInDrawingMode(d);else if(this._isMainEvent(d)){var m=this._groupSelector;m?(m.left=(h=this._absolutePointer).x-m.ex,m.top=h.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(d):(g=this.findTarget(d)||null,this._setCursorFromEvent(d,g),this._fireOverOutEvents(g,d)),this._handleEvent(d,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(d,g){var h=this._hoveredTarget,m=this._hoveredTargets,b=this.targets,v=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(d,g,{oldTarget:h,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var y=0;y<v;y++)this.fireSyntheticInOutEvents(b[y],g,{oldTarget:m[y],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=d,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(d,g){var h=this._draggedoverTarget,m=this._hoveredTargets,b=this.targets,v=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(d,g,{oldTarget:h,evtOut:"dragleave",evtIn:"dragenter"});for(var y=0;y<v;y++)this.fireSyntheticInOutEvents(b[y],g,{oldTarget:m[y],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=d},fireSyntheticInOutEvents:function(d,g,h){var m,b,M,v=h.oldTarget,w=v!==d,E=h.canvasEvtIn,Z=h.canvasEvtOut;w&&(m={e:g,target:d,previousTarget:v},b={e:g,target:v,nextTarget:d}),M=d&&w,v&&w&&(Z&&this.fire(Z,b),v.fire(h.evtOut,b)),M&&(E&&this.fire(E,m),d.fire(h.evtIn,m))},__onMouseWheel:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"wheel"),this._resetTransformEventData()},_transformObject:function(d){var g=this.getPointer(d),h=this._currentTransform;h.reset=!1,h.shiftKey=d.shiftKey,h.altKey=d[this.centeredKey],this._performTransformAction(d,h,g),h.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(d,g,h){var v=g.action,y=!1,M=g.actionHandler;M&&(y=M(d,g,h.x,h.y)),"drag"===v&&y&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||y},_fire:C.controlsUtils.fireEvent,_setCursorFromEvent:function(d,g){if(!g)return this.setCursor(this.defaultCursor),!1;var h=g.hoverCursor||this.hoverCursor,m=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,b=(!m||!m.contains(g))&&g._findTargetCorner(this.getPointer(d,!0));b?this.setCursor(this.getCornerCursor(b,g,d)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(v){h=v.hoverCursor||h}),this.setCursor(h))},getCornerCursor:function(d,g,h){var m=g.controls[d];return m.cursorStyleHandler(h,m,g)}})}(),function(){var _=Math.min,p=Math.max;C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(f,u){var l=this._activeObject;return l&&this._isSelectionKeyPressed(f)&&u&&u.selectable&&this.selection&&(l!==u||"activeSelection"===l.type)&&!u.onSelect({e:f})},_handleGrouping:function(f,u){var l=this._activeObject;l.__corner||u===l&&(!(u=this.findTarget(f,!0))||!u.selectable)||(l&&"activeSelection"===l.type?this._updateActiveSelection(u,f):this._createActiveSelection(u,f))},_updateActiveSelection:function(f,u){var l=this._activeObject,c=l._objects.slice(0);l.contains(f)?(l.removeWithUpdate(f),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat(),1===l.size()&&this._setActiveObject(l.item(0),u)):(l.addWithUpdate(f),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,u)},_createActiveSelection:function(f,u){var l=this.getActiveObjects(),c=this._createGroup(f);this._hoveredTarget=c,this._setActiveObject(c,u),this._fireSelectionEvents(l,u)},_createGroup:function(f){var u=this._objects,c=u.indexOf(this._activeObject)<u.indexOf(f)?[this._activeObject,f]:[f,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(f){var l,u=this._collectObjects(f);1===u.length?this.setActiveObject(u[0],f):u.length>1&&(l=new C.ActiveSelection(u.reverse(),{canvas:this}),this.setActiveObject(l,f))},_collectObjects:function(f){for(var l,u=[],c=this._groupSelector.ex,a=this._groupSelector.ey,d=c+this._groupSelector.left,g=a+this._groupSelector.top,h=new C.Point(_(c,d),_(a,g)),m=new C.Point(p(c,d),p(a,g)),b=!this.selectionFullyContained,v=c===d&&a===g,y=this._objects.length;y--&&!((l=this._objects[y])&&l.selectable&&l.visible&&(b&&l.intersectsWithRect(h,m,!0)||l.isContainedWithinRect(h,m,!0)||b&&l.containsPoint(h,null,!0)||b&&l.containsPoint(m,null,!0))&&(u.push(l),v)););return u.length>1&&(u=u.filter(function(M){return!M.onSelect({e:f})})),u},_maybeGroupObjects:function(f){this.selection&&this._groupSelector&&this._groupSelectedObjects(f),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(_){_||(_={});var p=_.format||"png",f=_.quality||1,u=(_.multiplier||1)*(_.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(u,_);return C.util.toDataURL(l,p,f)},toCanvasElement:function(_,p){var f=((p=p||{}).width||this.width)*(_=_||1),u=(p.height||this.height)*_,l=this.getZoom(),c=this.width,a=this.height,d=l*_,g=this.viewportTransform,b=this.interactive,v=[d,0,0,d,(g[4]-(p.left||0))*_,(g[5]-(p.top||0))*_],y=this.enableRetinaScaling,M=C.util.createCanvasElement(),w=this.contextTop;return M.width=f,M.height=u,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=v,this.width=f,this.height=u,this.calcViewportBoundaries(),this.renderCanvas(M.getContext("2d"),this._objects),this.viewportTransform=g,this.width=c,this.height=a,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=y,this.contextTop=w,M}}),C.util.object.extend(C.StaticCanvas.prototype,{loadFromJSON:function(_,p,f){if(_){var u="string"==typeof _?JSON.parse(_):C.util.object.clone(_),l=this,c=u.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete u.clipPath,this._enlivenObjects(u.objects,function(d){l.clear(),l._setBgOverlay(u,function(){c?l._enlivenObjects([c],function(g){l.clipPath=g[0],l.__setupCanvas.call(l,u,d,a,p)}):l.__setupCanvas.call(l,u,d,a,p)})},f),this}},__setupCanvas:function(_,p,f,u){var l=this;p.forEach(function(c,a){l.insertAt(c,a)}),this.renderOnAddRemove=f,delete _.objects,delete _.backgroundImage,delete _.overlayImage,delete _.background,delete _.overlay,this._setOptions(_),this.renderAll(),u&&u()},_setBgOverlay:function(_,p){var f={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(_.backgroundImage||_.overlayImage||_.background||_.overlay){var u=function(){f.backgroundImage&&f.overlayImage&&f.backgroundColor&&f.overlayColor&&p&&p()};this.__setBgOverlay("backgroundImage",_.backgroundImage,f,u),this.__setBgOverlay("overlayImage",_.overlayImage,f,u),this.__setBgOverlay("backgroundColor",_.background,f,u),this.__setBgOverlay("overlayColor",_.overlay,f,u)}else p&&p()},__setBgOverlay:function(_,p,f,u){var l=this;if(!p)return f[_]=!0,void(u&&u());"backgroundImage"===_||"overlayImage"===_?C.util.enlivenObjects([p],function(c){l[_]=c[0],f[_]=!0,u&&u()}):this["set"+C.util.string.capitalize(_,!0)](p,function(){f[_]=!0,u&&u()})},_enlivenObjects:function(_,p,f){_&&0!==_.length?C.util.enlivenObjects(_,function(u){p&&p(u)},null,f):p&&p([])},_toDataURL:function(_,p){this.clone(function(f){p(f.toDataURL(_))})},_toDataURLWithMultiplier:function(_,p,f){this.clone(function(u){f(u.toDataURLWithMultiplier(_,p))})},clone:function(_,p){var f=JSON.stringify(this.toJSON(p));this.cloneWithoutData(function(u){u.loadFromJSON(f,function(){_&&_(u)})})},cloneWithoutData:function(_){var p=C.util.createCanvasElement();p.width=this.width,p.height=this.height;var f=new C.Canvas(p);this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),_&&_(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):_&&_(f)}}),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.util.object.clone,l=p.util.toFixed,c=p.util.string.capitalize,a=p.util.degreesToRadians;p.Object||(p.Object=p.util.createClass(p.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!p.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(h){h&&this.setOptions(h)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=p.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(h){var m=p.perfLimitSizeTotal,b=h.width,v=h.height,y=p.maxCacheSideLimit,M=p.minCacheSideLimit;if(b<=y&&v<=y&&b*v<=m)return b<M&&(h.width=M),v<M&&(h.height=M),h;var E=p.util.limitDimsByArea(b/v,m),Z=p.util.capValue,U=Z(M,E.x,y),q=Z(M,E.y,y);return b>U&&(h.zoomX/=b/U,h.width=U,h.capped=!0),v>q&&(h.zoomY/=v/q,h.height=q,h.capped=!0),h},_getCacheCanvasDimensions:function(){var h=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),b=m.x*h.scaleX/this.scaleX,v=m.y*h.scaleY/this.scaleY;return{width:b+2,height:v+2,zoomX:h.scaleX,zoomY:h.scaleY,x:b,y:v}},_updateCacheCanvas:function(){var h=this.canvas;if(this.noScaleCache&&h&&h._currentTransform){var b=h._currentTransform.action;if(this===h._currentTransform.target&&b.slice&&"scale"===b.slice(0,5))return!1}var Z,U,v=this._cacheCanvas,y=this._limitCacheSize(this._getCacheCanvasDimensions()),M=p.minCacheSideLimit,w=y.width,E=y.height,q=y.zoomX,Q=y.zoomY,re=w!==this.cacheWidth||E!==this.cacheHeight,ue=re||this.zoomX!==q||this.zoomY!==Q,W=0,ce=0,pe=!1;if(re){var _e=this._cacheCanvas.width,B=this._cacheCanvas.height,F=w>_e||E>B;pe=F||(w<.9*_e||E<.9*B)&&_e>M&&B>M,F&&!y.capped&&(w>M||E>M)&&(W=.1*w,ce=.1*E)}return this instanceof p.Text&&this.path&&(ue=!0,pe=!0,W+=this.getHeightOfLine(0)*this.zoomX,ce+=this.getHeightOfLine(0)*this.zoomY),!!ue&&(pe?(v.width=Math.ceil(w+W),v.height=Math.ceil(E+ce)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,v.width,v.height)),Z=y.x/2,U=y.y/2,this.cacheTranslationX=Math.round(v.width/2-Z)+Z,this.cacheTranslationY=Math.round(v.height/2-U)+U,this.cacheWidth=w,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(q,Q),this.zoomX=q,this.zoomY=Q,!0)},setOptions:function(h){this._setOptions(h),this._initGradient(h.fill,"fill"),this._initGradient(h.stroke,"stroke"),this._initPattern(h.fill,"fill"),this._initPattern(h.stroke,"stroke")},transform:function(h){var b=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&h===this.canvas.contextTop));h.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(h){var m=p.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:p.version,originX:this.originX,originY:this.originY,left:l(this.left,m),top:l(this.top,m),width:l(this.width,m),height:l(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,m),scaleX:l(this.scaleX,m),scaleY:l(this.scaleY,m),angle:l(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,m),skewY:l(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(h),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),p.util.populateWithProperties(this,b,h),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(h){return this.toObject(h)},_removeDefaultValues:function(h){var m=p.util.getKlass(h.type).prototype;return m.stateProperties.forEach(function(v){"left"===v||"top"===v||(h[v]===m[v]&&delete h[v],Array.isArray(h[v])&&Array.isArray(m[v])&&0===h[v].length&&0===m[v].length&&delete h[v])}),h},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var h=p.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(h.scaleX),scaleY:Math.abs(h.scaleY)}},getTotalObjectScaling:function(){var h=this.getObjectScaling(),m=h.scaleX,b=h.scaleY;if(this.canvas){var v=this.canvas.getZoom(),y=this.canvas.getRetinaScaling();m*=v*y,b*=v*y}return{scaleX:m,scaleY:b}},getObjectOpacity:function(){var h=this.opacity;return this.group&&(h*=this.group.getObjectOpacity()),h},_set:function(h,m){var v=this[h]!==m,y=!1;return("scaleX"===h||"scaleY"===h)&&(m=this._constrainScale(m)),"scaleX"===h&&m<0?(this.flipX=!this.flipX,m*=-1):"scaleY"===h&&m<0?(this.flipY=!this.flipY,m*=-1):"shadow"!==h||!m||m instanceof p.Shadow?"dirty"===h&&this.group&&this.group.set("dirty",m):m=new p.Shadow(m),this[h]=m,v&&(y=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(h)>-1?(this.dirty=!0,y&&this.group.set("dirty",!0)):y&&this.stateProperties.indexOf(h)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:p.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(h){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(h.save(),this._setupCompositeOperation(h),this.drawSelectionBackground(h),this.transform(h),this._setOpacity(h),this._setShadow(h,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(h)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(h),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),h.restore())},renderCache:function(h){h=h||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,h.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(h,m){if(h.save(),h.globalCompositeOperation=m.inverted?"destination-out":"destination-in",m.absolutePositioned){var b=p.util.invertTransform(this.calcTransformMatrix());h.transform(b[0],b[1],b[2],b[3],b[4],b[5])}m.transform(h),h.scale(1/m.zoomX,1/m.zoomY),h.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),h.restore()},drawObject:function(h,m){var b=this.fill,v=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(h)):this._renderBackground(h),this._render(h),this._drawClipPath(h,this.clipPath),this.fill=b,this.stroke=v},_drawClipPath:function(h,m){!m||(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(h,m))},drawCacheOnCanvas:function(h){h.scale(1/this.zoomX,1/this.zoomY),h.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(h){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!h&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!h){var m=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-b/2,m,b)}return!0}return!1},_renderBackground:function(h){if(this.backgroundColor){var m=this._getNonTransformedDimensions();h.fillStyle=this.backgroundColor,h.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(h)}},_setOpacity:function(h){this.group&&!this.group._transformDone?h.globalAlpha=this.getObjectOpacity():h.globalAlpha*=this.opacity},_setStrokeStyles:function(h,m){var b=m.stroke;b&&(h.lineWidth=m.strokeWidth,h.lineCap=m.strokeLineCap,h.lineDashOffset=m.strokeDashOffset,h.lineJoin=m.strokeLineJoin,h.miterLimit=m.strokeMiterLimit,b.toLive?"percentage"===b.gradientUnits||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(h,b):(h.strokeStyle=b.toLive(h,this),this._applyPatternGradientTransform(h,b)):h.strokeStyle=m.stroke)},_setFillStyles:function(h,m){var b=m.fill;b&&(b.toLive?(h.fillStyle=b.toLive(h,this),this._applyPatternGradientTransform(h,m.fill)):h.fillStyle=b)},_setClippingProperties:function(h){h.globalAlpha=1,h.strokeStyle="transparent",h.fillStyle="#000000"},_setLineDash:function(h,m){!m||0===m.length||(1&m.length&&m.push.apply(m,m),h.setLineDash(m))},_renderControls:function(h,m){var y,M,w,b=this.getViewportTransform(),v=this.calcTransformMatrix();M=typeof(m=m||{}).hasBorders<"u"?m.hasBorders:this.hasBorders,w=typeof m.hasControls<"u"?m.hasControls:this.hasControls,v=p.util.multiplyTransformMatrices(b,v),y=p.util.qrDecompose(v),h.save(),h.translate(y.translateX,y.translateY),h.lineWidth=1*this.borderScaleFactor,this.group||(h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(y.angle-=180),h.rotate(a(this.group?y.angle:this.angle)),m.forActiveSelection||this.group?M&&this.drawBordersInGroup(h,y,m):M&&this.drawBorders(h,m),w&&this.drawControls(h,m),h.restore()},_setShadow:function(h){if(this.shadow){var v,m=this.shadow,b=this.canvas,y=b&&b.viewportTransform[0]||1,M=b&&b.viewportTransform[3]||1;v=m.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),b&&b._isRetinaScaling()&&(y*=p.devicePixelRatio,M*=p.devicePixelRatio),h.shadowColor=m.color,h.shadowBlur=m.blur*p.browserShadowBlurConstant*(y+M)*(v.scaleX+v.scaleY)/4,h.shadowOffsetX=m.offsetX*y*v.scaleX,h.shadowOffsetY=m.offsetY*M*v.scaleY}},_removeShadow:function(h){!this.shadow||(h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0)},_applyPatternGradientTransform:function(h,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var b=m.gradientTransform||m.patternTransform,v=-this.width/2+m.offsetX||0,y=-this.height/2+m.offsetY||0;return"percentage"===m.gradientUnits?h.transform(this.width,0,0,this.height,v,y):h.transform(1,0,0,1,v,y),b&&h.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:v,offsetY:y}},_renderPaintInOrder:function(h){"stroke"===this.paintFirst?(this._renderStroke(h),this._renderFill(h)):(this._renderFill(h),this._renderStroke(h))},_render:function(){},_renderFill:function(h){!this.fill||(h.save(),this._setFillStyles(h,this),"evenodd"===this.fillRule?h.fill("evenodd"):h.fill(),h.restore())},_renderStroke:function(h){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(h),h.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();h.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&h.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(h,this.strokeDashArray),this._setStrokeStyles(h,this),h.stroke(),h.restore()}},_applyPatternForTransformedGradient:function(h,m){var y,b=this._limitCacheSize(this._getCacheCanvasDimensions()),v=p.util.createCanvasElement(),M=this.canvas.getRetinaScaling(),w=b.x/this.scaleX/M,E=b.y/this.scaleY/M;v.width=w,v.height=E,(y=v.getContext("2d")).beginPath(),y.moveTo(0,0),y.lineTo(w,0),y.lineTo(w,E),y.lineTo(0,E),y.closePath(),y.translate(w/2,E/2),y.scale(b.zoomX/this.scaleX/M,b.zoomY/this.scaleY/M),this._applyPatternGradientTransform(y,m),y.fillStyle=m.toLive(h),y.fill(),h.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),h.scale(M*this.scaleX/b.zoomX,M*this.scaleY/b.zoomY),h.strokeStyle=y.createPattern(v,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var h=p.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",h.scaleX),this.set("scaleY",h.scaleY),this.angle=h.angle,this.skewX=h.skewX,this.skewY=0}},_removeTransformMatrix:function(h){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=p.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,h&&(this.scaleX*=h.scaleX,this.scaleY*=h.scaleY,this.cropX=h.cropX,this.cropY=h.cropY,m.x+=h.offsetLeft,m.y+=h.offsetTop,this.width=h.width,this.height=h.height),this.setPositionByOrigin(m,"center","center")},clone:function(h,m){var b=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(b,h):p.Object._fromObject("Object",b,h)},cloneAsImage:function(h,m){var b=this.toCanvasElement(m);return h&&h(new p.Image(b)),this},toCanvasElement:function(h){h||(h={});var m=p.util,b=m.saveObjectTransform(this),v=this.group,y=this.shadow,M=Math.abs,w=(h.multiplier||1)*(h.enableRetinaScaling?p.devicePixelRatio:1);delete this.group,h.withoutTransform&&m.resetObjectTransform(this),h.withoutShadow&&(this.shadow=null);var q,re,ue,E=p.util.createCanvasElement(),Z=this.getBoundingRect(!0,!0),U=this.shadow,Q={x:0,y:0};U&&(re=U.blur,q=U.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),Q.x=2*Math.round(M(U.offsetX)+re)*M(q.scaleX),Q.y=2*Math.round(M(U.offsetY)+re)*M(q.scaleY)),ue=Z.height+Q.y,E.width=Math.ceil(Z.width+Q.x),E.height=Math.ceil(ue);var W=new p.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===h.format&&(W.backgroundColor="#fff"),this.setPositionByOrigin(new p.Point(W.width/2,W.height/2),"center","center");var ce=this.canvas;W.add(this);var pe=W.toCanvasElement(w||1,h);return this.shadow=y,this.set("canvas",ce),v&&(this.group=v),this.set(b).setCoords(),W._objects=[],W.dispose(),W=null,pe},toDataURL:function(h){return h||(h={}),p.util.toDataURL(this.toCanvasElement(h),h.format||"png",h.quality||1)},isType:function(h){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===h},complexity:function(){return 1},toJSON:function(h){return this.toObject(h)},rotate:function(h){var m=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",h),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(h,m){m=m||this.canvas.getPointer(h);var b=new p.Point(m.x,m.y),v=this._getLeftTopCoords();return this.angle&&(b=p.util.rotatePoint(b,v,a(-this.angle))),{x:b.x-v.x,y:b.y-v.y}},_setupCompositeOperation:function(h){this.globalCompositeOperation&&(h.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){p.runningAnimations&&p.runningAnimations.cancelByTarget(this)}}),p.util.createAccessors&&p.util.createAccessors(p.Object),f(p.Object.prototype,p.Observable),p.Object.NUM_FRACTION_DIGITS=2,p.Object.ENLIVEN_PROPS=["clipPath"],p.Object._fromObject=function(h,m,b,v){var y=p[h];m=u(m,!0),p.util.enlivenPatterns([m.fill,m.stroke],function(M){typeof M[0]<"u"&&(m.fill=M[0]),typeof M[1]<"u"&&(m.stroke=M[1]),p.util.enlivenObjectEnlivables(m,m,function(){var w=v?new y(m[v],m):new y(m);b&&b(w)})})},p.Object.__uid=0)}(G),function(){var _=C.util.degreesToRadians,p={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(u,l,c,a,d){var m,b,v,g=u.x,h=u.y;return"string"==typeof l?l=p[l]:l-=.5,"string"==typeof a?a=p[a]:a-=.5,"string"==typeof c?c=f[c]:c-=.5,"string"==typeof d?d=f[d]:d-=.5,b=d-c,((m=a-l)||b)&&(v=this._getTransformedDimensions(),g=u.x+m*v.x,h=u.y+b*v.y),new C.Point(g,h)},translateToCenterPoint:function(u,l,c){var a=this.translateToGivenOrigin(u,l,c,"center","center");return this.angle?C.util.rotatePoint(a,u,_(this.angle)):a},translateToOriginPoint:function(u,l,c){var a=this.translateToGivenOrigin(u,"center","center",l,c);return this.angle?C.util.rotatePoint(a,u,_(this.angle)):a},getCenterPoint:function(){var u=new C.Point(this.left,this.top);return this.translateToCenterPoint(u,this.originX,this.originY)},getPointByOrigin:function(u,l){var c=this.getCenterPoint();return this.translateToOriginPoint(c,u,l)},toLocalPoint:function(u,l,c){var d,g,a=this.getCenterPoint();return d=typeof l<"u"&&typeof c<"u"?this.translateToGivenOrigin(a,"center","center",l,c):new C.Point(this.left,this.top),g=new C.Point(u.x,u.y),this.angle&&(g=C.util.rotatePoint(g,a,-_(this.angle))),g.subtractEquals(d)},setPositionByOrigin:function(u,l,c){var a=this.translateToCenterPoint(u,l,c),d=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",d.x),this.set("top",d.y)},adjustPosition:function(u){var g,h,l=_(this.angle),c=this.getScaledWidth(),a=C.util.cos(l)*c,d=C.util.sin(l)*c;this.left+=a*((h="string"==typeof u?p[u]:u-.5)-(g="string"==typeof this.originX?p[this.originX]:this.originX-.5)),this.top+=d*(h-g),this.setCoords(),this.originX=u},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var u=this.getCenterPoint();this.originX="center",this.originY="center",this.left=u.x,this.top=u.y},_resetOrigin:function(){var u=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=u.x,this.top=u.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var p=C.util,f=p.degreesToRadians,u=p.multiplyTransformMatrices,l=p.transformPoint;p.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,a){return a?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,a){return function _(c){return[new C.Point(c.tl.x,c.tl.y),new C.Point(c.tr.x,c.tr.y),new C.Point(c.br.x,c.br.y),new C.Point(c.bl.x,c.bl.y)]}(this._getCoords(c,a))},intersectsWithRect:function(c,a,d,g){var h=this.getCoords(d,g);return"Intersection"===C.Intersection.intersectPolygonRectangle(h,c,a).status},intersectsWithObject:function(c,a,d){return"Intersection"===C.Intersection.intersectPolygonPolygon(this.getCoords(a,d),c.getCoords(a,d)).status||c.isContainedWithinObject(this,a,d)||this.isContainedWithinObject(c,a,d)},isContainedWithinObject:function(c,a,d){for(var g=this.getCoords(a,d),m=0,b=c._getImageLines(a?c.aCoords:c.lineCoords);m<4;m++)if(!c.containsPoint(g[m],b))return!1;return!0},isContainedWithinRect:function(c,a,d,g){var h=this.getBoundingRect(d,g);return h.left>=c.x&&h.left+h.width<=a.x&&h.top>=c.y&&h.top+h.height<=a.y},containsPoint:function(c,m,d,g){var h=this._getCoords(d,g),b=(m=m||this._getImageLines(h),this._findCrossPoints(c,m));return 0!==b&&b%2==1},isOnScreen:function(c){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br;return!(!this.getCoords(!0,c).some(function(h){return h.x<=d.x&&h.x>=a.x&&h.y<=d.y&&h.y>=a.y})&&!this.intersectsWithRect(a,d,!0,c))||this._containsCenterOfCanvas(a,d,c)},_containsCenterOfCanvas:function(c,a,d){return!!this.containsPoint({x:(c.x+a.x)/2,y:(c.y+a.y)/2},null,!0,d)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br;return!!this.intersectsWithRect(a,d,!0,c)||this.getCoords(!0,c).every(function(h){return(h.x>=d.x||h.x<=a.x)&&(h.y>=d.y||h.y<=a.y)})&&this._containsCenterOfCanvas(a,d,c)},_getImageLines:function(c){return{topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}}},_findCrossPoints:function(c,a){var g,h,m,b,y,v=0;for(var M in a)if(!((y=a[M]).o.y<c.y&&y.d.y<c.y||y.o.y>=c.y&&y.d.y>=c.y||(y.o.x===y.d.x&&y.o.x>=c.x?b=y.o.x:(g=(y.d.y-y.o.y)/(y.d.x-y.o.x),h=c.y-0*c.x,m=y.o.y-g*y.o.x,b=-(h-m)/(0-g)),b>=c.x&&(v+=1),2!==v)))break;return v},getBoundingRect:function(c,a){var d=this.getCoords(c,a);return p.makeBoundingBoxFromPoints(d)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:0===c?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,a){var d=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(c/this.width/d)},scaleToHeight:function(c,a){var d=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(c/this.height/d)},calcLineCoords:function(){var c=this.getViewportTransform(),a=this.padding,d=f(this.angle),m=p.cos(d)*a,b=p.sin(d)*a,v=m+b,y=m-b,M=this.calcACoords(),w={tl:l(M.tl,c),tr:l(M.tr,c),bl:l(M.bl,c),br:l(M.br,c)};return a&&(w.tl.x-=y,w.tl.y-=v,w.tr.x+=v,w.tr.y-=y,w.bl.x-=v,w.bl.y+=y,w.br.x+=y,w.br.y+=v),w},calcOCoords:function(){var c=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),d=this.getViewportTransform(),g=u(d,a),h=u(g,c),m=(h=u(h,[1/d[0],0,0,1/d[3],0,0]),this._calculateCurrentDimensions()),b={};return this.forEachControl(function(v,y,M){b[y]=v.positionHandler(m,h,M)}),b},calcACoords:function(){var c=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),d=u(a,c),g=this._getTransformedDimensions(),h=g.x/2,m=g.y/2;return{tl:l({x:-h,y:-m},d),tr:l({x:h,y:-m},d),bl:l({x:-h,y:m},d),br:l({x:h,y:m},d)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return p.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var a="_",d="";return!c&&this.group&&(d=this.group.transformMatrixKey(c)+a),d+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var a=this.calcOwnMatrix();if(c||!this.group)return a;var d=this.transformMatrixKey(c),g=this.matrixCache||(this.matrixCache={});return g.key===d?g.value:(this.group&&(a=u(this.group.calcTransformMatrix(!1),a)),g.key=d,g.value=a,a)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===c)return a.value;var d=this._calcTranslateMatrix(),g={angle:this.angle,translateX:d[4],translateY:d[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=c,a.value=p.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth;return{x:this.width+c,y:this.height+c}},_getTransformedDimensions:function(c,a){typeof c>"u"&&(c=this.skewX),typeof a>"u"&&(a=this.skewY);var d,g,h,m=0===c&&0===a;if(this.strokeUniform?(g=this.width,h=this.height):(g=(d=this._getNonTransformedDimensions()).x,h=d.y),m)return this._finalizeDimensions(g*this.scaleX,h*this.scaleY);var b=p.sizeAfterTransform(g,h,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:a});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(c,a){return this.strokeUniform?{x:c+this.strokeWidth,y:a+this.strokeWidth}:{x:c,y:a}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),a=this._getTransformedDimensions();return l(a,c,!0).scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(_){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,_):this.canvas&&this.canvas.sendBackwards(this,_),this},bringForward:function(_){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,_):this.canvas&&this.canvas.bringForward(this,_),this},moveTo:function(_){return this.group&&"activeSelection"!==this.group.type?C.StaticCanvas.prototype.moveTo.call(this.group,this,_):this.canvas&&this.canvas.moveTo(this,_),this}}),function(){function _(f,u){if(u){if(u.toLive)return f+": url(#SVGID_"+u.id+"); ";var l=new C.Color(u),c=f+": "+l.toRgb()+"; ",a=l.getAlpha();return 1!==a&&(c+=f+"-opacity: "+a.toString()+"; "),c}return f+": none; "}var p=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(f){var u=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",d=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",v=f?"":this.getSvgFilter(),y=_("fill",this.fill);return[_("stroke",this.stroke),"stroke-width: ",l,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",d,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",h,"; ",y,"fill-rule: ",u,"; ","opacity: ",m,";",v,b].join("")},getSvgSpanStyles:function(f,u){var l="; ",a=f.fontFamily?"font-family: "+(-1===f.fontFamily.indexOf("'")&&-1===f.fontFamily.indexOf('"')?"'"+f.fontFamily+"'":f.fontFamily)+l:"",c=f.strokeWidth?"stroke-width: "+f.strokeWidth+l:"",d=f.fontSize?"font-size: "+f.fontSize+"px"+l:"",g=f.fontStyle?"font-style: "+f.fontStyle+l:"",h=f.fontWeight?"font-weight: "+f.fontWeight+l:"",m=f.fill?_("fill",f.fill):"",b=f.stroke?_("stroke",f.stroke):"",v=this.getSvgTextDecoration(f);return v&&(v="text-decoration: "+v+l),[b,c,a,d,g,h,v,m,f.deltaY?"baseline-shift: "+-f.deltaY+"; ":"",u?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(f){return["overline","underline","line-through"].filter(function(u){return f[u.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(f,u){var l=f?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+C.util.matrixToSVG(l)+(u||"")+'" '},_setSVGBg:function(f){if(this.backgroundColor){var u=C.Object.NUM_FRACTION_DIGITS;f.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',p(-this.width/2,u),'" y="',p(-this.height/2,u),'" width="',p(this.width,u),'" height="',p(this.height,u),'"></rect>\n')}},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})},toClipPathSVG:function(f){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})},_createBaseClipPathSVGMarkup:function(f,u){var l=(u=u||{}).reviver,a=[this.getSvgTransform(!0,u.additionalTransform||""),this.getSvgCommons()].join(""),d=f.indexOf("COMMON_PARTS");return f[d]=a,l?l(f.join("")):f.join("")},_createBaseSVGMarkup:function(f,u){var M,E,l=(u=u||{}).noStyle,c=u.reviver,a=l?"":'style="'+this.getSvgStyles()+'" ',d=u.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=g&&g.absolutePositioned,b=this.stroke,v=this.fill,y=this.shadow,w=[],Z=f.indexOf("COMMON_PARTS"),U=u.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+C.Object.__uid++,E='<clipPath id="'+g.clipPathId+'" >\n'+g.toClipPathSVG(c)+"</clipPath>\n"),m&&w.push("<g ",d,this.getSvgCommons()," >\n"),w.push("<g ",this.getSvgTransform(!1),m?"":d+this.getSvgCommons()," >\n"),M=[a,h,l?"":this.addPaintOrder()," ",U?'transform="'+U+'" ':""].join(""),f[Z]=M,v&&v.toLive&&w.push(v.toSVG(this)),b&&b.toLive&&w.push(b.toSVG(this)),y&&w.push(y.toSVG(this)),g&&w.push(E),w.push(f.join("")),w.push("</g>\n"),m&&w.push("</g>\n"),c?c(w.join("")):w.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var _=C.util.object.extend,p="stateProperties";function f(l,c,a){var d={};a.forEach(function(h){d[h]=l[h]}),_(l[c],d,!0)}function u(l,c,a){if(l===c)return!0;if(Array.isArray(l)){if(!Array.isArray(c)||l.length!==c.length)return!1;for(var d=0,g=l.length;d<g;d++)if(!u(l[d],c[d]))return!1;return!0}if(l&&"object"==typeof l){var m,h=Object.keys(l);if(!c||"object"!=typeof c||!a&&h.length!==Object.keys(c).length)return!1;for(d=0,g=h.length;d<g;d++)if("canvas"!==(m=h[d])&&"group"!==m&&!u(l[m],c[m]))return!1;return!0}}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(l){var c="_"+(l=l||p);return Object.keys(this[c]).length<this[l].length||!u(this[c],this,!0)},saveState:function(l){var c=l&&l.propertySet||p,a="_"+c;return this[a]?(f(this,a,this[c]),l&&l.stateProperties&&f(this,a,l.stateProperties),this):this.setupState(l)},setupState:function(l){var c=(l=l||{}).propertySet||p;return l.propertySet=c,this["_"+c]={},this.saveState(l),this}})}(),function(){var _=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_findTargetCorner:function(p,f){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var c,a,h,u=p.x,l=p.y,d=Object.keys(this.oCoords),g=d.length-1;for(this.__corner=0;g>=0;g--)if(this.isControlVisible(h=d[g])&&(a=this._getImageLines(f?this.oCoords[h].touchCorner:this.oCoords[h].corner),0!==(c=this._findCrossPoints({x:u,y:l},a))&&c%2==1))return this.__corner=h,h;return!1},forEachControl:function(p){for(var f in this.controls)p(this.controls[f],f,this)},_setCornerCoords:function(){var p=this.oCoords;for(var f in p){var u=this.controls[f];p[f].corner=u.calcCornerCoords(this.angle,this.cornerSize,p[f].x,p[f].y,!1),p[f].touchCorner=u.calcCornerCoords(this.angle,this.touchCornerSize,p[f].x,p[f].y,!0)}},drawSelectionBackground:function(p){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;p.save();var f=this.getCenterPoint(),u=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return p.translate(f.x,f.y),p.scale(1/l[0],1/l[3]),p.rotate(_(this.angle)),p.fillStyle=this.selectionBackgroundColor,p.fillRect(-u.x/2,-u.y/2,u.x,u.y),p.restore(),this},drawBorders:function(p,f){f=f||{};var u=this._calculateCurrentDimensions(),l=this.borderScaleFactor,c=u.x+l,a=u.y+l,d=typeof f.hasControls<"u"?f.hasControls:this.hasControls,g=!1;return p.save(),p.strokeStyle=f.borderColor||this.borderColor,this._setLineDash(p,f.borderDashArray||this.borderDashArray),p.strokeRect(-c/2,-a/2,c,a),d&&(p.beginPath(),this.forEachControl(function(h,m,b){h.withConnection&&h.getVisibility(b,m)&&(g=!0,p.moveTo(h.x*c,h.y*a),p.lineTo(h.x*c+h.offsetX,h.y*a+h.offsetY))}),g&&p.stroke()),p.restore(),this},drawBordersInGroup:function(p,f,u){u=u||{};var l=C.util.sizeAfterTransform(this.width,this.height,f),c=this.strokeWidth,a=this.strokeUniform,d=this.borderScaleFactor,g=l.x+c*(a?this.canvas.getZoom():f.scaleX)+d,h=l.y+c*(a?this.canvas.getZoom():f.scaleY)+d;return p.save(),this._setLineDash(p,u.borderDashArray||this.borderDashArray),p.strokeStyle=u.borderColor||this.borderColor,p.strokeRect(-g/2,-h/2,g,h),p.restore(),this},drawControls:function(p,f){f=f||{},p.save();var l,c,u=this.canvas.getRetinaScaling();return p.setTransform(u,0,0,u,0,0),p.strokeStyle=p.fillStyle=f.cornerColor||this.cornerColor,this.transparentCorners||(p.strokeStyle=f.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(p,f.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(a,d,g){c=g.oCoords[d],a.getVisibility(g,d)&&(l&&(c=C.util.transformPoint(c,l)),a.render(p,c.x,c.y,f,g))}),p.restore(),this},isControlVisible:function(p){return this.controls[p]&&this.controls[p].getVisibility(this,p)},setControlVisible:function(p,f){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[p]=f,this},setControlsVisibility:function(p){for(var f in p||(p={}),p)this.setControlVisible(f,p[f]);return this},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(_,p){var f=function(){},u=(p=p||{}).onComplete||f,l=p.onChange||f,c=this;return C.util.animate({target:this,startValue:_.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){_.set("left",a),c.requestRenderAll(),l()},onComplete:function(){_.setCoords(),u()}})},fxCenterObjectV:function(_,p){var f=function(){},u=(p=p||{}).onComplete||f,l=p.onChange||f,c=this;return C.util.animate({target:this,startValue:_.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){_.set("top",a),c.requestRenderAll(),l()},onComplete:function(){_.setCoords(),u()}})},fxRemove:function(_,p){var f=function(){},u=(p=p||{}).onComplete||f,l=p.onChange||f,c=this;return C.util.animate({target:this,startValue:_.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){_.set("opacity",a),c.requestRenderAll(),l()},onComplete:function(){c.remove(_),u()}})}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var p,_=[],u=[];for(p in arguments[0])_.push(p);for(var l=0,c=_.length;l<c;l++)u.push(this._animate(p=_[l],arguments[0][p],arguments[1],l!==c-1));return u}return this._animate.apply(this,arguments)},_animate:function(_,p,f,u){var c,l=this;p=p.toString(),f=f?C.util.object.clone(f):{},~_.indexOf(".")&&(c=_.split("."));var a=l.colorProperties.indexOf(_)>-1||c&&l.colorProperties.indexOf(c[1])>-1,d=c?this.get(c[0])[c[1]]:this.get(_);"from"in f||(f.from=d),a||(p=~p.indexOf("=")?d+parseFloat(p.replace("=","")):parseFloat(p));var g={target:this,startValue:f.from,endValue:p,byValue:f.by,easing:f.easing,duration:f.duration,abort:f.abort&&function(h,m,b){return f.abort.call(l,h,m,b)},onChange:function(h,m,b){c?l[c[0]][c[1]]=h:l.set(_,h),!u&&f.onChange&&f.onChange(h,m,b)},onComplete:function(h,m,b){u||(l.setCoords(),f.onComplete&&f.onComplete(h,m,b))}};return a?C.util.animateColor(g.startValue,g.endValue,g.duration,g):C.util.animate(g)}}),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};function c(a,d){var g=a.origin,h=a.axis1,m=a.axis2,b=a.dimension,v=d.nearest,y=d.center,M=d.farthest;return function(){switch(this.get(g)){case v:return Math.min(this.get(h),this.get(m));case y:return Math.min(this.get(h),this.get(m))+.5*this.get(b);case M:return Math.max(this.get(h),this.get(m))}}}p.Line?p.warn("fabric.Line is already defined"):(p.Line=p.util.createClass(p.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:p.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,d){a||(a=[0,0,0,0]),this.callSuper("initialize",d),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(d)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,d){return this.callSuper("_set",a,d),typeof l[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var d=this.calcLinePoints();a.moveTo(d.x1,d.y1),a.lineTo(d.x2,d.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return f(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(a.y-=this.strokeWidth),0===this.height&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,d=this.y1<=this.y2?-1:1;return{x1:a*this.width*.5,x2:a*this.width*-.5,y1:d*this.height*.5,y2:d*this.height*-.5}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'" />\n']}}),p.Line.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),p.Line.fromElement=function(a,d,g){g=g||{};var h=p.parseAttributes(a,p.Line.ATTRIBUTE_NAMES);d(new p.Line([h.x1||0,h.y1||0,h.x2||0,h.y2||0],f(h,g)))},p.Line.fromObject=function(a,d){var h=u(a,!0);h.points=[a.x1,a.y1,a.x2,a.y2],p.Object._fromObject("Line",h,function g(m){delete m.points,d&&d(m)},"points")})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.degreesToRadians;p.Circle?p.warn("fabric.Circle is already defined."):(p.Circle=p.util.createClass(p.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:p.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,c){return this.callSuper("_set",l,c),"radius"===l&&this.setRadius(c),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,d=(this.endAngle-this.startAngle)%360;if(0===d)l=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var g=f(this.startAngle),h=f(this.endAngle),m=this.radius;l=['<path d="M '+p.util.cos(g)*m+" "+p.util.sin(g)*m," A "+m+" "+m," 0 ",+(d>180?"1":"0")+" 1"," "+p.util.cos(h)*m+" "+p.util.sin(h)*m,'" ',"COMMON_PARTS"," />\n"]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,f(this.startAngle),f(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",2*l).set("height",2*l)}}),p.Circle.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),p.Circle.fromElement=function(l,c){var a=p.parseAttributes(l,p.Circle.ATTRIBUTE_NAMES);if(!function u(l){return"radius"in l&&l.radius>=0}(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,c(new p.Circle(a))},p.Circle.fromObject=function(l,c){p.Object._fromObject("Circle",l,c)})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={});p.Triangle?p.warn("fabric.Triangle is already defined"):(p.Triangle=p.util.createClass(p.Object,{type:"triangle",width:100,height:100,_render:function(f){var u=this.width/2,l=this.height/2;f.beginPath(),f.moveTo(-u,l),f.lineTo(0,-l),f.lineTo(u,l),f.closePath(),this._renderPaintInOrder(f)},_toSVG:function(){var f=this.width/2,u=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-f+" "+u,"0 "+-u,f+" "+u].join(","),'" />']}}),p.Triangle.fromObject=function(f,u){return p.Object._fromObject("Triangle",f,u)})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=2*Math.PI;p.Ellipse?p.warn("fabric.Ellipse is already defined."):(p.Ellipse=p.util.createClass(p.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:p.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this.set("rx",u&&u.rx||0),this.set("ry",u&&u.ry||0)},_set:function(u,l){switch(this.callSuper("_set",u,l),u){case"rx":this.rx=l,this.set("width",2*l);break;case"ry":this.ry=l,this.set("height",2*l)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(u){u.beginPath(),u.save(),u.transform(1,0,0,this.ry/this.rx,0,0),u.arc(0,0,this.rx,0,f,!1),u.restore(),this._renderPaintInOrder(u)}}),p.Ellipse.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),p.Ellipse.fromElement=function(u,l){var c=p.parseAttributes(u,p.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,l(new p.Ellipse(c))},p.Ellipse.fromObject=function(u,l){p.Object._fromObject("Ellipse",u,l)})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend;p.Rect?p.warn("fabric.Rect is already defined"):(p.Rect=p.util.createClass(p.Object,{stateProperties:p.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:p.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(u){var l=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,d=this.height,g=-this.width/2,h=-this.height/2,m=0!==l||0!==c,b=.4477152502;u.beginPath(),u.moveTo(g+l,h),u.lineTo(g+a-l,h),m&&u.bezierCurveTo(g+a-b*l,h,g+a,h+b*c,g+a,h+c),u.lineTo(g+a,h+d-c),m&&u.bezierCurveTo(g+a,h+d-b*c,g+a-b*l,h+d,g+a-l,h+d),u.lineTo(g+l,h+d),m&&u.bezierCurveTo(g+b*l,h+d,g,h+d-b*c,g,h+d-c),u.lineTo(g,h+c),m&&u.bezierCurveTo(g,h+b*c,g+b*l,h,g+l,h),u.closePath(),this._renderPaintInOrder(u)},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),p.Rect.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),p.Rect.fromElement=function(u,l,c){if(!u)return l(null);c=c||{};var a=p.parseAttributes(u,p.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var d=new p.Rect(f(c?p.util.object.clone(c):{},a));d.visible=d.visible&&d.width>0&&d.height>0,l(d)},p.Rect.fromObject=function(u,l){return p.Object._fromObject("Rect",u,l)})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.util.array.min,l=p.util.array.max,c=p.util.toFixed,a=p.util.projectStrokeOnPoints;p.Polyline?p.warn("fabric.Polyline is already defined"):(p.Polyline=p.util.createClass(p.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:p.Object.prototype.cacheProperties.concat("points"),initialize:function(d,g){g=g||{},this.points=d||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(d){var h,g=this._calcDimensions(d),m=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-m,this.height=g.height-m,d.fromSVG||(h=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+m/2,y:g.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof d.left>"u"&&(this.left=d.fromSVG?g.left:h.x),typeof d.top>"u"&&(this.top=d.fromSVG?g.top:h.y),this.pathOffset={x:g.left+this.width/2+m/2,y:g.top+this.height/2+m/2}},_calcDimensions:function(){var d=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=u(d,"x")||0,h=u(d,"y")||0;return{left:g,top:h,width:(l(d,"x")||0)-g,height:(l(d,"y")||0)-h}},toObject:function(d){return f(this.callSuper("toObject",d),{points:this.points.concat()})},_toSVG:function(){for(var d=[],g=this.pathOffset.x,h=this.pathOffset.y,m=p.Object.NUM_FRACTION_DIGITS,b=0,v=this.points.length;b<v;b++)d.push(c(this.points[b].x-g,m),",",c(this.points[b].y-h,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',d.join(""),'" />\n']},commonRender:function(d){var g,h=this.points.length,m=this.pathOffset.x,b=this.pathOffset.y;if(!h||isNaN(this.points[h-1].y))return!1;d.beginPath(),d.moveTo(this.points[0].x-m,this.points[0].y-b);for(var v=0;v<h;v++)d.lineTo((g=this.points[v]).x-m,g.y-b);return!0},_render:function(d){!this.commonRender(d)||this._renderPaintInOrder(d)},complexity:function(){return this.get("points").length}}),p.Polyline.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat(),p.Polyline.fromElementGenerator=function(d){return function(g,h,m){if(!g)return h(null);m||(m={});var b=p.parsePointsAttribute(g.getAttribute("points")),v=p.parseAttributes(g,p[d].ATTRIBUTE_NAMES);v.fromSVG=!0,h(new p[d](b,f(v,m)))}},p.Polyline.fromElement=p.Polyline.fromElementGenerator("Polyline"),p.Polyline.fromObject=function(d,g){return p.Object._fromObject("Polyline",d,g,"points")})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.projectStrokeOnPoints;p.Polygon?p.warn("fabric.Polygon is already defined"):(p.Polygon=p.util.createClass(p.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return f(this.points,this)},_render:function(u){!this.commonRender(u)||(u.closePath(),this._renderPaintInOrder(u))}}),p.Polygon.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat(),p.Polygon.fromElement=p.Polyline.fromElementGenerator("Polygon"),p.Polygon.fromObject=function(u,l){p.Object._fromObject("Polygon",u,l,"points")})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.array.min,u=p.util.array.max,l=p.util.object.extend,c=p.util.object.clone,a=p.util.toFixed;p.Path?p.warn("fabric.Path is already defined"):(p.Path=p.util.createClass(p.Object,{type:"path",path:null,cacheProperties:p.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:p.Object.prototype.stateProperties.concat("path"),initialize:function(d,g){delete(g=c(g||{})).path,this.callSuper("initialize",g),this._setPath(d||[],g)},_setPath:function(d,g){this.path=p.util.makePathSimpler(Array.isArray(d)?d:p.util.parsePath(d)),p.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(d){var g,h=0,m=0,b=0,v=0,w=-this.pathOffset.x,E=-this.pathOffset.y;d.beginPath();for(var Z=0,U=this.path.length;Z<U;++Z)switch(g=this.path[Z],g[0]){case"L":d.lineTo((b=g[1])+w,(v=g[2])+E);break;case"M":h=b=g[1],m=v=g[2],d.moveTo(b+w,v+E);break;case"C":d.bezierCurveTo(g[1]+w,g[2]+E,g[3]+w,g[4]+E,(b=g[5])+w,(v=g[6])+E);break;case"Q":d.quadraticCurveTo(g[1]+w,g[2]+E,g[3]+w,g[4]+E),b=g[3],v=g[4];break;case"z":case"Z":b=h,v=m,d.closePath()}},_render:function(d){this._renderPathCommands(d),this._renderPaintInOrder(d)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(d){return l(this.callSuper("toObject",d),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(d){var g=this.toObject(["sourcePath"].concat(d));return g.sourcePath&&delete g.path,g},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',p.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var d=p.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,d)+", "+a(-this.pathOffset.y,d)+")"},toClipPathSVG:function(d){var g=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:g})},toSVG:function(d){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var h,M,d=[],g=[],m=0,b=0,v=0,y=0,w=0,E=this.path.length;w<E;++w){switch((h=this.path[w])[0]){case"L":v=h[1],y=h[2],M=[];break;case"M":m=v=h[1],b=y=h[2],M=[];break;case"C":M=p.util.getBoundsOfCurve(v,y,h[1],h[2],h[3],h[4],h[5],h[6]),v=h[5],y=h[6];break;case"Q":M=p.util.getBoundsOfCurve(v,y,h[1],h[2],h[1],h[2],h[3],h[4]),v=h[3],y=h[4];break;case"z":case"Z":v=m,y=b}M.forEach(function(ue){d.push(ue.x),g.push(ue.y)}),d.push(v),g.push(y)}var Z=f(d)||0,U=f(g)||0;return{left:Z,top:U,width:(u(d)||0)-Z,height:(u(g)||0)-U}}}),p.Path.fromObject=function(d,g){"string"==typeof d.sourcePath?p.loadSVGFromURL(d.sourcePath,function(m){var b=m[0];b.setOptions(d),d.clipPath?p.util.enlivenObjects([d.clipPath],function(v){b.clipPath=v[0],g&&g(b)}):g&&g(b)}):p.Object._fromObject("Path",d,g,"path")},p.Path.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat(["d"]),p.Path.fromElement=function(d,g,h){var m=p.parseAttributes(d,p.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,g(new p.Path(m.d,l(m,h)))})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.array.min,u=p.util.array.max;p.Group||(p.Group=p.util.createClass(p.Object,p.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,c,a){c=c||{},this._objects=[],a&&this.callSuper("initialize",c),this._objects=l||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;if(a)this._updateObjectsACoords();else{var g=c&&c.centerPoint;void 0!==c.originX&&(this.originX=c.originX),void 0!==c.originY&&(this.originY=c.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var c=this._objects.length;c--;)this._objects[c].setCoords(!0)},_updateObjectsCoords:function(c){c=c||this.getCenterPoint();for(var a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],c)},_updateObjectCoords:function(l,c){l.set({left:l.left-c.x,top:l.top-c.y}),l.group=this,l.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var c=!!this.group;return this._restoreObjectsState(),p.util.resetObjectTransform(this),l&&(c&&p.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),p.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,c){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(l,c);if("canvas"===l)for(;a--;)this._objects[a]._set(l,c);p.Object.prototype._set.call(this,l,c)},toObject:function(l){var c=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var h=g.includeDefaultValues;g.includeDefaultValues=c;var m=g.toObject(l);return g.includeDefaultValues=h,m}),d=p.Object.prototype.toObject.call(this,l);return d.objects=a,d},toDatalessObject:function(l){var c,a=this.sourcePath;if(a)c=a;else{var d=this.includeDefaultValues;c=this._objects.map(function(h){var m=h.includeDefaultValues;h.includeDefaultValues=d;var b=h.toDatalessObject(l);return h.includeDefaultValues=m,b})}var g=p.Object.prototype.toDatalessObject.call(this,l);return g.objects=c,g},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=p.Object.prototype.shouldCache.call(this);if(l)for(var c=0,a=this._objects.length;c<a;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1;return l},willDrawShadow:function(){if(p.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,c=this._objects.length;l<c;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var c=0,a=this._objects.length;c<a;c++)this._objects[c].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var c=0,a=this._objects.length;c<a;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var d=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-g/2,d,g)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(c){p.util.addTransformToObject(c,l),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,c=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var d=new p.ActiveSelection([]);return d.set(a),d.type="activeSelection",c.remove(this),l.forEach(function(g){g.group=d,g.dirty=!0,c.add(g)}),d.canvas=c,d._objects=l,c._activeObject=d,d.setCoords(),d}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(c){c.setCoords(!0)}),this},_calcBounds:function(l){for(var d,g,h,y,c=[],a=[],m=["tr","br","bl","tl"],b=0,v=this._objects.length,M=m.length;b<v;++b){for(h=(d=this._objects[b]).calcACoords(),y=0;y<M;y++)c.push(h[g=m[y]].x),a.push(h[g].y);d.aCoords=h}this._getBounds(c,a,l)},_getBounds:function(l,c,a){var d=new p.Point(f(l),f(c)),g=new p.Point(u(l),u(c)),h=d.y||0,m=d.x||0,v=g.y-d.y||0;this.width=g.x-d.x||0,this.height=v,a||this.setPositionByOrigin({x:m,y:h},"left","top")},_toSVG:function(l){for(var c=["<g ","COMMON_PARTS"," >\n"],a=0,d=this._objects.length;a<d;a++)c.push("\t\t",this._objects[a].toSVG(l));return c.push("</g>\n"),c},getSvgStyles:function(){var c=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),c].join("")},toClipPathSVG:function(l){for(var c=[],a=0,d=this._objects.length;a<d;a++)c.push("\t",this._objects[a].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(c,{reviver:l})}}),p.Group.fromObject=function(l,c){var a=l.objects,d=p.util.object.clone(l,!0);delete d.objects,"string"!=typeof a?p.util.enlivenObjects(a,function(g){p.util.enlivenObjectEnlivables(l,d,function(){c&&c(new p.Group(g,d,!0))})}):p.loadSVGFromURL(a,function(g){var h=p.util.groupSVGElements(g,l,a),m=d.clipPath;delete d.clipPath,h.set(d),m?p.util.enlivenObjects([m],function(b){h.clipPath=b[0],c&&c(h)}):c&&c(h)})})}(G),function(_){"use strict";var p=_.fabric||(_.fabric={});p.ActiveSelection||(p.ActiveSelection=p.util.createClass(p.Group,{type:"activeSelection",initialize:function(f,u){u=u||{},this._objects=f||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;u.originX&&(this.originX=u.originX),u.originY&&(this.originY=u.originY),this._calcBounds(),this._updateObjectsCoords(),p.Object.prototype.initialize.call(this,u),this.setCoords()},toGroup:function(){var f=this._objects.concat();this._objects=[];var u=p.Object.prototype.toObject.call(this),l=new p.Group([]);if(delete u.type,l.set(u),f.forEach(function(a){a.canvas.remove(a),a.group=l}),l._objects=f,!this.canvas)return l;var c=this.canvas;return c.add(l),c._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(f,u,l){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",f,u),typeof(l=l||{}).hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var c=0,a=this._objects.length;c<a;c++)this._objects[c]._renderControls(f,l);f.restore()}}),p.ActiveSelection.fromObject=function(f,u){p.util.enlivenObjects(f.objects,function(l){delete f.objects,u&&u(new p.ActiveSelection(l,f,!0))})})}(G),function(_){"use strict";var p=C.util.object.extend;_.fabric||(_.fabric={}),_.fabric.Image?C.warn("fabric.Image is already defined."):(C.Image=C.util.createClass(C.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:C.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(f,u){u||(u={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",u),this._initElement(f,u)},getElement:function(){return this._element||{}},setElement:function(f,u){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=f,this._originalElement=f,this._initConfig(u),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(f){var u=C.filterBackend;u&&u.evictCachesForKey&&u.evictCachesForKey(f)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(f){C.util.cleanUpJsdomNode(this[f]),this[f]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var f=this.getElement();return{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}},_stroke:function(f){if(this.stroke&&0!==this.strokeWidth){var u=this.width/2,l=this.height/2;f.beginPath(),f.moveTo(-u,-l),f.lineTo(u,-l),f.lineTo(u,l),f.lineTo(-u,l),f.lineTo(-u,-l),f.closePath()}},toObject:function(f){var u=[];this.filters.forEach(function(c){c&&u.push(c.toObject())});var l=p(this.callSuper("toObject",["cropX","cropY"].concat(f)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:u});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var l,f=[],u=[],c=this._element,a=-this.width/2,d=-this.height/2,g="",h="";if(!c)return[];if(this.hasCrop()){var m=C.Object.__uid++;f.push('<clipPath id="imageCrop_'+m+'">\n','\t<rect x="'+a+'" y="'+d+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),g=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(h='" image-rendering="optimizeSpeed'),u.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',d-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,h,'"',g,"></image>\n"),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,l=["\t<rect ",'x="',a,'" y="',d,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=b}return"fill"!==this.paintFirst?f.concat(l,u):f.concat(u,l)},getSrc:function(f){var u=f?this._element:this._originalElement;return u?u.toDataURL?u.toDataURL():this.srcFromAttribute?u.getAttribute("src"):u.src:this.src||""},setSrc:function(f,u,l){return C.util.loadImage(f,function(c,a){this.setElement(c,l),this._setWidthHeight(),u&&u(this,a)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var f=this.resizeFilter,u=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),c=l.scaleX,a=l.scaleY,d=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||c>u&&a>u)return this._element=d,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,void(this._lastScaleY=a);C.filterBackend||(C.filterBackend=C.initFilterBackend());var g=C.util.createCanvasElement(),h=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=d.width,b=d.height;g.width=m,g.height=b,this._element=g,this._lastScaleX=f.scaleX=c,this._lastScaleY=f.scaleY=a,C.filterBackend.applyFilters([f],d,m,b,this._element,h),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(f){if(f=(f=f||this.filters||[]).filter(function(d){return d&&!d.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===f.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var u=this._originalElement,l=u.naturalWidth||u.width,c=u.naturalHeight||u.height;if(this._element===this._originalElement){var a=C.util.createCanvasElement();a.width=l,a.height=c,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,c),this._lastScaleX=1,this._lastScaleY=1;return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(f,this._originalElement,l,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(f){C.util.setImageSmoothing(f,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)},drawCacheOnCanvas:function(f){C.util.setImageSmoothing(f,this.imageSmoothing),C.Object.prototype.drawCacheOnCanvas.call(this,f)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(f){var u=this._element;if(u){var l=this._filterScalingX,c=this._filterScalingY,a=this.width,d=this.height,g=Math.min,h=Math.max,m=h(this.cropX,0),b=h(this.cropY,0),v=u.naturalWidth||u.width,y=u.naturalHeight||u.height,M=m*l,w=b*c,E=g(a*l,v-M),Z=g(d*c,y-w),U=-a/2,q=-d/2,Q=g(a,v/l-m),re=g(d,y/c-b);u&&f.drawImage(u,M,w,E,Z,U,q,Q,re)}},_needsResize:function(){var f=this.getTotalObjectScaling();return f.scaleX!==this._lastScaleX||f.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(f,u){this.setElement(C.util.getById(f),u),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(f){f||(f={}),this.setOptions(f),this._setWidthHeight(f)},_initFilters:function(f,u){f&&f.length?C.util.enlivenObjects(f,function(l){u&&u(l)},"fabric.Image.filters"):u&&u()},_setWidthHeight:function(f){f||(f={});var u=this.getElement();this.width=f.width||u.naturalWidth||u.width||0,this.height=f.height||u.naturalHeight||u.height||0},parsePreserveAspectRatioAttribute:function(){var b,f=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),u=this._element.width,l=this._element.height,c=1,a=1,d=0,g=0,h=0,m=0,v=this.width,y=this.height,M={width:v,height:y};return!f||"none"===f.alignX&&"none"===f.alignY?(c=v/u,a=y/l):("meet"===f.meetOrSlice&&(b=(v-u*(c=a=C.util.findScaleToFit(this._element,M)))/2,"Min"===f.alignX&&(d=-b),"Max"===f.alignX&&(d=b),b=(y-l*a)/2,"Min"===f.alignY&&(g=-b),"Max"===f.alignY&&(g=b)),"slice"===f.meetOrSlice&&(b=u-v/(c=a=C.util.findScaleToCover(this._element,M)),"Mid"===f.alignX&&(h=b/2),"Max"===f.alignX&&(h=b),b=l-y/a,"Mid"===f.alignY&&(m=b/2),"Max"===f.alignY&&(m=b),u=v/c,l=y/a)),{width:u,height:l,scaleX:c,scaleY:a,offsetLeft:d,offsetTop:g,cropX:h,cropY:m}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(f,u){var l=C.util.object.clone(f);C.util.loadImage(l.src,function(c,a){a?u&&u(null,!0):C.Image.prototype._initFilters.call(l,l.filters,function(d){l.filters=d||[],C.Image.prototype._initFilters.call(l,[l.resizeFilter],function(g){l.resizeFilter=g[0],C.util.enlivenObjectEnlivables(l,l,function(){var h=new C.Image(c,l);u(h,!1)})})})},null,l.crossOrigin)},C.Image.fromURL=function(f,u,l){C.util.loadImage(f,function(c,a){u&&u(new C.Image(c,l),a)},null,l&&l.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),C.Image.fromElement=function(f,u,l){var c=C.parseAttributes(f,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(c["xlink:href"],u,p(l?C.util.object.clone(l):{},c))})}(G),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var _=this.angle%360;return _>0?90*Math.round((_-1)/90):90*Math.round(_/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(_){var p=function(){},f=(_=_||{}).onComplete||p,u=_.onChange||p,l=this;return C.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){l.rotate(c),u()},onComplete:function(){l.setCoords(),f()}})}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(_){return _.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(_){return _.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function _(f,u){var l="precision "+u+" float;\nvoid main(){}",c=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(c,l),f.compileShader(c),!!f.getShaderParameter(c,f.COMPILE_STATUS)}function p(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}C.isWebglSupported=function(f){if(C.isLikelyNode)return!1;f=f||C.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),l=u.getContext("webgl")||u.getContext("experimental-webgl"),c=!1;if(l){C.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),c=C.maxTextureSize>=f;for(var a=["highp","mediump","lowp"],d=0;d<3;d++)if(_(l,a[d])){C.webGlPrecision=a[d];break}}return this.isSupported=c,c},C.WebglFilterBackend=p,p.prototype={tileSize:2048,resources:{},setupGLContext:function(f,u){this.dispose(),this.createWebGLCanvas(f,u),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(f,u)},chooseFastestCopyGLTo2DMethod:function(f,u){var c,l=typeof window.performance<"u";try{new ImageData(1,1),c=!0}catch{c=!1}var a=typeof ArrayBuffer<"u",d=typeof Uint8ClampedArray<"u";if(l&&c&&a&&d){var g=C.util.createCanvasElement(),h=new ArrayBuffer(f*u*4);if(C.forceGLPutImageData)return this.imageBuffer=h,void(this.copyGLTo2D=Y);var b,v,m={imageBuffer:h,destinationWidth:f,destinationHeight:u,targetCanvas:g};g.width=f,g.height=u,b=window.performance.now(),V.call(m,this.gl,m),v=window.performance.now()-b,b=window.performance.now(),Y.call(m,this.gl,m),v>window.performance.now()-b?(this.imageBuffer=h,this.copyGLTo2D=Y):this.copyGLTo2D=V}},createWebGLCanvas:function(f,u){var l=C.util.createCanvasElement();l.width=f,l.height=u;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=l.getContext("webgl",c);a||(a=l.getContext("experimental-webgl",c)),a&&(a.clearColor(0,0,0,0),this.canvas=l,this.gl=a)},applyFilters:function(f,u,l,c,a,d){var h,g=this.gl;d&&(h=this.getCachedTexture(d,u));var m={originalWidth:u.width||u.originalWidth,originalHeight:u.height||u.originalHeight,sourceWidth:l,sourceHeight:c,destinationWidth:l,destinationHeight:c,context:g,sourceTexture:this.createTexture(g,l,c,!h&&u),targetTexture:this.createTexture(g,l,c),originalTexture:h||this.createTexture(g,l,c,!h&&u),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},b=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,b),f.forEach(function(v){v&&v.applyTo(m)}),function D(_){var p=_.targetCanvas,l=_.destinationWidth,c=_.destinationHeight;(p.width!==l||p.height!==c)&&(p.width=l,p.height=c)}(m),this.copyGLTo2D(g,m),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(m.sourceTexture),g.deleteTexture(m.targetTexture),g.deleteFramebuffer(b),a.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(f,u,l,c,a){var d=f.createTexture();return f.bindTexture(f.TEXTURE_2D,d),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,a||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,a||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),c?f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,c):f.texImage2D(f.TEXTURE_2D,0,f.RGBA,u,l,0,f.RGBA,f.UNSIGNED_BYTE,null),d},getCachedTexture:function(f,u){if(this.textureCache[f])return this.textureCache[f];var l=this.createTexture(this.gl,u.width,u.height,u);return this.textureCache[f]=l,l},evictCachesForKey:function(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])},copyGLTo2D:V,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var f=this.gl,u={renderer:"",vendor:""};if(!f)return u;var l=f.getExtension("WEBGL_debug_renderer_info");if(l){var c=f.getParameter(l.UNMASKED_RENDERER_WEBGL),a=f.getParameter(l.UNMASKED_VENDOR_WEBGL);c&&(u.renderer=c.toLowerCase()),a&&(u.vendor=a.toLowerCase())}return this.gpuInfo=u,u}}}(),function(){"use strict";var _=function(){};function p(){}C.Canvas2dFilterBackend=p,p.prototype={evictCachesForKey:_,dispose:_,clearWebGLCaches:_,resources:{},applyFilters:function(f,u,l,c,a){var d=a.getContext("2d");d.drawImage(u,0,0,l,c);var m={sourceWidth:l,sourceHeight:c,imageData:d.getImageData(0,0,l,c),originalEl:u,originalImageData:d.getImageData(0,0,l,c),canvasEl:a,ctx:d,filterBackend:this};return f.forEach(function(b){b.applyTo(m)}),(m.imageData.width!==l||m.imageData.height!==c)&&(a.width=m.imageData.width,a.height=m.imageData.height),d.putImageData(m.imageData,0,0),m}}}(),C.Image=C.Image||{},C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(_){_&&this.setOptions(_)},setOptions:function(_){for(var p in _)this[p]=_[p]},createProgram:function(_,p,f){p=p||this.fragmentSource,f=f||this.vertexSource,"highp"!==C.webGlPrecision&&(p=p.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var u=_.createShader(_.VERTEX_SHADER);if(_.shaderSource(u,f),_.compileShader(u),!_.getShaderParameter(u,_.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+_.getShaderInfoLog(u));var l=_.createShader(_.FRAGMENT_SHADER);if(_.shaderSource(l,p),_.compileShader(l),!_.getShaderParameter(l,_.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+_.getShaderInfoLog(l));var c=_.createProgram();if(_.attachShader(c,u),_.attachShader(c,l),_.linkProgram(c),!_.getProgramParameter(c,_.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+_.getProgramInfoLog(c));var a=this.getAttributeLocations(_,c),d=this.getUniformLocations(_,c)||{};return d.uStepW=_.getUniformLocation(c,"uStepW"),d.uStepH=_.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:a,uniformLocations:d}},getAttributeLocations:function(_,p){return{aPosition:_.getAttribLocation(p,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(_,p,f){var u=p.aPosition,l=_.createBuffer();_.bindBuffer(_.ARRAY_BUFFER,l),_.enableVertexAttribArray(u),_.vertexAttribPointer(u,2,_.FLOAT,!1,0,0),_.bufferData(_.ARRAY_BUFFER,f,_.STATIC_DRAW)},_setupFrameBuffer:function(_){var f,u,p=_.context;_.passes>1?(u=_.destinationHeight,(_.sourceWidth!==(f=_.destinationWidth)||_.sourceHeight!==u)&&(p.deleteTexture(_.targetTexture),_.targetTexture=_.filterBackend.createTexture(p,f,u)),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,_.targetTexture,0)):(p.bindFramebuffer(p.FRAMEBUFFER,null),p.finish())},_swapTextures:function(_){_.passes--,_.pass++;var p=_.targetTexture;_.targetTexture=_.sourceTexture,_.sourceTexture=p},isNeutralState:function(){var _=this.mainParameter,p=C.Image.filters[this.type].prototype;if(_){if(Array.isArray(p[_])){for(var f=p[_].length;f--;)if(this[_][f]!==p[_][f])return!1;return!0}return p[_]===this[_]}return!1},applyTo:function(_){_.webgl?(this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_)):this.applyTo2d(_)},retrieveShader:function(_){return _.programCache.hasOwnProperty(this.type)||(_.programCache[this.type]=this.createProgram(_.context)),_.programCache[this.type]},applyToWebGL:function(_){var p=_.context,f=this.retrieveShader(_);p.bindTexture(p.TEXTURE_2D,0===_.pass&&_.originalTexture?_.originalTexture:_.sourceTexture),p.useProgram(f.program),this.sendAttributeData(p,f.attributeLocations,_.aPosition),p.uniform1f(f.uniformLocations.uStepW,1/_.sourceWidth),p.uniform1f(f.uniformLocations.uStepH,1/_.sourceHeight),this.sendUniformData(p,f.uniformLocations),p.viewport(0,0,_.destinationWidth,_.destinationHeight),p.drawArrays(p.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(_,p,f){_.activeTexture(f),_.bindTexture(_.TEXTURE_2D,p),_.activeTexture(_.TEXTURE0)},unbindAdditionalTexture:function(_,p){_.activeTexture(p),_.bindTexture(_.TEXTURE_2D,null),_.activeTexture(_.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(_){this[this.mainParameter]=_},sendUniformData:function(){},createHelpLayer:function(_){if(!_.helpLayer){var p=document.createElement("canvas");p.width=_.sourceWidth,p.height=_.sourceHeight,_.helpLayer=p}},toObject:function(){var _={type:this.type},p=this.mainParameter;return p&&(_[p]=this[p]),_},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(_,p){var f=new C.Image.filters[_.type](_);return p&&p(f),f},function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.ColorMatrix=(0,p.util.createClass)(f.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var h,m,b,v,y,a=l.imageData.data,d=a.length,g=this.matrix,M=this.colorsOnly;for(y=0;y<d;y+=4)h=a[y],m=a[y+1],b=a[y+2],M?(a[y]=h*g[0]+m*g[1]+b*g[2]+255*g[4],a[y+1]=h*g[5]+m*g[6]+b*g[7]+255*g[9],a[y+2]=h*g[10]+m*g[11]+b*g[12]+255*g[14]):(a[y]=h*g[0]+m*g[1]+b*g[2]+(v=a[y+3])*g[3]+255*g[4],a[y+1]=h*g[5]+m*g[6]+b*g[7]+v*g[8]+255*g[9],a[y+2]=h*g[10]+m*g[11]+b*g[12]+v*g[13]+255*g[14],a[y+3]=h*g[15]+m*g[16]+b*g[17]+v*g[18]+255*g[19])},getUniformLocations:function(l,c){return{uColorMatrix:l.getUniformLocation(c,"uColorMatrix"),uConstants:l.getUniformLocation(c,"uConstants")}},sendUniformData:function(l,c){var a=this.matrix,g=[a[4],a[9],a[14],a[19]];l.uniformMatrix4fv(c.uColorMatrix,!1,[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]]),l.uniform4fv(c.uConstants,g)}}),p.Image.filters.ColorMatrix.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Brightness=(0,p.util.createClass)(f.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(0!==this.brightness){var d,a=l.imageData.data,g=a.length,h=Math.round(255*this.brightness);for(d=0;d<g;d+=4)a[d]=a[d]+h,a[d+1]=a[d+1]+h,a[d+2]=a[d+2]+h}},getUniformLocations:function(l,c){return{uBrightness:l.getUniformLocation(c,"uBrightness")}},sendUniformData:function(l,c){l.uniform1f(c.uBrightness,this.brightness)}}),p.Image.filters.Brightness.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.Image.filters;u.Convolute=(0,p.util.createClass)(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(c){var a=Math.sqrt(this.matrix.length),d=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[d];return c.programCache.hasOwnProperty(d)||(c.programCache[d]=this.createProgram(c.context,g)),c.programCache[d]},applyTo2d:function(c){var E,Z,U,q,Q,re,le,ue,W,ce,pe,_e,B,a=c.imageData,d=a.data,g=this.matrix,h=Math.round(Math.sqrt(g.length)),m=Math.floor(h/2),b=a.width,v=a.height,y=c.ctx.createImageData(b,v),M=y.data,w=this.opaque?1:0;for(pe=0;pe<v;pe++)for(ce=0;ce<b;ce++){for(Q=4*(pe*b+ce),E=0,Z=0,U=0,q=0,B=0;B<h;B++)for(_e=0;_e<h;_e++)re=ce+_e-m,!((le=pe+B-m)<0||le>=v||re<0||re>=b)&&(E+=d[ue=4*(le*b+re)]*(W=g[B*h+_e]),Z+=d[ue+1]*W,U+=d[ue+2]*W,w||(q+=d[ue+3]*W));M[Q]=E,M[Q+1]=Z,M[Q+2]=U,M[Q+3]=w?d[Q+3]:q}c.imageData=y},getUniformLocations:function(c,a){return{uMatrix:c.getUniformLocation(a,"uMatrix"),uOpaque:c.getUniformLocation(a,"uOpaque"),uHalfSize:c.getUniformLocation(a,"uHalfSize"),uSize:c.getUniformLocation(a,"uSize")}},sendUniformData:function(c,a){c.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),p.Image.filters.Convolute.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Grayscale=(0,p.util.createClass)(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(l){var d,h,a=l.imageData.data,g=a.length,m=this.mode;for(d=0;d<g;d+=4)"average"===m?h=(a[d]+a[d+1]+a[d+2])/3:"lightness"===m?h=(Math.min(a[d],a[d+1],a[d+2])+Math.max(a[d],a[d+1],a[d+2]))/2:"luminosity"===m&&(h=.21*a[d]+.72*a[d+1]+.07*a[d+2]),a[d]=h,a[d+1]=h,a[d+2]=h},retrieveShader:function(l){var c=this.type+"_"+this.mode;return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,this.fragmentSource[this.mode])),l.programCache[c]},getUniformLocations:function(l,c){return{uMode:l.getUniformLocation(c,"uMode")}},sendUniformData:function(l,c){l.uniform1i(c.uMode,1)},isNeutralState:function(){return!1}}),p.Image.filters.Grayscale.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Invert=(0,p.util.createClass)(f.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(l){var d,a=l.imageData.data,g=a.length;for(d=0;d<g;d+=4)a[d]=255-a[d],a[d+1]=255-a[d+1],a[d+2]=255-a[d+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,c){return{uInvert:l.getUniformLocation(c,"uInvert")}},sendUniformData:function(l,c){l.uniform1i(c.uInvert,this.invert)}}),p.Image.filters.Invert.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.Image.filters;u.Noise=(0,p.util.createClass)(u.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(c){if(0!==this.noise){var g,h,b,d=c.imageData.data,m=this.noise;for(g=0,h=d.length;g<h;g+=4)b=(.5-Math.random())*m,d[g]+=b,d[g+1]+=b,d[g+2]+=b}},getUniformLocations:function(c,a){return{uNoise:c.getUniformLocation(a,"uNoise"),uSeed:c.getUniformLocation(a,"uSeed")}},sendUniformData:function(c,a){c.uniform1f(a.uNoise,this.noise/255),c.uniform1f(a.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),p.Image.filters.Noise.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Pixelate=(0,p.util.createClass)(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(l){var h,m,b,v,y,M,w,E,Z,U,q,c=l.imageData,a=c.data,d=c.height,g=c.width;for(m=0;m<d;m+=this.blocksize)for(b=0;b<g;b+=this.blocksize)for(v=a[h=4*m*g+4*b],y=a[h+1],M=a[h+2],w=a[h+3],U=Math.min(m+this.blocksize,d),q=Math.min(b+this.blocksize,g),E=m;E<U;E++)for(Z=b;Z<q;Z++)a[h=4*E*g+4*Z]=v,a[h+1]=y,a[h+2]=M,a[h+3]=w},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(l,c){return{uBlocksize:l.getUniformLocation(c,"uBlocksize"),uStepW:l.getUniformLocation(c,"uStepW"),uStepH:l.getUniformLocation(c,"uStepH")}},sendUniformData:function(l,c){l.uniform1f(c.uBlocksize,this.blocksize)}}),p.Image.filters.Pixelate.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.extend,u=p.Image.filters;u.RemoveColor=(0,p.util.createClass)(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(c){var g,m,b,v,d=c.imageData.data,h=255*this.distance,y=new p.Color(this.color).getSource(),M=[y[0]-h,y[1]-h,y[2]-h],w=[y[0]+h,y[1]+h,y[2]+h];for(g=0;g<d.length;g+=4)b=d[g+1],v=d[g+2],(m=d[g])>M[0]&&b>M[1]&&v>M[2]&&m<w[0]&&b<w[1]&&v<w[2]&&(d[g+3]=0)},getUniformLocations:function(c,a){return{uLow:c.getUniformLocation(a,"uLow"),uHigh:c.getUniformLocation(a,"uHigh")}},sendUniformData:function(c,a){var d=new p.Color(this.color).getSource(),g=parseFloat(this.distance),m=[d[0]/255+g,d[1]/255+g,d[2]/255+g,1];c.uniform4fv(a.uLow,[0+d[0]/255-g,0+d[1]/255-g,0+d[2]/255-g,1]),c.uniform4fv(a.uHigh,m)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),p.Image.filters.RemoveColor.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters,u=p.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in l)f[c]=u(f.ColorMatrix,{type:c,matrix:l[c],mainParameter:!1,colorsOnly:!0}),p.Image.filters[c].fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric,f=p.Image.filters;f.BlendColor=(0,p.util.createClass)(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(l){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[l]+"}\n}"},retrieveShader:function(l){var a,c=this.type+"_"+this.mode;return l.programCache.hasOwnProperty(c)||(a=this.buildSource(this.mode),l.programCache[c]=this.createProgram(l.context,a)),l.programCache[c]},applyTo2d:function(l){var g,h,m,b,v,y,M,a=l.imageData.data,d=a.length,w=1-this.alpha;g=(M=new p.Color(this.color).getSource())[0]*this.alpha,h=M[1]*this.alpha,m=M[2]*this.alpha;for(var E=0;E<d;E+=4)switch(b=a[E],v=a[E+1],y=a[E+2],this.mode){case"multiply":a[E]=b*g/255,a[E+1]=v*h/255,a[E+2]=y*m/255;break;case"screen":a[E]=255-(255-b)*(255-g)/255,a[E+1]=255-(255-v)*(255-h)/255,a[E+2]=255-(255-y)*(255-m)/255;break;case"add":a[E]=b+g,a[E+1]=v+h,a[E+2]=y+m;break;case"diff":case"difference":a[E]=Math.abs(b-g),a[E+1]=Math.abs(v-h),a[E+2]=Math.abs(y-m);break;case"subtract":a[E]=b-g,a[E+1]=v-h,a[E+2]=y-m;break;case"darken":a[E]=Math.min(b,g),a[E+1]=Math.min(v,h),a[E+2]=Math.min(y,m);break;case"lighten":a[E]=Math.max(b,g),a[E+1]=Math.max(v,h),a[E+2]=Math.max(y,m);break;case"overlay":a[E]=g<128?2*b*g/255:255-2*(255-b)*(255-g)/255,a[E+1]=h<128?2*v*h/255:255-2*(255-v)*(255-h)/255,a[E+2]=m<128?2*y*m/255:255-2*(255-y)*(255-m)/255;break;case"exclusion":a[E]=g+b-2*g*b/255,a[E+1]=h+v-2*h*v/255,a[E+2]=m+y-2*m*y/255;break;case"tint":a[E]=g+b*w,a[E+1]=h+v*w,a[E+2]=m+y*w}},getUniformLocations:function(l,c){return{uColor:l.getUniformLocation(c,"uColor")}},sendUniformData:function(l,c){var a=new p.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,l.uniform4fv(c.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),p.Image.filters.BlendColor.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric,f=p.Image.filters;f.BlendImage=(0,p.util.createClass)(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(l){var c=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,a)),l.programCache[c]},applyToWebGL:function(l){var c=l.context,a=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(c,a,c.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(l,c){return l.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var l=this.image;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/l._element.width,-l.top/l._element.height,1]},applyTo2d:function(l){var b,v,y,M,w,E,Z,U,q,Q,le,c=l.imageData,a=l.filterBackend.resources,d=c.data,g=d.length,h=c.width,m=c.height,re=this.image;a.blendImage||(a.blendImage=p.util.createCanvasElement()),Q=(q=a.blendImage).getContext("2d"),q.width!==h||q.height!==m?(q.width=h,q.height=m):Q.clearRect(0,0,h,m),Q.setTransform(re.scaleX,0,0,re.scaleY,re.left,re.top),Q.drawImage(re._element,0,0,h,m),le=Q.getImageData(0,0,h,m).data;for(var ue=0;ue<g;ue+=4)switch(w=d[ue],E=d[ue+1],Z=d[ue+2],U=d[ue+3],b=le[ue],v=le[ue+1],y=le[ue+2],M=le[ue+3],this.mode){case"multiply":d[ue]=w*b/255,d[ue+1]=E*v/255,d[ue+2]=Z*y/255,d[ue+3]=U*M/255;break;case"mask":d[ue+3]=M}},getUniformLocations:function(l,c){return{uTransformMatrix:l.getUniformLocation(c,"uTransformMatrix"),uImage:l.getUniformLocation(c,"uImage")}},sendUniformData:function(l,c){var a=this.calculateMatrix();l.uniform1i(c.uImage,1),l.uniformMatrix3fv(c.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),p.Image.filters.BlendImage.fromObject=function(l,c){p.Image.fromObject(l.image,function(a){var d=p.util.object.clone(l);d.image=a,c(new p.Image.filters.BlendImage(d))})}}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=Math.pow,u=Math.floor,l=Math.sqrt,c=Math.abs,a=Math.round,d=Math.sin,g=Math.ceil,h=p.Image.filters;h.Resize=(0,p.util.createClass)(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,v){return{uDelta:b.getUniformLocation(v,"uDelta"),uTaps:b.getUniformLocation(v,"uTaps")}},sendUniformData:function(b,v){b.uniform2fv(v.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(v.uTaps,this.taps)},retrieveShader:function(b){var v=this.getFilterWindow(),y=this.type+"_"+v;if(!b.programCache.hasOwnProperty(y)){var M=this.generateShader(v);b.programCache[y]=this.createProgram(b.context,M)}return b.programCache[y]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),v=this.tempScale,y=this.getFilterWindow(),M=new Array(y),w=1;w<=y;w++)M[w-1]=b(w*v);return M},generateShader:function(M){for(var v=new Array(M),y=this.fragmentSourceTOP,w=1;w<=M;w++)v[w-1]=w+".0 * uDelta";return y+="uniform float uTaps["+M+"];\n",y+="void main() {\n",y+="  vec4 color = texture2D(uTexture, vTexCoord);\n",y+="  float sum = 1.0;\n",v.forEach(function(E,Z){y+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+Z+"];\n",y+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+Z+"];\n",y+="  sum += 2.0 * uTaps["+Z+"];\n"}),y+="  gl_FragColor = color / sum;\n",y+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(b){return function(v){if(v>=b||v<=-b)return 0;if(v<1.1920929e-7&&v>-1.1920929e-7)return 1;var y=(v*=Math.PI)/b;return d(v)/v*d(y)/y}},applyTo2d:function(b){var v=b.imageData,y=this.scaleX,M=this.scaleY;this.rcpScaleX=1/y,this.rcpScaleY=1/M;var q,w=v.width,E=v.height,Z=a(w*y),U=a(E*M);"sliceHack"===this.resizeType?q=this.sliceByTwo(b,w,E,Z,U):"hermite"===this.resizeType?q=this.hermiteFastResize(b,w,E,Z,U):"bilinear"===this.resizeType?q=this.bilinearFiltering(b,w,E,Z,U):"lanczos"===this.resizeType&&(q=this.lanczosResize(b,w,E,Z,U)),b.imageData=q},sliceByTwo:function(b,v,y,M,w){var ue,W,E=b.imageData,Z=.5,U=!1,q=!1,Q=v*Z,re=y*Z,le=p.filterBackend.resources,ce=0,pe=0,_e=v,B=0;for(le.sliceByTwo||(le.sliceByTwo=document.createElement("canvas")),((ue=le.sliceByTwo).width<1.5*v||ue.height<y)&&(ue.width=1.5*v,ue.height=y),(W=ue.getContext("2d")).clearRect(0,0,1.5*v,y),W.putImageData(E,0,0),M=u(M),w=u(w);!U||!q;)v=Q,y=re,M<u(Q*Z)?Q=u(Q*Z):(Q=M,U=!0),w<u(re*Z)?re=u(re*Z):(re=w,q=!0),W.drawImage(ue,ce,pe,v,y,_e,B,Q,re),ce=_e,pe=B,B+=re;return W.getImageData(ce,pe,M,w)},lanczosResize:function(b,v,y,M,w){var Z=b.imageData.data,U=b.ctx.createImageData(M,w),q=U.data,Q=this.lanczosCreate(this.lanczosLobes),re=this.rcpScaleX,le=this.rcpScaleY,ue=2/this.rcpScaleX,W=2/this.rcpScaleY,ce=g(re*this.lanczosLobes/2),pe=g(le*this.lanczosLobes/2),_e={},B={},F={};return function E(k){var P,S,A,O,I,N,H,z,X,ee,de;for(B.x=(k+.5)*re,F.x=u(B.x),P=0;P<w;P++){for(B.y=(P+.5)*le,F.y=u(B.y),I=0,N=0,H=0,z=0,X=0,S=F.x-ce;S<=F.x+ce;S++)if(!(S<0||S>=v)){ee=u(1e3*c(S-B.x)),_e[ee]||(_e[ee]={});for(var ne=F.y-pe;ne<=F.y+pe;ne++)ne<0||ne>=y||(de=u(1e3*c(ne-B.y)),_e[ee][de]||(_e[ee][de]=Q(l(f(ee*ue,2)+f(de*W,2))/1e3)),(A=_e[ee][de])>0&&(I+=A,N+=A*Z[O=4*(ne*v+S)],H+=A*Z[O+1],z+=A*Z[O+2],X+=A*Z[O+3]))}q[O=4*(P*M+k)]=N/I,q[O+1]=H/I,q[O+2]=z/I,q[O+3]=X/I}return++k<M?E(k):U}(0)},bilinearFiltering:function(b,v,y,M,w){var Q,re,le,ue,W,ce,pe,F,B=0,k=this.rcpScaleX,P=this.rcpScaleY,S=4*(v-1),O=b.imageData.data,I=b.ctx.createImageData(M,w),N=I.data;for(le=0;le<w;le++)for(ue=0;ue<M;ue++)for(W=k*ue-(Q=u(k*ue)),ce=P*le-(re=u(P*le)),F=4*(re*v+Q),pe=0;pe<4;pe++)N[B++]=O[F+pe]*(1-W)*(1-ce)+O[F+4+pe]*W*(1-ce)+O[F+S+pe]*ce*(1-W)+O[F+S+4+pe]*W*ce;return I},hermiteFastResize:function(b,v,y,M,w){for(var E=this.rcpScaleX,Z=this.rcpScaleY,U=g(E/2),q=g(Z/2),re=b.imageData.data,le=b.ctx.createImageData(M,w),ue=le.data,W=0;W<w;W++)for(var ce=0;ce<M;ce++){for(var pe=4*(ce+W*M),_e=0,B=0,F=0,k=0,P=0,S=0,A=0,O=(W+.5)*Z,I=u(W*Z);I<(W+1)*Z;I++)for(var N=c(O-(I+.5))/q,H=(ce+.5)*E,z=N*N,X=u(ce*E);X<(ce+1)*E;X++){var ee=c(H-(X+.5))/U,de=l(z+ee*ee);de>1&&de<-1||(_e=2*de*de*de-3*de*de+1)>0&&(A+=_e*re[3+(ee=4*(X+I*v))],F+=_e,re[ee+3]<255&&(_e=_e*re[ee+3]/250),k+=_e*re[ee],P+=_e*re[ee+1],S+=_e*re[ee+2],B+=_e)}ue[pe]=k/B,ue[pe+1]=P/B,ue[pe+2]=S/B,ue[pe+3]=A/F}return le},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),p.Image.filters.Resize.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Contrast=(0,p.util.createClass)(f.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(0!==this.contrast){var a,d=l.imageData.data,g=d.length,h=Math.floor(255*this.contrast),m=259*(h+255)/(255*(259-h));for(a=0;a<g;a+=4)d[a]=m*(d[a]-128)+128,d[a+1]=m*(d[a+1]-128)+128,d[a+2]=m*(d[a+2]-128)+128}},getUniformLocations:function(l,c){return{uContrast:l.getUniformLocation(c,"uContrast")}},sendUniformData:function(l,c){l.uniform1f(c.uContrast,this.contrast)}}),p.Image.filters.Contrast.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Saturation=(0,p.util.createClass)(f.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(0!==this.saturation){var h,m,a=l.imageData.data,d=a.length,g=-this.saturation;for(h=0;h<d;h+=4)m=Math.max(a[h],a[h+1],a[h+2]),a[h]+=m!==a[h]?(m-a[h])*g:0,a[h+1]+=m!==a[h+1]?(m-a[h+1])*g:0,a[h+2]+=m!==a[h+2]?(m-a[h+2])*g:0}},getUniformLocations:function(l,c){return{uSaturation:l.getUniformLocation(c,"uSaturation")}},sendUniformData:function(l,c){l.uniform1f(c.uSaturation,-this.saturation)}}),p.Image.filters.Saturation.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Vibrance=(0,p.util.createClass)(f.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(0!==this.vibrance){var h,m,v,a=l.imageData.data,d=a.length,g=-this.vibrance;for(h=0;h<d;h+=4)m=Math.max(a[h],a[h+1],a[h+2]),v=2*Math.abs(m-(a[h]+a[h+1]+a[h+2])/3)/255*g,a[h]+=m!==a[h]?(m-a[h])*v:0,a[h+1]+=m!==a[h+1]?(m-a[h+1])*v:0,a[h+2]+=m!==a[h+2]?(m-a[h+2])*v:0}},getUniformLocations:function(l,c){return{uVibrance:l.getUniformLocation(c,"uVibrance")}},sendUniformData:function(l,c){l.uniform1f(c.uVibrance,-this.vibrance)}}),p.Image.filters.Vibrance.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Blur=(0,p.util.createClass)(f.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var a,d,c=l.filterBackend.resources,g=l.imageData.width,h=l.imageData.height;c.blurLayer1||(c.blurLayer1=p.util.createCanvasElement(),c.blurLayer2=p.util.createCanvasElement()),d=c.blurLayer2,((a=c.blurLayer1).width!==g||a.height!==h)&&(d.width=a.width=g,d.height=a.height=h);var y,M,w,E,m=a.getContext("2d"),b=d.getContext("2d"),v=15,Z=.06*this.blur*.5;for(m.putImageData(l.imageData,0,0),b.clearRect(0,0,g,h),E=-v;E<=v;E++)w=Z*(M=E/v)*g+(y=(Math.random()-.5)/4),b.globalAlpha=1-Math.abs(M),b.drawImage(a,w,y),m.drawImage(d,0,0),b.globalAlpha=1,b.clearRect(0,0,d.width,d.height);for(E=-v;E<=v;E++)w=Z*(M=E/v)*h+(y=(Math.random()-.5)/4),b.globalAlpha=1-Math.abs(M),b.drawImage(a,y,w),m.drawImage(d,0,0),b.globalAlpha=1,b.clearRect(0,0,d.width,d.height);l.ctx.drawImage(a,0,0);var U=l.ctx.getImageData(0,0,a.width,a.height);return m.globalAlpha=1,m.clearRect(0,0,a.width,a.height),U},getUniformLocations:function(l,c){return{delta:l.getUniformLocation(c,"uDelta")}},sendUniformData:function(l,c){var a=this.chooseRightDelta();l.uniform2fv(c.delta,a)},chooseRightDelta:function(){var a,l=1,c=[0,0];return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),a=l*this.blur*.12,this.horizontal?c[0]=a:c[1]=a,c}}),f.Blur.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Gamma=(0,p.util.createClass)(f.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var v,a=l.imageData.data,d=this.gamma,g=a.length,h=1/d[0],m=1/d[1],b=1/d[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),v=0,g=256;v<g;v++)this.rVals[v]=255*Math.pow(v/255,h),this.gVals[v]=255*Math.pow(v/255,m),this.bVals[v]=255*Math.pow(v/255,b);for(v=0,g=a.length;v<g;v+=4)a[v]=this.rVals[a[v]],a[v+1]=this.gVals[a[v+1]],a[v+2]=this.bVals[a[v+2]]},getUniformLocations:function(l,c){return{uGamma:l.getUniformLocation(c,"uGamma")}},sendUniformData:function(l,c){l.uniform3fv(c.uGamma,this.gamma)}}),p.Image.filters.Gamma.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.Composed=(0,p.util.createClass)(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(l)})},toObject:function(){return p.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),p.Image.filters.Composed.fromObject=function(l,c){var d=(l.subFilters||[]).map(function(h){return new p.Image.filters[h.type](h)}),g=new p.Image.filters.Composed({subFilters:d});return c&&c(g),g}}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.Image.filters;f.HueRotation=(0,p.util.createClass)(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,c=p.util.cos(l),a=p.util.sin(l),d=1/3,g=Math.sqrt(d)*a,h=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+h/3,this.matrix[1]=d*h-g,this.matrix[2]=d*h+g,this.matrix[5]=d*h+g,this.matrix[6]=c+d*h,this.matrix[7]=d*h-g,this.matrix[10]=d*h-g,this.matrix[11]=d*h+g,this.matrix[12]=c+d*h},isNeutralState:function(l){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,l)}}),p.Image.filters.HueRotation.fromObject=p.Image.filters.BaseFilter.fromObject}(G),function(_){"use strict";var p=_.fabric||(_.fabric={}),f=p.util.object.clone;if(p.Text)p.warn("fabric.Text is already defined");else{var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");p.Text=p.util.createClass(p.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:p.Object.prototype.stateProperties.concat(u),cacheProperties:p.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,c){this.styles=c&&c.styles||{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=p.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return p._measuringContext||(p._measuringContext=this.canvas&&this.canvas.contextCache||p.util.createCanvasElement().getContext("2d")),p._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,c,d,g,h,m,b=0,v=this._textLines.length;b<v;b++)if(("justify"===this.textAlign||b!==v-1&&!this.isEndOfWrapping(b))&&(d=0,g=this._textLines[b],(c=this.getLineWidth(b))<this.width&&(m=this.textLines[b].match(this._reSpacesAndTabs)))){l=(this.width-c)/m.length;for(var y=0,M=g.length;y<=M;y++)h=this.__charBounds[b][y],this._reSpaceAndTab.test(g[y])?(h.width+=l,h.kernedWidth+=l,h.left+=d,d+=l):h.left+=d}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return l.width+=c*l.zoomX,l.height+=c*l.zoomY,l},_render:function(l){var c=this.path;c&&!c.isNotVisible()&&c._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){"stroke"===this.paintFirst?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,c,a){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom"}l.font=this._getFontDeclaration(c,a)},calcTextWidth:function(){for(var l=this.getLineWidth(0),c=1,a=this._textLines.length;c<a;c++){var d=this.getLineWidth(c);d>l&&(l=d)}return l},_renderTextLine:function(l,c,a,d,g,h){this._renderChars(l,c,a,d,g,h)},_renderTextLinesBackground:function(l){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var c,a,g,h,M,w,Z,d=l.fillStyle,m=this._getLeftOffset(),b=this._getTopOffset(),v=0,y=0,E=this.path,U=0,q=this._textLines.length;U<q;U++)if(c=this.getHeightOfLine(U),this.textBackgroundColor||this.styleHas("textBackgroundColor",U)){g=this._textLines[U],a=this._getLineLeftOffset(U),y=0,v=0,h=this.getValueOfPropertyAt(U,0,"textBackgroundColor");for(var Q=0,re=g.length;Q<re;Q++)M=this.__charBounds[U][Q],w=this.getValueOfPropertyAt(U,Q,"textBackgroundColor"),E?(l.save(),l.translate(M.renderLeft,M.renderTop),l.rotate(M.angle),l.fillStyle=w,w&&l.fillRect(-M.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),M.width,c/this.lineHeight),l.restore()):w!==h?(Z=m+a+v,"rtl"===this.direction&&(Z=this.width-Z-y),l.fillStyle=h,h&&l.fillRect(Z,b,y,c/this.lineHeight),v=M.left,y=M.width,h=w):y+=M.kernedWidth;w&&!E&&(Z=m+a+v,"rtl"===this.direction&&(Z=this.width-Z-y),l.fillStyle=w,l.fillRect(Z,b,y,c/this.lineHeight)),b+=c}else b+=c;l.fillStyle=d,this._removeShadow(l)}},getFontCache:function(l){var c=l.fontFamily.toLowerCase();p.charWidthsCache[c]||(p.charWidthsCache[c]={});var a=p.charWidthsCache[c],d=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return a[d]||(a[d]={}),a[d]},_measureChar:function(l,c,a,d){var y,M,w,Z,g=this.getFontCache(c),b=a+l,v=this._getFontDeclaration(c)===this._getFontDeclaration(d),E=c.fontSize/this.CACHE_FONT_SIZE;if(a&&void 0!==g[a]&&(w=g[a]),void 0!==g[l]&&(Z=y=g[l]),v&&void 0!==g[b]&&(Z=(M=g[b])-w),void 0===y||void 0===w||void 0===M){var U=this.getMeasuringContext();this._setTextStyles(U,c,!0)}return void 0===y&&(Z=y=U.measureText(l).width,g[l]=y),void 0===w&&v&&a&&(w=U.measureText(a).width,g[a]=w),v&&void 0===M&&(M=U.measureText(b).width,g[b]=M,Z=M-w),{width:y*E,kernedWidth:Z*E}},getHeightOfChar:function(l,c){return this.getValueOfPropertyAt(l,c,"fontSize")},measureLine:function(l){var c=this._measureLine(l);return 0!==this.charSpacing&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(l){var a,d,h,m,M,w,c=0,g=this._textLines[l],v=new Array(g.length),y=0,E=this.path,Z="right"===this.pathSide;for(this.__charBounds[l]=v,a=0;a<g.length;a++)m=this._getGraphemeBox(d=g[a],l,a,h),v[a]=m,c+=m.kernedWidth,h=d;if(v[a]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(w=E.segmentsInfo[E.segmentsInfo.length-1].length,(M=p.util.getPointOnPath(E.path,0,E.segmentsInfo)).x+=E.pathOffset.x,M.y+=E.pathOffset.y,this.textAlign){case"left":y=Z?w-c:0;break;case"center":y=(w-c)/2;break;case"right":y=Z?0:w-c}for(y+=this.pathStartOffset*(Z?-1:1),a=Z?g.length-1:0;Z?a>=0:a<g.length;Z?a--:a++)y>w?y%=w:y<0&&(y+=w),this._setGraphemeOnPath(y,m=v[a],M),y+=m.kernedWidth}return{width:c,numOfSpaces:0}},_setGraphemeOnPath:function(l,c,a){var g=this.path,h=p.util.getPointOnPath(g.path,l+c.kernedWidth/2,g.segmentsInfo);c.renderLeft=h.x-a.x,c.renderTop=h.y-a.y,c.angle=h.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(l,c,a,d,g){var M,h=this.getCompleteStyleDeclaration(c,a),m=d?this.getCompleteStyleDeclaration(c,a-1):{},b=this._measureChar(l,h,d,m),v=b.kernedWidth,y=b.width;0!==this.charSpacing&&(y+=M=this._getWidthOfCharSpacing(),v+=M);var w={width:y,left:0,height:h.fontSize,kernedWidth:v,deltaY:h.deltaY};if(a>0&&!g){var E=this.__charBounds[c][a-1];w.left=E.left+E.width+b.kernedWidth-b.width}return w},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var c=this._textLines[l],a=this.getHeightOfChar(l,0),d=1,g=c.length;d<g;d++)a=Math.max(this.getHeightOfChar(l,d),a);return this.__lineHeights[l]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,c=0,a=0,d=this._textLines.length;a<d;a++)l=this.getHeightOfLine(a),c+=a===d-1?l/this.lineHeight:l;return c},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,c){l.save();for(var a=0,d=this._getLeftOffset(),g=this._getTopOffset(),h=0,m=this._textLines.length;h<m;h++){var b=this.getHeightOfLine(h),v=b/this.lineHeight,y=this._getLineLeftOffset(h);this._renderTextLine(c,l,this._textLines[h],d+y,g+a+v,h),a+=b}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,c,a,d,g,h){var v,y,w,Z,m=this.getHeightOfLine(h),b=-1!==this.textAlign.indexOf("justify"),M="",E=0,U=this.path,q=!b&&0===this.charSpacing&&this.isEmptyStyles(h)&&!U,Q="ltr"===this.direction,re="ltr"===this.direction?1:-1,ue=c.canvas.getAttribute("dir");if(c.save(),ue!==this.direction&&(c.canvas.setAttribute("dir",Q?"ltr":"rtl"),c.direction=Q?"ltr":"rtl",c.textAlign=Q?"left":"right"),g-=m*this._fontSizeFraction/this.lineHeight,q)return this._renderChar(l,c,h,0,a.join(""),d,g,m),void c.restore();for(var W=0,ce=a.length-1;W<=ce;W++)Z=W===ce||this.charSpacing||U,M+=a[W],w=this.__charBounds[h][W],0===E?(d+=re*(w.kernedWidth-w.width),E+=w.width):E+=w.kernedWidth,b&&!Z&&this._reSpaceAndTab.test(a[W])&&(Z=!0),Z||(v=v||this.getCompleteStyleDeclaration(h,W),y=this.getCompleteStyleDeclaration(h,W+1),Z=p.util.hasStyleChanged(v,y,!1)),Z&&(U?(c.save(),c.translate(w.renderLeft,w.renderTop),c.rotate(w.angle),this._renderChar(l,c,h,W,M,-E/2,0,m),c.restore()):this._renderChar(l,c,h,W,M,d,g,m),M="",v=y,d+=re*E,E=0);c.restore()},_applyPatternGradientTransformText:function(l){var a,c=p.util.createCanvasElement(),d=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return c.width=d,c.height=g,(a=c.getContext("2d")).beginPath(),a.moveTo(0,0),a.lineTo(d,0),a.lineTo(d,g),a.lineTo(0,g),a.closePath(),a.translate(d/2,g/2),a.fillStyle=l.toLive(a),this._applyPatternGradientTransform(a,l),a.fill(),a.createPattern(c,"no-repeat")},handleFiller:function(l,c,a){var d,g;return a.toLive?"percentage"===a.gradientUnits||a.gradientTransform||a.patternTransform?(l.translate(d=-this.width/2,g=-this.height/2),l[c]=this._applyPatternGradientTransformText(a),{offsetX:d,offsetY:g}):(l[c]=a.toLive(l,this),this._applyPatternGradientTransform(l,a)):(l[c]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,c){return l.lineWidth=c.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",c.stroke)},_setFillStyles:function(l,c){return this.handleFiller(l,"fillStyle",c.fill)},_renderChar:function(l,c,a,d,g,h,m){var w,E,b=this._getStyleDeclaration(a,d),v=this.getCompleteStyleDeclaration(a,d),y="fillText"===l&&v.fill,M="strokeText"===l&&v.stroke&&v.strokeWidth;!M&&!y||(c.save(),y&&(w=this._setFillStyles(c,v)),M&&(E=this._setStrokeStyles(c,v)),c.font=this._getFontDeclaration(v),b&&b.textBackgroundColor&&this._removeShadow(c),b&&b.deltaY&&(m+=b.deltaY),y&&c.fillText(g,h-w.offsetX,m-w.offsetY),M&&c.strokeText(g,h-E.offsetX,m-E.offsetY),c.restore())},setSuperscript:function(l,c){return this._setScript(l,c,this.superscript)},setSubscript:function(l,c){return this._setScript(l,c,this.subscript)},_setScript:function(l,c,a){var d=this.get2DCursorLocation(l,!0),g=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"fontSize"),h=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"deltaY");return this.setSelectionStyles({fontSize:g*a.size,deltaY:h+g*a.baseline},l,c),this},_getLineLeftOffset:function(l){var c=this.getLineWidth(l),a=this.width-c,d=this.textAlign,g=this.direction,h=0,m=this.isEndOfWrapping(l);return"justify"===d||"justify-center"===d&&!m||"justify-right"===d&&!m||"justify-left"===d&&!m?0:("center"===d&&(h=a/2),"right"===d&&(h=a),"justify-center"===d&&(h=a/2),"justify-right"===d&&(h=a),"rtl"===g&&(h-=a),h)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(void 0!==this.__lineWidths[l])return this.__lineWidths[l];var a=this.measureLine(l).width;return this.__lineWidths[l]=a,a},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,c,a){var d=this._getStyleDeclaration(l,c);return d&&typeof d[a]<"u"?d[a]:this[a]},_renderTextDecoration:function(l,c){if(this[c]||this.styleHas(c)){for(var a,d,g,h,m,b,v,y,E,Z,U,q,Q,re,le,ue,M=this._getLeftOffset(),w=this._getTopOffset(),W=this.path,ce=this._getWidthOfCharSpacing(),pe=this.offsets[c],_e=0,B=this._textLines.length;_e<B;_e++)if(a=this.getHeightOfLine(_e),this[c]||this.styleHas(c,_e)){v=this._textLines[_e],re=a/this.lineHeight,h=this._getLineLeftOffset(_e),Z=0,U=0,y=this.getValueOfPropertyAt(_e,0,c),ue=this.getValueOfPropertyAt(_e,0,"fill"),E=w+re*(1-this._fontSizeFraction),d=this.getHeightOfChar(_e,0),m=this.getValueOfPropertyAt(_e,0,"deltaY");for(var F=0,k=v.length;F<k;F++)if(q=this.__charBounds[_e][F],Q=this.getValueOfPropertyAt(_e,F,c),le=this.getValueOfPropertyAt(_e,F,"fill"),g=this.getHeightOfChar(_e,F),b=this.getValueOfPropertyAt(_e,F,"deltaY"),W&&Q&&le)l.save(),l.fillStyle=ue,l.translate(q.renderLeft,q.renderTop),l.rotate(q.angle),l.fillRect(-q.kernedWidth/2,pe*g+b,q.kernedWidth,this.fontSize/15),l.restore();else if((Q!==y||le!==ue||g!==d||b!==m)&&U>0){var P=M+h+Z;"rtl"===this.direction&&(P=this.width-P-U),y&&ue&&(l.fillStyle=ue,l.fillRect(P,E+pe*d+m,U,this.fontSize/15)),Z=q.left,U=q.width,y=Q,ue=le,d=g,m=b}else U+=q.kernedWidth;P=M+h+Z,"rtl"===this.direction&&(P=this.width-P-U),l.fillStyle=le,Q&&le&&l.fillRect(P,E+pe*d+m,U-ce,this.fontSize/15),w+=a}else w+=a;this._removeShadow(l)}},_getFontDeclaration:function(l,c){var a=l||this,d=this.fontFamily,g=p.Text.genericFonts.indexOf(d.toLowerCase())>-1,h=void 0===d||d.indexOf("'")>-1||d.indexOf(",")>-1||d.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[p.isLikelyNode?a.fontWeight:a.fontStyle,p.isLikelyNode?a.fontStyle:a.fontWeight,c?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",h].join(" ")},render:function(l){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l))},_splitTextIntoLines:function(l){for(var c=l.split(this._reNewline),a=new Array(c.length),d=["\n"],g=[],h=0;h<c.length;h++)a[h]=p.util.string.graphemeSplit(c[h]),g=g.concat(a[h],d);return g.pop(),{_unwrappedLines:a,lines:c,graphemeText:g,graphemeLines:a}},toObject:function(l){var c=u.concat(l),a=this.callSuper("toObject",c);return a.styles=p.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(l,c){this.callSuper("set",l,c);var a=!1,d=!1;if("object"==typeof l)for(var g in l)"path"===g&&this.setPathInfo(),a=a||-1!==this._dimensionAffectingProps.indexOf(g),d=d||"path"===g;else a=-1!==this._dimensionAffectingProps.indexOf(l),d="path"===l;return d&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),p.Text.ATTRIBUTE_NAMES=p.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),p.Text.DEFAULT_SVG_FONT_SIZE=16,p.Text.fromElement=function(l,c,a){if(!l)return c(null);var d=p.parseAttributes(l,p.Text.ATTRIBUTE_NAMES),g=d.textAnchor||"left";if((a=p.util.object.extend(a?f(a):{},d)).top=a.top||0,a.left=a.left||0,d.textDecoration){var h=d.textDecoration;-1!==h.indexOf("underline")&&(a.underline=!0),-1!==h.indexOf("overline")&&(a.overline=!0),-1!==h.indexOf("line-through")&&(a.linethrough=!0),delete a.textDecoration}"dx"in d&&(a.left+=d.dx),"dy"in d&&(a.top+=d.dy),"fontSize"in a||(a.fontSize=p.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in l?m=l.textContent:"firstChild"in l&&null!==l.firstChild&&"data"in l.firstChild&&null!==l.firstChild.data&&(m=l.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=a.strokeWidth;a.strokeWidth=0;var v=new p.Text(m,a),y=v.getScaledHeight()/v.height,w=((v.height+v.strokeWidth)*v.lineHeight-v.height)*y,E=v.getScaledHeight()+w,Z=0;"center"===g&&(Z=v.getScaledWidth()/2),"right"===g&&(Z=v.getScaledWidth()),v.set({left:v.left-Z,top:v.top-(E-v.fontSize*(.07+v._fontSizeFraction))/v.lineHeight,strokeWidth:typeof b<"u"?b:1}),c(v)},p.Text.fromObject=function(l,c){var a=f(l),d=l.path;return delete a.path,p.Object._fromObject("Text",a,function(g){g.styles=p.util.stylesFromArray(l.styles,l.text),d?p.Object._fromObject("Path",d,function(h){g.set("path",h),c(g)},"path"):c(g)},"text")},p.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],p.util.createAccessors&&p.util.createAccessors(p.Text)}}(G),C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(_){if(!this.styles||typeof _<"u"&&!this.styles[_])return!0;var p=typeof _>"u"?this.styles:{line:this.styles[_]};for(var f in p)for(var u in p[f])for(var l in p[f][u])return!1;return!0},styleHas:function(_,p){if(!this.styles||!_||""===_||typeof p<"u"&&!this.styles[p])return!1;var f=typeof p>"u"?this.styles:{0:this.styles[p]};for(var u in f)for(var l in f[u])if(typeof f[u][l][_]<"u")return!0;return!1},cleanStyle:function(_){if(!this.styles||!_||""===_)return!1;var u,l,p=this.styles,f=0,c=!0,a=0;for(var g in p){for(var h in u=0,p[g]){var d;f++,(d=p[g][h]).hasOwnProperty(_)?(l?d[_]!==l&&(c=!1):l=d[_],d[_]===this[_]&&delete d[_]):c=!1,0!==Object.keys(d).length?u++:delete p[g][h]}0===u&&delete p[g]}for(var b=0;b<this._textLines.length;b++)a+=this._textLines[b].length;c&&f===a&&(this[_]=l,this.removeStyle(_))},removeStyle:function(_){if(this.styles&&_&&""!==_){var f,u,l,p=this.styles;for(u in p){for(l in f=p[u])delete f[l][_],0===Object.keys(f[l]).length&&delete f[l];0===Object.keys(f).length&&delete p[u]}}},_extendStyles:function(_,p){var f=this.get2DCursorLocation(_);this._getLineStyle(f.lineIndex)||this._setLineStyle(f.lineIndex),this._getStyleDeclaration(f.lineIndex,f.charIndex)||this._setStyleDeclaration(f.lineIndex,f.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(f.lineIndex,f.charIndex),p)},get2DCursorLocation:function(_,p){typeof _>"u"&&(_=this.selectionStart);for(var f=p?this._unwrappedTextLines:this._textLines,u=f.length,l=0;l<u;l++){if(_<=f[l].length)return{lineIndex:l,charIndex:_};_-=f[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:f[l-1].length<_?f[l-1].length:_}},getSelectionStyles:function(_,p,f){typeof _>"u"&&(_=this.selectionStart||0),typeof p>"u"&&(p=this.selectionEnd||_);for(var u=[],l=_;l<p;l++)u.push(this.getStyleAtPosition(l,f));return u},getStyleAtPosition:function(_,p){var f=this.get2DCursorLocation(_);return(p?this.getCompleteStyleDeclaration(f.lineIndex,f.charIndex):this._getStyleDeclaration(f.lineIndex,f.charIndex))||{}},setSelectionStyles:function(_,p,f){typeof p>"u"&&(p=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||p);for(var u=p;u<f;u++)this._extendStyles(u,_);return this._forceClearCache=!0,this},_getStyleDeclaration:function(_,p){var f=this.styles&&this.styles[_];return f?f[p]:null},getCompleteStyleDeclaration:function(_,p){for(var l,f=this._getStyleDeclaration(_,p)||{},u={},c=0;c<this._styleProperties.length;c++)u[l=this._styleProperties[c]]=typeof f[l]>"u"?this[l]:f[l];return u},_setStyleDeclaration:function(_,p,f){this.styles[_][p]=f},_deleteStyleDeclaration:function(_,p){delete this.styles[_][p]},_getLineStyle:function(_){return!!this.styles[_]},_setLineStyle:function(_){this.styles[_]={}},_deleteLineStyle:function(_){delete this.styles[_]}}),function(){function _(p){p.textDecoration&&(p.textDecoration.indexOf("underline")>-1&&(p.underline=!0),p.textDecoration.indexOf("line-through")>-1&&(p.linethrough=!0),p.textDecoration.indexOf("overline")>-1&&(p.overline=!0),delete p.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(p,f){this.callSuper("initialize",p,f),this.initBehavior()},setSelectionStart:function(p){p=Math.max(p,0),this._updateAndFire("selectionStart",p)},setSelectionEnd:function(p){p=Math.min(p,this.text.length),this._updateAndFire("selectionEnd",p)},_updateAndFire:function(p,f){this[p]!==f&&(this._fireSelectionChanged(),this[p]=f),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(p){this.clearContextTop(),this.callSuper("render",p),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(p){this.callSuper("_render",p)},clearContextTop:function(p){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var f=this.canvas.contextTop,u=this.canvas.viewportTransform;f.save(),f.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this.transform(f),this._clearTextArea(f),p||f.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var p=this._getCursorBoundaries(),f=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(p,f):this.renderSelection(p,f),f.restore()}},_clearTextArea:function(p){var f=this.width+4,u=this.height+4;p.clearRect(-f/2,-u/2,f,u)},_getCursorBoundaries:function(p){typeof p>"u"&&(p=this.selectionStart);var f=this._getLeftOffset(),u=this._getTopOffset(),l=this._getCursorBoundariesOffsets(p);return{left:f,top:u,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(p){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var f,u,l,d,c=0,a=0,g=this.get2DCursorLocation(p);l=g.charIndex,u=g.lineIndex;for(var h=0;h<u;h++)c+=this.getHeightOfLine(h);f=this._getLineLeftOffset(u);var m=this.__charBounds[u][l];return m&&(a=m.left),0!==this.charSpacing&&l===this._textLines[u].length&&(a-=this._getWidthOfCharSpacing()),d={top:c,left:f+(a>0?a:0)},"rtl"===this.direction&&(d.left*=-1),this.cursorOffsetCache=d,this.cursorOffsetCache},renderCursor:function(p,f){var u=this.get2DCursorLocation(),l=u.lineIndex,c=u.charIndex>0?u.charIndex-1:0,a=this.getValueOfPropertyAt(l,c,"fontSize"),d=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/d,h=p.topOffset,m=this.getValueOfPropertyAt(l,c,"deltaY");h+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(p,f),f.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,c,"fill"),f.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,f.fillRect(p.left+p.leftOffset-g/2,h+p.top+m,g,a)},renderSelection:function(p,f){for(var u=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=-1!==this.textAlign.indexOf("justify"),a=this.get2DCursorLocation(u),d=this.get2DCursorLocation(l),g=a.lineIndex,h=d.lineIndex,m=a.charIndex<0?0:a.charIndex,b=d.charIndex<0?0:d.charIndex,v=g;v<=h;v++){var w,y=this._getLineLeftOffset(v)||0,M=this.getHeightOfLine(v),E=0,Z=0;if(v===g&&(E=this.__charBounds[g][m].left),v>=g&&v<h)Z=c&&!this.isEndOfWrapping(v)?this.width:this.getLineWidth(v)||5;else if(v===h)if(0===b)Z=this.__charBounds[h][b].left;else{var U=this._getWidthOfCharSpacing();Z=this.__charBounds[h][b-1].left+this.__charBounds[h][b-1].width-U}w=M,(this.lineHeight<1||v===h&&this.lineHeight>1)&&(M/=this.lineHeight);var q=p.left+y+E,Q=Z-E,re=M,le=0;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",re=1,le=M):f.fillStyle=this.selectionColor,"rtl"===this.direction&&(q=this.width-q-Q),f.fillRect(q,p.top+p.topOffset+le,Q,re),p.topOffset+=w}},getCurrentCharFontSize:function(){var p=this._getCurrentCharIndex();return this.getValueOfPropertyAt(p.l,p.c,"fontSize")},getCurrentCharColor:function(){var p=this._getCurrentCharIndex();return this.getValueOfPropertyAt(p.l,p.c,"fill")},_getCurrentCharIndex:function(){var p=this.get2DCursorLocation(this.selectionStart,!0);return{l:p.lineIndex,c:p.charIndex>0?p.charIndex-1:0}}}),C.IText.fromObject=function(p,f){var u=C.util.stylesFromArray(p.styles,p.text),l=Object.assign({},p,{styles:u});if(_(l),l.styles)for(var c in l.styles)for(var a in l.styles[c])_(l.styles[c][a]);C.Object._fromObject("IText",l,f,"text")}}(),function(){var _=C.util.object.clone;C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var p=this;this.on("added",function(){var f=p.canvas;f&&(f._hasITextHandlers||(f._hasITextHandlers=!0,p._initCanvasHandlers(f)),f._iTextInstances=f._iTextInstances||[],f._iTextInstances.push(p))})},initRemovedHandler:function(){var p=this;this.on("removed",function(){var f=p.canvas;f&&(f._iTextInstances=f._iTextInstances||[],C.util.removeFromArray(f._iTextInstances,p),0===f._iTextInstances.length&&(f._hasITextHandlers=!1,p._removeCanvasHandlers(f)))})},_initCanvasHandlers:function(p){p._mouseUpITextHandler=function(){p._iTextInstances&&p._iTextInstances.forEach(function(f){f.__isMousedown=!1})},p.on("mouse:up",p._mouseUpITextHandler)},_removeCanvasHandlers:function(p){p.off("mouse:up",p._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(p,f,u,l){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},p.animate("_currentCursorOpacity",f,{duration:u,onComplete:function(){c.isAborted||p[l]()},onChange:function(){p.canvas&&p.selectionStart===p.selectionEnd&&p.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var p=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){p._currentTickCompleteState=p._animateCursor(p,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(p){var f=this,u=p?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){f._tick()},u)},abortCursorAnimation:function(){var p=this._currentTickState||this._currentTickCompleteState,f=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,p&&f&&f.clearContext(f.contextTop||f.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(p){var f=0,u=p-1;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)f++,u--;for(;/\S/.test(this._text[u])&&u>-1;)f++,u--;return p-f},findWordBoundaryRight:function(p){var f=0,u=p;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)f++,u++;for(;/\S/.test(this._text[u])&&u<this._text.length;)f++,u++;return p+f},findLineBoundaryLeft:function(p){for(var f=0,u=p-1;!/\n/.test(this._text[u])&&u>-1;)f++,u--;return p-f},findLineBoundaryRight:function(p){for(var f=0,u=p;!/\n/.test(this._text[u])&&u<this._text.length;)f++,u++;return p+f},searchWordBoundary:function(p,f){for(var u=this._text,l=this._reSpace.test(u[p])?p-1:p,c=u[l],a=C.reNonWord;!a.test(c)&&l>0&&l<u.length;)c=u[l+=f];return a.test(c)&&(l+=1===f?0:1),l},selectWord:function(p){var f=this.searchWordBoundary(p=p||this.selectionStart,-1),u=this.searchWordBoundary(p,1);this.selectionStart=f,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(p){var f=this.findLineBoundaryLeft(p=p||this.selectionStart),u=this.findLineBoundaryRight(p);return this.selectionStart=f,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(p){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(p),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(p){p._iTextInstances&&p._iTextInstances.forEach(function(f){f.selected=!1,f.isEditing&&f.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(p){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var f=this.getSelectionStartFromPointer(p.e),u=this.selectionStart,l=this.selectionEnd;(f!==this.__selectionStartOnMouseDown||u===l)&&(u===f||l===f)||(f>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=f):(this.selectionStart=f,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==u||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(p,f,u){var l=u.slice(0,p),c=C.util.string.graphemeSplit(l).length;if(p===f)return{selectionStart:c,selectionEnd:c};var a=u.slice(p,f);return{selectionStart:c,selectionEnd:c+C.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(p,f,u){var c=u.slice(0,p).join("").length;return p===f?{selectionStart:c,selectionEnd:c}:{selectionStart:c,selectionEnd:c+u.slice(p,f).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var p=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=p.selectionStart,this.hiddenTextarea.selectionEnd=p.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=p.selectionEnd,this.inCompositionMode||(this.selectionStart=p.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var p=this._calcTextareaPosition();this.hiddenTextarea.style.left=p.left,this.hiddenTextarea.style.top=p.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var p=this.inCompositionMode?this.compositionStart:this.selectionStart,f=this._getCursorBoundaries(p),u=this.get2DCursorLocation(p),a=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize")*this.lineHeight,d=f.leftOffset,g=this.calcTransformMatrix(),h={x:f.left+d,y:f.top+f.topOffset+a},m=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,v=b.width/m,y=b.height/m,M=v-a,w=y-a,E=b.clientWidth/v,Z=b.clientHeight/y;return h=C.util.transformPoint(h,g),(h=C.util.transformPoint(h,this.canvas.viewportTransform)).x*=E,h.y*=Z,h.x<0&&(h.x=0),h.x>M&&(h.x=M),h.y<0&&(h.y=0),h.y>w&&(h.y=w),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:h.x+"px",top:h.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var p=this._textBeforeEdit!==this.text,f=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),p&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),p&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var p in this.styles)this._textLines[p]||delete this.styles[p]},removeStyleFromTo:function(p,f){var h,m,u=this.get2DCursorLocation(p,!0),l=this.get2DCursorLocation(f,!0),c=u.lineIndex,a=u.charIndex,d=l.lineIndex,g=l.charIndex;if(c!==d){if(this.styles[c])for(h=a;h<this._unwrappedTextLines[c].length;h++)delete this.styles[c][h];if(this.styles[d])for(h=g;h<this._unwrappedTextLines[d].length;h++)(m=this.styles[d][h])&&(this.styles[c]||(this.styles[c]={}),this.styles[c][a+h-g]=m);for(h=c+1;h<=d;h++)delete this.styles[h];this.shiftLineStyles(d,c-d)}else if(this.styles[c]){m=this.styles[c];var v,y,b=g-a;for(h=a;h<g;h++)delete m[h];for(y in this.styles[c])(v=parseInt(y,10))>=g&&(m[v-b]=m[y],delete m[y])}},shiftLineStyles:function(p,f){var u=_(this.styles);for(var l in this.styles){var c=parseInt(l,10);c>p&&(this.styles[c+f]=u[c],u[c-f]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(p,f,u,l){var c,a={},d=!1,g=this._unwrappedTextLines[p].length===f;for(var h in u||(u=1),this.shiftLineStyles(p,u),this.styles[p]&&(c=this.styles[p][0===f?f:f-1]),this.styles[p]){var m=parseInt(h,10);m>=f&&(d=!0,a[m-f]=this.styles[p][h],g&&0===f||delete this.styles[p][h])}var b=!1;for(d&&!g&&(this.styles[p+u]=a,b=!0),b&&u--;u>0;)l&&l[u-1]?this.styles[p+u]={0:_(l[u-1])}:c?this.styles[p+u]={0:_(c)}:delete this.styles[p+u],u--;this._forceClearCache=!0},insertCharStyleObject:function(p,f,u,l){this.styles||(this.styles={});var c=this.styles[p],a=c?_(c):{};for(var d in u||(u=1),a){var g=parseInt(d,10);g>=f&&(c[g+u]=a[g],a[g-u]||delete c[g])}if(this._forceClearCache=!0,l)for(;u--;)!Object.keys(l[u]).length||(this.styles[p]||(this.styles[p]={}),this.styles[p][f+u]=_(l[u]));else if(c)for(var h=c[f?f-1:1];h&&u--;)this.styles[p][f+u]=_(h)},insertNewStyleBlock:function(p,f,u){for(var l=this.get2DCursorLocation(f,!0),c=[0],a=0,d=0;d<p.length;d++)"\n"===p[d]?c[++a]=0:c[a]++;for(c[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,c[0],u),u=u&&u.slice(c[0]+1)),a&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+c[0],a),d=1;d<a;d++)c[d]>0?this.insertCharStyleObject(l.lineIndex+d,0,c[d],u):u&&this.styles[l.lineIndex+d]&&u[0]&&(this.styles[l.lineIndex+d][0]=u[0]),u=u&&u.slice(c[d]+1);c[d]>0&&this.insertCharStyleObject(l.lineIndex+d,0,c[d],u)},setSelectionStartEndWithShift:function(p,f,u){u<=p?(f===p?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=p),this.selectionStart=u):u>p&&u<f?"right"===this._selectionDirection?this.selectionEnd=u:this.selectionStart=u:(f===p?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=u)},setSelectionInBoundaries:function(){var p=this.text.length;this.selectionStart>p?this.selectionStart=p:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>p?this.selectionEnd=p:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(_){if(this.canvas){this.__newClickTime=+new Date;var p=_.pointer;this.isTripleClick(p)&&(this.fire("tripleclick",_),this._stopEvent(_.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=p,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(_){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===_.x&&this.__lastPointer.y===_.y},_stopEvent:function(_){_.preventDefault&&_.preventDefault(),_.stopPropagation&&_.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(_){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(_.e))},tripleClickHandler:function(_){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(_.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(_){!this.canvas||!this.editable||_.e.button&&1!==_.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(_.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(_){!this.canvas||!this.editable||_.e.button&&1!==_.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(_){if(this.__isMousedown=!1,!(!this.editable||this.group||_.transform&&_.transform.actionPerformed||_.e.button&&1!==_.e.button)){if(this.canvas){var p=this.canvas._activeObject;if(p&&p!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(_.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(_){var p=this.getSelectionStartFromPointer(_);_.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,p):(this.selectionStart=p,this.selectionEnd=p),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(_){for(var g,p=this.getLocalPointer(_),f=0,u=0,l=0,c=0,a=0,h=0,m=this._textLines.length;h<m&&l<=p.y;h++)l+=this.getHeightOfLine(h)*this.scaleY,a=h,h>0&&(c+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));u=this._getLineLeftOffset(a)*this.scaleX,g=this._textLines[a],"rtl"===this.direction&&(p.x=this.width*this.scaleX-p.x+u);for(var b=0,v=g.length;b<v&&(f=u,(u+=this.__charBounds[a][b].kernedWidth*this.scaleX)<=p.x);b++)c++;return this._getNewSelectionStartFromOffset(p,f,u,c,v)},_getNewSelectionStartFromOffset:function(_,p,f,u,l){var a=f-_.x,g=u+(a>_.x-p||a<0?0:1);return this.flipX&&(g=l-g),g>this._text.length&&(g=this._text.length),g}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var _=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+_.top+"; left: "+_.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+_.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(_){if(this.isEditing){var p="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(_.keyCode in p)this[p[_.keyCode]](_);else{if(!(_.keyCode in this.ctrlKeysMapDown)||!_.ctrlKey&&!_.metaKey)return;this[this.ctrlKeysMapDown[_.keyCode]](_)}_.stopImmediatePropagation(),_.preventDefault(),_.keyCode>=33&&_.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(_){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:_.keyCode in this.ctrlKeysMapUp&&(_.ctrlKey||_.metaKey)&&(this[this.ctrlKeysMapUp[_.keyCode]](_),_.stopImmediatePropagation(),_.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(_){var p=this.fromPaste;if(this.fromPaste=!1,_&&_.stopPropagation(),this.isEditing){var c,a,b,v,y,f=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,l=f.length,d=l-u,g=this.selectionStart,h=this.selectionEnd,m=g!==h;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var M=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),w=g>M.selectionStart;m?(c=this._text.slice(g,h),d+=h-g):l<u&&(c=w?this._text.slice(h+d,h):this._text.slice(g,g-d)),a=f.slice(M.selectionEnd-d,M.selectionEnd),c&&c.length&&(a.length&&(b=this.getSelectionStyles(g,g+1,!1),b=a.map(function(){return b[0]})),m?(v=g,y=h):w?(v=h-c.length,y=h):(v=h,y=h+c.length),this.removeStyleFromTo(v,y)),a.length&&(p&&a.join("")===C.copiedText&&!C.disableStyleCopyPaste&&(b=C.copiedTextStyle),this.insertNewStyleBlock(a,g,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(_){this.compositionStart=_.target.selectionStart,this.compositionEnd=_.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.copiedTextStyle=C.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(_){return _&&_.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(_,p){var u,f=this._getLineLeftOffset(_);return p>0&&(f+=(u=this.__charBounds[_][p-1]).left+u.width),f},getDownCursorOffset:function(_,p){var f=this._getSelectionForOffset(_,p),u=this.get2DCursorLocation(f),l=u.lineIndex;if(l===this._textLines.length-1||_.metaKey||34===_.keyCode)return this._text.length-f;var c=u.charIndex,a=this._getWidthBeforeCursor(l,c),d=this._getIndexOnLine(l+1,a);return this._textLines[l].slice(c).length+d+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(_,p){return _.shiftKey&&this.selectionStart!==this.selectionEnd&&p?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(_,p){var f=this._getSelectionForOffset(_,p),u=this.get2DCursorLocation(f),l=u.lineIndex;if(0===l||_.metaKey||33===_.keyCode)return-f;var c=u.charIndex,a=this._getWidthBeforeCursor(l,c),d=this._getIndexOnLine(l-1,a),g=this._textLines[l].slice(0,c),h=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+d-g.length+(1-h)},_getIndexOnLine:function(_,p){for(var a,d,f=this._textLines[_],l=this._getLineLeftOffset(_),c=0,g=0,h=f.length;g<h;g++)if((l+=a=this.__charBounds[_][g].width)>p){d=!0;var b=l,v=Math.abs(l-a-p);c=Math.abs(b-p)<v?g:g-1;break}return d||(c=f.length-1),c},moveCursorDown:function(_){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",_)},moveCursorUp:function(_){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",_)},_moveCursorUpOrDown:function(_,p){var u=this["get"+_+"CursorOffset"](p,"right"===this._selectionDirection);p.shiftKey?this.moveCursorWithShift(u):this.moveCursorWithoutShift(u),0!==u&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(_){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+_:this.selectionEnd+_),0!==_},moveCursorWithoutShift:function(_){return _<0?(this.selectionStart+=_,this.selectionEnd=this.selectionStart):(this.selectionEnd+=_,this.selectionStart=this.selectionEnd),0!==_},moveCursorLeft:function(_){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",_)},_move:function(_,p,f){var u;if(_.altKey)u=this["findWordBoundary"+f](this[p]);else{if(!_.metaKey&&35!==_.keyCode&&36!==_.keyCode)return this[p]+="Left"===f?-1:1,!0;u=this["findLineBoundary"+f](this[p])}if(typeof u<"u"&&this[p]!==u)return this[p]=u,!0},_moveLeft:function(_,p){return this._move(_,p,"Left")},_moveRight:function(_,p){return this._move(_,p,"Right")},moveCursorLeftWithoutShift:function(_){var p=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(p=this._moveLeft(_,"selectionStart")),this.selectionEnd=this.selectionStart,p},moveCursorLeftWithShift:function(_){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(_,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(_,"selectionStart")):void 0},moveCursorRight:function(_){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",_)},_moveCursorLeftOrRight:function(_,p){var f="moveCursor"+_+"With";this._currentCursorOpacity=1,this[f+=p.shiftKey?"Shift":"outShift"](p)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(_){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(_,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(_,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(_){var p=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(p=this._moveRight(_,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,p},removeChars:function(_,p){typeof p>"u"&&(p=_+1),this.removeStyleFromTo(_,p),this._text.splice(_,p-_),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(_,p,f,u){typeof u>"u"&&(u=f),u>f&&this.removeStyleFromTo(f,u);var l=C.util.string.graphemeSplit(_);this.insertNewStyleBlock(l,f,p),this._text=[].concat(this._text.slice(0,f),l,this._text.slice(u)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var _=C.util.toFixed,p=/  +/g;C.util.object.extend(C.Text.prototype,{_toSVG:function(){var f=this._getSVGLeftTopOffsets(),u=this._getSVGTextAndBg(f.textTop,f.textLeft);return this._wrapSVGTextAndBg(u)},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(f){var l=this.getSvgTextDecoration(this);return[f.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",f.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(f,u){var d,l=[],c=[],a=f;this._setSVGBg(c);for(var g=0,h=this._textLines.length;g<h;g++)d=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(c,g,u+d,a),this._setSVGTextLineText(l,g,u+d,a),a+=this.getHeightOfLine(g);return{textSpans:l,textBgRects:c}},_createTextCharSpan:function(f,u,l,c){var a=f!==f.trim()||f.match(p),d=this.getSvgSpanStyles(u,a),g=d?'style="'+d+'"':"",h=u.deltaY,m="",b=C.Object.NUM_FRACTION_DIGITS;return h&&(m=' dy="'+_(h,b)+'" '),['<tspan x="',_(l,b),'" y="',_(c,b),'" ',m,g,">",C.util.string.escapeXml(f),"</tspan>"].join("")},_setSVGTextLineText:function(f,u,l,c){var g,h,b,v,w,a=this.getHeightOfLine(u),d=-1!==this.textAlign.indexOf("justify"),m="",y=0,M=this._textLines[u];c+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,Z=M.length-1;E<=Z;E++)w=E===Z||this.charSpacing,m+=M[E],b=this.__charBounds[u][E],0===y?(l+=b.kernedWidth-b.width,y+=b.width):y+=b.kernedWidth,d&&!w&&this._reSpaceAndTab.test(M[E])&&(w=!0),w||(g=g||this.getCompleteStyleDeclaration(u,E),h=this.getCompleteStyleDeclaration(u,E+1),w=C.util.hasStyleChanged(g,h,!0)),w&&(v=this._getStyleDeclaration(u,E)||{},f.push(this._createTextCharSpan(m,v,l,c)),m="",g=h,l+=y,y=0)},_pushTextBgRect:function(f,u,l,c,a,d){var g=C.Object.NUM_FRACTION_DIGITS;f.push("\t\t<rect ",this._getFillAttributes(u),' x="',_(l,g),'" y="',_(c,g),'" width="',_(a,g),'" height="',_(d,g),'"></rect>\n')},_setSVGTextLineBg:function(f,u,l,c){for(var m,b,a=this._textLines[u],d=this.getHeightOfLine(u)/this.lineHeight,g=0,h=0,v=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),y=0,M=a.length;y<M;y++)m=this.__charBounds[u][y],(b=this.getValueOfPropertyAt(u,y,"textBackgroundColor"))!==v?(v&&this._pushTextBgRect(f,v,l+h,c,g,d),h=m.left,g=m.width,v=b):g+=m.kernedWidth;b&&this._pushTextBgRect(f,b,l+h,c,g,d)},_getFillAttributes:function(f){var u=f&&"string"==typeof f?new C.Color(f):"";return u&&u.getSource()&&1!==u.getAlpha()?'opacity="'+u.getAlpha()+'" fill="'+u.setAlpha(1).toRgb()+'"':'fill="'+f+'"'},_getSVGLineTopOffset:function(f){for(var l,u=0,c=0;c<f;c++)u+=this.getHeightOfLine(c);return l=this.getHeightOfLine(c),{lineTop:u,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(f){return C.Object.prototype.getSvgStyles.call(this,f)+" white-space: pre;"}})}(),function(_){"use strict";var p=_.fabric||(_.fabric={});p.Textbox=p.util.createClass(p.IText,p.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:p.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(f){for(var u=0,l=0,c=0,a={},d=0;d<f.graphemeLines.length;d++)"\n"===f.graphemeText[c]&&d>0?(l=0,c++,u++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[c])&&d>0&&(l++,c++),a[d]={line:u,offset:l},c+=f.graphemeLines[d].length,l+=f.graphemeLines[d].length;return a},styleHas:function(f,u){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[u];l&&(u=l.line)}return p.Text.prototype.styleHas.call(this,f,u)},isEmptyStyles:function(f){if(!this.styles)return!0;var c,a,u=0,d=!1,g=this._styleMap[f],h=this._styleMap[f+1];for(var m in g&&(f=g.line,u=g.offset),h&&(d=h.line===f,c=h.offset),a=typeof f>"u"?this.styles:{line:this.styles[f]})for(var b in a[m])if(b>=u&&(!d||b<c))for(var v in a[m][b])return!1;return!0},_getStyleDeclaration:function(f,u){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[f];if(!l)return null;f=l.line,u=l.offset+u}return this.callSuper("_getStyleDeclaration",f,u)},_setStyleDeclaration:function(f,u,l){var c=this._styleMap[f];this.styles[f=c.line][u=c.offset+u]=l},_deleteStyleDeclaration:function(f,u){var l=this._styleMap[f];delete this.styles[f=l.line][u=l.offset+u]},_getLineStyle:function(f){return!!this.styles[this._styleMap[f].line]},_setLineStyle:function(f){this.styles[this._styleMap[f].line]={}},_wrapText:function(f,u){var c,l=[];for(this.isWrapping=!0,c=0;c<f.length;c++)l=l.concat(this._wrapLine(f[c],c,u));return this.isWrapping=!1,l},_measureWord:function(f,u,l){var a,c=0;l=l||0;for(var g=0,h=f.length;g<h;g++)c+=this._getGraphemeBox(f[g],u,g+l,a,!0).kernedWidth,a=f[g];return c},_wrapLine:function(f,u,l,q){var a=0,d=this.splitByGrapheme,g=[],h=[],m=d?p.util.string.graphemeSplit(f):f.split(this._wordJoiners),b="",v=0,y=d?"":" ",M=0,w=0,E=0,Z=!0,U=this._getWidthOfCharSpacing();q=q||0,0===m.length&&m.push([]),l-=q;for(var Q=0;Q<m.length;Q++)b=d?m[Q]:p.util.string.graphemeSplit(m[Q]),M=this._measureWord(b,u,v),v+=b.length,(a+=w+M-U)>l&&!Z?(g.push(h),h=[],a=M,Z=!0):a+=U,!Z&&!d&&h.push(y),h=h.concat(b),w=d?0:this._measureWord([y],u,v),v++,Z=!1,M>E&&(E=M);return Q&&g.push(h),E+q>this.dynamicMinWidth&&(this.dynamicMinWidth=E-U+q),g},isEndOfWrapping:function(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line},missingNewlineOffset:function(f){return this.splitByGrapheme?this.isEndOfWrapping(f)?1:0:1},_splitTextIntoLines:function(f){for(var u=p.Text.prototype._splitTextIntoLines.call(this,f),l=this._wrapText(u.lines,this.width),c=new Array(l.length),a=0;a<l.length;a++)c[a]=l[a].join("");return u.lines=c,u.graphemeLines=l,u},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var f={};for(var u in this._styleMap)this._textLines[u]&&(f[this._styleMap[u].line]=1);for(var u in this.styles)f[u]||delete this.styles[u]},toObject:function(f){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(f))}}),p.Textbox.fromObject=function(f,u){var l=p.util.stylesFromArray(f.styles,f.text),c=Object.assign({},f,{styles:l});return p.Object._fromObject("Textbox",c,u,"text")}}(G),function(){var _=C.controlsUtils,p=_.scaleSkewCursorStyleHandler,f=_.scaleCursorStyleHandler,u=_.scalingEqually,l=_.scalingYOrSkewingX,c=_.scalingXOrSkewingY,a=_.scaleOrSkewActionName,d=C.Object.prototype.controls;if(d.ml=new C.Control({x:-.5,y:0,cursorStyleHandler:p,actionHandler:c,getActionName:a}),d.mr=new C.Control({x:.5,y:0,cursorStyleHandler:p,actionHandler:c,getActionName:a}),d.mb=new C.Control({x:0,y:.5,cursorStyleHandler:p,actionHandler:l,getActionName:a}),d.mt=new C.Control({x:0,y:-.5,cursorStyleHandler:p,actionHandler:l,getActionName:a}),d.tl=new C.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:u}),d.tr=new C.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:u}),d.bl=new C.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:u}),d.br=new C.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:u}),d.mtr=new C.Control({x:0,y:-.5,actionHandler:_.rotationWithSnapping,cursorStyleHandler:_.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),C.Textbox){var g=C.Textbox.prototype.controls={};g.mtr=d.mtr,g.tr=d.tr,g.br=d.br,g.tl=d.tl,g.bl=d.bl,g.mt=d.mt,g.mb=d.mb,g.mr=new C.Control({x:.5,y:0,actionHandler:_.changeWidth,cursorStyleHandler:p,actionName:"resizing"}),g.ml=new C.Control({x:-.5,y:0,actionHandler:_.changeWidth,cursorStyleHandler:p,actionName:"resizing"})}}()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,be;be=()=>(()=>{"use strict";var __webpack_modules__=[,(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.VerbosityLevel=G.Util=G.UnknownErrorException=G.UnexpectedResponseException=G.UNSUPPORTED_FEATURES=G.TextRenderingMode=G.StreamType=G.RenderingIntentFlag=G.PermissionFlag=G.PasswordResponses=G.PasswordException=G.PageActionEventType=G.OPS=G.MissingPDFException=G.InvalidPDFException=G.ImageKind=G.IDENTITY_MATRIX=G.FormatError=G.FontType=G.FeatureTest=G.FONT_IDENTITY_MATRIX=G.DocumentActionEventType=G.CMapCompressionType=G.BaseException=G.AnnotationType=G.AnnotationStateModelType=G.AnnotationReviewState=G.AnnotationReplyType=G.AnnotationMode=G.AnnotationMarkedState=G.AnnotationFlag=G.AnnotationFieldFlag=G.AnnotationBorderStyleType=G.AnnotationActionEventType=G.AbortException=void 0,G.arrayByteLength=X,G.arraysToBytes=function ee(xe){const ae=xe.length;if(1===ae&&xe[0]instanceof Uint8Array)return xe[0];let he=0;for(let Le=0;Le<ae;Le++)he+=X(xe[Le]);let ke=0;const Pe=new Uint8Array(he);for(let Le=0;Le<ae;Le++){let Fe=xe[Le];Fe instanceof Uint8Array||(Fe="string"==typeof Fe?z(Fe):new Uint8Array(Fe));const Je=Fe.byteLength;Pe.set(Fe,ke),ke+=Je}return Pe},G.assert=function ce(xe,ae){xe||W(ae)},G.bytesToString=function H(xe){("object"!=typeof xe||null===xe||void 0===xe.length)&&W("Invalid argument for bytesToString");const ae=xe.length;if(ae<8192)return String.fromCharCode.apply(null,xe);const ke=[];for(let Pe=0;Pe<ae;Pe+=8192){const Le=Math.min(Pe+8192,ae),Fe=xe.subarray(Pe,Le);ke.push(String.fromCharCode.apply(null,Fe))}return ke.join("")},G.createPromiseCapability=function et(){const xe=Object.create(null);let ae=!1;return Object.defineProperty(xe,"settled",{get:()=>ae}),xe.promise=new Promise(function(he,ke){xe.resolve=function(Pe){ae=!0,he(Pe)},xe.reject=function(Pe){ae=!0,ke(Pe)}}),xe},G.createValidAbsoluteUrl=function _e(xe,ae=null,he=null){if(!xe)return null;try{if(he&&"string"==typeof xe){if(he.addDefaultProtocol&&xe.startsWith("www.")){const Pe=xe.match(/\./g);Pe&&Pe.length>=2&&(xe=`http://${xe}`)}if(he.tryConvertEncoding)try{xe=Te(xe)}catch{}}const ke=ae?new URL(xe,ae):new URL(xe);if(function pe(xe){if(!xe)return!1;switch(xe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ke))return ke}catch{}return null},G.escapeString=function ie(xe){return xe.replace(/([()\\\n\r])/g,ae=>"\n"===ae?"\\n":"\r"===ae?"\\r":`\\${ae}`)},G.getModificationDate=function Ie(xe=new Date){return[xe.getUTCFullYear().toString(),(xe.getUTCMonth()+1).toString().padStart(2,"0"),xe.getUTCDate().toString().padStart(2,"0"),xe.getUTCHours().toString().padStart(2,"0"),xe.getUTCMinutes().toString().padStart(2,"0"),xe.getUTCSeconds().toString().padStart(2,"0")].join("")},G.getVerbosityLevel=function re(){return q},G.info=function le(xe){q>=M.INFOS&&console.log(`Info: ${xe}`)},G.isArrayBuffer=function Oe(xe){return"object"==typeof xe&&null!==xe&&void 0!==xe.byteLength},G.isArrayEqual=function He(xe,ae){if(xe.length!==ae.length)return!1;for(let he=0,ke=xe.length;he<ke;he++)if(xe[he]!==ae[he])return!1;return!0},G.isAscii=function we(xe){return/^[\x00-\x7F]*$/.test(xe)},G.objectFromMap=function K(xe){const ae=Object.create(null);for(const[he,ke]of xe)ae[he]=ke;return ae},G.objectSize=function ne(xe){return Object.keys(xe).length},G.setVerbosityLevel=function Q(xe){Number.isInteger(xe)&&(q=xe)},G.shadow=B,G.string32=function de(xe){return String.fromCharCode(xe>>24&255,xe>>16&255,xe>>8&255,255&xe)},G.stringToBytes=z,G.stringToPDFString=function te(xe){if(xe[0]>="\xef"){let he;if("\xfe"===xe[0]&&"\xff"===xe[1]?he="utf-16be":"\xff"===xe[0]&&"\xfe"===xe[1]?he="utf-16le":"\xef"===xe[0]&&"\xbb"===xe[1]&&"\xbf"===xe[2]&&(he="utf-8"),he)try{const ke=new TextDecoder(he,{fatal:!0}),Pe=z(xe);return ke.decode(Pe)}catch(ke){ue(`stringToPDFString: "${ke}".`)}}const ae=[];for(let he=0,ke=xe.length;he<ke;he++){const Pe=j[xe.charCodeAt(he)];ae.push(Pe?String.fromCharCode(Pe):xe.charAt(he))}return ae.join("")},G.stringToUTF16BEString=function Se(xe){const ae=["\xfe\xff"];for(let he=0,ke=xe.length;he<ke;he++){const Pe=xe.charCodeAt(he);ae.push(String.fromCharCode(Pe>>8&255),String.fromCharCode(255&Pe))}return ae.join("")},G.stringToUTF8String=Te,G.unreachable=W,G.utf8StringToString=function De(xe){return unescape(encodeURIComponent(xe))},G.warn=ue,be(2),G.IDENTITY_MATRIX=[1,0,0,1,0,0],G.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],G.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},G.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},G.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},G.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},G.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},G.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},G.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},G.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},G.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},G.AnnotationReplyType={GROUP:"Group",REPLY:"R"},G.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},G.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},G.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},G.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},G.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},G.PageActionEventType={O:"PageOpen",C:"PageClose"},G.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},G.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const M={ERRORS:0,WARNINGS:1,INFOS:5};G.VerbosityLevel=M,G.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},G.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},G.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},G.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let q=M.WARNINGS;function ue(xe){q>=M.WARNINGS&&console.log(`Warning: ${xe}`)}function W(xe){throw new Error(xe)}function B(xe,ae,he){return Object.defineProperty(xe,ae,{value:he,enumerable:!0,configurable:!0,writable:!1}),he}const F=function(){function ae(he,ke){this.constructor===ae&&W("Cannot initialize BaseException."),this.message=he,this.name=ke}return ae.prototype=new Error,ae.constructor=ae,ae}();function z(xe){"string"!=typeof xe&&W("Invalid argument for stringToBytes");const ae=xe.length,he=new Uint8Array(ae);for(let ke=0;ke<ae;++ke)he[ke]=255&xe.charCodeAt(ke);return he}function X(xe){return void 0!==xe.length?xe.length:void 0!==xe.byteLength?xe.byteLength:void W("Invalid argument for arrayByteLength")}G.BaseException=F,G.PasswordException=class k extends F{constructor(ae,he){super(ae,"PasswordException"),this.code=he}},G.UnknownErrorException=class P extends F{constructor(ae,he){super(ae,"UnknownErrorException"),this.details=he}},G.InvalidPDFException=class S extends F{constructor(ae){super(ae,"InvalidPDFException")}},G.MissingPDFException=class A extends F{constructor(ae){super(ae,"MissingPDFException")}},G.UnexpectedResponseException=class O extends F{constructor(ae,he){super(ae,"UnexpectedResponseException"),this.status=he}},G.FormatError=class I extends F{constructor(ae){super(ae,"FormatError")}},G.AbortException=class N extends F{constructor(ae){super(ae,"AbortException")}},G.FeatureTest=class oe{static get isLittleEndian(){return B(this,"isLittleEndian",function ve(){const xe=new Uint8Array(4);return xe[0]=1,1===new Uint32Array(xe.buffer,0,1)[0]}())}static get isEvalSupported(){return B(this,"isEvalSupported",function ye(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return B(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const ge=[...Array(256).keys()].map(xe=>xe.toString(16).padStart(2,"0"));class fe{static makeHexColor(ae,he,ke){return`#${ge[ae]}${ge[he]}${ge[ke]}`}static scaleMinMax(ae,he){let ke;ae[0]?(ae[0]<0&&(ke=he[0],he[0]=he[1],he[1]=ke),he[0]*=ae[0],he[1]*=ae[0],ae[3]<0&&(ke=he[2],he[2]=he[3],he[3]=ke),he[2]*=ae[3],he[3]*=ae[3]):(ke=he[0],he[0]=he[2],he[2]=ke,ke=he[1],he[1]=he[3],he[3]=ke,ae[1]<0&&(ke=he[2],he[2]=he[3],he[3]=ke),he[2]*=ae[1],he[3]*=ae[1],ae[2]<0&&(ke=he[0],he[0]=he[1],he[1]=ke),he[0]*=ae[2],he[1]*=ae[2]),he[0]+=ae[4],he[1]+=ae[4],he[2]+=ae[5],he[3]+=ae[5]}static transform(ae,he){return[ae[0]*he[0]+ae[2]*he[1],ae[1]*he[0]+ae[3]*he[1],ae[0]*he[2]+ae[2]*he[3],ae[1]*he[2]+ae[3]*he[3],ae[0]*he[4]+ae[2]*he[5]+ae[4],ae[1]*he[4]+ae[3]*he[5]+ae[5]]}static applyTransform(ae,he){return[ae[0]*he[0]+ae[1]*he[2]+he[4],ae[0]*he[1]+ae[1]*he[3]+he[5]]}static applyInverseTransform(ae,he){const ke=he[0]*he[3]-he[1]*he[2];return[(ae[0]*he[3]-ae[1]*he[2]+he[2]*he[5]-he[4]*he[3])/ke,(-ae[0]*he[1]+ae[1]*he[0]+he[4]*he[1]-he[5]*he[0])/ke]}static getAxialAlignedBoundingBox(ae,he){const ke=fe.applyTransform(ae,he),Pe=fe.applyTransform(ae.slice(2,4),he),Le=fe.applyTransform([ae[0],ae[3]],he),Fe=fe.applyTransform([ae[2],ae[1]],he);return[Math.min(ke[0],Pe[0],Le[0],Fe[0]),Math.min(ke[1],Pe[1],Le[1],Fe[1]),Math.max(ke[0],Pe[0],Le[0],Fe[0]),Math.max(ke[1],Pe[1],Le[1],Fe[1])]}static inverseTransform(ae){const he=ae[0]*ae[3]-ae[1]*ae[2];return[ae[3]/he,-ae[1]/he,-ae[2]/he,ae[0]/he,(ae[2]*ae[5]-ae[4]*ae[3])/he,(ae[4]*ae[1]-ae[5]*ae[0])/he]}static apply3dTransform(ae,he){return[ae[0]*he[0]+ae[1]*he[1]+ae[2]*he[2],ae[3]*he[0]+ae[4]*he[1]+ae[5]*he[2],ae[6]*he[0]+ae[7]*he[1]+ae[8]*he[2]]}static singularValueDecompose2dScale(ae){const he=[ae[0],ae[2],ae[1],ae[3]],ke=ae[0]*he[0]+ae[1]*he[2],Fe=ae[2]*he[1]+ae[3]*he[3],Je=(ke+Fe)/2,Ge=Math.sqrt((ke+Fe)**2-4*(ke*Fe-(ae[2]*he[0]+ae[3]*he[2])*(ae[0]*he[1]+ae[1]*he[3])))/2,Qe=Je-Ge||1;return[Math.sqrt(Je+Ge||1),Math.sqrt(Qe)]}static normalizeRect(ae){const he=ae.slice(0);return ae[0]>ae[2]&&(he[0]=ae[2],he[2]=ae[0]),ae[1]>ae[3]&&(he[1]=ae[3],he[3]=ae[1]),he}static intersect(ae,he){const ke=Math.max(Math.min(ae[0],ae[2]),Math.min(he[0],he[2])),Pe=Math.min(Math.max(ae[0],ae[2]),Math.max(he[0],he[2]));if(ke>Pe)return null;const Le=Math.max(Math.min(ae[1],ae[3]),Math.min(he[1],he[3])),Fe=Math.min(Math.max(ae[1],ae[3]),Math.max(he[1],he[3]));return Le>Fe?null:[ke,Le,Pe,Fe]}static bezierBoundingBox(ae,he,ke,Pe,Le,Fe,Je,Ge){const ct=[],Qe=[[],[]];let nt,ot,Ft,it,bt,Tt,gt,kt;for(let ei=0;ei<2;++ei)if(0===ei?(ot=6*ae-12*ke+6*Le,nt=-3*ae+9*ke-9*Le+3*Je,Ft=3*ke-3*ae):(ot=6*he-12*Pe+6*Fe,nt=-3*he+9*Pe-9*Fe+3*Ge,Ft=3*Pe-3*he),Math.abs(nt)<1e-12){if(Math.abs(ot)<1e-12)continue;it=-Ft/ot,0<it&&it<1&&ct.push(it)}else gt=ot*ot-4*Ft*nt,kt=Math.sqrt(gt),!(gt<0)&&(bt=(-ot+kt)/(2*nt),0<bt&&bt<1&&ct.push(bt),Tt=(-ot-kt)/(2*nt),0<Tt&&Tt<1&&ct.push(Tt));let At,zt=ct.length;const bn=zt;for(;zt--;)it=ct[zt],At=1-it,Qe[0][zt]=At*At*At*ae+3*At*At*it*ke+3*At*it*it*Le+it*it*it*Je,Qe[1][zt]=At*At*At*he+3*At*At*it*Pe+3*At*it*it*Fe+it*it*it*Ge;return Qe[0][bn]=ae,Qe[1][bn]=he,Qe[0][bn+1]=Je,Qe[1][bn+1]=Ge,Qe[0].length=Qe[1].length=bn+2,[Math.min(...Qe[0]),Math.min(...Qe[1]),Math.max(...Qe[0]),Math.max(...Qe[1])]}}G.Util=fe;const j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Te(xe){return decodeURIComponent(escape(xe))}},(Ee,G,be)=>{be(3)},(Ee,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.isNodeJS=void 0;const be=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);G.isNodeJS=be},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ee,be,C,Ce,e,D,V,Y,er,p;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:u,NodeCMapReaderFactory:l,NodeStandardFontDataFactory:c}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=u,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=l,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=c}function setPDFNetworkStreamFactory(u){createPDFNetworkStream=u}function getDocument(u){const l=new PDFDocumentLoadingTask;let c;if("string"==typeof u||u instanceof URL)c={url:u};else if((0,_util.isArrayBuffer)(u))c={data:u};else if(u instanceof PDFDataRangeTransport)c={range:u};else{if("object"!=typeof u)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!u.url&&!u.data&&!u.range)throw new Error("Invalid parameter object: need either .data, .range or .url");c=u}const a=Object.create(null);let d=null,g=null;for(const m in c){const b=c[m];switch(m){case"url":if(typeof window<"u")try{a[m]=new URL(b,window.location).href;continue}catch(v){(0,_util.warn)(`Cannot create valid URL: "${v}".`)}else if("string"==typeof b||b instanceof URL){a[m]=b.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":d=b;continue;case"worker":g=b;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&b instanceof Buffer)a[m]=new Uint8Array(b);else{if(b instanceof Uint8Array)break;if("string"==typeof b)a[m]=(0,_util.stringToBytes)(b);else if("object"!=typeof b||null===b||isNaN(b.length)){if(!(0,_util.isArrayBuffer)(b))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");a[m]=new Uint8Array(b)}else a[m]=new Uint8Array(b)}continue}a[m]=b}if(a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.StandardFontDataFactory=a.StandardFontDataFactory||DefaultStandardFontDataFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.fontExtraProperties=!0===a.fontExtraProperties,a.pdfBug=!0===a.pdfBug,a.enableXfa=!0===a.enableXfa,(!Number.isInteger(a.rangeChunkSize)||a.rangeChunkSize<1)&&(a.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof a.docBaseUrl||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),(!Number.isInteger(a.maxImageSize)||a.maxImageSize<-1)&&(a.maxImageSize=-1),"string"!=typeof a.cMapUrl&&(a.cMapUrl=null),"string"!=typeof a.standardFontDataUrl&&(a.standardFontDataUrl=null),"boolean"!=typeof a.useWorkerFetch&&(a.useWorkerFetch=a.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&a.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof a.useSystemFonts&&(a.useSystemFonts=!_is_node.isNodeJS&&!a.disableFontFace),("object"!=typeof a.ownerDocument||null===a.ownerDocument)&&(a.ownerDocument=globalThis.document),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!g){const m={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};g=m.port?PDFWorker.fromPort(m):new PDFWorker(m),l._worker=g}const h=l.docId;return g.promise.then(function(){if(l.destroyed)throw new Error("Loading aborted");const m=_fetchDocument(g,a,d,h),b=new Promise(function(v){let y;d?y=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},d):a.data||(y=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),v(y)});return Promise.all([m,b]).then(function([v,y]){if(l.destroyed)throw new Error("Loading aborted");const M=new _message_handler.MessageHandler(h,v,g.port),w=new WorkerTransport(M,l,y,a);l._transport=w,M.send("Ready",null)})}).catch(l._capability.reject),l}function _fetchDocument(u,l,c,a){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(u,l,c,a){if(u.destroyed)throw new Error("Worker was destroyed");c&&(l.length=c.length,l.initialData=c.initialData,l.progressiveDone=c.progressiveDone,l.contentDispositionFilename=c.contentDispositionFilename);const d=yield u.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.14.305",source:{data:l.data,url:l.url,password:l.password,disableAutoFetch:l.disableAutoFetch,rangeChunkSize:l.rangeChunkSize,length:l.length},maxImageSize:l.maxImageSize,disableFontFace:l.disableFontFace,docBaseUrl:l.docBaseUrl,ignoreErrors:l.ignoreErrors,isEvalSupported:l.isEvalSupported,fontExtraProperties:l.fontExtraProperties,enableXfa:l.enableXfa,useSystemFonts:l.useSystemFonts,cMapUrl:l.useWorkerFetch?l.cMapUrl:null,standardFontDataUrl:l.useWorkerFetch?l.standardFontDataUrl:null});if(u.destroyed)throw new Error("Worker was destroyed");return d})).apply(this,arguments)}const G=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+jl(G,Ee)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var l=this;return _asyncToGenerator(function*(){l.destroyed=!0,yield l._transport?.destroy(),l._transport=null,l._worker&&(l._worker.destroy(),l._worker=null)})()}};let PDFDocumentLoadingTask=G;Ee=new WeakMap,je(PDFDocumentLoadingTask,Ee,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(l,c,a=!1,d=null){this.length=l,this.initialData=c,this.progressiveDone=a,this.contentDispositionFilename=d,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(l){this._rangeListeners.push(l)}addProgressListener(l){this._progressListeners.push(l)}addProgressiveReadListener(l){this._progressiveReadListeners.push(l)}addProgressiveDoneListener(l){this._progressiveDoneListeners.push(l)}onDataRange(l,c){for(const a of this._rangeListeners)a(l,c)}onDataProgress(l,c){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(l,c)})}onDataProgressiveRead(l){this._readyCapability.promise.then(()=>{for(const c of this._progressiveReadListeners)c(l)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const l of this._progressiveDoneListeners)l()})}transportReady(){this._readyCapability.resolve()}requestDataRange(l,c){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(l,c){var d,a=this;this._pdfInfo=l,this._transport=c,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(d=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),a.stats||{streamTypes:{},fontTypes:{}}}),function(){return d.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(l){return this._transport.getPage(l)}getPageIndex(l){return this._transport.getPageIndex(l)}getDestinations(){return this._transport.getDestinations()}getDestination(l){return this._transport.getDestination(l)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(l=!1){return this._transport.startCleanup(l||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(l,c,a,d,g=!1){this._pageIndex=l,this._pageInfo=c,this._ownerDocument=d,this._transport=a,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:l,rotation:c=this.rotate,offsetX:a=0,offsetY:d=0,dontFlip:g=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:l,rotation:c,offsetX:a,offsetY:d,dontFlip:g})}getAnnotations({intent:l="display"}={}){const c=this._transport.getRenderingIntent(l);let a=this._annotationPromises.get(c.cacheKey);return a||(a=this._transport.getAnnotations(this._pageIndex,c.renderingIntent),this._annotationPromises.set(c.cacheKey,a),a=a.then(d=>{for(const g of d)void 0!==g.titleObj&&Object.defineProperty(g,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),g.titleObj.str)}),void 0!==g.contentsObj&&Object.defineProperty(g,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),g.contentsObj.str)});return d})),a}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var l=this;return _asyncToGenerator(function*(){return l._transport._htmlForXfa?.children[l._pageIndex]||null})()}render({canvasContext:l,viewport:c,intent:a="display",annotationMode:d=_util.AnnotationMode.ENABLE,transform:g=null,imageLayer:h=null,canvasFactory:m=null,background:b=null,optionalContentConfigPromise:v=null,annotationCanvasMap:y=null,pageColors:M=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&d===_util.AnnotationMode.ENABLE&&(d=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&d===_util.AnnotationMode.ENABLE&&(d=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const w=this._transport.getRenderingIntent(a,d);this.pendingCleanup=!1,v||(v=this._transport.getOptionalContentConfig());let E=this._intentStates.get(w.cacheKey);E||(E=Object.create(null),this._intentStates.set(w.cacheKey,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const Z=m||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),U=!!(w.renderingIntent&_util.RenderingIntentFlag.PRINT);E.displayReadyCapability||(E.displayReadyCapability=(0,_util.createPromiseCapability)(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(w));const q=le=>{E.renderTasks.delete(Q),(this.cleanupAfterRender||U)&&(this.pendingCleanup=!0),this._tryCleanup(),le?(Q.capability.reject(le),this._abortOperatorList({intentState:E,reason:le instanceof Error?le:new Error(le)})):Q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Q=new InternalRenderTask({callback:q,params:{canvasContext:l,viewport:c,transform:g,imageLayer:h,background:b},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:y,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:Z,useRequestAnimationFrame:!U,pdfBug:this._pdfBug,pageColors:M});(E.renderTasks||(E.renderTasks=new Set)).add(Q);const re=Q.task;return Promise.all([E.displayReadyCapability.promise,v]).then(([le,ue])=>{this.pendingCleanup?q():(this._stats&&this._stats.time("Rendering"),Q.initializeGraphics({transparency:le,optionalContentConfig:ue}),Q.operatorListChanged())}).catch(q),re}getOperatorList({intent:l="display",annotationMode:c=_util.AnnotationMode.ENABLE}={}){const d=this._transport.getRenderingIntent(l,c,!0);let h,g=this._intentStates.get(d.cacheKey);return g||(g=Object.create(null),this._intentStates.set(d.cacheKey,g)),g.opListReadCapability||(h=Object.create(null),h.operatorListChanged=function a(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(h))},g.opListReadCapability=(0,_util.createPromiseCapability)(),(g.renderTasks||(g.renderTasks=new Set)).add(h),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(d)),g.opListReadCapability.promise}streamTextContent({disableCombineTextItems:l=!1,includeMarkedContent:c=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==l,includeMarkedContent:!0===c},{highWaterMark:100,size:d=>d.items.length})}getTextContent(l={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>_xfa_text.XfaText.textContent(a));const c=this.streamTextContent(l);return new Promise(function(a,d){const h=c.getReader(),m={items:[],styles:Object.create(null)};!function g(){h.read().then(function({value:b,done:v}){v?a(m):(Object.assign(m.styles,b.styles),m.items.push(...b.items),g())},d)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const l=[];for(const c of this._intentStates.values())if(this._abortOperatorList({intentState:c,reason:new Error("Page was destroyed."),force:!0}),!c.opListReadCapability)for(const a of c.renderTasks)l.push(a.completed),a.cancel();this.objs.clear();for(const c of this._bitmaps)c.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(l)}cleanup(l=!1){return this.pendingCleanup=!0,this._tryCleanup(l)}_tryCleanup(l=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:c,operatorList:a}of this._intentStates.values())if(c.size>0||!a.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,l&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const c of this._bitmaps)c.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(l,c){const a=this._intentStates.get(c);!a||(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(l))}_renderPageChunk(l,c){for(let a=0,d=l.length;a<d;a++)c.operatorList.fnArray.push(l.fnArray[a]),c.operatorList.argsArray.push(l.argsArray[a]);c.operatorList.lastChunk=l.lastChunk;for(const a of c.renderTasks)a.operatorListChanged();l.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:l,cacheKey:c}){const d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:l,cacheKey:c,annotationStorage:l&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),g=this._intentStates.get(c);g.streamReader=d;const h=()=>{d.read().then(({value:m,done:b})=>{b?g.streamReader=null:this._transport.destroyed||(this._renderPageChunk(m,g),h())},m=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const b of g.renderTasks)b.operatorListChanged();this._tryCleanup()}if(g.displayReadyCapability)g.displayReadyCapability.reject(m);else{if(!g.opListReadCapability)throw m;g.opListReadCapability.reject(m)}}})};h()}_abortOperatorList({intentState:l,reason:c,force:a=!1}){if(l.streamReader){if(!a){if(l.renderTasks.size>0)return;if(c instanceof _display_utils.RenderingCancelledException)return void(l.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:l,reason:c,force:!0}),l.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(l.streamReader.cancel(new _util.AbortException(c.message)).catch(()=>{}),l.streamReader=null,!this._transport.destroyed){for(const[d,g]of this._intentStates)if(g===l){this._intentStates.delete(d);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(l,c){const a={data:structuredClone(l,c)};this._deferred.then(()=>{for(const d of this._listeners)d.call(this,a)})}addEventListener(l,c){this._listeners.push(c)}removeEventListener(l,c){const a=this._listeners.indexOf(c);this._listeners.splice(a,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const u=document?.currentScript?.src;u&&(PDFWorkerUtil.fallbackWorkerSrc=u.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(u,l){let c;try{if(c=new URL(u),!c.origin||"null"===c.origin)return!1}catch{return!1}const a=new URL(l,c);return c.origin===a.origin},PDFWorkerUtil.createCDNWrapper=function(u){return URL.createObjectURL(new Blob([`importScripts("${u}");`]))};const _PDFWorker=class{constructor({name:u=null,port:l=null,verbosity:c=(0,_util.getVerbosityLevel)()}={}){if(l&&Ze(_PDFWorker,be).has(l))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=u,this.destroyed=!1,this.verbosity=c,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,l)return Ze(_PDFWorker,be).set(l,this),void this._initializeFromPort(l);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(u){this._port=u,this._messageHandler=new _message_handler.MessageHandler("main","worker",u),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let u=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,u)||(u=PDFWorkerUtil.createCDNWrapper(new URL(u,window.location).href));const l=new Worker(u),c=new _message_handler.MessageHandler("main","worker",l),a=()=>{l.removeEventListener("error",d),c.destroy(),l.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},d=()=>{this._webWorker||a()};l.addEventListener("error",d),c.on("test",h=>{l.removeEventListener("error",d),this.destroyed?a():h?(this._messageHandler=c,this._port=l,this._webWorker=l,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),c.destroy(),l.terminate())}),c.on("ready",h=>{if(l.removeEventListener("error",d),this.destroyed)a();else try{g()}catch{this._setupFakeWorker()}});const g=()=>{const h=new Uint8Array;c.send("test",h,[h.buffer])};return void g()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(u=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const l=new LoopbackPort;this._port=l;const c="fake"+PDFWorkerUtil.fakeWorkerId++,a=new _message_handler.MessageHandler(c+"_worker",c,l);u.setup(a,l);const d=new _message_handler.MessageHandler(c,c+"_worker",l);this._messageHandler=d,this._readyCapability.resolve(),d.send("configure",{verbosity:this.verbosity})}).catch(u=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${u.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ze(_PDFWorker,be).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(u){if(!u?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ze(this,be).has(u.port)?Ze(this,be).get(u.port):new _PDFWorker(u)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function u(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;be=new WeakMap,je(PDFWorker,be,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(l,c,a,d){je(this,C,null),je(this,Ce,new Map),je(this,e,new Map),je(this,D,null),this.messageHandler=l,this.loadingTask=c,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:c.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:d.ownerDocument,styleElement:d.styleElement}),this._params=d,d.useWorkerFetch||(this.CMapReaderFactory=new d.CMapReaderFactory({baseUrl:d.cMapUrl,isCompressed:d.cMapPacked}),this.StandardFontDataFactory=new d.StandardFontDataFactory({baseUrl:d.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ze(this,C)}getRenderingIntent(l,c=_util.AnnotationMode.ENABLE,a=!1){let d=_util.RenderingIntentFlag.DISPLAY,g="";switch(l){case"any":d=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":d=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${l}`)}switch(c){case _util.AnnotationMode.DISABLE:d+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:d+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:d+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,g=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${c}`)}return a&&(d+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:d,cacheKey:`${d}_${g}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const l=[];for(const a of Ze(this,Ce).values())l.push(a._destroy());Ze(this,Ce).clear(),Ze(this,e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const c=this.messageHandler.sendWithPromise("Terminate",null);return l.push(c),Promise.all(l).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),lt(this,D,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:l,loadingTask:c}=this;l.on("GetReader",(a,d)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},d.onPull=()=>{this._fullReader.read().then(function({value:g,done:h}){h?d.close():((0,_util.assert)((0,_util.isArrayBuffer)(g),"GetReader - expected an ArrayBuffer."),d.enqueue(new Uint8Array(g),1,[g]))}).catch(g=>{d.error(g)})},d.onCancel=g=>{this._fullReader.cancel(g),d.ready.catch(h=>{if(!this.destroyed)throw h})}}),l.on("ReaderHeadersReady",a=>{const d=(0,_util.createPromiseCapability)(),g=this._fullReader;return g.headersReady.then(()=>{(!g.isStreamingSupported||!g.isRangeSupported)&&(this._lastProgress&&c.onProgress?.(this._lastProgress),g.onProgress=h=>{c.onProgress?.({loaded:h.loaded,total:h.total})}),d.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},d.reject),d.promise}),l.on("GetRangeReader",(a,d)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(a.begin,a.end);g?(d.onPull=()=>{g.read().then(function({value:h,done:m}){m?d.close():((0,_util.assert)((0,_util.isArrayBuffer)(h),"GetRangeReader - expected an ArrayBuffer."),d.enqueue(new Uint8Array(h),1,[h]))}).catch(h=>{d.error(h)})},d.onCancel=h=>{g.cancel(h),d.ready.catch(m=>{if(!this.destroyed)throw m})}):d.close()}),l.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,c._capability.resolve(new PDFDocumentProxy(a,this))}),l.on("DocException",function(a){let d;switch(a.name){case"PasswordException":d=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":d=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":d=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":d=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":d=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}c._capability.reject(d)}),l.on("PasswordRequest",a=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),c.onPassword){const d=g=>{g instanceof Error?this._passwordCapability.reject(g):this._passwordCapability.resolve({password:g})};try{c.onPassword(d,a.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return this._passwordCapability.promise}),l.on("DataLoaded",a=>{c.onProgress?.({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),l.on("StartRenderPage",a=>{this.destroyed||Ze(this,Ce).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),l.on("commonobj",([a,d,g])=>{if(!this.destroyed&&!this.commonObjs.has(a))switch(d){case"Font":const h=this._params;if("error"in g){const v=g.error;(0,_util.warn)(`Error during font loading: ${v}`),this.commonObjs.resolve(a,v);break}let m=null;h.pdfBug&&globalThis.FontInspector?.enabled&&(m={registerFont(v,y){globalThis.FontInspector.fontAdded(v,y)}});const b=new _font_loader.FontFaceObject(g,{isEvalSupported:h.isEvalSupported,disableFontFace:h.disableFontFace,ignoreErrors:h.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:m});this.fontLoader.bind(b).catch(v=>l.sendWithPromise("FontFallback",{id:a})).finally(()=>{!h.fontExtraProperties&&b.data&&(b.data=null),this.commonObjs.resolve(a,b)});break;case"FontPath":case"Image":this.commonObjs.resolve(a,g);break;default:throw new Error(`Got unknown common object type ${d}`)}}),l.on("obj",([a,d,g,h])=>{if(this.destroyed)return;const m=Ze(this,Ce).get(d);if(!m.objs.has(a))switch(g){case"Image":m.objs.resolve(a,h);const b=8e6;if(h){let v;if(h.bitmap){const{bitmap:y,width:M,height:w}=h;v=M*w*4,m._bitmaps.add(y)}else v=h.data?.length||0;v>b&&(m.cleanupAfterRender=!0)}break;case"Pattern":m.objs.resolve(a,h);break;default:throw new Error(`Got unknown object type ${g}`)}}),l.on("DocProgress",a=>{this.destroyed||c.onProgress?.({loaded:a.loaded,total:a.total})}),l.on("DocStats",a=>{this.destroyed||lt(this,C,Object.freeze({streamTypes:Object.freeze(a.streamTypes),fontTypes:Object.freeze(a.fontTypes)}))}),l.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),l.on("FetchBuiltInCMap",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(a):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),l.on("FetchStandardFontData",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(a):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:l}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(l)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(l){if(!Number.isInteger(l)||l<=0||l>this._numPages)return Promise.reject(new Error("Invalid page request."));const c=l-1,a=Ze(this,e).get(c);if(a)return a;const d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");const h=new PDFPageProxy(c,g,this,this._params.ownerDocument,this._params.pdfBug);return Ze(this,Ce).set(c,h),h});return Ze(this,e).set(c,d),d}getPageIndex(l){return"object"!=typeof l||null===l||!Number.isInteger(l.num)||l.num<0||!Number.isInteger(l.gen)||l.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:l.num,gen:l.gen})}getAnnotations(l,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:l,intent:c})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(l){return"string"!=typeof l?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:l})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(l){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:l})}getStructTree(l){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:l})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(l=>new _optional_content_config.OptionalContentConfig(l))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ze(this,D)||lt(this,D,this.messageHandler.sendWithPromise("GetMetadata",null).then(l=>({info:l[0],metadata:l[1]?new _metadata.Metadata(l[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(l=!1){var c=this;return _asyncToGenerator(function*(){if(yield c.messageHandler.sendWithPromise("Cleanup",null),!c.destroyed){for(const a of Ze(c,Ce).values())if(!a.cleanup())throw new Error(`startCleanup: Page ${a.pageNumber} is currently rendering.`);c.commonObjs.clear(),l||c.fontLoader.clear(),lt(c,D,null),c._getFieldObjectsPromise=null,c._hasJSActionsPromise=null}})()}get loadingParams(){const l=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:l.disableAutoFetch,enableXfa:l.enableXfa})}}C=new WeakMap,Ce=new WeakMap,e=new WeakMap,D=new WeakMap;class PDFObjects{constructor(){je(this,Y),je(this,V,Object.create(null))}get(l,c=null){if(c){const d=Be(this,Y,er).call(this,l);return d.capability.promise.then(()=>c(d.data)),null}const a=Ze(this,V)[l];if(!a?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${l}.`);return a.data}has(l){return Ze(this,V)[l]?.capability.settled||!1}resolve(l,c=null){const a=Be(this,Y,er).call(this,l);a.data=c,a.capability.resolve()}clear(){lt(this,V,Object.create(null))}}V=new WeakMap,Y=new WeakSet,er=function(l){return Ze(this,V)[l]||(Ze(this,V)[l]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(l){this._internalRenderTask=l,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const f=class{constructor({callback:l,params:c,objs:a,commonObjs:d,annotationCanvasMap:g,operatorList:h,pageIndex:m,canvasFactory:b,useRequestAnimationFrame:v=!1,pdfBug:y=!1,pageColors:M=null}){this.callback=l,this.params=c,this.objs=a,this.commonObjs=d,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=h,this._pageIndex=m,this.canvasFactory=b,this._pdfBug=y,this.pageColors=M,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===v&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=c.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:l=!1,optionalContentConfig:c}){if(this.cancelled)return;if(this._canvas){if(Ze(f,p).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ze(f,p).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:d,transform:g,imageLayer:h,background:m}=this.params;this.gfx=new _canvas.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,h,c,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:g,viewport:d,transparency:l,background:m}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(l=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ze(f,p).delete(this._canvas),this.callback(l||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var l=this;return _asyncToGenerator(function*(){l.cancelled||(l.operatorListIdx=l.gfx.executeOperatorList(l.operatorList,l.operatorListIdx,l._continueBound,l.stepper),l.operatorListIdx===l.operatorList.argsArray.length&&(l.running=!1,l.operatorList.lastChunk&&(l.gfx.endDrawing(),l._canvas&&Ze(f,p).delete(l._canvas),l.callback())))})()}};let InternalRenderTask=f;p=new WeakMap,je(InternalRenderTask,p,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.StatTimer=G.RenderingCancelledException=G.PixelsPerInch=G.PageViewport=G.PDFDateString=G.DOMStandardFontDataFactory=G.DOMSVGFactory=G.DOMCanvasFactory=G.DOMCMapReaderFactory=void 0,G.deprecated=function y(U){console.log("Deprecated API usage: "+U)},G.getFilenameFromUrl=function g(U){const q=U.indexOf("#"),Q=U.indexOf("?"),re=Math.min(q>0?q:U.length,Q>0?Q:U.length);return U.substring(U.lastIndexOf("/",re)+1,re)},G.getPdfFilenameFromUrl=function h(U,q="document.pdf"){if("string"!=typeof U)return q;if(a(U))return(0,Ce.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),q;const re=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(U);let ue=re.exec(le[1])||re.exec(le[2])||re.exec(le[3]);if(ue&&(ue=ue[0],ue.includes("%")))try{ue=re.exec(decodeURIComponent(ue))[0]}catch{}return ue||q},G.getXfaPageViewport=function E(U,{scale:q=1,rotation:Q=0}){const{width:re,height:le}=U.attributes.style,ue=[0,0,parseInt(re),parseInt(le)];return new l({viewBox:ue,scale:q,rotation:Q})},G.isDataScheme=a,G.isPdfFile=function d(U){return"string"==typeof U&&/\.pdf$/i.test(U)},G.isValidFetchUrl=b,G.loadScript=function v(U,q=!1){return new Promise((Q,re)=>{const le=document.createElement("script");le.src=U,le.onload=function(ue){q&&le.remove(),Q(ue)},le.onerror=function(){re(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).appendChild(le)})};var C=be(6),Ce=be(1);const Z=class{};let M,D=Z;function Y(U){return _.apply(this,arguments)}function _(){return(_=_asyncToGenerator(function*(U,q=!1){if(b(U,document.baseURI)){const Q=yield fetch(U);if(!Q.ok)throw new Error(Q.statusText);return q?new Uint8Array(yield Q.arrayBuffer()):(0,Ce.stringToBytes)(yield Q.text())}return new Promise((Q,re)=>{const le=new XMLHttpRequest;le.open("GET",U,!0),q&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(200===le.status||0===le.status){let ue;if(q&&le.response?ue=new Uint8Array(le.response):!q&&le.responseText&&(ue=(0,Ce.stringToBytes)(le.responseText)),ue)return void Q(ue)}re(new Error(le.statusText))}},le.send(null)})})).apply(this,arguments)}So(D,"CSS",96),So(D,"PDF",72),So(D,"PDF_TO_CSS_UNITS",Z.CSS/Z.PDF),G.PixelsPerInch=D,G.DOMCanvasFactory=class V extends C.BaseCanvasFactory{constructor({ownerDocument:q=globalThis.document}={}){super(),this._document=q}_createCanvas(q,Q){const re=this._document.createElement("canvas");return re.width=q,re.height=Q,re}},G.DOMCMapReaderFactory=class p extends C.BaseCMapReaderFactory{_fetchData(q,Q){return Y(q,this.isCompressed).then(re=>({cMapData:re,compressionType:Q}))}},G.DOMStandardFontDataFactory=class f extends C.BaseStandardFontDataFactory{_fetchData(q){return Y(q,!0)}},G.DOMSVGFactory=class u extends C.BaseSVGFactory{_createSVG(q){return document.createElementNS("http://www.w3.org/2000/svg",q)}};class l{constructor({viewBox:q,scale:Q,rotation:re,offsetX:le=0,offsetY:ue=0,dontFlip:W=!1}){this.viewBox=q,this.scale=Q,this.rotation=re,this.offsetX=le,this.offsetY=ue;const ce=(q[2]+q[0])/2,pe=(q[3]+q[1])/2;let _e,B,F,k,P,S,A,O;switch((re%=360)<0&&(re+=360),re){case 180:_e=-1,B=0,F=0,k=1;break;case 90:_e=0,B=1,F=1,k=0;break;case 270:_e=0,B=-1,F=-1,k=0;break;case 0:_e=1,B=0,F=0,k=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}W&&(F=-F,k=-k),0===_e?(P=Math.abs(pe-q[1])*Q+le,S=Math.abs(ce-q[0])*Q+ue,A=Math.abs(q[3]-q[1])*Q,O=Math.abs(q[2]-q[0])*Q):(P=Math.abs(ce-q[0])*Q+le,S=Math.abs(pe-q[1])*Q+ue,A=Math.abs(q[2]-q[0])*Q,O=Math.abs(q[3]-q[1])*Q),this.transform=[_e*Q,B*Q,F*Q,k*Q,P-_e*Q*ce-F*Q*pe,S-B*Q*ce-k*Q*pe],this.width=A,this.height=O}clone({scale:q=this.scale,rotation:Q=this.rotation,offsetX:re=this.offsetX,offsetY:le=this.offsetY,dontFlip:ue=!1}={}){return new l({viewBox:this.viewBox.slice(),scale:q,rotation:Q,offsetX:re,offsetY:le,dontFlip:ue})}convertToViewportPoint(q,Q){return Ce.Util.applyTransform([q,Q],this.transform)}convertToViewportRectangle(q){const Q=Ce.Util.applyTransform([q[0],q[1]],this.transform),re=Ce.Util.applyTransform([q[2],q[3]],this.transform);return[Q[0],Q[1],re[0],re[1]]}convertToPdfPoint(q,Q){return Ce.Util.applyInverseTransform([q,Q],this.transform)}}function a(U){const q=U.length;let Q=0;for(;Q<q&&""===U[Q].trim();)Q++;return"data:"===U.substring(Q,Q+5).toLowerCase()}function b(U,q){try{const{protocol:Q}=q?new URL(U,q):new URL(U);return"http:"===Q||"https:"===Q}catch{return!1}}G.PageViewport=l,G.RenderingCancelledException=class c extends Ce.BaseException{constructor(q,Q){super(q,"RenderingCancelledException"),this.type=Q}},G.StatTimer=class m{constructor(){this.started=Object.create(null),this.times=[]}time(q){q in this.started&&(0,Ce.warn)(`Timer is already running for ${q}`),this.started[q]=Date.now()}timeEnd(q){q in this.started||(0,Ce.warn)(`Timer has not been started for ${q}`),this.times.push({name:q,start:this.started[q],end:Date.now()}),delete this.started[q]}toString(){const q=[];let Q=0;for(const re of this.times){const le=re.name;le.length>Q&&(Q=le.length)}for(const re of this.times){const le=re.end-re.start;q.push(`${re.name.padEnd(Q)} ${le}ms\n`)}return q.join("")}},G.PDFDateString=class w{static toDateObject(q){if(!q||"string"!=typeof q)return null;M||(M=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Q=M.exec(q);if(!Q)return null;const re=parseInt(Q[1],10);let le=parseInt(Q[2],10);le=le>=1&&le<=12?le-1:0;let ue=parseInt(Q[3],10);ue=ue>=1&&ue<=31?ue:1;let W=parseInt(Q[4],10);W=W>=0&&W<=23?W:0;let ce=parseInt(Q[5],10);ce=ce>=0&&ce<=59?ce:0;let pe=parseInt(Q[6],10);pe=pe>=0&&pe<=59?pe:0;const _e=Q[7]||"Z";let B=parseInt(Q[8],10);B=B>=0&&B<=23?B:0;let F=parseInt(Q[9],10)||0;return F=F>=0&&F<=59?F:0,"-"===_e?(W+=B,ce+=F):"+"===_e&&(W-=B,ce-=F),new Date(Date.UTC(re,le,ue,W,ce,pe))}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BaseStandardFontDataFactory=G.BaseSVGFactory=G.BaseCanvasFactory=G.BaseCMapReaderFactory=void 0;var C=be(1);class Ce{constructor(){this.constructor===Ce&&(0,C.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,p){if(_<=0||p<=0)throw new Error("Invalid canvas size");const f=this._createCanvas(_,p);return{canvas:f,context:f.getContext("2d")}}reset(_,p,f){if(!_.canvas)throw new Error("Canvas is not specified");if(p<=0||f<=0)throw new Error("Invalid canvas size");_.canvas.width=p,_.canvas.height=f}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,p){(0,C.unreachable)("Abstract method `_createCanvas` called.")}}G.BaseCanvasFactory=Ce;class e{constructor({baseUrl:_=null,isCompressed:p=!1}){this.constructor===e&&(0,C.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=p}fetch({name:_}){var p=this;return _asyncToGenerator(function*(){if(!p.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const f=p.baseUrl+_+(p.isCompressed?".bcmap":"");return p._fetchData(f,p.isCompressed?C.CMapCompressionType.BINARY:C.CMapCompressionType.NONE).catch(l=>{throw new Error(`Unable to load ${p.isCompressed?"binary ":""}CMap at: ${f}`)})})()}_fetchData(_,p){(0,C.unreachable)("Abstract method `_fetchData` called.")}}G.BaseCMapReaderFactory=e;class D{constructor({baseUrl:_=null}){this.constructor===D&&(0,C.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}fetch({filename:_}){var p=this;return _asyncToGenerator(function*(){if(!p.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const f=`${p.baseUrl}${_}`;return p._fetchData(f).catch(u=>{throw new Error(`Unable to load font data at: ${f}`)})})()}_fetchData(_){(0,C.unreachable)("Abstract method `_fetchData` called.")}}G.BaseStandardFontDataFactory=D;class V{constructor(){this.constructor===V&&(0,C.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,p){if(_<=0||p<=0)throw new Error("Invalid SVG dimensions");const f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width",`${_}px`),f.setAttribute("height",`${p}px`),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${_} ${p}`),f}createElement(_){if("string"!=typeof _)throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,C.unreachable)("Abstract method `_createSVG` called.")}}G.BaseSVGFactory=V},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.FontLoader=G.FontFaceObject=void 0;var C=be(1);class Ce{constructor({docId:Y,onUnsupportedFeature:_,ownerDocument:p=globalThis.document,styleElement:f=null}){this.constructor===Ce&&(0,C.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Y,this._onUnsupportedFeature=_,this._document=p,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Y){this.nativeFontFaces.push(Y),this._document.fonts.add(Y)}insertRule(Y){let _=this.styleElement;_||(_=this.styleElement=this._document.createElement("style"),_.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(_));const p=_.sheet;p.insertRule(Y,p.cssRules.length)}clear(){for(const Y of this.nativeFontFaces)this._document.fonts.delete(Y);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(Y){var _=this;return _asyncToGenerator(function*(){if(Y.attached||Y.missingFile)return;if(Y.attached=!0,_.isFontLoadingAPISupported){const f=Y.createNativeFontFace();if(f){_.addNativeFontFace(f);try{yield f.loaded}catch(u){throw _._onUnsupportedFeature({featureId:C.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,C.warn)(`Failed to load font '${f.family}': '${u}'.`),Y.disableFontFace=!0,u}}return}const p=Y.createFontFaceRule();if(p){if(_.insertRule(p),_.isSyncFontLoadingSupported)return;yield new Promise(f=>{const u=_._queueLoadingCallback(f);_._prepareFontLoadEvent([p],[Y],u)})}})()}_queueLoadingCallback(Y){(0,C.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,C.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,C.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,C.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Y,_,p){(0,C.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let e;G.FontLoader=e,G.FontLoader=e=class extends Ce{constructor(Y){super(Y),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Y=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(Y=!0),(0,C.shadow)(this,"isSyncFontLoadingSupported",Y)}_queueLoadingCallback(Y){const p=this.loadingContext,f={id:"pdfjs-font-loading-"+p.nextRequestId++,done:!1,complete:function _(){for((0,C.assert)(!f.done,"completeRequest() cannot be called twice."),f.done=!0;p.requests.length>0&&p.requests[0].done;){const u=p.requests.shift();setTimeout(u.callback,0)}},callback:Y};return p.requests.push(f),f}get _loadTestFont(){return(0,C.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(Y,_,p){function f(Q,re){return Q.charCodeAt(re)<<24|Q.charCodeAt(re+1)<<16|Q.charCodeAt(re+2)<<8|255&Q.charCodeAt(re+3)}function u(Q,re,le,ue){return Q.substring(0,re)+ue+Q.substring(re+le)}let l,c;const a=this._document.createElement("canvas");a.width=1,a.height=1;const d=a.getContext("2d");let g=0;const m=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=u(b,976,m.length,m);const M=1482184792;let w=f(b,16);for(l=0,c=m.length-3;l<c;l+=4)w=w-M+f(m,l)|0;l<m.length&&(w=w-M+f(m+"XXX",l)|0),b=u(b,16,4,(0,C.string32)(w));const E=`url(data:font/opentype;base64,${btoa(b)});`;this.insertRule(`@font-face {font-family:"${m}";src:${E}}`);const U=[];for(const Q of _)U.push(Q.loadedName);U.push(m);const q=this._document.createElement("div");q.style.visibility="hidden",q.style.width=q.style.height="10px",q.style.position="absolute",q.style.top=q.style.left="0px";for(const Q of U){const re=this._document.createElement("span");re.textContent="Hi",re.style.fontFamily=Q,q.appendChild(re)}this._document.body.appendChild(q),function h(Q,re){if(g++,g>30)return(0,C.warn)("Load test font never loaded."),void re();d.font="30px "+Q,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0?re():setTimeout(h.bind(null,Q,re))}(m,()=>{q.remove(),p.complete()})}},G.FontFaceObject=class D{constructor(Y,{isEvalSupported:_=!0,disableFontFace:p=!1,ignoreErrors:f=!1,onUnsupportedFeature:u,fontRegistry:l=null}){this.compiledGlyphs=Object.create(null);for(const c in Y)this[c]=Y[c];this.isEvalSupported=!1!==_,this.disableFontFace=!0===p,this.ignoreErrors=!0===f,this._onUnsupportedFeature=u,this.fontRegistry=l}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Y;if(this.cssFontInfo){const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Y=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}else Y=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),Y}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Y=(0,C.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(Y)});`;let p;if(this.cssFontInfo){let f=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(f+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${f}src:${_}}`}else p=`@font-face {font-family:"${this.loadedName}";src:${_}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,_),p}getPathGenerator(Y,_){if(void 0!==this.compiledGlyphs[_])return this.compiledGlyphs[_];let p;try{p=Y.get(this.loadedName+"_path_"+_)}catch(f){if(!this.ignoreErrors)throw f;return this._onUnsupportedFeature({featureId:C.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,C.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[_]=function(u,l){}}if(this.isEvalSupported&&C.FeatureTest.isEvalSupported){const f=[];for(const u of p){const l=void 0!==u.args?u.args.join(","):"";f.push("c.",u.cmd,"(",l,");\n")}return this.compiledGlyphs[_]=new Function("c","size",f.join(""))}return this.compiledGlyphs[_]=function(f,u){for(const l of p)"scale"===l.cmd&&(l.args=[u,-u]),f[l.cmd].apply(f,l.args)}}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.AnnotationStorage=void 0;var C=be(9),Ce=be(1);G.AnnotationStorage=class e{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(V,Y){const _=this._storage.get(V);return void 0===_?Y:Object.assign(Y,_)}getRawValue(V){return this._storage.get(V)}setValue(V,Y){const _=this._storage.get(V);let p=!1;if(void 0!==_)for(const[f,u]of Object.entries(Y))_[f]!==u&&(p=!0,_[f]=u);else p=!0,this._storage.set(V,Y);p&&this._setModified()}getAll(){return this._storage.size>0?(0,Ce.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const V=new C.MurmurHash3_64;for(const[Y,_]of this._storage)V.update(`${Y}:${JSON.stringify(_)}`);return V.hexdigest()}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MurmurHash3_64=void 0;var C=be(1);const Ce=3285377520,e=4294901760,D=65535;G.MurmurHash3_64=class V{constructor(_){this.h1=_?4294967295&_:Ce,this.h2=_?4294967295&_:Ce}update(_){let p,f;if("string"==typeof _){p=new Uint8Array(2*_.length),f=0;for(let M=0,w=_.length;M<w;M++){const E=_.charCodeAt(M);E<=255?p[f++]=E:(p[f++]=E>>>8,p[f++]=255&E)}}else{if(!(0,C.isArrayBuffer)(_))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");p=_.slice(),f=p.byteLength}const u=f>>2,l=f-4*u,c=new Uint32Array(p.buffer,0,u);let a=0,d=0,g=this.h1,h=this.h2;const m=3432918353,b=461845907,v=m&D,y=b&D;for(let M=0;M<u;M++)1&M?(a=c[M],a=a*m&e|a*v&D,a=a<<15|a>>>17,a=a*b&e|a*y&D,g^=a,g=g<<13|g>>>19,g=5*g+3864292196):(d=c[M],d=d*m&e|d*v&D,d=d<<15|d>>>17,d=d*b&e|d*y&D,h^=d,h=h<<13|h>>>19,h=5*h+3864292196);switch(a=0,l){case 3:a^=p[4*u+2]<<16;case 2:a^=p[4*u+1]<<8;case 1:a^=p[4*u],a=a*m&e|a*v&D,a=a<<15|a>>>17,a=a*b&e|a*y&D,1&u?g^=a:h^=a}this.h1=g,this.h2=h}hexdigest(){let _=this.h1,p=this.h2;_^=p>>>1,_=3981806797*_&e|36045*_&D,p=4283543511*p&e|(2950163797*(p<<16|_>>>16)&e)>>>16,_^=p>>>1,_=444984403*_&e|60499*_&D,p=3301882366*p&e|(3120437893*(p<<16|_>>>16)&e)>>>16,_^=p>>>1;const f=(_>>>0).toString(16),u=(p>>>0).toString(16);return f.padStart(8,"0")+u.padStart(8,"0")}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.CanvasGraphics=void 0;var C=be(1),Ce=be(11),e=be(12),D=be(3),V=be(5);const p=4096,a=16;function h(F){if(F._transformStack&&(F._transformStack=[]),!F.mozCurrentTransform){F._originalSave=F.save,F._originalRestore=F.restore,F._originalRotate=F.rotate,F._originalScale=F.scale,F._originalTranslate=F.translate,F._originalTransform=F.transform,F._originalSetTransform=F.setTransform,F._originalResetTransform=F.resetTransform,F._transformMatrix=F._transformMatrix||[1,0,0,1,0,0],F._transformStack=[];try{const k=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(F),"lineWidth");F._setLineWidth=k.set,F._getLineWidth=k.get,Object.defineProperty(F,"lineWidth",{set:function(S){this._setLineWidth(1.000001*S)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(F,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(F,"mozCurrentTransformInverse",{get:function(){const[P,S,A,O,I,N]=this._transformMatrix,H=P*O-S*A,z=S*A-P*O;return[O/H,S/z,A/z,P/H,(O*I-A*N)/z,(S*I-P*N)/H]}}),F.save=function(){const P=this._transformMatrix;this._transformStack.push(P),this._transformMatrix=P.slice(0,6),this._originalSave()},F.restore=function(){0===this._transformStack.length&&(0,C.warn)("Tried to restore a ctx when the stack was already empty.");const P=this._transformStack.pop();P&&(this._transformMatrix=P,this._originalRestore())},F.translate=function(P,S){const A=this._transformMatrix;A[4]=A[0]*P+A[2]*S+A[4],A[5]=A[1]*P+A[3]*S+A[5],this._originalTranslate(P,S)},F.scale=function(P,S){const A=this._transformMatrix;A[0]*=P,A[1]*=P,A[2]*=S,A[3]*=S,this._originalScale(P,S)},F.transform=function(P,S,A,O,I,N){const H=this._transformMatrix;this._transformMatrix=[H[0]*P+H[2]*S,H[1]*P+H[3]*S,H[0]*A+H[2]*O,H[1]*A+H[3]*O,H[0]*I+H[2]*N+H[4],H[1]*I+H[3]*N+H[5]],F._originalTransform(P,S,A,O,I,N)},F.setTransform=function(P,S,A,O,I,N){this._transformMatrix=[P,S,A,O,I,N],F._originalSetTransform(P,S,A,O,I,N)},F.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],F._originalResetTransform()},F.rotate=function(P){const S=Math.cos(P),A=Math.sin(P),O=this._transformMatrix;this._transformMatrix=[O[0]*S+O[2]*A,O[1]*S+O[3]*A,O[0]*-A+O[2]*S,O[1]*-A+O[3]*S,O[4],O[5]],this._originalRotate(P)}}}class m{constructor(k){this.canvasFactory=k,this.cache=Object.create(null)}getCanvas(k,P,S,A){let O;return void 0!==this.cache[k]?(O=this.cache[k],this.canvasFactory.reset(O,P,S),O.context.setTransform(1,0,0,1,0,0)):(O=this.canvasFactory.create(P,S),this.cache[k]=O),A&&h(O.context),O}delete(k){delete this.cache[k]}clear(){for(const k in this.cache)this.canvasFactory.destroy(this.cache[k]),delete this.cache[k]}}function b(F,k,P,S,A,O,I,N,H,z){const[X,ee,de,ne,K,ve]=F.mozCurrentTransform;if(0===ee&&0===de){const fe=Math.round(I*X+K),te=Math.round(N*ne+ve),we=Math.abs(Math.round((I+H)*X+K)-fe)||1,Te=Math.abs(Math.round((N+z)*ne+ve)-te)||1;return F.setTransform(Math.sign(X),0,0,Math.sign(ne),fe,te),F.drawImage(k,P,S,A,O,0,0,we,Te),F.setTransform(X,ee,de,ne,K,ve),[we,Te]}if(0===X&&0===ne){const fe=Math.round(N*de+K),te=Math.round(I*ee+ve),we=Math.abs(Math.round((N+z)*de+K)-fe)||1,Te=Math.abs(Math.round((I+H)*ee+ve)-te)||1;return F.setTransform(0,Math.sign(ee),Math.sign(de),0,fe,te),F.drawImage(k,P,S,A,O,0,0,Te,we),F.setTransform(X,ee,de,ne,K,ve),[Te,we]}return F.drawImage(k,P,S,A,O,I,N,H,z),[Math.hypot(X,ee)*H,Math.hypot(de,ne)*z]}class y{constructor(k,P){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=C.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=C.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=C.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,k,P])}clone(){const k=Object.create(this);return k.clipBox=this.clipBox.slice(),k}setCurrentPoint(k,P){this.x=k,this.y=P}updatePathMinMax(k,P,S){[P,S]=C.Util.applyTransform([P,S],k),this.minX=Math.min(this.minX,P),this.minY=Math.min(this.minY,S),this.maxX=Math.max(this.maxX,P),this.maxY=Math.max(this.maxY,S)}updateRectMinMax(k,P){const S=C.Util.applyTransform(P,k),A=C.Util.applyTransform(P.slice(2),k);this.minX=Math.min(this.minX,S[0],A[0]),this.minY=Math.min(this.minY,S[1],A[1]),this.maxX=Math.max(this.maxX,S[0],A[0]),this.maxY=Math.max(this.maxY,S[1],A[1])}updateScalingPathMinMax(k,P){C.Util.scaleMinMax(k,P),this.minX=Math.min(this.minX,P[0]),this.maxX=Math.max(this.maxX,P[1]),this.minY=Math.min(this.minY,P[2]),this.maxY=Math.max(this.maxY,P[3])}updateCurvePathMinMax(k,P,S,A,O,I,N,H,z,X){const ee=C.Util.bezierBoundingBox(P,S,A,O,I,N,H,z);if(X)return X[0]=Math.min(X[0],ee[0],ee[2]),X[1]=Math.max(X[1],ee[0],ee[2]),X[2]=Math.min(X[2],ee[1],ee[3]),void(X[3]=Math.max(X[3],ee[1],ee[3]));this.updateRectMinMax(k,ee)}getPathBoundingBox(k=Ce.PathType.FILL,P=null){const S=[this.minX,this.minY,this.maxX,this.maxY];if(k===Ce.PathType.STROKE){P||(0,C.unreachable)("Stroke bounding box must include transform.");const A=C.Util.singularValueDecompose2dScale(P),O=A[0]*this.lineWidth/2,I=A[1]*this.lineWidth/2;S[0]-=O,S[1]-=I,S[2]+=O,S[3]+=I}return S}updateClipFromPath(){const k=C.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(k||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(k){this.clipBox=k,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(k=Ce.PathType.FILL,P=null){return C.Util.intersect(this.clipBox,this.getPathBoundingBox(k,P))}}function M(F,k,P=null){if(typeof ImageData<"u"&&k instanceof ImageData)return void F.putImageData(k,0,0);const S=k.height,A=k.width,O=S%a,I=(S-O)/a,N=0===O?I:I+1,H=F.createImageData(A,a);let X,z=0;const ee=k.data,de=H.data;let ne,K,ve,ye,oe,ge,fe,j;if(P)switch(P.length){case 1:oe=P[0],ge=P[0],fe=P[0],j=P[0];break;case 4:oe=P[0],ge=P[1],fe=P[2],j=P[3]}if(k.kind===C.ImageKind.GRAYSCALE_1BPP){const te=ee.byteLength,ie=new Uint32Array(de.buffer,0,de.byteLength>>2),we=ie.length,Se=A+7>>3;let Te=4294967295,De=C.FeatureTest.isLittleEndian?4278190080:255;for(j&&255===j[0]&&0===j[255]&&([Te,De]=[De,Te]),ne=0;ne<N;ne++){for(ve=ne<I?a:O,X=0,K=0;K<ve;K++){const Oe=te-z;let He=0;const Ie=Oe>Se?A:8*Oe-7,et=-8&Ie;let xe=0,ae=0;for(;He<et;He+=8)ae=ee[z++],ie[X++]=128&ae?Te:De,ie[X++]=64&ae?Te:De,ie[X++]=32&ae?Te:De,ie[X++]=16&ae?Te:De,ie[X++]=8&ae?Te:De,ie[X++]=4&ae?Te:De,ie[X++]=2&ae?Te:De,ie[X++]=1&ae?Te:De;for(;He<Ie;He++)0===xe&&(ae=ee[z++],xe=128),ie[X++]=ae&xe?Te:De,xe>>=1}for(;X<we;)ie[X++]=0;F.putImageData(H,0,ne*a)}}else if(k.kind===C.ImageKind.RGBA_32BPP){const te=!!(oe||ge||fe);for(K=0,ye=A*a*4,ne=0;ne<I;ne++){if(de.set(ee.subarray(z,z+ye)),z+=ye,te)for(let ie=0;ie<ye;ie+=4)oe&&(de[ie+0]=oe[de[ie+0]]),ge&&(de[ie+1]=ge[de[ie+1]]),fe&&(de[ie+2]=fe[de[ie+2]]);F.putImageData(H,0,K),K+=a}if(ne<N){if(ye=A*O*4,de.set(ee.subarray(z,z+ye)),te)for(let ie=0;ie<ye;ie+=4)oe&&(de[ie+0]=oe[de[ie+0]]),ge&&(de[ie+1]=ge[de[ie+1]]),fe&&(de[ie+2]=fe[de[ie+2]]);F.putImageData(H,0,K)}}else{if(k.kind!==C.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${k.kind}`);{const te=!!(oe||ge||fe);for(ve=a,ye=A*ve,ne=0;ne<N;ne++){for(ne>=I&&(ve=O,ye=A*ve),X=0,K=ye;K--;)de[X++]=ee[z++],de[X++]=ee[z++],de[X++]=ee[z++],de[X++]=255;if(te)for(let ie=0;ie<X;ie+=4)oe&&(de[ie+0]=oe[de[ie+0]]),ge&&(de[ie+1]=ge[de[ie+1]]),fe&&(de[ie+2]=fe[de[ie+2]]);F.putImageData(H,0,ne*a)}}}}function w(F,k){if(k.bitmap)return void F.drawImage(k.bitmap,0,0);const P=k.height,S=k.width,A=P%a,O=(P-A)/a,I=0===A?O:O+1,N=F.createImageData(S,a);let H=0;const z=k.data,X=N.data;for(let ee=0;ee<I;ee++){const de=ee<O?a:A;({srcPos:H}=(0,e.applyMaskImageData)({src:z,srcPos:H,dest:X,width:S,height:de})),F.putImageData(N,0,ee*a)}}function E(F,k){const P=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let S=0,A=P.length;S<A;S++){const O=P[S];void 0!==F[O]&&(k[O]=F[O])}void 0!==F.setLineDash&&(k.setLineDash(F.getLineDash()),k.lineDashOffset=F.lineDashOffset)}function Z(F,k){F.strokeStyle=F.fillStyle=k||"#000000",F.fillRule="nonzero",F.globalAlpha=1,F.lineWidth=1,F.lineCap="butt",F.lineJoin="miter",F.miterLimit=10,F.globalCompositeOperation="source-over",F.font="10px sans-serif",void 0!==F.setLineDash&&(F.setLineDash([]),F.lineDashOffset=0)}function U(F,k,P,S){const A=F.length;for(let O=3;O<A;O+=4){const I=F[O];if(0===I)F[O-3]=k,F[O-2]=P,F[O-1]=S;else if(I<255){const N=255-I;F[O-3]=F[O-3]*I+k*N>>8,F[O-2]=F[O-2]*I+P*N>>8,F[O-1]=F[O-1]*I+S*N>>8}}}function q(F,k,P){const S=F.length;for(let O=3;O<S;O+=4)k[O]=k[O]*(P?P[F[O]]:F[O])*.00392156862745098|0}function Q(F,k,P){const S=F.length;for(let A=3;A<S;A+=4){const O=77*F[A-3]+152*F[A-2]+28*F[A-1];k[A]=P?k[A]*P[O>>8]>>8:k[A]*O>>16}}function ue(F,k){const P=C.Util.singularValueDecompose2dScale(F);P[0]=Math.fround(P[0]),P[1]=Math.fround(P[1]);const S=Math.fround((globalThis.devicePixelRatio||1)*V.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==k?k:P[0]<=S||P[1]<=S}const W=["butt","round","square"],ce=["miter","round","bevel"],pe={},_e={};class B{constructor(k,P,S,A,O,I,N,H){this.ctx=k,this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=P,this.objs=S,this.canvasFactory=A,this.imageLayer=O,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=I,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=N,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=H?.background||null,this.foregroundColor=H?.foreground||null,k&&h(k),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(k,P=null){return"string"==typeof k?k.startsWith("g_")?this.commonObjs.get(k):this.objs.get(k):P}beginDrawing({transform:k,viewport:P,transparency:S=!1,background:A=null}){const O=this.ctx.canvas.width,I=this.ctx.canvas.height,N=A||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const H=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const z=this.backgroundColor=this.ctx.fillStyle;let X=!0,ee=N;if(this.ctx.fillStyle=N,ee=this.ctx.fillStyle,X="string"==typeof ee&&/^#[0-9A-Fa-f]{6}$/.test(ee),"#000000"===H&&"#ffffff"===z||H===z||!X)this.foregroundColor=this.backgroundColor=null;else{const de=parseInt(ee.slice(1),16),K=(de&&65280)>>8,ve=de&&255,ye=ge=>(ge/=255)<=.03928?ge/12.92:((ge+.055)/1.055)**2.4,oe=Math.round(.2126*ye((de&&16711680)>>16)+.7152*ye(K)+.0722*ye(ve));this.selectColor=(ge,fe,j)=>{const te=.2126*ye(ge)+.7152*ye(fe)+.0722*ye(j);return Math.round(te)===oe?z:H}}}if(this.ctx.fillStyle=this.backgroundColor||N,this.ctx.fillRect(0,0,O,I),this.ctx.restore(),S){const H=this.cachedCanvases.getCanvas("transparent",O,I,!0);this.compositeCtx=this.ctx,this.transparentCanvas=H.canvas,this.ctx=H.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),Z(this.ctx,this.foregroundColor),k&&(this.ctx.transform.apply(this.ctx,k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform.apply(this.ctx,P.transform),this.viewportScale=P.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(k,P,S,A){const O=k.argsArray,I=k.fnArray;let N=P||0;const H=O.length;if(H===N)return N;const z=H-N>10&&"function"==typeof S,X=z?Date.now()+15:0;let ee=0;const de=this.commonObjs,ne=this.objs;let K;for(;;){if(void 0!==A&&N===A.nextBreakPoint)return A.breakIt(N,S),N;if(K=I[N],K!==C.OPS.dependency)this[K].apply(this,O[N]);else for(const ve of O[N]){const ye=ve.startsWith("g_")?de:ne;if(!ye.has(ve))return ye.get(ve,S),N}if(N++,N===H)return N;if(z&&++ee>10){if(Date.now()>X)return S(),N;ee=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const k of this._cachedBitmapsMap.values()){for(const P of k.values())typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement&&(P.width=P.height=0);k.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(k,P){const S=k.width,A=k.height;let X,ee,O=Math.max(Math.hypot(P[0],P[1]),1),I=Math.max(Math.hypot(P[2],P[3]),1),N=S,H=A,z="prescale1";for(;O>2&&N>1||I>2&&H>1;){let de=N,ne=H;O>2&&N>1&&(de=Math.ceil(N/2),O/=N/de),I>2&&H>1&&(ne=Math.ceil(H/2),I/=H/ne),X=this.cachedCanvases.getCanvas(z,de,ne,!1),ee=X.context,ee.clearRect(0,0,de,ne),ee.drawImage(k,0,0,N,H,0,0,de,ne),k=X.canvas,N=de,H=ne,z="prescale1"===z?"prescale2":"prescale1"}return{img:k,paintWidth:N,paintHeight:H}}_createMaskCanvas(k){const P=this.ctx,{width:S,height:A}=k,O=this.current.fillColor,I=this.current.patternFill,N=P.mozCurrentTransform;let H,z,X,ee;if((k.bitmap||k.data)&&k.count>1){const we=k.bitmap||k.data.buffer,Se=N.slice(0,4);z=JSON.stringify(I?Se:[Se,O]),H=this._cachedBitmapsMap.get(we),H||(H=new Map,this._cachedBitmapsMap.set(we,H));const Te=H.get(z);if(Te&&!I)return{canvas:Te,offsetX:Math.round(Math.min(N[0],N[2])+N[4]),offsetY:Math.round(Math.min(N[1],N[3])+N[5])};X=Te}X||(ee=this.cachedCanvases.getCanvas("maskCanvas",S,A,!1),w(ee.context,k));let de=C.Util.transform(N,[1/S,0,0,-1/A,0,0]);de=C.Util.transform(de,[1,0,0,1,0,-A]);const ne=C.Util.applyTransform([0,0],de),K=C.Util.applyTransform([S,A],de),ve=C.Util.normalizeRect([ne[0],ne[1],K[0],K[1]]),ye=Math.round(ve[2]-ve[0])||1,oe=Math.round(ve[3]-ve[1])||1,ge=this.cachedCanvases.getCanvas("fillCanvas",ye,oe,!0),fe=ge.context,j=Math.min(ne[0],K[0]),te=Math.min(ne[1],K[1]);fe.translate(-j,-te),fe.transform.apply(fe,de),X||(X=this._scaleImage(ee.canvas,fe.mozCurrentTransformInverse),X=X.img,H&&I&&H.set(z,X)),fe.imageSmoothingEnabled=ue(fe.mozCurrentTransform,k.interpolate),b(fe,X,0,0,X.width,X.height,0,0,S,A),fe.globalCompositeOperation="source-in";const ie=C.Util.transform(fe.mozCurrentTransformInverse,[1,0,0,1,-j,-te]);return fe.fillStyle=I?O.getPattern(P,this,ie,Ce.PathType.FILL):O,fe.fillRect(0,0,S,A),H&&!I&&(this.cachedCanvases.delete("fillCanvas"),H.set(z,ge.canvas)),{canvas:ge.canvas,offsetX:Math.round(j),offsetY:Math.round(te)}}setLineWidth(k){k!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=k,this.ctx.lineWidth=k}setLineCap(k){this.ctx.lineCap=W[k]}setLineJoin(k){this.ctx.lineJoin=ce[k]}setMiterLimit(k){this.ctx.miterLimit=k}setDash(k,P){const S=this.ctx;void 0!==S.setLineDash&&(S.setLineDash(k),S.lineDashOffset=P)}setRenderingIntent(k){}setFlatness(k){}setGState(k){for(let P=0,S=k.length;P<S;P++){const A=k[P],I=A[1];switch(A[0]){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I[0],I[1]);break;case"CA":this.current.strokeAlpha=A[1];break;case"ca":this.current.fillAlpha=A[1],this.ctx.globalAlpha=A[1];break;case"BM":this.ctx.globalCompositeOperation=I;break;case"SMask":this.current.activeSMask=I?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=I}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const k=this.inSMaskMode;this.current.activeSMask&&!k?this.beginSMaskMode():!this.current.activeSMask&&k&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const A=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=A.context;const O=this.ctx;O.setTransform.apply(O,this.suspendedCtx.mozCurrentTransform),E(this.suspendedCtx,O),function g(F,k){if(F._removeMirroring)throw new Error("Context is already forwarding operations.");F.__originalSave=F.save,F.__originalRestore=F.restore,F.__originalRotate=F.rotate,F.__originalScale=F.scale,F.__originalTranslate=F.translate,F.__originalTransform=F.transform,F.__originalSetTransform=F.setTransform,F.__originalResetTransform=F.resetTransform,F.__originalClip=F.clip,F.__originalMoveTo=F.moveTo,F.__originalLineTo=F.lineTo,F.__originalBezierCurveTo=F.bezierCurveTo,F.__originalRect=F.rect,F.__originalClosePath=F.closePath,F.__originalBeginPath=F.beginPath,F._removeMirroring=()=>{F.save=F.__originalSave,F.restore=F.__originalRestore,F.rotate=F.__originalRotate,F.scale=F.__originalScale,F.translate=F.__originalTranslate,F.transform=F.__originalTransform,F.setTransform=F.__originalSetTransform,F.resetTransform=F.__originalResetTransform,F.clip=F.__originalClip,F.moveTo=F.__originalMoveTo,F.lineTo=F.__originalLineTo,F.bezierCurveTo=F.__originalBezierCurveTo,F.rect=F.__originalRect,F.closePath=F.__originalClosePath,F.beginPath=F.__originalBeginPath,delete F._removeMirroring},F.save=function(){k.save(),this.__originalSave()},F.restore=function(){k.restore(),this.__originalRestore()},F.translate=function(S,A){k.translate(S,A),this.__originalTranslate(S,A)},F.scale=function(S,A){k.scale(S,A),this.__originalScale(S,A)},F.transform=function(S,A,O,I,N,H){k.transform(S,A,O,I,N,H),this.__originalTransform(S,A,O,I,N,H)},F.setTransform=function(S,A,O,I,N,H){k.setTransform(S,A,O,I,N,H),this.__originalSetTransform(S,A,O,I,N,H)},F.resetTransform=function(){k.resetTransform(),this.__originalResetTransform()},F.rotate=function(S){k.rotate(S),this.__originalRotate(S)},F.clip=function(S){k.clip(S),this.__originalClip(S)},F.moveTo=function(P,S){k.moveTo(P,S),this.__originalMoveTo(P,S)},F.lineTo=function(P,S){k.lineTo(P,S),this.__originalLineTo(P,S)},F.bezierCurveTo=function(P,S,A,O,I,N){k.bezierCurveTo(P,S,A,O,I,N),this.__originalBezierCurveTo(P,S,A,O,I,N)},F.rect=function(P,S,A,O){k.rect(P,S,A,O),this.__originalRect(P,S,A,O)},F.closePath=function(){k.closePath(),this.__originalClosePath()},F.beginPath=function(){k.beginPath(),this.__originalBeginPath()}}(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),E(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(k){this.current.activeSMask&&(k?(k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k[2]=Math.ceil(k[2]),k[3]=Math.ceil(k[3])):k=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(F,k,P,S){const A=S[0],O=S[1],I=S[2]-A,N=S[3]-O;0===I||0===N||(function re(F,k,P,S,A,O,I,N,H,z,X){const ee=!!O,de=ee?O[0]:0,ne=ee?O[1]:0,K=ee?O[2]:0;let ve;ve="Luminosity"===A?Q:q;const oe=Math.min(S,Math.ceil(1048576/P));for(let ge=0;ge<S;ge+=oe){const fe=Math.min(oe,S-ge),j=F.getImageData(N-z,ge+(H-X),P,fe),te=k.getImageData(N,ge+H,P,fe);ee&&U(j.data,de,ne,K),ve(j.data,te.data,I),k.putImageData(te,N,ge+H)}}(k.context,P,I,N,k.subtype,k.backdrop,k.transferMap,A,O,k.offsetX,k.offsetY),F.save(),F.globalAlpha=1,F.globalCompositeOperation="source-over",F.setTransform(1,0,0,1,0,0),F.drawImage(P.canvas,0,0),F.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,k),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(E(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const k=this.current;this.stateStack.push(k),this.current=k.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),E(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(k,P,S,A,O,I){this.ctx.transform(k,P,S,A,O,I),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(k,P,S){const A=this.ctx,O=this.current;let H,z,I=O.x,N=O.y;const X=A.mozCurrentTransform,ee=0===X[0]&&0===X[3]||0===X[1]&&0===X[2],de=ee?S.slice(0):null;for(let ne=0,K=0,ve=k.length;ne<ve;ne++)switch(0|k[ne]){case C.OPS.rectangle:I=P[K++],N=P[K++];const ye=P[K++],oe=P[K++],ge=I+ye,fe=N+oe;A.moveTo(I,N),0===ye||0===oe?A.lineTo(ge,fe):(A.lineTo(ge,N),A.lineTo(ge,fe),A.lineTo(I,fe)),ee||O.updateRectMinMax(X,[I,N,ge,fe]),A.closePath();break;case C.OPS.moveTo:I=P[K++],N=P[K++],A.moveTo(I,N),ee||O.updatePathMinMax(X,I,N);break;case C.OPS.lineTo:I=P[K++],N=P[K++],A.lineTo(I,N),ee||O.updatePathMinMax(X,I,N);break;case C.OPS.curveTo:H=I,z=N,I=P[K+4],N=P[K+5],A.bezierCurveTo(P[K],P[K+1],P[K+2],P[K+3],I,N),O.updateCurvePathMinMax(X,H,z,P[K],P[K+1],P[K+2],P[K+3],I,N,de),K+=6;break;case C.OPS.curveTo2:H=I,z=N,A.bezierCurveTo(I,N,P[K],P[K+1],P[K+2],P[K+3]),O.updateCurvePathMinMax(X,H,z,I,N,P[K],P[K+1],P[K+2],P[K+3],de),I=P[K+2],N=P[K+3],K+=4;break;case C.OPS.curveTo3:H=I,z=N,I=P[K+2],N=P[K+3],A.bezierCurveTo(P[K],P[K+1],I,N,I,N),O.updateCurvePathMinMax(X,H,z,P[K],P[K+1],I,N,I,N,de),K+=4;break;case C.OPS.closePath:A.closePath()}ee&&O.updateScalingPathMinMax(X,de),O.setCurrentPoint(I,N)}closePath(){this.ctx.closePath()}stroke(k){k=!(typeof k<"u")||k;const P=this.ctx,S=this.current.strokeColor;P.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof S&&S?.getPattern?(P.save(),P.strokeStyle=S.getPattern(P,this,P.mozCurrentTransformInverse,Ce.PathType.STROKE),this.rescaleAndStroke(!1),P.restore()):this.rescaleAndStroke(!0)),k&&this.consumePath(this.current.getClippedPathBoundingBox()),P.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(k){k=!(typeof k<"u")||k;const P=this.ctx,S=this.current.fillColor;let O=!1;this.current.patternFill&&(P.save(),P.fillStyle=S.getPattern(P,this,P.mozCurrentTransformInverse,Ce.PathType.FILL),O=!0);const I=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==I&&(this.pendingEOFill?(P.fill("evenodd"),this.pendingEOFill=!1):P.fill()),O&&P.restore(),k&&this.consumePath(I)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=pe}eoClip(){this.pendingClip=_e}beginText(){this.current.textMatrix=C.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const k=this.pendingTextPaths,P=this.ctx;if(void 0!==k){P.save(),P.beginPath();for(let S=0;S<k.length;S++){const A=k[S];P.setTransform.apply(P,A.transform),P.translate(A.x,A.y),A.addToPath(P,A.fontSize)}P.restore(),P.clip(),P.beginPath(),delete this.pendingTextPaths}else P.beginPath()}setCharSpacing(k){this.current.charSpacing=k}setWordSpacing(k){this.current.wordSpacing=k}setHScale(k){this.current.textHScale=k/100}setLeading(k){this.current.leading=-k}setFont(k,P){const S=this.commonObjs.get(k),A=this.current;if(!S)throw new Error(`Can't find font for ${k}`);if(A.fontMatrix=S.fontMatrix||C.FONT_IDENTITY_MATRIX,(0===A.fontMatrix[0]||0===A.fontMatrix[3])&&(0,C.warn)("Invalid font matrix for font "+k),P<0?(P=-P,A.fontDirection=-1):A.fontDirection=1,this.current.font=S,this.current.fontSize=P,S.isType3Font)return;let I="normal";S.black?I="900":S.bold&&(I="bold");const N=S.italic?"italic":"normal",H=`"${S.loadedName||"sans-serif"}", ${S.fallbackName}`;let z=P;P<16?z=16:P>100&&(z=100),this.current.fontSizeScale=P/z,this.ctx.font=`${N} ${I} ${z}px ${H}`}setTextRenderingMode(k){this.current.textRenderingMode=k}setTextRise(k){this.current.textRise=k}moveText(k,P){this.current.x=this.current.lineX+=k,this.current.y=this.current.lineY+=P}setLeadingMoveText(k,P){this.setLeading(-P),this.moveText(k,P)}setTextMatrix(k,P,S,A,O,I){this.current.textMatrix=[k,P,S,A,O,I],this.current.textMatrixScale=Math.hypot(k,P),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(k,P,S,A){const O=this.ctx,I=this.current,N=I.font,H=I.textRenderingMode,z=I.fontSize/I.fontSizeScale,X=H&C.TextRenderingMode.FILL_STROKE_MASK,ee=!!(H&C.TextRenderingMode.ADD_TO_PATH_FLAG),de=I.patternFill&&!N.missingFile;let ne;(N.disableFontFace||ee||de)&&(ne=N.getPathGenerator(this.commonObjs,k)),N.disableFontFace||de?(O.save(),O.translate(P,S),O.beginPath(),ne(O,z),A&&O.setTransform.apply(O,A),(X===C.TextRenderingMode.FILL||X===C.TextRenderingMode.FILL_STROKE)&&O.fill(),(X===C.TextRenderingMode.STROKE||X===C.TextRenderingMode.FILL_STROKE)&&O.stroke(),O.restore()):((X===C.TextRenderingMode.FILL||X===C.TextRenderingMode.FILL_STROKE)&&O.fillText(k,P,S),(X===C.TextRenderingMode.STROKE||X===C.TextRenderingMode.FILL_STROKE)&&O.strokeText(k,P,S)),ee&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:O.mozCurrentTransform,x:P,y:S,fontSize:z,addToPath:ne})}get isFontSubpixelAAEnabled(){const{context:k}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);k.scale(1.5,1),k.fillText("I",0,10);const P=k.getImageData(0,0,10,10).data;let S=!1;for(let A=3;A<P.length;A+=4)if(P[A]>0&&P[A]<255){S=!0;break}return(0,C.shadow)(this,"isFontSubpixelAAEnabled",S)}showText(k){const P=this.current,S=P.font;if(S.isType3Font)return this.showType3Text(k);const A=P.fontSize;if(0===A)return;const O=this.ctx,I=P.fontSizeScale,N=P.charSpacing,H=P.wordSpacing,z=P.fontDirection,X=P.textHScale*z,ee=k.length,de=S.vertical,ne=de?1:-1,K=S.defaultVMetrics,ve=A*P.fontMatrix[0],ye=P.textRenderingMode===C.TextRenderingMode.FILL&&!S.disableFontFace&&!P.patternFill;let oe;if(O.save(),O.transform.apply(O,P.textMatrix),O.translate(P.x,P.y+P.textRise),O.scale(X,z>0?-1:1),P.patternFill){O.save();const ie=P.fillColor.getPattern(O,this,O.mozCurrentTransformInverse,Ce.PathType.FILL);oe=O.mozCurrentTransform,O.restore(),O.fillStyle=ie}let ge=P.lineWidth;const fe=P.textMatrixScale;if(0===fe||0===ge){const ie=P.textRenderingMode&C.TextRenderingMode.FILL_STROKE_MASK;(ie===C.TextRenderingMode.STROKE||ie===C.TextRenderingMode.FILL_STROKE)&&(ge=this.getSinglePixelWidth())}else ge/=fe;1!==I&&(O.scale(I,I),ge/=I),O.lineWidth=ge;let te,j=0;for(te=0;te<ee;++te){const ie=k[te];if("number"==typeof ie){j+=ne*ie*A/1e3;continue}let we=!1;const Se=(ie.isSpace?H:0)+N,Te=ie.fontChar,De=ie.accent;let Oe,He,et,Ie=ie.width;if(de){const xe=ie.vmetric||K,ae=-(ie.vmetric?xe[1]:.5*Ie)*ve;Ie=xe?-xe[0]:Ie,Oe=ae/I,He=(j+xe[2]*ve)/I}else Oe=j/I,He=0;if(S.remeasure&&Ie>0){const xe=1e3*O.measureText(Te).width/A*I;if(Ie<xe&&this.isFontSubpixelAAEnabled){const ae=Ie/xe;we=!0,O.save(),O.scale(ae,1),Oe/=ae}else Ie!==xe&&(Oe+=(Ie-xe)/2e3*A/I)}this.contentVisible&&(ie.isInFont||S.missingFile)&&(ye&&!De?O.fillText(Te,Oe,He):(this.paintChar(Te,Oe,He,oe),De&&this.paintChar(De.fontChar,Oe+A*De.offset.x/I,He-A*De.offset.y/I,oe))),et=de?Ie*ve-Se*z:Ie*ve+Se*z,j+=et,we&&O.restore()}de?P.y-=j:P.x+=j*X,O.restore(),this.compose()}showType3Text(k){const P=this.ctx,S=this.current,A=S.font,O=S.fontSize,I=S.fontDirection,N=A.vertical?1:-1,H=S.charSpacing,z=S.wordSpacing,X=S.textHScale*I,ee=S.fontMatrix||C.FONT_IDENTITY_MATRIX,de=k.length;let K,ve,ye,oe;if(S.textRenderingMode!==C.TextRenderingMode.INVISIBLE&&0!==O){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,P.save(),P.transform.apply(P,S.textMatrix),P.translate(S.x,S.y),P.scale(X,I),K=0;K<de;++K){if(ve=k[K],"number"==typeof ve){oe=N*ve*O/1e3,this.ctx.translate(oe,0),S.x+=oe*X;continue}const ge=(ve.isSpace?z:0)+H,fe=A.charProcOperatorList[ve.operatorListId];fe?(this.contentVisible&&(this.processingType3=ve,this.save(),P.scale(O,O),P.transform.apply(P,ee),this.executeOperatorList(fe),this.restore()),ye=C.Util.applyTransform([ve.width,0],ee)[0]*O+ge,P.translate(ye,0),S.x+=ye*X):(0,C.warn)(`Type3 character "${ve.operatorListId}" is not available.`)}P.restore(),this.processingType3=null}}setCharWidth(k,P){}setCharWidthAndBounds(k,P,S,A,O,I){this.ctx.rect(S,A,O-S,I-A),this.ctx.clip(),this.endPath()}getColorN_Pattern(k){let P;if("TilingPattern"===k[0]){const S=k[1],A=this.baseTransform||this.ctx.mozCurrentTransform.slice();P=new Ce.TilingPattern(k,S,this.ctx,{createCanvasGraphics:I=>new B(I,this.commonObjs,this.objs,this.canvasFactory)},A)}else P=this._getPattern(k[1],k[2]);return P}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(k,P,S){const A=this.selectColor?.(k,P,S)||C.Util.makeHexColor(k,P,S);this.ctx.strokeStyle=A,this.current.strokeColor=A}setFillRGBColor(k,P,S){const A=this.selectColor?.(k,P,S)||C.Util.makeHexColor(k,P,S);this.ctx.fillStyle=A,this.current.fillColor=A,this.current.patternFill=!1}_getPattern(k,P=null){let S;return this.cachedPatterns.has(k)?S=this.cachedPatterns.get(k):(S=(0,Ce.getShadingPattern)(this.objs.get(k)),this.cachedPatterns.set(k,S)),P&&(S.matrix=P),S}shadingFill(k){if(!this.contentVisible)return;const P=this.ctx;this.save();const S=this._getPattern(k);P.fillStyle=S.getPattern(P,this,P.mozCurrentTransformInverse,Ce.PathType.SHADING);const A=P.mozCurrentTransformInverse;if(A){const O=P.canvas,I=O.width,N=O.height,H=C.Util.applyTransform([0,0],A),z=C.Util.applyTransform([0,N],A),X=C.Util.applyTransform([I,0],A),ee=C.Util.applyTransform([I,N],A),de=Math.min(H[0],z[0],X[0],ee[0]),ne=Math.min(H[1],z[1],X[1],ee[1]),K=Math.max(H[0],z[0],X[0],ee[0]),ve=Math.max(H[1],z[1],X[1],ee[1]);this.ctx.fillRect(de,ne,K-de,ve-ne)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,C.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,C.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(k,P){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(k)&&6===k.length&&this.transform.apply(this,k),this.baseTransform=this.ctx.mozCurrentTransform,P)&&(this.ctx.rect(P[0],P[1],P[2]-P[0],P[3]-P[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,P),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(k){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const P=this.ctx;k.isolated||(0,C.info)("TODO: Support non-isolated groups."),k.knockout&&(0,C.warn)("Knockout groups not supported.");const S=P.mozCurrentTransform;if(k.matrix&&P.transform.apply(P,k.matrix),!k.bbox)throw new Error("Bounding box is required.");let A=C.Util.getAxialAlignedBoundingBox(k.bbox,P.mozCurrentTransform);A=C.Util.intersect(A,[0,0,P.canvas.width,P.canvas.height])||[0,0,0,0];const I=Math.floor(A[0]),N=Math.floor(A[1]);let H=Math.max(Math.ceil(A[2])-I,1),z=Math.max(Math.ceil(A[3])-N,1),X=1,ee=1;H>p&&(X=H/p,H=p),z>p&&(ee=z/p,z=p),this.current.startNewPathAndClipBox([0,0,H,z]);let de="groupAt"+this.groupLevel;k.smask&&(de+="_smask_"+this.smaskCounter++%2);const ne=this.cachedCanvases.getCanvas(de,H,z,!0),K=ne.context;K.scale(1/X,1/ee),K.translate(-I,-N),K.transform.apply(K,S),k.smask?this.smaskStack.push({canvas:ne.canvas,context:K,offsetX:I,offsetY:N,scaleX:X,scaleY:ee,subtype:k.smask.subtype,backdrop:k.smask.backdrop,transferMap:k.smask.transferMap||null,startTransformInverse:null}):(P.setTransform(1,0,0,1,0,0),P.translate(I,N),P.scale(X,ee),P.save()),E(P,K),this.ctx=K,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(P),this.groupLevel++}endGroup(k){if(!this.contentVisible)return;this.groupLevel--;const P=this.ctx,S=this.groupStack.pop();if(this.ctx=S,this.ctx.imageSmoothingEnabled=!1,k.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const A=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,A);const O=C.Util.getAxialAlignedBoundingBox([0,0,P.canvas.width,P.canvas.height],A);this.ctx.drawImage(P.canvas,0,0),this.ctx.restore(),this.compose(O)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(k,P,S,A,O){if(this.save(),Array.isArray(P)&&4===P.length){const I=P[2]-P[0],N=P[3]-P[1];if(O&&this.annotationCanvasMap){(S=S.slice())[4]-=P[0],S[5]-=P[1],(P=P.slice())[0]=P[1]=0,P[2]=I,P[3]=N;const[H,z]=C.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:X}=this,ee=Math.ceil(I*this.outputScaleX*X),de=Math.ceil(N*this.outputScaleY*X);this.annotationCanvas=this.canvasFactory.create(ee,de);const{canvas:ne,context:K}=this.annotationCanvas,ve=`var(--zoom-factor) * ${V.PixelsPerInch.PDF_TO_CSS_UNITS}`;ne.style.width=`calc(${I}px * ${ve})`,ne.style.height=`calc(${N}px * ${ve})`,this.annotationCanvasMap.set(k,ne),this.annotationCanvas.savedCtx=this.ctx,this.ctx=K,this.ctx.setTransform(H,0,0,-z,0,N*z),h(this.ctx),Z(this.ctx,this.foregroundColor)}else Z(this.ctx,this.foregroundColor),this.ctx.rect(P[0],P[1],I,N),this.ctx.clip(),this.endPath()}this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,S),this.transform.apply(this,A)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(k){if(!this.contentVisible)return;const P=k.count;(k=this.getObject(k.data,k)).count=P;const S=this.ctx,A=this.processingType3;if(A&&(void 0===A.compiled&&(A.compiled=function v(F){const{width:k,height:P}=F;if(k>1e3||P>1e3)return null;const A=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),O=k+1;let N,H,z,I=new Uint8Array(O*(P+1));const X=k+7&-8;let ee=new Uint8Array(X*P),de=0;for(const fe of F.data){let j=128;for(;j>0;)ee[de++]=fe&j?0:255,j>>=1}let ne=0;for(de=0,0!==ee[de]&&(I[0]=1,++ne),H=1;H<k;H++)ee[de]!==ee[de+1]&&(I[H]=ee[de]?2:1,++ne),de++;for(0!==ee[de]&&(I[H]=2,++ne),N=1;N<P;N++){de=N*X,z=N*O,ee[de-X]!==ee[de]&&(I[z]=ee[de]?1:8,++ne);let fe=(ee[de]?4:0)+(ee[de-X]?8:0);for(H=1;H<k;H++)fe=(fe>>2)+(ee[de+1]?4:0)+(ee[de-X+1]?8:0),A[fe]&&(I[z+H]=A[fe],++ne),de++;if(ee[de-X]!==ee[de]&&(I[z+H]=ee[de]?2:4,++ne),ne>1e3)return null}for(de=X*(P-1),z=N*O,0!==ee[de]&&(I[z]=8,++ne),H=1;H<k;H++)ee[de]!==ee[de+1]&&(I[z+H]=ee[de]?4:8,++ne),de++;if(0!==ee[de]&&(I[z+H]=4,++ne),ne>1e3)return null;const K=new Int32Array([0,O,-1,0,-O,0,0,0,1]);let ve,ye,oe;for(D.isNodeJS?ye=[]:ve=new Path2D,N=0;ne&&N<=P;N++){let fe=N*O;const j=fe+k;for(;fe<j&&!I[fe];)fe++;if(fe===j)continue;ve?ve.moveTo(fe%O,N):oe=[fe%O,N];const te=fe;let ie=I[fe];do{const we=K[ie];do{fe+=we}while(!I[fe]);const Se=I[fe];5!==Se&&10!==Se?(ie=Se,I[fe]=0):(ie=Se&51*ie>>4,I[fe]&=ie>>2|ie<<2),ve?ve.lineTo(fe%O,fe/O|0):oe.push(fe%O,fe/O|0),I[fe]||--ne}while(te!==fe);ve||ye.push(oe),--N}return ee=null,I=null,function(fe){if(fe.save(),fe.scale(1/k,-1/P),fe.translate(0,-P),ve)fe.fill(ve);else{fe.beginPath();for(const j of ye){fe.moveTo(j[0],j[1]);for(let te=2,ie=j.length;te<ie;te+=2)fe.lineTo(j[te],j[te+1])}fe.fill()}fe.beginPath(),fe.restore()}}(k)),A.compiled))return void A.compiled(S);const O=this._createMaskCanvas(k),I=O.canvas;S.save(),S.setTransform(1,0,0,1,0,0),S.drawImage(I,O.offsetX,O.offsetY),S.restore(),this.compose()}paintImageMaskXObjectRepeat(k,P,S=0,A=0,O,I){if(!this.contentVisible)return;k=this.getObject(k.data,k);const N=this.ctx;N.save();const H=N.mozCurrentTransform;N.transform(P,S,A,O,0,0);const z=this._createMaskCanvas(k);N.setTransform(1,0,0,1,0,0);for(let X=0,ee=I.length;X<ee;X+=2){const de=C.Util.transform(H,[P,S,A,O,I[X],I[X+1]]),[ne,K]=C.Util.applyTransform([0,0],de);N.drawImage(z.canvas,ne,K)}N.restore(),this.compose()}paintImageMaskXObjectGroup(k){if(!this.contentVisible)return;const P=this.ctx,S=this.current.fillColor,A=this.current.patternFill;for(let O=0,I=k.length;O<I;O++){const N=k[O],H=N.width,z=N.height,X=this.cachedCanvases.getCanvas("maskCanvas",H,z,!1),ee=X.context;ee.save(),w(ee,N),ee.globalCompositeOperation="source-in",ee.fillStyle=A?S.getPattern(ee,this,P.mozCurrentTransformInverse,Ce.PathType.FILL):S,ee.fillRect(0,0,H,z),ee.restore(),P.save(),P.transform.apply(P,N.transform),P.scale(1,-1),b(P,X.canvas,0,0,H,z,0,-1,1,1),P.restore()}this.compose()}paintImageXObject(k){if(!this.contentVisible)return;const P=this.getObject(k);P?this.paintInlineImageXObject(P):(0,C.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(k,P,S,A){if(!this.contentVisible)return;const O=this.getObject(k);if(!O)return void(0,C.warn)("Dependent image isn't ready yet");const I=O.width,N=O.height,H=[];for(let z=0,X=A.length;z<X;z+=2)H.push({transform:[P,0,0,S,A[z],A[z+1]],x:0,y:0,w:I,h:N});this.paintInlineImageXObjectGroup(O,H)}paintInlineImageXObject(k){if(!this.contentVisible)return;const P=k.width,S=k.height,A=this.ctx;let O;if(this.save(),A.scale(1/P,-1/S),"function"==typeof HTMLElement&&k instanceof HTMLElement||!k.data)O=k;else{const z=this.cachedCanvases.getCanvas("inlineImage",P,S,!1);M(z.context,k,this.current.transferMaps),O=z.canvas}const I=this._scaleImage(O,A.mozCurrentTransformInverse);A.imageSmoothingEnabled=ue(A.mozCurrentTransform,k.interpolate);const[N,H]=b(A,I.img,0,0,I.paintWidth,I.paintHeight,0,-S,P,S);if(this.imageLayer){const z=this.getCanvasPosition(0,-S);this.imageLayer.appendImage({imgData:k,left:z[0],top:z[1],width:N,height:H})}this.compose(),this.restore()}paintInlineImageXObjectGroup(k,P){if(!this.contentVisible)return;const S=this.ctx,A=k.width,O=k.height,I=this.cachedCanvases.getCanvas("inlineImage",A,O,!1);M(I.context,k,this.current.transferMaps);for(let H=0,z=P.length;H<z;H++){const X=P[H];if(S.save(),S.transform.apply(S,X.transform),S.scale(1,-1),b(S,I.canvas,X.x,X.y,X.w,X.h,0,-1,1,1),this.imageLayer){const ee=this.getCanvasPosition(X.x,X.y);this.imageLayer.appendImage({imgData:k,left:ee[0],top:ee[1],width:A,height:O})}S.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(k){}markPointProps(k,P){}beginMarkedContent(k){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(k,P){this.markedContentStack.push("OC"===k?{visible:this.optionalContentConfig.isVisible(P)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(k){const P=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(k);const S=this.ctx;this.pendingClip&&(P||(this.pendingClip===_e?S.clip("evenodd"):S.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),S.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const k=this.ctx.mozCurrentTransform;if(0===k[1]&&0===k[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(k[0]),Math.abs(k[3]));else{const P=Math.abs(k[0]*k[3]-k[2]*k[1]),S=Math.hypot(k[0],k[2]),A=Math.hypot(k[1],k[3]);this._cachedGetSinglePixelWidth=Math.max(S,A)/P}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:k}=this.current,P=this.ctx.mozCurrentTransform;let S,A;if(0===P[1]&&0===P[2]){const O=Math.abs(P[0]),I=Math.abs(P[3]);if(0===k)S=1/O,A=1/I;else{const N=O*k,H=I*k;S=N<1?1/N:1,A=H<1?1/H:1}}else{const O=Math.abs(P[0]*P[3]-P[2]*P[1]),I=Math.hypot(P[0],P[1]),N=Math.hypot(P[2],P[3]);if(0===k)S=N/O,A=I/O;else{const H=k*O;S=N>H?N/H:1,A=I>H?I/H:1}}this._cachedScaleForStroking=[S,A]}return this._cachedScaleForStroking}rescaleAndStroke(k){const{ctx:P}=this,{lineWidth:S}=this.current,[A,O]=this.getScaleForStroking();if(P.lineWidth=S||1,1===A&&1===O)return void P.stroke();let I,N,H;k&&(I=P.mozCurrentTransform.slice(),N=P.getLineDash().slice(),H=P.lineDashOffset),P.scale(A,O);const z=Math.max(A,O);P.setLineDash(P.getLineDash().map(X=>X/z)),P.lineDashOffset/=z,P.stroke(),k&&(P.setTransform(...I),P.setLineDash(N),P.lineDashOffset=H)}getCanvasPosition(k,P){const S=this.ctx.mozCurrentTransform;return[S[0]*k+S[2]*P+S[4],S[1]*k+S[3]*P+S[5]]}isContentVisible(){for(let k=this.markedContentStack.length-1;k>=0;k--)if(!this.markedContentStack[k].visible)return!1;return!0}}G.CanvasGraphics=B;for(const F in C.OPS)void 0!==B.prototype[F]&&(B.prototype[C.OPS[F]]=B.prototype[F])},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TilingPattern=G.PathType=void 0,G.getShadingPattern=function l(d){switch(d[0]){case"RadialAxial":return new Y(d);case"Mesh":return new f(d);case"Dummy":return new u}throw new Error(`Unknown IR type: ${d[0]}`)};var C=be(1),Ce=be(3);const e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function D(d,g){if(!g||Ce.isNodeJS)return;const h=g[2]-g[0],m=g[3]-g[1],b=new Path2D;b.rect(g[0],g[1],h,m),d.clip(b)}G.PathType=e;class V{constructor(){this.constructor===V&&(0,C.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,C.unreachable)("Abstract method `getPattern` called.")}}class Y extends V{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let h;"axial"===this._type?h=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(h=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const m of this._colorStops)h.addColorStop(m[0],m[1]);return h}getPattern(g,h,m,b){let v;if(b===e.STROKE||b===e.FILL){const y=h.current.getClippedPathBoundingBox(b,g.mozCurrentTransform)||[0,0,0,0],M=Math.ceil(y[2]-y[0])||1,w=Math.ceil(y[3]-y[1])||1,E=h.cachedCanvases.getCanvas("pattern",M,w,!0),Z=E.context;Z.clearRect(0,0,Z.canvas.width,Z.canvas.height),Z.beginPath(),Z.rect(0,0,Z.canvas.width,Z.canvas.height),Z.translate(-y[0],-y[1]),m=C.Util.transform(m,[1,0,0,1,y[0],y[1]]),Z.transform.apply(Z,h.baseTransform),this.matrix&&Z.transform.apply(Z,this.matrix),D(Z,this._bbox),Z.fillStyle=this._createGradient(Z),Z.fill(),v=g.createPattern(E.canvas,"no-repeat");const U=new DOMMatrix(m);try{v.setTransform(U)}catch(q){(0,C.warn)(`RadialAxialShadingPattern.getPattern: "${q?.message}".`)}}else D(g,this._bbox),v=this._createGradient(g);return v}}function _(d,g,h,m,b,v,y,M){const w=g.coords,E=g.colors,Z=d.data,U=4*d.width;let q;w[h+1]>w[m+1]&&(q=h,h=m,m=q,q=v,v=y,y=q),w[m+1]>w[b+1]&&(q=m,m=b,b=q,q=y,y=M,M=q),w[h+1]>w[m+1]&&(q=h,h=m,m=q,q=v,v=y,y=q);const Q=(w[h]+g.offsetX)*g.scaleX,re=(w[h+1]+g.offsetY)*g.scaleY,le=(w[m]+g.offsetX)*g.scaleX,ue=(w[m+1]+g.offsetY)*g.scaleY,W=(w[b]+g.offsetX)*g.scaleX,ce=(w[b+1]+g.offsetY)*g.scaleY;if(re>=ce)return;const pe=E[v],_e=E[v+1],B=E[v+2],F=E[y],k=E[y+1],P=E[y+2],S=E[M],A=E[M+1],O=E[M+2],I=Math.round(re),N=Math.round(ce);let H,z,X,ee,de,ne,K,ve;for(let ye=I;ye<=N;ye++){if(ye<ue){let te;te=ye<re?0:(re-ye)/(re-ue),H=Q-(Q-le)*te,z=pe-(pe-F)*te,X=_e-(_e-k)*te,ee=B-(B-P)*te}else{let te;te=ye>ce?1:ue===ce?0:(ue-ye)/(ue-ce),H=le-(le-W)*te,z=F-(F-S)*te,X=k-(k-A)*te,ee=P-(P-O)*te}let oe;oe=ye<re?0:ye>ce?1:(re-ye)/(re-ce),de=Q-(Q-W)*oe,ne=pe-(pe-S)*oe,K=_e-(_e-A)*oe,ve=B-(B-O)*oe;const ge=Math.round(Math.min(H,de)),fe=Math.round(Math.max(H,de));let j=U*ye+4*ge;for(let te=ge;te<=fe;te++)oe=(H-te)/(H-de),oe<0?oe=0:oe>1&&(oe=1),Z[j++]=z-(z-ne)*oe|0,Z[j++]=X-(X-K)*oe|0,Z[j++]=ee-(ee-ve)*oe|0,Z[j++]=255}}function p(d,g,h){const m=g.coords,b=g.colors;let v,y;switch(g.type){case"lattice":const M=g.verticesPerRow,w=Math.floor(m.length/M)-1,E=M-1;for(v=0;v<w;v++){let Z=v*M;for(let U=0;U<E;U++,Z++)_(d,h,m[Z],m[Z+1],m[Z+M],b[Z],b[Z+1],b[Z+M]),_(d,h,m[Z+M+1],m[Z+1],m[Z+M],b[Z+M+1],b[Z+1],b[Z+M])}break;case"triangles":for(v=0,y=m.length;v<y;v+=3)_(d,h,m[v],m[v+1],m[v+2],b[v],b[v+1],b[v+2]);break;default:throw new Error("illegal figure")}}class f extends V{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,h,m){const M=Math.floor(this._bounds[0]),w=Math.floor(this._bounds[1]),E=Math.ceil(this._bounds[2])-M,Z=Math.ceil(this._bounds[3])-w,U=Math.min(Math.ceil(Math.abs(E*g[0]*1.1)),3e3),q=Math.min(Math.ceil(Math.abs(Z*g[1]*1.1)),3e3),Q=E/U,re=Z/q,le={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-w,scaleX:1/Q,scaleY:1/re},ce=m.getCanvas("mesh",U+4,q+4,!1),pe=ce.context,_e=pe.createImageData(U,q);if(h){const F=_e.data;for(let k=0,P=F.length;k<P;k+=4)F[k]=h[0],F[k+1]=h[1],F[k+2]=h[2],F[k+3]=255}for(const F of this._figures)p(_e,F,le);return pe.putImageData(_e,2,2),{canvas:ce.canvas,offsetX:M-2*Q,offsetY:w-2*re,scaleX:Q,scaleY:re}}getPattern(g,h,m,b){let v;if(D(g,this._bbox),b===e.SHADING)v=C.Util.singularValueDecompose2dScale(g.mozCurrentTransform);else if(v=C.Util.singularValueDecompose2dScale(h.baseTransform),this.matrix){const M=C.Util.singularValueDecompose2dScale(this.matrix);v=[v[0]*M[0],v[1]*M[1]]}const y=this._createMeshCanvas(v,b===e.SHADING?null:this._background,h.cachedCanvases);return b!==e.SHADING&&(g.setTransform.apply(g,h.baseTransform),this.matrix&&g.transform.apply(g,this.matrix)),g.translate(y.offsetX,y.offsetY),g.scale(y.scaleX,y.scaleY),g.createPattern(y.canvas,"no-repeat")}}class u extends V{getPattern(){return"hotpink"}}class a{static get MAX_PATTERN_SIZE(){return(0,C.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(g,h,m,b,v){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=h,this.ctx=m,this.canvasGraphicsFactory=b,this.baseTransform=v}createPatternCanvas(g){const h=this.operatorList,m=this.bbox,b=this.xstep,v=this.ystep,y=this.paintType,w=this.color,E=this.canvasGraphicsFactory;(0,C.info)("TilingType: "+this.tilingType);const Z=m[0],U=m[1],q=m[2],Q=m[3],re=C.Util.singularValueDecompose2dScale(this.matrix),le=C.Util.singularValueDecompose2dScale(this.baseTransform),ue=[re[0]*le[0],re[1]*le[1]],W=this.getSizeAndScale(b,this.ctx.canvas.width,ue[0]),ce=this.getSizeAndScale(v,this.ctx.canvas.height,ue[1]),pe=g.cachedCanvases.getCanvas("pattern",W.size,ce.size,!0),_e=pe.context,B=E.createCanvasGraphics(_e);B.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(B,y,w);let F=Z,k=U,P=q,S=Q;return Z<0&&(F=0,P+=Math.abs(Z)),U<0&&(k=0,S+=Math.abs(U)),_e.translate(-W.scale*F,-ce.scale*k),B.transform(W.scale,0,0,ce.scale,0,0),_e.save(),this.clipBbox(B,F,k,P,S),B.baseTransform=B.ctx.mozCurrentTransform.slice(),B.executeOperatorList(h),B.endDrawing(),{canvas:pe.canvas,scaleX:W.scale,scaleY:ce.scale,offsetX:F,offsetY:k}}getSizeAndScale(g,h,m){g=Math.abs(g);const b=Math.max(a.MAX_PATTERN_SIZE,h);let v=Math.ceil(g*m);return v>=b?v=b:m=v/g,{scale:m,size:v}}clipBbox(g,h,m,b,v){g.ctx.rect(h,m,b-h,v-m),g.current.updateRectMinMax(g.ctx.mozCurrentTransform,[h,m,b,v]),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,h,m){const b=g.ctx,v=g.current;switch(h){case 1:const y=this.ctx;b.fillStyle=y.fillStyle,b.strokeStyle=y.strokeStyle,v.fillColor=y.fillStyle,v.strokeColor=y.strokeStyle;break;case 2:const M=C.Util.makeHexColor(m[0],m[1],m[2]);b.fillStyle=M,b.strokeStyle=M,v.fillColor=M,v.strokeColor=M;break;default:throw new C.FormatError(`Unsupported paint type: ${h}`)}}getPattern(g,h,m,b){let v=m;b!==e.SHADING&&(v=C.Util.transform(v,h.baseTransform),this.matrix&&(v=C.Util.transform(v,this.matrix)));const y=this.createPatternCanvas(h);let M=new DOMMatrix(v);M=M.translate(y.offsetX,y.offsetY),M=M.scale(1/y.scaleX,1/y.scaleY);const w=g.createPattern(y.canvas,"repeat");try{w.setTransform(M)}catch(E){(0,C.warn)(`TilingPattern.getPattern: "${E?.message}".`)}return w}}G.TilingPattern=a},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.applyMaskImageData=function Ce({src:e,srcPos:D=0,dest:V,destPos:Y=0,width:_,height:p,inverseDecode:f=!1}){const u=C.FeatureTest.isLittleEndian?4278190080:255,[l,c]=f?[0,u]:[u,0],a=_>>3,d=7&_,g=e.length;V=new Uint32Array(V.buffer);for(let h=0;h<p;h++){for(const b=D+a;D<b;D++){const v=D<g?e[D]:255;V[Y++]=128&v?c:l,V[Y++]=64&v?c:l,V[Y++]=32&v?c:l,V[Y++]=16&v?c:l,V[Y++]=8&v?c:l,V[Y++]=4&v?c:l,V[Y++]=2&v?c:l,V[Y++]=1&v?c:l}if(0===d)continue;const m=D<g?e[D++]:255;for(let b=0;b<d;b++)V[Y++]=m&1<<7-b?c:l}return{srcPos:D,destPos:Y}};var C=be(1)},(Ee,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.GlobalWorkerOptions=void 0;const be=Object.create(null);G.GlobalWorkerOptions=be,be.workerPort=void 0===be.workerPort?null:be.workerPort,be.workerSrc=void 0===be.workerSrc?"":be.workerSrc},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MessageHandler=void 0;var C=be(1);function D(Y){switch(Y instanceof Error||"object"==typeof Y&&null!==Y||(0,C.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Y.name){case"AbortException":return new C.AbortException(Y.message);case"MissingPDFException":return new C.MissingPDFException(Y.message);case"PasswordException":return new C.PasswordException(Y.message,Y.code);case"UnexpectedResponseException":return new C.UnexpectedResponseException(Y.message,Y.status);case"UnknownErrorException":return new C.UnknownErrorException(Y.message,Y.details);default:return new C.UnknownErrorException(Y.message,Y.toString())}}G.MessageHandler=class V{constructor(_,p,f){this.sourceName=_,this.targetName=p,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=u=>{const l=u.data;if(l.targetName!==this.sourceName)return;if(l.stream)return void this._processStreamMessage(l);if(l.callback){const a=l.callbackId,d=this.callbackCapabilities[a];if(!d)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],1===l.callback)d.resolve(l.data);else{if(2!==l.callback)throw new Error("Unexpected callback case");d.reject(D(l.reason))}return}const c=this.actionHandler[l.action];if(!c)throw new Error(`Unknown action from worker: ${l.action}`);if(l.callbackId){const a=this.sourceName,d=l.sourceName;new Promise(function(g){g(c(l.data))}).then(function(g){f.postMessage({sourceName:a,targetName:d,callback:1,callbackId:l.callbackId,data:g})},function(g){f.postMessage({sourceName:a,targetName:d,callback:2,callbackId:l.callbackId,reason:D(g)})})}else l.streamId?this._createStreamSink(l):c(l.data)},f.addEventListener("message",this._onComObjOnMessage)}on(_,p){const f=this.actionHandler;if(f[_])throw new Error(`There is already an actionName called "${_}"`);f[_]=p}send(_,p,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:p},f)}sendWithPromise(_,p,f){const u=this.callbackId++,l=(0,C.createPromiseCapability)();this.callbackCapabilities[u]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:u,data:p},f)}catch(c){l.reject(c)}return l.promise}sendWithStream(_,p,f,u){const l=this.streamId++,c=this.sourceName,a=this.targetName,d=this.comObj;return new ReadableStream({start:g=>{const h=(0,C.createPromiseCapability)();return this.streamControllers[l]={controller:g,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:a,action:_,streamId:l,data:p,desiredSize:g.desiredSize},u),h.promise},pull:g=>{const h=(0,C.createPromiseCapability)();return this.streamControllers[l].pullCall=h,d.postMessage({sourceName:c,targetName:a,stream:6,streamId:l,desiredSize:g.desiredSize}),h.promise},cancel:g=>{(0,C.assert)(g instanceof Error,"cancel must have a valid reason");const h=(0,C.createPromiseCapability)();return this.streamControllers[l].cancelCall=h,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:a,stream:1,streamId:l,reason:D(g)}),h.promise}},f)}_createStreamSink(_){const p=_.streamId,f=this.sourceName,u=_.sourceName,l=this.comObj,c=this,a=this.actionHandler[_.action],d={enqueue(g,h=1,m){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=h,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,C.createPromiseCapability)(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:f,targetName:u,stream:4,streamId:p,chunk:g},m)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:f,targetName:u,stream:3,streamId:p}),delete c.streamSinks[p])},error(g){(0,C.assert)(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:f,targetName:u,stream:5,streamId:p,reason:D(g)}))},sinkCapability:(0,C.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[p]=d,new Promise(function(g){g(a(_.data,d))}).then(function(){l.postMessage({sourceName:f,targetName:u,stream:8,streamId:p,success:!0})},function(g){l.postMessage({sourceName:f,targetName:u,stream:8,streamId:p,reason:D(g)})})}_processStreamMessage(_){const p=_.streamId,f=this.sourceName,u=_.sourceName,l=this.comObj,c=this.streamControllers[p],a=this.streamSinks[p];switch(_.stream){case 8:_.success?c.startCall.resolve():c.startCall.reject(D(_.reason));break;case 7:_.success?c.pullCall.resolve():c.pullCall.reject(D(_.reason));break;case 6:if(!a){l.postMessage({sourceName:f,targetName:u,stream:7,streamId:p,success:!0});break}a.desiredSize<=0&&_.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=_.desiredSize,new Promise(function(d){d(a.onPull&&a.onPull())}).then(function(){l.postMessage({sourceName:f,targetName:u,stream:7,streamId:p,success:!0})},function(d){l.postMessage({sourceName:f,targetName:u,stream:7,streamId:p,reason:D(d)})});break;case 4:if((0,C.assert)(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(_.chunk);break;case 3:if((0,C.assert)(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this._deleteStreamController(c,p);break;case 5:(0,C.assert)(c,"error should have stream controller"),c.controller.error(D(_.reason)),this._deleteStreamController(c,p);break;case 2:_.success?c.cancelCall.resolve():c.cancelCall.reject(D(_.reason)),this._deleteStreamController(c,p);break;case 1:if(!a)break;new Promise(function(d){d(a.onCancel&&a.onCancel(D(_.reason)))}).then(function(){l.postMessage({sourceName:f,targetName:u,stream:2,streamId:p,success:!0})},function(d){l.postMessage({sourceName:f,targetName:u,stream:2,streamId:p,reason:D(d)})}),a.sinkCapability.reject(D(_.reason)),a.isCancelled=!0,delete this.streamSinks[p];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(_,p){var f=this;return _asyncToGenerator(function*(){yield Promise.allSettled([_.startCall&&_.startCall.promise,_.pullCall&&_.pullCall.promise,_.cancelCall&&_.cancelCall.promise]),delete f.streamControllers[p]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ee,G,be)=>{var e,D;Object.defineProperty(G,"__esModule",{value:!0}),G.Metadata=void 0;var C=be(1);e=new WeakMap,D=new WeakMap,G.Metadata=class Ce{constructor({parsedData:Y,rawData:_}){je(this,e,void 0),je(this,D,void 0),lt(this,e,Y),lt(this,D,_)}getRaw(){return Ze(this,D)}get(Y){return Ze(this,e).get(Y)??null}getAll(){return(0,C.objectFromMap)(Ze(this,e))}has(Y){return Ze(this,e).has(Y)}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.OptionalContentConfig=void 0;var C=be(1);class Ce{constructor(V,Y){this.visible=!0,this.name=V,this.intent=Y}}G.OptionalContentConfig=class e{constructor(V){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==V){this.name=V.name,this.creator=V.creator,this._order=V.order;for(const Y of V.groups)this._groups.set(Y.id,new Ce(Y.name,Y.intent));if("OFF"===V.baseState)for(const Y of this._groups)Y.visible=!1;for(const Y of V.on)this._groups.get(Y).visible=!0;for(const Y of V.off)this._groups.get(Y).visible=!1}}_evaluateVisibilityExpression(V){const Y=V.length;if(Y<2)return!0;const _=V[0];for(let p=1;p<Y;p++){const f=V[p];let u;if(Array.isArray(f))u=this._evaluateVisibilityExpression(f);else{if(!this._groups.has(f))return(0,C.warn)(`Optional content group not found: ${f}`),!0;u=this._groups.get(f).visible}switch(_){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return"And"===_}isVisible(V){if(0===this._groups.size)return!0;if(!V)return(0,C.warn)("Optional content group not defined."),!0;if("OCG"===V.type)return this._groups.has(V.id)?this._groups.get(V.id).visible:((0,C.warn)(`Optional content group not found: ${V.id}`),!0);if("OCMD"===V.type){if(V.expression)return this._evaluateVisibilityExpression(V.expression);if(!V.policy||"AnyOn"===V.policy){for(const Y of V.ids){if(!this._groups.has(Y))return(0,C.warn)(`Optional content group not found: ${Y}`),!0;if(this._groups.get(Y).visible)return!0}return!1}if("AllOn"===V.policy){for(const Y of V.ids){if(!this._groups.has(Y))return(0,C.warn)(`Optional content group not found: ${Y}`),!0;if(!this._groups.get(Y).visible)return!1}return!0}if("AnyOff"===V.policy){for(const Y of V.ids){if(!this._groups.has(Y))return(0,C.warn)(`Optional content group not found: ${Y}`),!0;if(!this._groups.get(Y).visible)return!0}return!1}if("AllOff"===V.policy){for(const Y of V.ids){if(!this._groups.has(Y))return(0,C.warn)(`Optional content group not found: ${Y}`),!0;if(this._groups.get(Y).visible)return!1}return!0}return(0,C.warn)(`Unknown optional content policy ${V.policy}.`),!0}return(0,C.warn)(`Unknown group type ${V.type}.`),!0}setVisibility(V,Y=!0){this._groups.has(V)?this._groups.get(V).visible=!!Y:(0,C.warn)(`Optional content group not found: ${V}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,C.objectFromMap)(this._groups):null}getGroup(V){return this._groups.get(V)||null}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFDataTransportStream=void 0;var C=be(1),Ce=be(5);G.PDFDataTransportStream=class e{constructor(_,p){(0,C.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_.progressiveDone||!1,this._contentDispositionFilename=_.contentDispositionFilename||null;const f=_.initialData;if(f?.length>0){const u=new Uint8Array(f).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._contentLength=_.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((u,l)=>{this._onReceiveData({begin:u,chunk:l})}),this._pdfDataRangeTransport.addProgressListener((u,l)=>{this._onProgress({loaded:u,total:l})}),this._pdfDataRangeTransport.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(_){const p=new Uint8Array(_.chunk).buffer;if(void 0===_.begin)this._fullRequestReader?this._fullRequestReader._enqueue(p):this._queuedChunks.push(p);else{const f=this._rangeReaders.some(function(u){return u._begin===_.begin&&(u._enqueue(p),!0)});(0,C.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(_){if(void 0===_.total){const p=this._rangeReaders[0];p?.onProgress&&p.onProgress({loaded:_.loaded})}else{const p=this._fullRequestReader;p?.onProgress&&p.onProgress({loaded:_.loaded,total:_.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const p=this._rangeReaders.indexOf(_);p>=0&&this._rangeReaders.splice(p,1)}getFullReader(){(0,C.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new D(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,p){if(p<=this._progressiveDataLength)return null;const f=new V(this,_,p);return this._pdfDataRangeTransport.requestDataRange(_,p),this._rangeReaders.push(f),f}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const p of this._rangeReaders.slice(0))p.cancel(_);this._pdfDataRangeTransport.abort()}};class D{constructor(_,p,f=!1,u=null){this._stream=_,this._done=f||!1,this._filename=(0,Ce.isPdfFile)(u)?u:null,this._queuedChunks=p||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var _=this;return _asyncToGenerator(function*(){if(_._queuedChunks.length>0)return{value:_._queuedChunks.shift(),done:!1};if(_._done)return{value:void 0,done:!0};const p=(0,C.createPromiseCapability)();return _._requests.push(p),p.promise})()}cancel(_){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V{constructor(_,p,f){this._stream=_,this._begin=p,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(0===this._requests.length)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var _=this;return _asyncToGenerator(function*(){if(_._queuedChunk){const f=_._queuedChunk;return _._queuedChunk=null,{value:f,done:!1}}if(_._done)return{value:void 0,done:!0};const p=(0,C.createPromiseCapability)();return _._requests.push(p),p.promise})()}cancel(_){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ee,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.XfaText=void 0;class be{static textContent(Ce){const e=[],D={items:e,styles:Object.create(null)};return function V(Y){if(!Y)return;let _=null;const p=Y.name;if("#text"===p)_=Y.value;else{if(!be.shouldBuildText(p))return;Y?.attributes?.textContent?_=Y.attributes.textContent:Y.value&&(_=Y.value)}if(null!==_&&e.push({str:_}),Y.children)for(const f of Y.children)V(f)}(Ce),D}static shouldBuildText(Ce){return!("textarea"===Ce||"input"===Ce||"option"===Ce||"select"===Ce)}}G.XfaText=be},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NodeStandardFontDataFactory=G.NodeCanvasFactory=G.NodeCMapReaderFactory=void 0;var C=be(6);const Ce=function(Y){return new Promise((_,p)=>{__webpack_require__(172).readFile(Y,(u,l)=>{!u&&l?_(new Uint8Array(l)):p(new Error(u))})})};G.NodeCanvasFactory=class e extends C.BaseCanvasFactory{_createCanvas(_,p){return __webpack_require__(3414).createCanvas(_,p)}},G.NodeCMapReaderFactory=class D extends C.BaseCMapReaderFactory{_fetchData(_,p){return Ce(_).then(f=>({cMapData:f,compressionType:p}))}},G.NodeStandardFontDataFactory=class V extends C.BaseStandardFontDataFactory{_fetchData(_){return Ce(_)}}},(Ee,G,be)=>{var F,tr;Object.defineProperty(G,"__esModule",{value:!0}),G.AnnotationLayer=void 0;var C=be(1),Ce=be(5),e=be(8),D=be(21),V=be(22);const Y=1e3,_=new WeakSet;function p(P){return{width:P[2]-P[0],height:P[3]-P[1]}}class f{static create(S){switch(S.data.annotationType){case C.AnnotationType.LINK:return new l(S);case C.AnnotationType.TEXT:return new c(S);case C.AnnotationType.WIDGET:switch(S.data.fieldType){case"Tx":return new d(S);case"Btn":return S.data.radioButton?new h(S):S.data.checkBox?new g(S):new m(S);case"Ch":return new b(S)}return new a(S);case C.AnnotationType.POPUP:return new v(S);case C.AnnotationType.FREETEXT:return new M(S);case C.AnnotationType.LINE:return new w(S);case C.AnnotationType.SQUARE:return new E(S);case C.AnnotationType.CIRCLE:return new Z(S);case C.AnnotationType.POLYLINE:return new U(S);case C.AnnotationType.CARET:return new Q(S);case C.AnnotationType.INK:return new re(S);case C.AnnotationType.POLYGON:return new q(S);case C.AnnotationType.HIGHLIGHT:return new le(S);case C.AnnotationType.UNDERLINE:return new ue(S);case C.AnnotationType.SQUIGGLY:return new W(S);case C.AnnotationType.STRIKEOUT:return new ce(S);case C.AnnotationType.STAMP:return new pe(S);case C.AnnotationType.FILEATTACHMENT:return new _e(S);default:return new u(S)}}}class u{constructor(S,{isRenderable:A=!1,ignoreBorder:O=!1,createQuadrilaterals:I=!1}={}){this.isRenderable=A,this.data=S.data,this.layer=S.layer,this.page=S.page,this.viewport=S.viewport,this.linkService=S.linkService,this.downloadManager=S.downloadManager,this.imageResourcesPath=S.imageResourcesPath,this.renderForms=S.renderForms,this.svgFactory=S.svgFactory,this.annotationStorage=S.annotationStorage,this.enableScripting=S.enableScripting,this.hasJSActions=S.hasJSActions,this._fieldObjects=S.fieldObjects,this._mouseState=S.mouseState,A&&(this.container=this._createContainer(O)),I&&(this.quadrilaterals=this._createQuadrilaterals(O))}_createContainer(S=!1){const A=this.data,O=this.page,I=this.viewport,N=document.createElement("section");let{width:H,height:z}=p(A.rect);N.setAttribute("data-annotation-id",A.id);const X=C.Util.normalizeRect([A.rect[0],O.view[3]-A.rect[1]+O.view[1],A.rect[2],O.view[3]-A.rect[3]+O.view[1]]);if(A.hasOwnCanvas){const ee=I.transform.slice(),[de,ne]=C.Util.singularValueDecompose2dScale(ee);H=Math.ceil(H*de),z=Math.ceil(z*ne),X[0]*=de,X[1]*=ne;for(let K=0;K<4;K++)ee[K]=Math.sign(ee[K]);N.style.transform=`matrix(${ee.join(",")})`}else N.style.transform=`matrix(${I.transform.join(",")})`;if(N.style.transformOrigin=`${-X[0]}px ${-X[1]}px`,!S&&A.borderStyle.width>0){N.style.borderWidth=`${A.borderStyle.width}px`,A.borderStyle.style!==C.AnnotationBorderStyleType.UNDERLINE&&(H-=2*A.borderStyle.width,z-=2*A.borderStyle.width);const ee=A.borderStyle.horizontalCornerRadius,de=A.borderStyle.verticalCornerRadius;switch((ee>0||de>0)&&(N.style.borderRadius=`${ee}px / ${de}px`),A.borderStyle.style){case C.AnnotationBorderStyleType.SOLID:N.style.borderStyle="solid";break;case C.AnnotationBorderStyleType.DASHED:N.style.borderStyle="dashed";break;case C.AnnotationBorderStyleType.BEVELED:(0,C.warn)("Unimplemented border style: beveled");break;case C.AnnotationBorderStyleType.INSET:(0,C.warn)("Unimplemented border style: inset");break;case C.AnnotationBorderStyleType.UNDERLINE:N.style.borderBottomStyle="solid"}A.borderColor||A.color?N.style.borderColor=C.Util.makeHexColor(0|A.color[0],0|A.color[1],0|A.color[2]):N.style.borderWidth=0}return N.style.left=`${X[0]}px`,N.style.top=`${X[1]}px`,A.hasOwnCanvas?N.style.width=N.style.height="auto":(N.style.width=`${H}px`,N.style.height=`${z}px`),N}get _commonActions(){const S=(A,O,I)=>{const N=I.detail[A];I.target.style[O]=D.ColorConverters[`${N[0]}_HTML`](N.slice(1))};return(0,C.shadow)(this,"_commonActions",{display:A=>{const O=A.detail.display%2==1;A.target.style.visibility=O?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:O,print:0===A.detail.display||3===A.detail.display})},print:A=>{this.annotationStorage.setValue(this.data.id,{print:A.detail.print})},hidden:A=>{A.target.style.visibility=A.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:A.detail.hidden})},focus:A=>{setTimeout(()=>A.target.focus({preventScroll:!1}),0)},userName:A=>{A.target.title=A.detail.userName},readonly:A=>{A.detail.readonly?A.target.setAttribute("readonly",""):A.target.removeAttribute("readonly")},required:A=>{A.detail.required?A.target.setAttribute("required",""):A.target.removeAttribute("required")},bgColor:A=>{S("bgColor","backgroundColor",A)},fillColor:A=>{S("fillColor","backgroundColor",A)},fgColor:A=>{S("fgColor","color",A)},textColor:A=>{S("textColor","color",A)},borderColor:A=>{S("borderColor","borderColor",A)},strokeColor:A=>{S("strokeColor","borderColor",A)}})}_dispatchEventFromSandbox(S,A){const O=this._commonActions;for(const I of Object.keys(A.detail)){const N=S[I]||O[I];N&&N(A)}}_setDefaultPropertiesFromJS(S){if(!this.enableScripting)return;const A=this.annotationStorage.getRawValue(this.data.id);if(!A)return;const O=this._commonActions;for(const[I,N]of Object.entries(A)){const H=O[I];H&&(H({detail:N,target:S}),delete A[I])}}_createQuadrilaterals(S=!1){if(!this.data.quadPoints)return null;const A=[],O=this.data.rect;for(const I of this.data.quadPoints)this.data.rect=[I[2].x,I[2].y,I[1].x,I[1].y],A.push(this._createContainer(S));return this.data.rect=O,A}_createPopup(S,A){let O=this.container;this.quadrilaterals&&(S=S||this.quadrilaterals,O=this.quadrilaterals[0]),S||((S=document.createElement("div")).style.height=O.style.height,S.style.width=O.style.width,O.appendChild(S));const N=new y({container:O,trigger:S,color:A.color,titleObj:A.titleObj,modificationDate:A.modificationDate,contentsObj:A.contentsObj,richText:A.richText,hideWrapper:!0}).render();N.style.left=O.style.width,O.appendChild(N)}_renderQuadrilaterals(S){for(const A of this.quadrilaterals)A.className=S;return this.quadrilaterals}render(){(0,C.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(S,A=null){const O=[];if(this._fieldObjects){const I=this._fieldObjects[S];if(I)for(const{page:N,id:H,exportValues:z}of I){if(-1===N||H===A)continue;const X="string"==typeof z?z:null,ee=document.getElementById(H);!ee||_.has(ee)?O.push({id:H,exportValue:X,domElement:ee}):(0,C.warn)(`_getElementsByName - element not allowed: ${H}`)}return O}for(const I of document.getElementsByName(S)){const{id:N,exportValue:H}=I;N!==A&&(!_.has(I)||O.push({id:N,exportValue:H,domElement:I}))}return O}static get platform(){const S=typeof navigator<"u"?navigator.platform:"";return(0,C.shadow)(this,"platform",{isWin:S.includes("Win"),isMac:S.includes("Mac")})}}class l extends u{constructor(S,A=null){super(S,{isRenderable:!!(S.data.url||S.data.dest||S.data.action||S.data.isTooltipOnly||S.data.resetForm||S.data.actions&&(S.data.actions.Action||S.data.actions["Mouse Up"]||S.data.actions["Mouse Down"])),ignoreBorder:!!A?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:S,linkService:A}=this,O=document.createElement("a");if(S.url)A.addLinkAttributes(O,S.url,S.newWindow);else if(S.action)this._bindNamedAction(O,S.action);else if(S.dest)this._bindLink(O,S.dest);else{let I=!1;S.actions&&(S.actions.Action||S.actions["Mouse Up"]||S.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(I=!0,this._bindJSAction(O,S)),S.resetForm?this._bindResetFormAction(O,S.resetForm):I||this._bindLink(O,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((I,N)=>{const H=0===N?O:O.cloneNode();return I.appendChild(H),I}):(this.container.className="linkAnnotation",this.container.appendChild(O),this.container)}_bindLink(S,A){S.href=this.linkService.getDestinationHash(A),S.onclick=()=>(A&&this.linkService.goToDestination(A),!1),(A||""===A)&&(S.className="internalLink")}_bindNamedAction(S,A){S.href=this.linkService.getAnchorUrl(""),S.onclick=()=>(this.linkService.executeNamedAction(A),!1),S.className="internalLink"}_bindJSAction(S,A){S.href=this.linkService.getAnchorUrl("");const O=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const I of Object.keys(A.actions)){const N=O.get(I);!N||(S[N]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:A.id,name:I}}),!1))}S.onclick||(S.onclick=()=>!1),S.className="internalLink"}_bindResetFormAction(S,A){const O=S.onclick;if(O||(S.href=this.linkService.getAnchorUrl("")),S.className="internalLink",!this._fieldObjects)return(0,C.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(O||(S.onclick=()=>!1));S.onclick=()=>{O&&O();const{fields:I,refs:N,include:H}=A,z=[];if(0!==I.length||0!==N.length){const de=new Set(N);for(const ne of I){const K=this._fieldObjects[ne]||[];for(const{id:ve}of K)de.add(ve)}for(const ne of Object.values(this._fieldObjects))for(const K of ne)de.has(K.id)===H&&z.push(K)}else for(const de of Object.values(this._fieldObjects))z.push(...de);const X=this.annotationStorage,ee=[];for(const de of z){const{id:ne}=de;switch(ee.push(ne),de.type){case"text":case"combobox":case"listbox":X.setValue(ne,{value:de.defaultValue||""});break;case"checkbox":case"radiobutton":X.setValue(ne,{value:de.defaultValue===de.exportValues});break;default:continue}const K=document.getElementById(ne);!K||!_.has(K)||K.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ee,name:"ResetForm"}}),!1}}}class c extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str)})}render(){this.container.className="textAnnotation";const S=document.createElement("img");return S.style.height=this.container.style.height,S.style.width=this.container.style.width,S.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",S.alt="[{{type}} Annotation]",S.dataset.l10nId="text_annotation_type",S.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(S,this.data),this.container.appendChild(S),this.container}}class a extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(S){const{isWin:A,isMac:O}=u.platform;return A&&S.ctrlKey||O&&S.metaKey}_setEventListener(S,A,O,I){A.includes("mouse")?S.addEventListener(A,N=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:I(N),shift:N.shiftKey,modifier:this._getKeyModifier(N)}})}):S.addEventListener(A,N=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:I(N)}})})}_setEventListeners(S,A,O){for(const[I,N]of A)("Action"===N||this.data.actions?.[N])&&this._setEventListener(S,I,N,O)}_setBackgroundColor(S){const A=this.data.backgroundColor||null;S.style.backgroundColor=null===A?"transparent":C.Util.makeHexColor(A[0],A[1],A[2])}}class d extends a{constructor(S){super(S,{isRenderable:S.renderForms||!S.data.hasAppearance&&!!S.data.fieldValue})}setPropertyOnSiblings(S,A,O,I){const N=this.annotationStorage;for(const H of this._getElementsByName(S.name,S.id))H.domElement&&(H.domElement[A]=O),N.setValue(H.id,{[I]:O})}render(){const S=this.annotationStorage,A=this.data.id;this.container.className="textWidgetAnnotation";let O=null;if(this.renderForms){const I=S.getValue(A,{value:this.data.fieldValue}),N=I.formattedValue||I.value||"",H={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(O=document.createElement("textarea"),O.textContent=N):(O=document.createElement("input"),O.type="text",O.setAttribute("value",N)),_.add(O),O.disabled=this.data.readOnly,O.name=this.data.fieldName,O.tabIndex=Y,H.userValue=N,O.setAttribute("id",A),O.addEventListener("input",X=>{S.setValue(A,{value:X.target.value}),this.setPropertyOnSiblings(O,"value",X.target.value,"value")}),O.addEventListener("resetform",X=>{O.value=H.userValue=this.data.defaultFieldValue??"",H.formattedValue=null});let z=X=>{const{formattedValue:ee}=H;null!=ee&&(X.target.value=ee),X.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){O.addEventListener("focus",ee=>{H.userValue&&(ee.target.value=H.userValue),H.valueOnFocus=ee.target.value}),O.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value(ne){H.userValue=ne.detail.value??"",S.setValue(A,{value:H.userValue.toString()}),ne.target.value=H.userValue},formattedValue(ne){const{formattedValue:K}=ne.detail;H.formattedValue=K,null!=K&&ne.target!==document.activeElement&&(ne.target.value=K),S.setValue(A,{formattedValue:K})},selRange(ne){ne.target.setSelectionRange(...ne.detail.selRange)}},ee)}),O.addEventListener("keydown",ee=>{let de=-1;if("Escape"===ee.key?de=0:"Enter"===ee.key?de=2:"Tab"===ee.key&&(de=3),-1===de)return;const{value:ne}=ee.target;H.valueOnFocus!==ne&&(H.userValue=ne,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:A,name:"Keystroke",value:ne,willCommit:!0,commitKey:de,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}))});const X=z;z=null,O.addEventListener("blur",ee=>{const{value:de}=ee.target;H.userValue=de,this._mouseState.isDown&&H.valueOnFocus!==de&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:A,name:"Keystroke",value:de,willCommit:!0,commitKey:1,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}),X(ee)}),this.data.actions?.Keystroke&&O.addEventListener("beforeinput",ee=>{const{data:de,target:ne}=ee,{value:K,selectionStart:ve,selectionEnd:ye}=ne;let oe=ve,ge=ye;switch(ee.inputType){case"deleteWordBackward":{const fe=K.substring(0,ve).match(/\w*[^\w]*$/);fe&&(oe-=fe[0].length);break}case"deleteWordForward":{const fe=K.substring(ve).match(/^[^\w]*\w*/);fe&&(ge+=fe[0].length);break}case"deleteContentBackward":ve===ye&&(oe-=1);break;case"deleteContentForward":ve===ye&&(ge+=1)}ee.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:A,name:"Keystroke",value:K,change:de||"",willCommit:!1,selStart:oe,selEnd:ge}})}),this._setEventListeners(O,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.value)}if(z&&O.addEventListener("blur",z),null!==this.data.maxLen&&(O.maxLength=this.data.maxLen),this.data.comb){const ee=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;O.classList.add("comb"),O.style.letterSpacing=`calc(${ee}px - 1ch)`}}else O=document.createElement("div"),O.textContent=this.data.fieldValue,O.style.verticalAlign="middle",O.style.display="table-cell";return this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.appendChild(O),this.container}_setTextStyle(S){const{fontSize:O,fontColor:I}=this.data.defaultAppearanceData,N=S.style;O&&(N.fontSize=`${O}px`),N.color=C.Util.makeHexColor(I[0],I[1],I[2]),null!==this.data.textAlignment&&(N.textAlign=["left","center","right"][this.data.textAlignment])}}class g extends a{constructor(S){super(S,{isRenderable:S.renderForms})}render(){const S=this.annotationStorage,A=this.data,O=A.id;let I=S.getValue(O,{value:A.exportValue===A.fieldValue}).value;"string"==typeof I&&(I="Off"!==I,S.setValue(O,{value:I})),this.container.className="buttonWidgetAnnotation checkBox";const N=document.createElement("input");return _.add(N),N.disabled=A.readOnly,N.type="checkbox",N.name=A.fieldName,I&&N.setAttribute("checked",!0),N.setAttribute("id",O),N.setAttribute("exportValue",A.exportValue),N.tabIndex=Y,N.addEventListener("change",H=>{const{name:z,checked:X}=H.target;for(const ee of this._getElementsByName(z,O)){const de=X&&ee.exportValue===A.exportValue;ee.domElement&&(ee.domElement.checked=de),S.setValue(ee.id,{value:de})}S.setValue(O,{value:X})}),N.addEventListener("resetform",H=>{H.target.checked=(A.defaultFieldValue||"Off")===A.exportValue}),this.enableScripting&&this.hasJSActions&&(N.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(X){X.target.checked="Off"!==X.detail.value,S.setValue(O,{value:X.target.checked})}},H)}),this._setEventListeners(N,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.appendChild(N),this.container}}class h extends a{constructor(S){super(S,{isRenderable:S.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const S=this.annotationStorage,A=this.data,O=A.id;let I=S.getValue(O,{value:A.fieldValue===A.buttonValue}).value;"string"==typeof I&&(I=I!==A.buttonValue,S.setValue(O,{value:I}));const N=document.createElement("input");if(_.add(N),N.disabled=A.readOnly,N.type="radio",N.name=A.fieldName,I&&N.setAttribute("checked",!0),N.setAttribute("id",O),N.tabIndex=Y,N.addEventListener("change",H=>{const{name:z,checked:X}=H.target;for(const ee of this._getElementsByName(z,O))S.setValue(ee.id,{value:!1});S.setValue(O,{value:X})}),N.addEventListener("resetform",H=>{const z=A.defaultFieldValue;H.target.checked=null!=z&&z===A.buttonValue}),this.enableScripting&&this.hasJSActions){const H=A.buttonValue;N.addEventListener("updatefromsandbox",z=>{this._dispatchEventFromSandbox({value:ee=>{const de=H===ee.detail.value;for(const ne of this._getElementsByName(ee.target.name)){const K=de&&ne.id===O;ne.domElement&&(ne.domElement.checked=K),S.setValue(ne.id,{value:K})}}},z)}),this._setEventListeners(N,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)}return this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.appendChild(N),this.container}}class m extends l{constructor(S){super(S,{ignoreBorder:S.data.hasAppearance})}render(){const S=super.render();return S.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(S.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(S),S}}class b extends a{constructor(S){super(S,{isRenderable:S.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const S=this.annotationStorage,A=this.data.id,O=S.getValue(A,{value:this.data.fieldValue});let{fontSize:I}=this.data.defaultAppearanceData;I||(I=9);const N=`calc(${I}px * var(--zoom-factor))`,H=document.createElement("select");_.add(H),H.disabled=this.data.readOnly,H.name=this.data.fieldName,H.setAttribute("id",A),H.tabIndex=Y,H.style.fontSize=`${I}px`,this.data.combo||(H.size=this.data.options.length,this.data.multiSelect&&(H.multiple=!0)),H.addEventListener("resetform",ee=>{const de=this.data.defaultFieldValue;for(const ne of H.options)ne.selected=ne.value===de});for(const ee of this.data.options){const de=document.createElement("option");de.textContent=ee.displayValue,de.value=ee.exportValue,this.data.combo&&(de.style.fontSize=N),O.value.includes(ee.exportValue)&&de.setAttribute("selected",!0),H.appendChild(de)}const z=(ee,de)=>{const ne=de?"value":"textContent",K=ee.target.options;return ee.target.multiple?Array.prototype.filter.call(K,ve=>ve.selected).map(ve=>ve[ne]):-1===K.selectedIndex?null:K[K.selectedIndex][ne]},X=ee=>Array.prototype.map.call(ee.target.options,ne=>({displayValue:ne.textContent,exportValue:ne.value}));return this.enableScripting&&this.hasJSActions?(H.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value(ne){const K=ne.detail.value,ve=new Set(Array.isArray(K)?K:[K]);for(const ye of H.options)ye.selected=ve.has(ye.value);S.setValue(A,{value:z(ne,!0)})},multipleSelection(ne){H.multiple=!0},remove(ne){const K=H.options,ve=ne.detail.remove;K[ve].selected=!1,H.remove(ve),K.length>0&&-1===Array.prototype.findIndex.call(K,oe=>oe.selected)&&(K[0].selected=!0),S.setValue(A,{value:z(ne,!0),items:X(ne)})},clear(ne){for(;0!==H.length;)H.remove(0);S.setValue(A,{value:null,items:[]})},insert(ne){const{index:K,displayValue:ve,exportValue:ye}=ne.detail.insert,oe=document.createElement("option");oe.textContent=ve,oe.value=ye,H.insertBefore(oe,H.children[K]),S.setValue(A,{value:z(ne,!0),items:X(ne)})},items(ne){const{items:K}=ne.detail;for(;0!==H.length;)H.remove(0);for(const ve of K){const{displayValue:ye,exportValue:oe}=ve,ge=document.createElement("option");ge.textContent=ye,ge.value=oe,H.appendChild(ge)}H.options.length>0&&(H.options[0].selected=!0),S.setValue(A,{value:z(ne,!0),items:X(ne)})},indices(ne){const K=new Set(ne.detail.indices);for(const ve of ne.target.options)ve.selected=K.has(ve.index);S.setValue(A,{value:z(ne,!0)})},editable(ne){ne.target.disabled=!ne.detail.editable}},ee)}),H.addEventListener("input",ee=>{const de=z(ee,!0),ne=z(ee,!1);S.setValue(A,{value:de}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:A,name:"Keystroke",value:ne,changeEx:de,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(H,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ee=>ee.target.checked)):H.addEventListener("input",function(ee){S.setValue(A,{value:z(ee,!0)})}),this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.appendChild(H),this.container}}class v extends u{constructor(S){super(S,{isRenderable:!!(S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const O=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===O.length)return this.container;const I=new y({container:this.container,trigger:Array.from(O),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),N=this.page,H=C.Util.normalizeRect([this.data.parentRect[0],N.view[3]-this.data.parentRect[1]+N.view[1],this.data.parentRect[2],N.view[3]-this.data.parentRect[3]+N.view[1]]),z=H[0]+this.data.parentRect[2]-this.data.parentRect[0],X=H[1];return this.container.style.transformOrigin=`${-z}px ${-X}px`,this.container.style.left=`${z}px`,this.container.style.top=`${X}px`,this.container.appendChild(I.render()),this.container}}class y{constructor(S){this.container=S.container,this.trigger=S.trigger,this.color=S.color,this.titleObj=S.titleObj,this.modificationDate=S.modificationDate,this.contentsObj=S.contentsObj,this.richText=S.richText,this.hideWrapper=S.hideWrapper||!1,this.pinned=!1}render(){const A=document.createElement("div");A.className="popupWrapper",this.hideElement=this.hideWrapper?A:this.container,this.hideElement.hidden=!0;const O=document.createElement("div");O.className="popup";const I=this.color;I&&(O.style.backgroundColor=C.Util.makeHexColor(0|.7*(255-I[0])+I[0],0|.7*(255-I[1])+I[1],0|.7*(255-I[2])+I[2]));const N=document.createElement("h1");N.dir=this.titleObj.dir,N.textContent=this.titleObj.str,O.appendChild(N);const H=Ce.PDFDateString.toDateObject(this.modificationDate);if(H){const z=document.createElement("span");z.className="popupDate",z.textContent="{{date}}, {{time}}",z.dataset.l10nId="annotation_date_string",z.dataset.l10nArgs=JSON.stringify({date:H.toLocaleDateString(),time:H.toLocaleTimeString()}),O.appendChild(z)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const z=this._formatContents(this.contentsObj);O.appendChild(z)}else V.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:O}),O.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const z of this.trigger)z.addEventListener("click",this._toggle.bind(this)),z.addEventListener("mouseover",this._show.bind(this,!1)),z.addEventListener("mouseout",this._hide.bind(this,!1));return O.addEventListener("click",this._hide.bind(this,!0)),A.appendChild(O),A}_formatContents({str:S,dir:A}){const O=document.createElement("p");O.className="popupContent",O.dir=A;const I=S.split(/(?:\r\n?|\n)/);for(let N=0,H=I.length;N<H;++N)O.appendChild(document.createTextNode(I[N])),N<H-1&&O.appendChild(document.createElement("br"));return O}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(S=!1){S&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(S=!0){S&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class M extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const S=this.data,{width:A,height:O}=p(S.rect),I=this.svgFactory.create(A,O),N=this.svgFactory.createElement("svg:line");return N.setAttribute("x1",S.rect[2]-S.lineCoordinates[0]),N.setAttribute("y1",S.rect[3]-S.lineCoordinates[1]),N.setAttribute("x2",S.rect[2]-S.lineCoordinates[2]),N.setAttribute("y2",S.rect[3]-S.lineCoordinates[3]),N.setAttribute("stroke-width",S.borderStyle.width||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),I.appendChild(N),this.container.append(I),this._createPopup(N,S),this.container}}class E extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const S=this.data,{width:A,height:O}=p(S.rect),I=this.svgFactory.create(A,O),N=S.borderStyle.width,H=this.svgFactory.createElement("svg:rect");return H.setAttribute("x",N/2),H.setAttribute("y",N/2),H.setAttribute("width",A-N),H.setAttribute("height",O-N),H.setAttribute("stroke-width",N||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),I.appendChild(H),this.container.append(I),this._createPopup(H,S),this.container}}class Z extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const S=this.data,{width:A,height:O}=p(S.rect),I=this.svgFactory.create(A,O),N=S.borderStyle.width,H=this.svgFactory.createElement("svg:ellipse");return H.setAttribute("cx",A/2),H.setAttribute("cy",O/2),H.setAttribute("rx",A/2-N/2),H.setAttribute("ry",O/2-N/2),H.setAttribute("stroke-width",N||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),I.appendChild(H),this.container.append(I),this._createPopup(H,S),this.container}}class U extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const S=this.data,{width:A,height:O}=p(S.rect),I=this.svgFactory.create(A,O);let N=[];for(const z of S.vertices)N.push(z.x-S.rect[0]+","+(S.rect[3]-z.y));N=N.join(" ");const H=this.svgFactory.createElement(this.svgElementName);return H.setAttribute("points",N),H.setAttribute("stroke-width",S.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),I.appendChild(H),this.container.append(I),this._createPopup(H,S),this.container}}class q extends U{constructor(S){super(S),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Q extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const S=this.data,{width:A,height:O}=p(S.rect),I=this.svgFactory.create(A,O);for(const N of S.inkLists){let H=[];for(const X of N)H.push(`${X.x-S.rect[0]},${S.rect[3]-X.y}`);H=H.join(" ");const z=this.svgFactory.createElement(this.svgElementName);z.setAttribute("points",H),z.setAttribute("stroke-width",S.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),this._createPopup(z,S),I.appendChild(z)}return this.container.append(I),this.container}}class le extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ue extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class W extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ce extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class pe extends u{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _e extends u{constructor(S){super(S,{isRenderable:!0});const{filename:A,content:O}=this.data.file;this.filename=(0,Ce.getFilenameFromUrl)(A),this.content=O,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:A,content:O})}render(){this.container.className="fileAttachmentAnnotation";const S=document.createElement("div");return S.style.height=this.container.style.height,S.style.width=this.container.style.width,S.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(S,this.data),this.container.appendChild(S),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class B{static render(S){const A=[],O=[];for(const N of S.annotations){if(!N)continue;const{width:H,height:z}=p(N.rect);if(!(H<=0||z<=0)){if(N.annotationType===C.AnnotationType.POPUP){O.push(N);continue}A.push(N)}}O.length&&A.push(...O);const I=S.div;for(const N of A){const H=f.create({data:N,layer:I,page:S.page,viewport:S.viewport,linkService:S.linkService,downloadManager:S.downloadManager,imageResourcesPath:S.imageResourcesPath||"",renderForms:!1!==S.renderForms,svgFactory:new Ce.DOMSVGFactory,annotationStorage:S.annotationStorage||new e.AnnotationStorage,enableScripting:S.enableScripting,hasJSActions:S.hasJSActions,fieldObjects:S.fieldObjects,mouseState:S.mouseState||{isDown:!1}});if(H.isRenderable){const z=H.render();if(N.hidden&&(z.style.visibility="hidden"),Array.isArray(z))for(const X of z)I.appendChild(X);else H instanceof v?I.prepend(z):I.appendChild(z)}}Be(this,F,tr).call(this,I,S.annotationCanvasMap)}static update(S){const{page:A,viewport:O,annotations:I,annotationCanvasMap:N,div:H}=S,z=O.transform,X=`matrix(${z.join(",")})`;let ee,de;for(const ne of I){const K=H.querySelectorAll(`[data-annotation-id="${ne.id}"]`);if(K)for(const ve of K)if(ne.hasOwnCanvas){const ye=C.Util.normalizeRect([ne.rect[0],A.view[3]-ne.rect[1]+A.view[1],ne.rect[2],A.view[3]-ne.rect[3]+A.view[1]]);if(!de){ee=Math.abs(z[0]||z[1]);const fe=z.slice();for(let j=0;j<4;j++)fe[j]=Math.sign(fe[j]);de=`matrix(${fe.join(",")})`}const oe=ye[0]*ee,ge=ye[1]*ee;ve.style.left=`${oe}px`,ve.style.top=`${ge}px`,ve.style.transformOrigin=`${-oe}px ${-ge}px`,ve.style.transform=de}else ve.style.transform=X}Be(this,F,tr).call(this,H,N),H.hidden=!1}}F=new WeakSet,tr=function(S,A){if(A){for(const[O,I]of A){const N=S.querySelector(`[data-annotation-id="${O}"]`);if(!N)continue;const{firstChild:H}=N;"CANVAS"===H.nodeName?N.replaceChild(I,H):N.insertBefore(I,H)}A.clear()}},je(B,F),G.AnnotationLayer=B},(Ee,G)=>{function be(Ce){return Math.floor(255*Math.max(0,Math.min(1,Ce))).toString(16).padStart(2,"0")}Object.defineProperty(G,"__esModule",{value:!0}),G.ColorConverters=void 0,G.ColorConverters=class C{static CMYK_G([e,D,V,Y]){return["G",1-Math.min(1,.3*e+.59*V+.11*D+Y)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_HTML([e]){const D=be(e);return`#${D}${D}${D}`}static RGB_G([e,D,V]){return["G",.3*e+.59*D+.11*V]}static RGB_HTML([e,D,V]){return`#${be(e)}${be(D)}${be(V)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([e,D,V,Y]){return["RGB",1-Math.min(1,e+Y),1-Math.min(1,V+Y),1-Math.min(1,D+Y)]}static CMYK_HTML(e){return this.RGB_HTML(this.CMYK_RGB(e))}static RGB_CMYK([e,D,V]){const Y=1-e,_=1-D,p=1-V;return["CMYK",Y,_,p,Math.min(Y,_,p)]}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.XfaLayer=void 0;var C=be(18);G.XfaLayer=class Ce{static setupStorage(D,V,Y,_,p){const f=_.getValue(V,{value:null});switch(Y.name){case"textarea":if(null!==f.value&&(D.textContent=f.value),"print"===p)break;D.addEventListener("input",u=>{_.setValue(V,{value:u.target.value})});break;case"input":if("radio"===Y.attributes.type||"checkbox"===Y.attributes.type){if(f.value===Y.attributes.xfaOn?D.setAttribute("checked",!0):f.value===Y.attributes.xfaOff&&D.removeAttribute("checked"),"print"===p)break;D.addEventListener("change",u=>{_.setValue(V,{value:u.target.getAttribute(u.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==f.value&&D.setAttribute("value",f.value),"print"===p)break;D.addEventListener("input",u=>{_.setValue(V,{value:u.target.value})})}break;case"select":if(null!==f.value)for(const u of Y.children)u.attributes.value===f.value&&(u.attributes.selected=!0);D.addEventListener("input",u=>{const l=u.target.options;_.setValue(V,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:D,element:V,storage:Y=null,intent:_,linkService:p}){const{attributes:f}=V,u=D instanceof HTMLAnchorElement;"radio"===f.type&&(f.name=`${f.name}-${_}`);for(const[l,c]of Object.entries(f))if(null!=c&&"dataId"!==l)if("style"!==l)if("textContent"===l)D.textContent=c;else if("class"===l)c.length&&D.setAttribute(l,c.join(" "));else{if(u&&("href"===l||"newWindow"===l))continue;D.setAttribute(l,c)}else Object.assign(D.style,c);u&&p.addLinkAttributes(D,f.href,f.newWindow),Y&&f.dataId&&this.setupStorage(D,f.dataId,V,Y)}static render(D){const V=D.annotationStorage,Y=D.linkService,_=D.xfaHtml,p=D.intent||"display",f=document.createElement(_.name);_.attributes&&this.setAttributes({html:f,element:_,intent:p,linkService:Y});const u=[[_,-1,f]],l=D.div;if(l.appendChild(f),D.viewport){const a=`matrix(${D.viewport.transform.join(",")})`;l.style.transform=a}"richText"!==p&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;u.length>0;){const[a,d,g]=u[u.length-1];if(d+1===a.children.length){u.pop();continue}const h=a.children[++u[u.length-1][1]];if(null===h)continue;const{name:m}=h;if("#text"===m){const v=document.createTextNode(h.value);c.push(v),g.appendChild(v);continue}let b;if(b=h?.attributes?.xmlns?document.createElementNS(h.attributes.xmlns,m):document.createElement(m),g.appendChild(b),h.attributes&&this.setAttributes({html:b,element:h,storage:V,intent:p,linkService:Y}),h.children&&h.children.length>0)u.push([h,-1,b]);else if(h.value){const v=document.createTextNode(h.value);C.XfaText.shouldBuildText(m)&&c.push(v),b.appendChild(v)}}for(const a of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))a.setAttribute("readOnly",!0);return{textDivs:c}}static update(D){const V=`matrix(${D.viewport.transform.join(",")})`;D.div.style.transform=V,D.div.hidden=!1}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.renderTextLayer=function g(h){const m=new d({textContent:h.textContent,textContentStream:h.textContentStream,container:h.container,viewport:h.viewport,textDivs:h.textDivs,textContentItemsStr:h.textContentItemsStr,enhanceTextSelection:h.enhanceTextSelection});return m._render(h.timeout),m};var C=be(1);const e=30,V=new Map,Y=/^\s+$/g;function p(h,m,b,v){const y=document.createElement("span"),M=h._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL};h._textDivs.push(y);const w=C.Util.transform(h._viewport.transform,m.transform);let E=Math.atan2(w[1],w[0]);const Z=b[m.fontName];Z.vertical&&(E+=Math.PI/2);const U=Math.hypot(w[2],w[3]),q=U*function _(h,m){const b=V.get(h);if(b)return b;m.save(),m.font=`30px ${h}`;const v=m.measureText("");let y=v.fontBoundingBoxAscent,M=Math.abs(v.fontBoundingBoxDescent);if(y){m.restore();const E=y/(y+M);return V.set(h,E),E}m.strokeStyle="red",m.clearRect(0,0,e,e),m.strokeText("g",0,0);let w=m.getImageData(0,0,e,e).data;M=0;for(let E=w.length-1-3;E>=0;E-=4)if(w[E]>0){M=Math.ceil(E/4/e);break}m.clearRect(0,0,e,e),m.strokeText("A",0,e),w=m.getImageData(0,0,e,e).data,y=0;for(let E=0,Z=w.length;E<Z;E+=4)if(w[E]>0){y=e-Math.floor(E/4/e);break}if(m.restore(),y){const E=y/(y+M);return V.set(h,E),E}return V.set(h,.8),.8}(Z.fontFamily,v);let Q,re;0===E?(Q=w[4],re=w[5]-q):(Q=w[4]+q*Math.sin(E),re=w[5]-q*Math.cos(E)),y.style.left=`${Q}px`,y.style.top=`${re}px`,y.style.fontSize=`${U}px`,y.style.fontFamily=Z.fontFamily,y.setAttribute("role","presentation"),y.textContent=m.str,y.dir=m.dir,h._fontInspectorEnabled&&(y.dataset.fontName=m.fontName),0!==E&&(M.angle=E*(180/Math.PI));let le=!1;if(m.str.length>1||h._enhanceTextSelection&&Y.test(m.str))le=!0;else if(" "!==m.str&&m.transform[0]!==m.transform[3]){const ue=Math.abs(m.transform[0]),W=Math.abs(m.transform[3]);ue!==W&&Math.max(ue,W)/Math.min(ue,W)>1.5&&(le=!0)}if(le&&(M.canvasWidth=Z.vertical?m.height*h._viewport.scale:m.width*h._viewport.scale),h._textDivProperties.set(y,M),h._textContentStream&&h._layoutText(y),h._enhanceTextSelection&&M.hasText){let ue=1,W=0;0!==E&&(ue=Math.cos(E),W=Math.sin(E));const ce=(Z.vertical?m.height:m.width)*h._viewport.scale,pe=U;let _e,B;0!==E?(_e=[ue,W,-W,ue,Q,re],B=C.Util.getAxialAlignedBoundingBox([0,0,ce,pe],_e)):B=[Q,re,Q+ce,re+pe],h._bounds.push({left:B[0],top:B[1],right:B[2],bottom:B[3],div:y,size:[ce,pe],m:_e})}}function f(h){if(h._canceled)return;const m=h._textDivs,b=h._capability,v=m.length;if(v>1e5)return h._renderingDone=!0,void b.resolve();if(!h._textContentStream)for(let y=0;y<v;y++)h._layoutText(m[y]);h._renderingDone=!0,b.resolve()}function u(h,m,b){let v=0;for(let y=0;y<b;y++){const M=h[m++];M>0&&(v=v?Math.min(M,v):M)}return v}function a(h,m){m.sort(function(y,M){return y.x1-M.x1||y.index-M.index});const v=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const y of m){let M=0;for(;M<v.length&&v[M].end<=y.y1;)M++;let w=v.length-1;for(;w>=0&&v[w].start>=y.y2;)w--;let E,Z,U,q,Q=-1/0;for(U=M;U<=w;U++){let ue;E=v[U],Z=E.boundary,ue=Z.x2>y.x1?Z.index>y.index?Z.x1New:y.x1:void 0===Z.x2New?(Z.x2+y.x1)/2:Z.x2New,ue>Q&&(Q=ue)}for(y.x1New=Q,U=M;U<=w;U++)E=v[U],Z=E.boundary,void 0===Z.x2New?Z.x2>y.x1?Z.index>y.index&&(Z.x2New=Z.x2):Z.x2New=Q:Z.x2New>Q&&(Z.x2New=Math.max(Q,Z.x2));const re=[];let le=null;for(U=M;U<=w;U++){E=v[U],Z=E.boundary;const ue=Z.x2>y.x2?Z:y;le===ue?re[re.length-1].end=E.end:(re.push({start:E.start,end:E.end,boundary:ue}),le=ue)}for(v[M].start<y.y1&&(re[0].start=y.y1,re.unshift({start:v[M].start,end:y.y1,boundary:v[M].boundary})),y.y2<v[w].end&&(re[re.length-1].end=y.y2,re.push({start:y.y2,end:v[w].end,boundary:v[w].boundary})),U=M;U<=w;U++){if(E=v[U],Z=E.boundary,void 0!==Z.x2New)continue;let ue=!1;for(q=M-1;!ue&&q>=0&&v[q].start>=Z.y1;q--)ue=v[q].boundary===Z;for(q=w+1;!ue&&q<v.length&&v[q].end<=Z.y2;q++)ue=v[q].boundary===Z;for(q=0;!ue&&q<re.length;q++)ue=re[q].boundary===Z;ue||(Z.x2New=Q)}Array.prototype.splice.apply(v,[M,w-M+1].concat(re))}for(const y of v){const M=y.boundary;void 0===M.x2New&&(M.x2New=Math.max(h,M.x2))}}class d{constructor({textContent:m,textContentStream:b,container:v,viewport:y,textDivs:M,textContentItemsStr:w,enhanceTextSelection:E}){this._textContent=m,this._textContentStream=b,this._container=v,this._document=v.ownerDocument,this._viewport=y,this._textDivs=M||[],this._textContentItemsStr=w||[],this._enhanceTextSelection=!!E,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,C.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new C.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(m,b){for(let v=0,y=m.length;v<y;v++)if(void 0!==m[v].str)this._textContentItemsStr.push(m[v].str),p(this,m[v],b,this._layoutTextCtx);else if("beginMarkedContentProps"===m[v].type||"beginMarkedContent"===m[v].type){const M=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==m[v].id&&this._container.setAttribute("id",`${m[v].id}`),M.appendChild(this._container)}else"endMarkedContent"===m[v].type&&(this._container=this._container.parentNode)}_layoutText(m){const b=this._textDivProperties.get(m);let v="";if(0!==b.canvasWidth&&b.hasText){const{fontSize:y,fontFamily:M}=m.style;(y!==this._layoutTextLastFontSize||M!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${y} ${M}`,this._layoutTextLastFontSize=y,this._layoutTextLastFontFamily=M);const{width:w}=this._layoutTextCtx.measureText(m.textContent);if(w>0){const E=b.canvasWidth/w;this._enhanceTextSelection&&(b.scale=E),v=`scaleX(${E})`}}if(0!==b.angle&&(v=`rotate(${b.angle}deg) ${v}`),v.length>0&&(this._enhanceTextSelection&&(b.originalTransform=v),m.style.transform=v),b.hasText&&this._container.appendChild(m),b.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this._container.appendChild(y)}}_render(m=0){const b=(0,C.createPromiseCapability)();let v=Object.create(null);const y=this._document.createElement("canvas");if(y.height=y.width=e,this._layoutTextCtx=y.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),b.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const M=()=>{this._reader.read().then(({value:w,done:E})=>{E?b.resolve():(Object.assign(v,w.styles),this._processItems(w.items,v),M())},b.reject)};this._reader=this._textContentStream.getReader(),M()}}b.promise.then(()=>{v=null,m?this._renderTimer=setTimeout(()=>{f(this),this._renderTimer=null},m):f(this)},this._capability.reject)}expandTextDivs(m=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function l(h){const m=h._bounds,b=h._viewport,v=function c(h,m,b){const v=b.map(function(M,w){return{x1:M.left,y1:M.top,x2:M.right,y2:M.bottom,index:w,x1New:void 0,x2New:void 0}});a(h,v);const y=new Array(b.length);for(const M of v)y[M.index]={left:M.x1New,top:0,right:M.x2New,bottom:0};b.map(function(M,w){const E=y[w],Z=v[w];Z.x1=M.top,Z.y1=h-E.right,Z.x2=M.bottom,Z.y2=h-E.left,Z.index=w,Z.x1New=void 0,Z.x2New=void 0}),a(m,v);for(const M of v){const w=M.index;y[w].top=M.x1New,y[w].bottom=M.x2New}return y}(b.width,b.height,m);for(let y=0;y<v.length;y++){const M=m[y].div,w=h._textDivProperties.get(M);if(0===w.angle){w.paddingLeft=m[y].left-v[y].left,w.paddingTop=m[y].top-v[y].top,w.paddingRight=v[y].right-m[y].right,w.paddingBottom=v[y].bottom-m[y].bottom,h._textDivProperties.set(M,w);continue}const E=v[y],Z=m[y],U=Z.m,q=U[0],Q=U[1],re=[[0,0],[0,Z.size[1]],[Z.size[0],0],Z.size],le=new Float64Array(64);for(let W=0,ce=re.length;W<ce;W++){const pe=C.Util.applyTransform(re[W],U);le[W+0]=q&&(E.left-pe[0])/q,le[W+4]=Q&&(E.top-pe[1])/Q,le[W+8]=q&&(E.right-pe[0])/q,le[W+12]=Q&&(E.bottom-pe[1])/Q,le[W+16]=Q&&(E.left-pe[0])/-Q,le[W+20]=q&&(E.top-pe[1])/q,le[W+24]=Q&&(E.right-pe[0])/-Q,le[W+28]=q&&(E.bottom-pe[1])/q,le[W+32]=q&&(E.left-pe[0])/-q,le[W+36]=Q&&(E.top-pe[1])/-Q,le[W+40]=q&&(E.right-pe[0])/-q,le[W+44]=Q&&(E.bottom-pe[1])/-Q,le[W+48]=Q&&(E.left-pe[0])/Q,le[W+52]=q&&(E.top-pe[1])/-q,le[W+56]=Q&&(E.right-pe[0])/Q,le[W+60]=q&&(E.bottom-pe[1])/-q}const ue=1+Math.min(Math.abs(q),Math.abs(Q));w.paddingLeft=u(le,32,16)/ue,w.paddingTop=u(le,48,16)/ue,w.paddingRight=u(le,0,16)/ue,w.paddingBottom=u(le,16,16)/ue,h._textDivProperties.set(M,w)}}(this),this._bounds=null);const b=[],v=[];for(let y=0,M=this._textDivs.length;y<M;y++){const w=this._textDivs[y],E=this._textDivProperties.get(w);!E.hasText||(m?(b.length=0,v.length=0,E.originalTransform&&b.push(E.originalTransform),E.paddingTop>0?(v.push(`${E.paddingTop}px`),b.push(`translateY(${-E.paddingTop}px)`)):v.push(0),v.push(E.paddingRight>0?E.paddingRight/E.scale+"px":0),v.push(E.paddingBottom>0?`${E.paddingBottom}px`:0),E.paddingLeft>0?(v.push(E.paddingLeft/E.scale+"px"),b.push(`translateX(${-E.paddingLeft/E.scale}px)`)):v.push(0),w.style.padding=v.join(" "),b.length&&(w.style.transform=b.join(" "))):(w.style.padding=null,w.style.transform=E.originalTransform))}}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.SVGGraphics=void 0;var C=be(1),Ce=be(5),e=be(3);let D=class{constructor(){(0,C.unreachable)("Not implemented: SVGGraphics")}};G.SVGGraphics=D;{let a=function(v){let y=[];const M=[];for(const w of v)"save"!==w.fn?"restore"===w.fn?y=M.pop():y.push(w):(y.push({fnId:92,fn:"group",items:[]}),M.push(y),y=y[y.length-1].items);return y},d=function(v){if(Number.isInteger(v))return v.toString();const y=v.toFixed(10);let M=y.length-1;if("0"!==y[M])return y;do{M--}while("0"===y[M]);return y.substring(0,"."===y[M]?M:M+1)},g=function(v){if(0===v[4]&&0===v[5]){if(0===v[1]&&0===v[2])return 1===v[0]&&1===v[3]?"":`scale(${d(v[0])} ${d(v[3])})`;if(v[0]===v[3]&&v[1]===-v[2]){const y=180*Math.acos(v[0])/Math.PI;return`rotate(${d(y)})`}}else if(1===v[0]&&0===v[1]&&0===v[2]&&1===v[3])return`translate(${d(v[4])} ${d(v[5])})`;return`matrix(${d(v[0])} ${d(v[1])} ${d(v[2])} ${d(v[3])} ${d(v[4])} ${d(v[5])})`};const V={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Y="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",p=["butt","round","square"],f=["miter","round","bevel"],u=function(v,y="",M=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!M)return URL.createObjectURL(new Blob([v],{type:y}));const w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let E=`data:${y};base64,`;for(let Z=0,U=v.length;Z<U;Z+=3){const q=255&v[Z],Q=255&v[Z+1],re=255&v[Z+2];E+=w[q>>2]+w[(3&q)<<4|Q>>4]+w[Z+1<U?(15&Q)<<2|re>>6:64]+w[Z+2<U?63&re:64]}return E},l=function(){const v=new Uint8Array([137,80,78,71,13,10,26,10]),M=new Int32Array(256);for(let re=0;re<256;re++){let le=re;for(let ue=0;ue<8;ue++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;M[re]=le}function E(re,le,ue,W){let ce=W;const pe=le.length;ue[ce]=pe>>24&255,ue[ce+1]=pe>>16&255,ue[ce+2]=pe>>8&255,ue[ce+3]=255&pe,ce+=4,ue[ce]=255&re.charCodeAt(0),ue[ce+1]=255&re.charCodeAt(1),ue[ce+2]=255&re.charCodeAt(2),ue[ce+3]=255&re.charCodeAt(3),ce+=4,ue.set(le,ce),ce+=le.length;const _e=function w(re,le,ue){let W=-1;for(let ce=le;ce<ue;ce++)W=W>>>8^M[255&(W^re[ce])];return-1^W}(ue,W+4,ce);ue[ce]=_e>>24&255,ue[ce+1]=_e>>16&255,ue[ce+2]=_e>>8&255,ue[ce+3]=255&_e}function q(re){let le=re.length;const ue=65535,W=Math.ceil(le/ue),ce=new Uint8Array(2+le+5*W+4);let pe=0;ce[pe++]=120,ce[pe++]=156;let _e=0;for(;le>ue;)ce[pe++]=0,ce[pe++]=255,ce[pe++]=255,ce[pe++]=0,ce[pe++]=0,ce.set(re.subarray(_e,_e+ue),pe),pe+=ue,_e+=ue,le-=ue;ce[pe++]=1,ce[pe++]=255&le,ce[pe++]=le>>8&255,ce[pe++]=255&~le,ce[pe++]=(65535&~le)>>8&255,ce.set(re.subarray(_e),pe),pe+=re.length-_e;const B=function Z(re,le,ue){let W=1,ce=0;for(let pe=le;pe<ue;++pe)W=(W+(255&re[pe]))%65521,ce=(ce+W)%65521;return ce<<16|W}(re,0,re.length);return ce[pe++]=B>>24&255,ce[pe++]=B>>16&255,ce[pe++]=B>>8&255,ce[pe++]=255&B,ce}return function(le,ue,W){return function Q(re,le,ue,W){const ce=re.width,pe=re.height;let _e,B,F;const k=re.data;switch(le){case C.ImageKind.GRAYSCALE_1BPP:B=0,_e=1,F=ce+7>>3;break;case C.ImageKind.RGB_24BPP:B=2,_e=8,F=3*ce;break;case C.ImageKind.RGBA_32BPP:B=6,_e=8,F=4*ce;break;default:throw new Error("invalid format")}const P=new Uint8Array((1+F)*pe);let S=0,A=0;for(let X=0;X<pe;++X)P[S++]=0,P.set(k.subarray(A,A+F),S),A+=F,S+=F;if(le===C.ImageKind.GRAYSCALE_1BPP&&W){S=0;for(let X=0;X<pe;X++){S++;for(let ee=0;ee<F;ee++)P[S++]^=255}}const O=new Uint8Array([ce>>24&255,ce>>16&255,ce>>8&255,255&ce,pe>>24&255,pe>>16&255,pe>>8&255,255&pe,_e,B,0,0,0]),I=function U(re){if(!e.isNodeJS)return q(re);try{let le;le=parseInt(process.versions.node)>=8?re:Buffer.from(re);const ue=__webpack_require__(2258).deflateSync(le,{level:9});return ue instanceof Uint8Array?ue:new Uint8Array(ue)}catch(le){(0,C.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return q(re)}(P),H=new Uint8Array(v.length+36+O.length+I.length);let z=0;return H.set(v,z),z+=v.length,E("IHDR",O,H,z),z+=12+O.length,E("IDATA",I,H,z),z+=12+I.length,E("IEND",new Uint8Array(0),H,z),u(H,"image/png",ue)}(le,void 0===le.kind?C.ImageKind.GRAYSCALE_1BPP:le.kind,ue,W)}}();class c{constructor(){this.fontSizeScale=1,this.fontWeight=V.fontWeight,this.fontSize=0,this.textMatrix=C.IDENTITY_MATRIX,this.fontMatrix=C.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=C.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=V.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(y,M){this.x=y,this.y=M}}let h=0,m=0,b=0;G.SVGGraphics=D=class{constructor(v,y,M=!1){this.svgFactory=new Ce.DOMSVGFactory,this.current=new c,this.transformMatrix=C.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=v,this.objs=y,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!M,this._operatorIdMapping=[];for(const w in C.OPS)this._operatorIdMapping[C.OPS[w]]=w}save(){this.transformStack.push(this.transformMatrix);const v=this.current;this.extraStack.push(v),this.current=v.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(v){this.save(),this.executeOpTree(v),this.restore()}loadDependencies(v){const y=v.fnArray,M=v.argsArray;for(let w=0,E=y.length;w<E;w++)if(y[w]===C.OPS.dependency)for(const Z of M[w]){const U=Z.startsWith("g_")?this.commonObjs:this.objs,q=new Promise(Q=>{U.get(Z,Q)});this.current.dependencies.push(q)}return Promise.all(this.current.dependencies)}transform(v,y,M,w,E,Z){this.transformMatrix=C.Util.transform(this.transformMatrix,[v,y,M,w,E,Z]),this.tgrp=null}getSVG(v,y){this.viewport=y;const M=this._initialize(y);return this.loadDependencies(v).then(()=>(this.transformMatrix=C.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(v)),M))}convertOpList(v){const y=this._operatorIdMapping,M=v.argsArray,w=v.fnArray,E=[];for(let Z=0,U=w.length;Z<U;Z++){const q=w[Z];E.push({fnId:q,fn:y[q],args:M[Z]})}return a(E)}executeOpTree(v){for(const y of v){const M=y.fn,E=y.args;switch(0|y.fnId){case C.OPS.beginText:this.beginText();break;case C.OPS.dependency:break;case C.OPS.setLeading:this.setLeading(E);break;case C.OPS.setLeadingMoveText:this.setLeadingMoveText(E[0],E[1]);break;case C.OPS.setFont:this.setFont(E);break;case C.OPS.showText:case C.OPS.showSpacedText:this.showText(E[0]);break;case C.OPS.endText:this.endText();break;case C.OPS.moveText:this.moveText(E[0],E[1]);break;case C.OPS.setCharSpacing:this.setCharSpacing(E[0]);break;case C.OPS.setWordSpacing:this.setWordSpacing(E[0]);break;case C.OPS.setHScale:this.setHScale(E[0]);break;case C.OPS.setTextMatrix:this.setTextMatrix(E[0],E[1],E[2],E[3],E[4],E[5]);break;case C.OPS.setTextRise:this.setTextRise(E[0]);break;case C.OPS.setTextRenderingMode:this.setTextRenderingMode(E[0]);break;case C.OPS.setLineWidth:this.setLineWidth(E[0]);break;case C.OPS.setLineJoin:this.setLineJoin(E[0]);break;case C.OPS.setLineCap:this.setLineCap(E[0]);break;case C.OPS.setMiterLimit:this.setMiterLimit(E[0]);break;case C.OPS.setFillRGBColor:this.setFillRGBColor(E[0],E[1],E[2]);break;case C.OPS.setStrokeRGBColor:this.setStrokeRGBColor(E[0],E[1],E[2]);break;case C.OPS.setStrokeColorN:this.setStrokeColorN(E);break;case C.OPS.setFillColorN:this.setFillColorN(E);break;case C.OPS.shadingFill:this.shadingFill(E[0]);break;case C.OPS.setDash:this.setDash(E[0],E[1]);break;case C.OPS.setRenderingIntent:this.setRenderingIntent(E[0]);break;case C.OPS.setFlatness:this.setFlatness(E[0]);break;case C.OPS.setGState:this.setGState(E[0]);break;case C.OPS.fill:this.fill();break;case C.OPS.eoFill:this.eoFill();break;case C.OPS.stroke:this.stroke();break;case C.OPS.fillStroke:this.fillStroke();break;case C.OPS.eoFillStroke:this.eoFillStroke();break;case C.OPS.clip:this.clip("nonzero");break;case C.OPS.eoClip:this.clip("evenodd");break;case C.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case C.OPS.paintImageXObject:this.paintImageXObject(E[0]);break;case C.OPS.paintInlineImageXObject:this.paintInlineImageXObject(E[0]);break;case C.OPS.paintImageMaskXObject:this.paintImageMaskXObject(E[0]);break;case C.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(E[0],E[1]);break;case C.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case C.OPS.closePath:this.closePath();break;case C.OPS.closeStroke:this.closeStroke();break;case C.OPS.closeFillStroke:this.closeFillStroke();break;case C.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case C.OPS.nextLine:this.nextLine();break;case C.OPS.transform:this.transform(E[0],E[1],E[2],E[3],E[4],E[5]);break;case C.OPS.constructPath:this.constructPath(E[0],E[1]);break;case C.OPS.endPath:this.endPath();break;case 92:this.group(y.items);break;default:(0,C.warn)(`Unimplemented operator ${M}`)}}}setWordSpacing(v){this.current.wordSpacing=v}setCharSpacing(v){this.current.charSpacing=v}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(v,y,M,w,E,Z){const U=this.current;U.textMatrix=U.lineMatrix=[v,y,M,w,E,Z],U.textMatrixScale=Math.hypot(v,y),U.x=U.lineX=0,U.y=U.lineY=0,U.xcoords=[],U.ycoords=[],U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${d(U.fontSize)}px`),U.tspan.setAttributeNS(null,"y",d(-U.y)),U.txtElement=this.svgFactory.createElement("svg:text"),U.txtElement.appendChild(U.tspan)}beginText(){const v=this.current;v.x=v.lineX=0,v.y=v.lineY=0,v.textMatrix=C.IDENTITY_MATRIX,v.lineMatrix=C.IDENTITY_MATRIX,v.textMatrixScale=1,v.tspan=this.svgFactory.createElement("svg:tspan"),v.txtElement=this.svgFactory.createElement("svg:text"),v.txtgrp=this.svgFactory.createElement("svg:g"),v.xcoords=[],v.ycoords=[]}moveText(v,y){const M=this.current;M.x=M.lineX+=v,M.y=M.lineY+=y,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${d(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",d(-M.y))}showText(v){const y=this.current,M=y.font,w=y.fontSize;if(0===w)return;const E=y.fontSizeScale,Z=y.charSpacing,U=y.wordSpacing,q=y.fontDirection,Q=y.textHScale*q,re=M.vertical,le=re?1:-1,ue=M.defaultVMetrics,W=w*y.fontMatrix[0];let ce=0;for(const B of v){if(null===B){ce+=q*U;continue}if("number"==typeof B){ce+=le*B*w/1e3;continue}const F=(B.isSpace?U:0)+Z,k=B.fontChar;let P,S,O,A=B.width;if(re){let I;const N=B.vmetric||ue;I=B.vmetric?N[1]:.5*A,I=-I*W,A=N?-N[0]:A,P=I/E,S=(ce+N[2]*W)/E}else P=ce/E,S=0;(B.isInFont||M.missingFile)&&(y.xcoords.push(y.x+P),re&&y.ycoords.push(-y.y+S),y.tspan.textContent+=k),O=re?A*W-F*q:A*W+F*q,ce+=O}y.tspan.setAttributeNS(null,"x",y.xcoords.map(d).join(" ")),y.tspan.setAttributeNS(null,"y",re?y.ycoords.map(d).join(" "):d(-y.y)),re?y.y-=ce:y.x+=ce*Q,y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${d(y.fontSize)}px`),y.fontStyle!==V.fontStyle&&y.tspan.setAttributeNS(null,"font-style",y.fontStyle),y.fontWeight!==V.fontWeight&&y.tspan.setAttributeNS(null,"font-weight",y.fontWeight);const pe=y.textRenderingMode&C.TextRenderingMode.FILL_STROKE_MASK;pe===C.TextRenderingMode.FILL||pe===C.TextRenderingMode.FILL_STROKE?(y.fillColor!==V.fillColor&&y.tspan.setAttributeNS(null,"fill",y.fillColor),y.fillAlpha<1&&y.tspan.setAttributeNS(null,"fill-opacity",y.fillAlpha)):y.tspan.setAttributeNS(null,"fill",y.textRenderingMode===C.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(pe===C.TextRenderingMode.STROKE||pe===C.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(y.tspan,1/(y.textMatrixScale||1));let _e=y.textMatrix;0!==y.textRise&&(_e=_e.slice(),_e[5]+=y.textRise),y.txtElement.setAttributeNS(null,"transform",`${g(_e)} scale(${d(Q)}, -1)`),y.txtElement.setAttributeNS(Y,"xml:space","preserve"),y.txtElement.appendChild(y.tspan),y.txtgrp.appendChild(y.txtElement),this._ensureTransformGroup().appendChild(y.txtElement)}setLeadingMoveText(v,y){this.setLeading(-y),this.moveText(v,y)}addFontStyle(v){if(!v.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const y=u(v.data,v.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${v.loadedName}"; src: url(${y}); }\n`}setFont(v){const y=this.current,M=this.commonObjs.get(v[0]);let w=v[1];y.font=M,this.embedFonts&&!M.missingFile&&!this.embeddedFonts[M.loadedName]&&(this.addFontStyle(M),this.embeddedFonts[M.loadedName]=M),y.fontMatrix=M.fontMatrix||C.FONT_IDENTITY_MATRIX;let E="normal";M.black?E="900":M.bold&&(E="bold");const Z=M.italic?"italic":"normal";w<0?(w=-w,y.fontDirection=-1):y.fontDirection=1,y.fontSize=w,y.fontFamily=M.loadedName,y.fontWeight=E,y.fontStyle=Z,y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"y",d(-y.y)),y.xcoords=[],y.ycoords=[]}endText(){const v=this.current;v.textRenderingMode&C.TextRenderingMode.ADD_TO_PATH_FLAG&&v.txtElement?.hasChildNodes()&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(v){v>0&&(this.current.lineWidth=v)}setLineCap(v){this.current.lineCap=p[v]}setLineJoin(v){this.current.lineJoin=f[v]}setMiterLimit(v){this.current.miterLimit=v}setStrokeAlpha(v){this.current.strokeAlpha=v}setStrokeRGBColor(v,y,M){this.current.strokeColor=C.Util.makeHexColor(v,y,M)}setFillAlpha(v){this.current.fillAlpha=v}setFillRGBColor(v,y,M){this.current.fillColor=C.Util.makeHexColor(v,y,M),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(v){this.current.strokeColor=this._makeColorN_Pattern(v)}setFillColorN(v){this.current.fillColor=this._makeColorN_Pattern(v)}shadingFill(v){const y=this.viewport.width,M=this.viewport.height,w=C.Util.inverseTransform(this.transformMatrix),E=C.Util.applyTransform([0,0],w),Z=C.Util.applyTransform([0,M],w),U=C.Util.applyTransform([y,0],w),q=C.Util.applyTransform([y,M],w),Q=Math.min(E[0],Z[0],U[0],q[0]),re=Math.min(E[1],Z[1],U[1],q[1]),le=Math.max(E[0],Z[0],U[0],q[0]),ue=Math.max(E[1],Z[1],U[1],q[1]),W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x",Q),W.setAttributeNS(null,"y",re),W.setAttributeNS(null,"width",le-Q),W.setAttributeNS(null,"height",ue-re),W.setAttributeNS(null,"fill",this._makeShadingPattern(v)),this.current.fillAlpha<1&&W.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(W)}_makeColorN_Pattern(v){return"TilingPattern"===v[0]?this._makeTilingPattern(v):this._makeShadingPattern(v)}_makeTilingPattern(v){const y=v[1],M=v[2],w=v[3]||C.IDENTITY_MATRIX,[E,Z,U,q]=v[4],Q=v[5],re=v[6],le=v[7],ue="shading"+b++,[W,ce,pe,_e]=C.Util.normalizeRect([...C.Util.applyTransform([E,Z],w),...C.Util.applyTransform([U,q],w)]),[B,F]=C.Util.singularValueDecompose2dScale(w),k=Q*B,P=re*F,S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",ue),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",k),S.setAttributeNS(null,"height",P),S.setAttributeNS(null,"x",`${W}`),S.setAttributeNS(null,"y",`${ce}`);const A=this.svg,O=this.transformMatrix,I=this.current.fillColor,N=this.current.strokeColor,H=this.svgFactory.create(pe-W,_e-ce);if(this.svg=H,this.transformMatrix=w,2===le){const z=C.Util.makeHexColor(...y);this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(M)),this.svg=A,this.transformMatrix=O,this.current.fillColor=I,this.current.strokeColor=N,S.appendChild(H.childNodes[0]),this.defs.appendChild(S),`url(#${ue})`}_makeShadingPattern(v){switch("string"==typeof v&&(v=this.objs.get(v)),v[0]){case"RadialAxial":const y="shading"+b++,M=v[3];let w;switch(v[1]){case"axial":const E=v[4],Z=v[5];w=this.svgFactory.createElement("svg:linearGradient"),w.setAttributeNS(null,"id",y),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"x1",E[0]),w.setAttributeNS(null,"y1",E[1]),w.setAttributeNS(null,"x2",Z[0]),w.setAttributeNS(null,"y2",Z[1]);break;case"radial":const U=v[4],q=v[5],Q=v[6],re=v[7];w=this.svgFactory.createElement("svg:radialGradient"),w.setAttributeNS(null,"id",y),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"cx",q[0]),w.setAttributeNS(null,"cy",q[1]),w.setAttributeNS(null,"r",re),w.setAttributeNS(null,"fx",U[0]),w.setAttributeNS(null,"fy",U[1]),w.setAttributeNS(null,"fr",Q);break;default:throw new Error(`Unknown RadialAxial type: ${v[1]}`)}for(const E of M){const Z=this.svgFactory.createElement("svg:stop");Z.setAttributeNS(null,"offset",E[0]),Z.setAttributeNS(null,"stop-color",E[1]),w.appendChild(Z)}return this.defs.appendChild(w),`url(#${y})`;case"Mesh":return(0,C.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${v[0]}`)}}setDash(v,y){this.current.dashArray=v,this.current.dashPhase=y}constructPath(v,y){const M=this.current;let w=M.x,E=M.y,Z=[],U=0;for(const q of v)switch(0|q){case C.OPS.rectangle:w=y[U++],E=y[U++];const le=w+y[U++],ue=E+y[U++];Z.push("M",d(w),d(E),"L",d(le),d(E),"L",d(le),d(ue),"L",d(w),d(ue),"Z");break;case C.OPS.moveTo:w=y[U++],E=y[U++],Z.push("M",d(w),d(E));break;case C.OPS.lineTo:w=y[U++],E=y[U++],Z.push("L",d(w),d(E));break;case C.OPS.curveTo:w=y[U+4],E=y[U+5],Z.push("C",d(y[U]),d(y[U+1]),d(y[U+2]),d(y[U+3]),d(w),d(E)),U+=6;break;case C.OPS.curveTo2:Z.push("C",d(w),d(E),d(y[U]),d(y[U+1]),d(y[U+2]),d(y[U+3])),w=y[U+2],E=y[U+3],U+=4;break;case C.OPS.curveTo3:w=y[U+2],E=y[U+3],Z.push("C",d(y[U]),d(y[U+1]),d(w),d(E),d(w),d(E)),U+=4;break;case C.OPS.closePath:Z.push("Z")}Z=Z.join(" "),M.path&&v.length>0&&v[0]!==C.OPS.rectangle&&v[0]!==C.OPS.moveTo?Z=M.path.getAttributeNS(null,"d")+Z:(M.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(M.path)),M.path.setAttributeNS(null,"d",Z),M.path.setAttributeNS(null,"fill","none"),M.element=M.path,M.setCurrentPoint(w,E)}endPath(){const v=this.current;if(v.path=null,!this.pendingClip)return;if(!v.element)return void(this.pendingClip=null);const y="clippath"+h++,M=this.svgFactory.createElement("svg:clipPath");M.setAttributeNS(null,"id",y),M.setAttributeNS(null,"transform",g(this.transformMatrix));const w=v.element.cloneNode(!0);if(w.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,M.appendChild(w),this.defs.appendChild(M),v.activeClipUrl){v.clipGroup=null;for(const E of this.extraStack)E.clipGroup=null;M.setAttributeNS(null,"clip-path",v.activeClipUrl)}v.activeClipUrl=`url(#${y})`,this.tgrp=null}clip(v){this.pendingClip=v}closePath(){const v=this.current;if(v.path){const y=`${v.path.getAttributeNS(null,"d")}Z`;v.path.setAttributeNS(null,"d",y)}}setLeading(v){this.current.leading=-v}setTextRise(v){this.current.textRise=v}setTextRenderingMode(v){this.current.textRenderingMode=v}setHScale(v){this.current.textHScale=v/100}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[y,M]of v)switch(y){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M);break;case"CA":this.setStrokeAlpha(M);break;case"ca":this.setFillAlpha(M);break;default:(0,C.warn)(`Unimplemented graphic state operator ${y}`)}}fill(){const v=this.current;v.element&&(v.element.setAttributeNS(null,"fill",v.fillColor),v.element.setAttributeNS(null,"fill-opacity",v.fillAlpha),this.endPath())}stroke(){const v=this.current;v.element&&(this._setStrokeAttributes(v.element),v.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(v,y=1){const M=this.current;let w=M.dashArray;1!==y&&w.length>0&&(w=w.map(function(E){return y*E})),v.setAttributeNS(null,"stroke",M.strokeColor),v.setAttributeNS(null,"stroke-opacity",M.strokeAlpha),v.setAttributeNS(null,"stroke-miterlimit",d(M.miterLimit)),v.setAttributeNS(null,"stroke-linecap",M.lineCap),v.setAttributeNS(null,"stroke-linejoin",M.lineJoin),v.setAttributeNS(null,"stroke-width",d(y*M.lineWidth)+"px"),v.setAttributeNS(null,"stroke-dasharray",w.map(d).join(" ")),v.setAttributeNS(null,"stroke-dashoffset",d(y*M.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width","1px"),v.setAttributeNS(null,"height","1px"),v.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(v)}paintImageXObject(v){const y=v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v);y?this.paintInlineImageXObject(y):(0,C.warn)(`Dependent image with object ID ${v} is not ready yet`)}paintInlineImageXObject(v,y){const M=v.width,w=v.height,E=l(v,this.forceDataSchema,!!y),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y","0"),Z.setAttributeNS(null,"width",d(M)),Z.setAttributeNS(null,"height",d(w)),this.current.element=Z,this.clip("nonzero");const U=this.svgFactory.createElement("svg:image");U.setAttributeNS(_,"xlink:href",E),U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y",d(-w)),U.setAttributeNS(null,"width",d(M)+"px"),U.setAttributeNS(null,"height",d(w)+"px"),U.setAttributeNS(null,"transform",`scale(${d(1/M)} ${d(-1/w)})`),y?y.appendChild(U):this._ensureTransformGroup().appendChild(U)}paintImageMaskXObject(v){const y=this.current,M=v.width,w=v.height,E=y.fillColor;y.maskId="mask"+m++;const Z=this.svgFactory.createElement("svg:mask");Z.setAttributeNS(null,"id",y.maskId);const U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",d(M)),U.setAttributeNS(null,"height",d(w)),U.setAttributeNS(null,"fill",E),U.setAttributeNS(null,"mask",`url(#${y.maskId})`),this.defs.appendChild(Z),this._ensureTransformGroup().appendChild(U),this.paintInlineImageXObject(v,Z)}paintFormXObjectBegin(v,y){if(Array.isArray(v)&&6===v.length&&this.transform(v[0],v[1],v[2],v[3],v[4],v[5]),y){const M=y[2]-y[0],w=y[3]-y[1],E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",y[0]),E.setAttributeNS(null,"y",y[1]),E.setAttributeNS(null,"width",d(M)),E.setAttributeNS(null,"height",d(w)),this.current.element=E,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(v){const y=this.svgFactory.create(v.width,v.height),M=this.svgFactory.createElement("svg:defs");y.appendChild(M),this.defs=M;const w=this.svgFactory.createElement("svg:g");return w.setAttributeNS(null,"transform",g(v.transform)),y.appendChild(w),this.svg=w,y}_ensureClipGroup(){if(!this.current.clipGroup){const v=this.svgFactory.createElement("svg:g");v.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(v),this.current.clipGroup=v}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFNodeStream=void 0;var C=be(1),Ce=be(26);const e=__webpack_require__(172),D=__webpack_require__(2001),V=__webpack_require__(3779),Y=__webpack_require__(6558),_=/^file:\/\/\/[a-zA-Z]:\//;G.PDFNodeStream=class f{constructor(b){this.source=b,this.url=function p(m){const b=Y.parse(m);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(m)?Y.parse(`file:///${m}`):(b.host||(b.protocol="file:"),b)}(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,C.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new a(this),this._fullRequestReader}getRangeReader(b,v){if(v<=this._progressiveDataLength)return null;const y=this.isFsUrl?new h(this,b,v):new d(this,b,v);return this._rangeRequestReaders.push(y),y}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const v of this._rangeRequestReaders.slice(0))v.cancel(b)}};class u{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const v=b.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=(0,C.createPromiseCapability)(),this._headersCapability=(0,C.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const v=b._readableStream.read();return null===v?(b._readCapability=(0,C.createPromiseCapability)(),b.read()):(b._loaded+=v.length,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",v=>{this._error(v)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new C.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class l{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,C.createPromiseCapability)(),this._isStreamingSupported=!b.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const v=b._readableStream.read();return null===v?(b._readCapability=(0,C.createPromiseCapability)(),b.read()):(b._loaded+=v.length,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(v).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",v=>{this._error(v)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c(m,b){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:b}}class a extends u{constructor(b){super(b);const v=y=>{if(404===y.statusCode){const Z=new C.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=Z,void this._headersCapability.reject(Z)}this._headersCapability.resolve(),this._setReadableStream(y);const M=Z=>this._readableStream.headers[Z.toLowerCase()],{allowRangeRequests:w,suggestedLength:E}=(0,Ce.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=E||this._contentLength,this._filename=(0,Ce.extractFilenameFromHeader)(M)};this._request=null,this._request="http:"===this._url.protocol?D.request(c(this._url,b.httpHeaders),v):V.request(c(this._url,b.httpHeaders),v),this._request.on("error",y=>{this._storedError=y,this._headersCapability.reject(y)}),this._request.end()}}class d extends l{constructor(b,v,y){super(b),this._httpHeaders={};for(const w in b.httpHeaders){const E=b.httpHeaders[w];typeof E>"u"||(this._httpHeaders[w]=E)}this._httpHeaders.Range=`bytes=${v}-${y-1}`;const M=w=>{if(404!==w.statusCode)this._setReadableStream(w);else{const E=new C.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=E}};this._request=null,this._request="http:"===this._url.protocol?D.request(c(this._url,this._httpHeaders),M):V.request(c(this._url,this._httpHeaders),M),this._request.on("error",w=>{this._storedError=w}),this._request.end()}}class g extends u{constructor(b){super(b);let v=decodeURIComponent(this._url.path);_.test(this._url.href)&&(v=v.replace(/^\//,"")),e.lstat(v,(y,M)=>{if(y)return"ENOENT"===y.code&&(y=new C.MissingPDFException(`Missing PDF "${v}".`)),this._storedError=y,void this._headersCapability.reject(y);this._contentLength=M.size,this._setReadableStream(e.createReadStream(v)),this._headersCapability.resolve()})}}class h extends l{constructor(b,v,y){super(b);let M=decodeURIComponent(this._url.path);_.test(this._url.href)&&(M=M.replace(/^\//,"")),this._setReadableStream(e.createReadStream(M,{start:v,end:y-1}))}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.createResponseStatusError=function Y(p,f){return 404===p||0===p&&f.startsWith("file:")?new C.MissingPDFException('Missing PDF "'+f+'".'):new C.UnexpectedResponseException(`Unexpected server response (${p}) while retrieving PDF "${f}".`,p)},G.extractFilenameFromHeader=function V(p){const f=p("Content-Disposition");if(f){let u=(0,Ce.getFilenameFromContentDispositionHeader)(f);if(u.includes("%"))try{u=decodeURIComponent(u)}catch{}if((0,e.isPdfFile)(u))return u}return null},G.validateRangeRequestCapabilities=function D({getResponseHeader:p,isHttp:f,rangeChunkSize:u,disableRange:l}){const c={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(p("Content-Length"),10);return!Number.isInteger(a)||(c.suggestedLength=a,a<=2*u)||l||!f||"bytes"!==p("Accept-Ranges")||"identity"!==(p("Content-Encoding")||"identity")||(c.allowRangeRequests=!0),c},G.validateResponseStatus=function _(p){return 200===p||206===p};var C=be(1),Ce=be(27),e=be(5)},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getFilenameFromContentDispositionHeader=function Ce(e){let D=!0,V=Y("filename\\*","i").exec(e);if(V){V=V[1];let a=u(V);return a=unescape(a),a=l(a),a=c(a),p(a)}if(V=function f(a){const d=[];let g;const h=Y("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(g=h.exec(a));){let[,b,v,y]=g;if(b=parseInt(b,10),b in d){if(0===b)break}else d[b]=[v,y]}const m=[];for(let b=0;b<d.length&&b in d;++b){let[v,y]=d[b];y=u(y),v&&(y=unescape(y),0===b&&(y=l(y))),m.push(y)}return m.join("")}(e),V)return p(c(V));if(V=Y("filename","i").exec(e),V){V=V[1];let a=u(V);return a=c(a),p(a)}function Y(a,d){return new RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function _(a,d){if(a){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const g=new TextDecoder(a,{fatal:!0}),h=(0,C.stringToBytes)(d);d=g.decode(h),D=!1}catch{}}return d}function p(a){return D&&/[\x80-\xff]/.test(a)&&(a=_("utf-8",a),D&&(a=_("iso-8859-1",a))),a}function u(a){if(a.startsWith('"')){const d=a.slice(1).split('\\"');for(let g=0;g<d.length;++g){const h=d[g].indexOf('"');-1!==h&&(d[g]=d[g].slice(0,h),d.length=g+1),d[g]=d[g].replace(/\\(.)/g,"$1")}a=d.join('"')}return a}function l(a){const d=a.indexOf("'");return-1===d?a:_(a.slice(0,d),a.slice(d+1).replace(/^[^']*'/,""))}function c(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,g,h,m){if("q"===h||"Q"===h)return _(g,m=(m=m.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(b,v){return String.fromCharCode(parseInt(v,16))}));try{m=atob(m)}catch{}return _(g,m)})}return""};var C=be(1)},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFNetworkStream=void 0;var C=be(1),Ce=be(26);class Y{constructor(l,c={}){this.url=l,this.isHttp=/^https?:/i.test(l),this.httpHeaders=this.isHttp&&c.httpHeaders||Object.create(null),this.withCredentials=c.withCredentials||!1,this.getXhr=c.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(l,c,a){const d={begin:l,end:c};for(const g in a)d[g]=a[g];return this.request(d)}requestFull(l){return this.request(l)}request(l){const c=this.getXhr(),a=this.currXhrId++,d=this.pendingRequests[a]={xhr:c};c.open("GET",this.url),c.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const h=this.httpHeaders[g];typeof h>"u"||c.setRequestHeader(g,h)}return this.isHttp&&"begin"in l&&"end"in l?(c.setRequestHeader("Range",`bytes=${l.begin}-${l.end-1}`),d.expectedStatus=206):d.expectedStatus=200,c.responseType="arraybuffer",l.onError&&(c.onerror=function(g){l.onError(c.status)}),c.onreadystatechange=this.onStateChange.bind(this,a),c.onprogress=this.onProgress.bind(this,a),d.onHeadersReceived=l.onHeadersReceived,d.onDone=l.onDone,d.onError=l.onError,d.onProgress=l.onProgress,c.send(null),a}onProgress(l,c){const a=this.pendingRequests[l];!a||a.onProgress?.(c)}onStateChange(l,c){const a=this.pendingRequests[l];if(!a)return;const d=a.xhr;if(d.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),4!==d.readyState||!(l in this.pendingRequests))return;if(delete this.pendingRequests[l],0===d.status&&this.isHttp)return void a.onError?.(d.status);const g=d.status||200;if((200!==g||206!==a.expectedStatus)&&g!==a.expectedStatus)return void a.onError?.(d.status);const m=function V(u){const l=u.response;return"string"!=typeof l?l:(0,C.stringToBytes)(l).buffer}(d);if(206===g){const b=d.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);a.onDone({begin:parseInt(v[1],10),chunk:m})}else m?a.onDone({begin:0,chunk:m}):a.onError?.(d.status)}getRequestXhr(l){return this.pendingRequests[l].xhr}isPendingRequest(l){return l in this.pendingRequests}abortRequest(l){const c=this.pendingRequests[l].xhr;delete this.pendingRequests[l],c.abort()}}G.PDFNetworkStream=class _{constructor(l){this._source=l,this._manager=new Y(l.url,{httpHeaders:l.httpHeaders,withCredentials:l.withCredentials}),this._rangeChunkSize=l.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(l){const c=this._rangeRequestReaders.indexOf(l);c>=0&&this._rangeRequestReaders.splice(c,1)}getFullReader(){return(0,C.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}getRangeReader(l,c){const a=new f(this._manager,l,c);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(l){this._fullRequestReader?.cancel(l);for(const c of this._rangeRequestReaders.slice(0))c.cancel(l)}};class p{constructor(l,c){this._manager=l;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url,this._fullRequestId=l.requestFull(a),this._headersReceivedCapability=(0,C.createPromiseCapability)(),this._disableRange=c.disableRange||!1,this._contentLength=c.length,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const l=this._fullRequestId,c=this._manager.getRequestXhr(l),a=h=>c.getResponseHeader(h),{allowRangeRequests:d,suggestedLength:g}=(0,Ce.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,Ce.extractFilenameFromHeader)(a),this._isRangeSupported&&this._manager.abortRequest(l),this._headersReceivedCapability.resolve()}_onDone(l){if(l&&(this._requests.length>0?this._requests.shift().resolve({value:l.chunk,done:!1}):this._cachedChunks.push(l.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(l){this._storedError=(0,Ce.createResponseStatusError)(l,this._url),this._headersReceivedCapability.reject(this._storedError);for(const c of this._requests)c.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(l){this.onProgress?.({loaded:l.loaded,total:l.lengthComputable?l.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var l=this;return _asyncToGenerator(function*(){if(l._storedError)throw l._storedError;if(l._cachedChunks.length>0)return{value:l._cachedChunks.shift(),done:!1};if(l._done)return{value:void 0,done:!0};const c=(0,C.createPromiseCapability)();return l._requests.push(c),c.promise})()}cancel(l){this._done=!0,this._headersReceivedCapability.reject(l);for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(l,c,a){this._manager=l;const d={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=l.url,this._requestId=l.requestRange(c,a,d),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(l){const c=l.chunk;this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunk=c,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(l){this._storedError=(0,Ce.createResponseStatusError)(l,this._url);for(const c of this._requests)c.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(l){this.isStreamingSupported||this.onProgress?.({loaded:l.loaded})}get isStreamingSupported(){return!1}read(){var l=this;return _asyncToGenerator(function*(){if(l._storedError)throw l._storedError;if(null!==l._queuedChunk){const a=l._queuedChunk;return l._queuedChunk=null,{value:a,done:!1}}if(l._done)return{value:void 0,done:!0};const c=(0,C.createPromiseCapability)();return l._requests.push(c),c.promise})()}cancel(l){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ee,G,be)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFFetchStream=void 0;var C=be(1),Ce=be(26);function e(p,f,u){return{method:"GET",headers:p,signal:u?.signal,mode:"cors",credentials:f?"include":"same-origin",redirect:"follow"}}function D(p){const f=new Headers;for(const u in p){const l=p[u];typeof l>"u"||f.append(u,l)}return f}G.PDFFetchStream=class V{constructor(f){this.source=f,this.isHttp=/^https?:/i.test(f.url),this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,C.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Y(this),this._fullRequestReader}getRangeReader(f,u){if(u<=this._progressiveDataLength)return null;const l=new _(this,f,u);return this._rangeRequestReaders.push(l),l}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const u of this._rangeRequestReaders.slice(0))u.cancel(f)}};class Y{constructor(f){this._stream=f,this._reader=null,this._loaded=0,this._filename=null;const u=f.source;this._withCredentials=u.withCredentials||!1,this._contentLength=u.length,this._headersCapability=(0,C.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._headers=D(this._stream.httpHeaders);const l=u.url;fetch(l,e(this._headers,this._withCredentials,this._abortController)).then(c=>{if(!(0,Ce.validateResponseStatus)(c.status))throw(0,Ce.createResponseStatusError)(c.status,l);this._reader=c.body.getReader(),this._headersCapability.resolve();const a=h=>c.headers.get(h),{allowRangeRequests:d,suggestedLength:g}=(0,Ce.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=g||this._contentLength,this._filename=(0,Ce.extractFilenameFromHeader)(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new C.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._headersCapability.promise;const{value:u,done:l}=yield f._reader.read();return l?{value:u,done:l}:(f._loaded+=u.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded,total:f._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}class _{constructor(f,u,l){this._stream=f,this._reader=null,this._loaded=0;const c=f.source;this._withCredentials=c.withCredentials||!1,this._readCapability=(0,C.createPromiseCapability)(),this._isStreamingSupported=!c.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=D(this._stream.httpHeaders),this._headers.append("Range",`bytes=${u}-${l-1}`);const a=c.url;fetch(a,e(this._headers,this._withCredentials,this._abortController)).then(d=>{if(!(0,Ce.validateResponseStatus)(d.status))throw(0,Ce.createResponseStatusError)(d.status,a);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._readCapability.promise;const{value:u,done:l}=yield f._reader.read();return l?{value:u,done:l}:(f._loaded+=u.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ee){var G=__webpack_module_cache__[Ee];if(void 0!==G)return G.exports;var be=__webpack_module_cache__[Ee]={exports:{}};return __webpack_modules__[Ee](be,be.exports,__w_pdfjs_require__),be.exports}var __webpack_exports__={};return(()=>{var Ee=__webpack_exports__;Object.defineProperty(Ee,"__esModule",{value:!0}),Object.defineProperty(Ee,"AnnotationLayer",{enumerable:!0,get:function(){return Ce.AnnotationLayer}}),Object.defineProperty(Ee,"AnnotationMode",{enumerable:!0,get:function(){return G.AnnotationMode}}),Object.defineProperty(Ee,"CMapCompressionType",{enumerable:!0,get:function(){return G.CMapCompressionType}}),Object.defineProperty(Ee,"GlobalWorkerOptions",{enumerable:!0,get:function(){return e.GlobalWorkerOptions}}),Object.defineProperty(Ee,"InvalidPDFException",{enumerable:!0,get:function(){return G.InvalidPDFException}}),Object.defineProperty(Ee,"LoopbackPort",{enumerable:!0,get:function(){return be.LoopbackPort}}),Object.defineProperty(Ee,"MissingPDFException",{enumerable:!0,get:function(){return G.MissingPDFException}}),Object.defineProperty(Ee,"OPS",{enumerable:!0,get:function(){return G.OPS}}),Object.defineProperty(Ee,"PDFDataRangeTransport",{enumerable:!0,get:function(){return be.PDFDataRangeTransport}}),Object.defineProperty(Ee,"PDFDateString",{enumerable:!0,get:function(){return C.PDFDateString}}),Object.defineProperty(Ee,"PDFWorker",{enumerable:!0,get:function(){return be.PDFWorker}}),Object.defineProperty(Ee,"PasswordResponses",{enumerable:!0,get:function(){return G.PasswordResponses}}),Object.defineProperty(Ee,"PermissionFlag",{enumerable:!0,get:function(){return G.PermissionFlag}}),Object.defineProperty(Ee,"PixelsPerInch",{enumerable:!0,get:function(){return C.PixelsPerInch}}),Object.defineProperty(Ee,"RenderingCancelledException",{enumerable:!0,get:function(){return C.RenderingCancelledException}}),Object.defineProperty(Ee,"SVGGraphics",{enumerable:!0,get:function(){return Y.SVGGraphics}}),Object.defineProperty(Ee,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return G.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ee,"UnexpectedResponseException",{enumerable:!0,get:function(){return G.UnexpectedResponseException}}),Object.defineProperty(Ee,"Util",{enumerable:!0,get:function(){return G.Util}}),Object.defineProperty(Ee,"VerbosityLevel",{enumerable:!0,get:function(){return G.VerbosityLevel}}),Object.defineProperty(Ee,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(Ee,"build",{enumerable:!0,get:function(){return be.build}}),Object.defineProperty(Ee,"createPromiseCapability",{enumerable:!0,get:function(){return G.createPromiseCapability}}),Object.defineProperty(Ee,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return G.createValidAbsoluteUrl}}),Object.defineProperty(Ee,"getDocument",{enumerable:!0,get:function(){return be.getDocument}}),Object.defineProperty(Ee,"getFilenameFromUrl",{enumerable:!0,get:function(){return C.getFilenameFromUrl}}),Object.defineProperty(Ee,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return C.getPdfFilenameFromUrl}}),Object.defineProperty(Ee,"getXfaPageViewport",{enumerable:!0,get:function(){return C.getXfaPageViewport}}),Object.defineProperty(Ee,"isPdfFile",{enumerable:!0,get:function(){return C.isPdfFile}}),Object.defineProperty(Ee,"loadScript",{enumerable:!0,get:function(){return C.loadScript}}),Object.defineProperty(Ee,"renderTextLayer",{enumerable:!0,get:function(){return V.renderTextLayer}}),Object.defineProperty(Ee,"shadow",{enumerable:!0,get:function(){return G.shadow}}),Object.defineProperty(Ee,"version",{enumerable:!0,get:function(){return be.version}});var G=__w_pdfjs_require__(1),be=__w_pdfjs_require__(4),C=__w_pdfjs_require__(5),Ce=__w_pdfjs_require__(20),e=__w_pdfjs_require__(13),D=__w_pdfjs_require__(3),V=__w_pdfjs_require__(23),Y=__w_pdfjs_require__(24),_=__w_pdfjs_require__(22);if(D.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(25);(0,be.setPDFNetworkStreamFactory)(l=>new u(l))}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(28),{PDFFetchStream:l}=__w_pdfjs_require__(29);(0,be.setPDFNetworkStreamFactory)(c=>(0,C.isValidFetchUrl)(c.url)?new l(c):new u(c))}})(),__webpack_exports__})(),module.exports=be()},2813:function(Ee,G,be){var D,C=be(7156).default;D=()=>(()=>{"use strict";var Ce=[,(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DefaultXfaLayerFactory=_.DefaultTextLayerFactory=_.DefaultStructTreeLayerFactory=_.DefaultAnnotationLayerFactory=void 0;var f=p(2),u=p(4),l=p(5),c=p(7),a=p(8),d=p(9);_.DefaultAnnotationLayerFactory=class g{createAnnotationLayerBuilder(y,M,w=null,E="",Z=!0,U=u.NullL10n,q=!1,Q=null,re=null,le=null,ue=null){return new f.AnnotationLayerBuilder({pageDiv:y,pdfPage:M,imageResourcesPath:E,renderForms:Z,linkService:new l.SimpleLinkService,l10n:U,annotationStorage:w,enableScripting:q,hasJSActionsPromise:Q,fieldObjectsPromise:le,mouseState:re,annotationCanvasMap:ue})}},_.DefaultStructTreeLayerFactory=class h{createStructTreeLayerBuilder(y){return new c.StructTreeLayerBuilder({pdfPage:y})}},_.DefaultTextLayerFactory=class m{createTextLayerBuilder(y,M,w,E=!1,Z,U){return new a.TextLayerBuilder({textLayerDiv:y,pageIndex:M,viewport:w,enhanceTextSelection:E,eventBus:Z,highlighter:U})}},_.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(y,M,w=null,E=null){return new d.XfaLayerBuilder({pageDiv:y,pdfPage:M,annotationStorage:w,linkService:new l.SimpleLinkService,xfaHtml:E})}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayerBuilder=void 0;var f=p(3),u=p(4);_.AnnotationLayerBuilder=class l{constructor({pageDiv:a,pdfPage:d,linkService:g,downloadManager:h,annotationStorage:m=null,imageResourcesPath:b="",renderForms:v=!0,l10n:y=u.NullL10n,enableScripting:M=!1,hasJSActionsPromise:w=null,fieldObjectsPromise:E=null,mouseState:Z=null,annotationCanvasMap:U=null}){this.pageDiv=a,this.pdfPage=d,this.linkService=g,this.downloadManager=h,this.imageResourcesPath=b,this.renderForms=v,this.l10n=y,this.annotationStorage=m,this.enableScripting=M,this._hasJSActionsPromise=w,this._fieldObjectsPromise=E,this._mouseState=Z,this._annotationCanvasMap=U,this.div=null,this._cancelled=!1}render(a,d="display"){var g=this;return C(function*(){const[h,m=!1,b=null]=yield Promise.all([g.pdfPage.getAnnotations({intent:d}),g._hasJSActionsPromise,g._fieldObjectsPromise]);if(g._cancelled||0===h.length)return;const v={viewport:a.clone({dontFlip:!0}),div:g.div,annotations:h,page:g.pdfPage,imageResourcesPath:g.imageResourcesPath,renderForms:g.renderForms,linkService:g.linkService,downloadManager:g.downloadManager,annotationStorage:g.annotationStorage,enableScripting:g.enableScripting,hasJSActions:m,fieldObjects:b,mouseState:g._mouseState,annotationCanvasMap:g._annotationCanvasMap};g.div?f.AnnotationLayer.update(v):(g.div=document.createElement("div"),g.div.className="annotationLayer",g.pageDiv.appendChild(g.div),v.div=g.div,f.AnnotationLayer.render(v),g.l10n.translate(g.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},Y=>{let _;_=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:be(6036),Y.exports=_},(Y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.fixupLangCode=function l(d){return u[d?.toLowerCase()]||d},_.getL10nFallback=f;const p={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function f(d,g){switch(d){case"find_match_count":d=`find_match_count[${1===g.total?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${1===g.limit?"one":"other"}]`}return p[d]||""}const u={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};_.NullL10n={getLanguage:()=>C(function*(){return"en-us"})(),getDirection:()=>C(function*(){return"ltr"})(),get:(d,g=null,h=f(d,g))=>C(function*(){return function c(d,g){return g?d.replace(/\{\{\s*(\w+)\s*\}\}/g,(h,m)=>m in g?g[m]:"{{"+m+"}}"):d}(h,g)})(),translate:d=>C(function*(){})()}},(Y,_,p)=>{var g,h,nr,b,ql;Object.defineProperty(_,"__esModule",{value:!0}),_.SimpleLinkService=_.PDFLinkService=_.LinkTarget=void 0;var f=p(6);const l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function c(M,{url:w,target:E,rel:Z,enabled:U=!0}={}){if(!w||"string"!=typeof w)throw new Error('A valid "url" parameter must provided.');const q=(0,f.removeNullCharacters)(w);U?M.href=M.title=q:(M.href="",M.title=`Disabled: ${q}`,M.onclick=()=>!1);let Q="";switch(E){case l.NONE:break;case l.SELF:Q="_self";break;case l.BLANK:Q="_blank";break;case l.PARENT:Q="_parent";break;case l.TOP:Q="_top"}M.target=Q,M.rel="string"==typeof Z?Z:"noopener noreferrer nofollow"}_.LinkTarget=l;const y=class{constructor({eventBus:w,externalLinkTarget:E=null,externalLinkRel:Z=null,ignoreDestinationZoom:U=!1}={}){je(this,h),je(this,g,new Map),this.eventBus=w,this.externalLinkTarget=E,this.externalLinkRel=Z,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=U,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(w,E=null){this.baseUrl=E,this.pdfDocument=w,Ze(this,g).clear()}setViewer(w){this.pdfViewer=w}setHistory(w){this.pdfHistory=w}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(w){this.pdfViewer.currentPageNumber=w}get rotation(){return this.pdfViewer.pagesRotation}set rotation(w){this.pdfViewer.pagesRotation=w}goToDestination(w){var E=this;return C(function*(){var q;if(!E.pdfDocument)return;let Z,U;"string"==typeof w?(Z=w,U=yield E.pdfDocument.getDestination(w)):(Z=null,U=yield w),Array.isArray(U)?Be(q=E,h,nr).call(q,w,Z,U):console.error(`PDFLinkService.goToDestination: "${U}" is not a valid destination array, for dest="${w}".`)})()}goToPage(w){if(!this.pdfDocument)return;const E="string"==typeof w&&this.pdfViewer.pageLabelToPageNumber(w)||0|w;Number.isInteger(E)&&E>0&&E<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(E)),this.pdfViewer.scrollPageIntoView({pageNumber:E})):console.error(`PDFLinkService.goToPage: "${w}" is not a valid page.`)}addLinkAttributes(w,E,Z=!1){c(w,{url:E,target:Z?l.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(w){if("string"==typeof w){if(w.length>0)return this.getAnchorUrl("#"+escape(w))}else if(Array.isArray(w)){const E=JSON.stringify(w);if(E.length>0)return this.getAnchorUrl("#"+escape(E))}return this.getAnchorUrl("")}getAnchorUrl(w){return(this.baseUrl||"")+w}setHash(w){var U;if(!this.pdfDocument)return;let E,Z;if(w.includes("=")){const q=(0,f.parseQueryString)(w);if(q.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:q.get("search").replace(/"/g,""),phraseSearch:"true"===q.get("phrase")}),q.has("page")&&(E=0|q.get("page")||1),q.has("zoom")){const Q=q.get("zoom").split(","),re=Q[0],le=parseFloat(re);re.includes("Fit")?"Fit"===re||"FitB"===re?Z=[null,{name:re}]:"FitH"===re||"FitBH"===re||"FitV"===re||"FitBV"===re?Z=[null,{name:re},Q.length>1?0|Q[1]:null]:"FitR"===re?5!==Q.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Z=[null,{name:re},0|Q[1],0|Q[2],0|Q[3],0|Q[4]]:console.error(`PDFLinkService.setHash: "${re}" is not a valid zoom value.`):Z=[null,{name:"XYZ"},Q.length>1?0|Q[1]:null,Q.length>2?0|Q[2]:null,le?le/100:re]}Z?this.pdfViewer.scrollPageIntoView({pageNumber:E||this.page,destArray:Z,allowNegativeOffset:!0}):E&&(this.page=E),q.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:q.get("pagemode")}),q.has("nameddest")&&this.goToDestination(q.get("nameddest"))}else{Z=unescape(w);try{Z=JSON.parse(Z),Array.isArray(Z)||(Z=Z.toString())}catch{}if("string"==typeof Z||Be(U=y,b,ql).call(U,Z))return void this.goToDestination(Z);console.error(`PDFLinkService.setHash: "${unescape(w)}" is not a valid destination.`)}}executeNamedAction(w){switch(w){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:w})}cachePageRef(w,E){if(!E)return;const Z=0===E.gen?`${E.num}R`:`${E.num}R${E.gen}`;Ze(this,g).set(Z,w)}_cachedPageNumber(w){if(!w)return null;const E=0===w.gen?`${w.num}R`:`${w.num}R${w.gen}`;return Ze(this,g).get(E)||null}isPageVisible(w){return this.pdfViewer.isPageVisible(w)}isPageCached(w){return this.pdfViewer.isPageCached(w)}};let a=y;g=new WeakMap,h=new WeakSet,nr=function(w,E=null,Z){const U=Z[0];let q;if("object"==typeof U&&null!==U){if(q=this._cachedPageNumber(U),!q)return void this.pdfDocument.getPageIndex(U).then(Q=>{this.cachePageRef(Q+1,U),Be(this,h,nr).call(this,w,E,Z)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${U}" is not a valid page reference, for dest="${w}".`)})}else{if(!Number.isInteger(U))return void console.error(`PDFLinkService.#goToDestinationHelper: "${U}" is not a valid destination reference, for dest="${w}".`);q=U+1}!q||q<1||q>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${q}" is not a valid page number, for dest="${w}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:E,explicitDest:Z,pageNumber:q})),this.pdfViewer.scrollPageIntoView({pageNumber:q,destArray:Z,ignoreDestinationZoom:this._ignoreDestinationZoom}))},b=new WeakSet,ql=function(w){if(!Array.isArray(w))return!1;const E=w.length;if(E<2)return!1;const Z=w[0];if(!("object"==typeof Z&&Number.isInteger(Z.num)&&Number.isInteger(Z.gen)||Number.isInteger(Z)&&Z>=0))return!1;const U=w[1];if("object"!=typeof U||"string"!=typeof U.name)return!1;let q=!0;switch(U.name){case"XYZ":if(5!==E)return!1;break;case"Fit":case"FitB":return 2===E;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==E)return!1;break;case"FitR":if(6!==E)return!1;q=!1;break;default:return!1}for(let Q=2;Q<E;Q++){const re=w[Q];if(!("number"==typeof re||q&&null===re))return!1}return!0},je(a,b),_.PDFLinkService=a,_.SimpleLinkService=class d{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(w){}get rotation(){return 0}set rotation(w){}goToDestination(w){return C(function*(){})()}goToPage(w){}addLinkAttributes(w,E,Z=!1){c(w,{url:E,enabled:this.externalLinkEnabled})}getDestinationHash(w){return"#"}getAnchorUrl(w){return"#"}setHash(w){}executeNamedAction(w){}cachePageRef(w,E){}isPageVisible(w){return!0}isPageCached(w){return!0}}},(Y,_)=>{var ve,Vl;Object.defineProperty(_,"__esModule",{value:!0}),_.animationStarted=_.VERTICAL_PADDING=_.UNKNOWN_SCALE=_.TextLayerMode=_.SpreadMode=_.SidebarView=_.ScrollMode=_.SCROLLBAR_PADDING=_.RenderingStates=_.RendererType=_.ProgressBar=_.PresentationModeState=_.OutputScale=_.MIN_SCALE=_.MAX_SCALE=_.MAX_AUTO_SCALE=_.DEFAULT_SCALE_VALUE=_.DEFAULT_SCALE_DELTA=_.DEFAULT_SCALE=_.AutoPrintRegExp=void 0,_.apiPageLayoutToViewerModes=function ne(oe){let ge=w.VERTICAL,fe=E.NONE;switch(oe){case"SinglePage":ge=w.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ge=w.PAGE;case"TwoColumnLeft":fe=E.ODD;break;case"TwoPageRight":ge=w.PAGE;case"TwoColumnRight":fe=E.EVEN}return{scrollMode:ge,spreadMode:fe}},_.apiPageModeToSidebarView=function K(oe){switch(oe){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE},_.approximateFraction=function pe(oe){if(Math.floor(oe)===oe)return[oe,1];const ge=1/oe;if(ge>8)return[1,8];if(Math.floor(ge)===ge)return[1,ge];const j=oe>1?ge:oe;let Te,te=0,ie=1,we=1,Se=1;for(;;){const De=te+we,Oe=ie+Se;if(Oe>8)break;j<=De/Oe?(we=De,Se=Oe):(te=De,ie=Oe)}return Te=j-te/ie<we/Se-j?j===oe?[te,ie]:[ie,te]:j===oe?[we,Se]:[Se,we],Te},_.backtrackBeforeAllVisibleElements=F,_.binarySearchFirstItem=ce,_.getActiveOrFocusedElement=function de(){let oe=document,ge=oe.activeElement||oe.querySelector(":focus");for(;ge?.shadowRoot;)oe=ge.shadowRoot,ge=oe.activeElement||oe.querySelector(":focus");return ge},_.getPageSizeInches=function B({view:oe,userUnit:ge,rotate:fe}){const[j,te,ie,we]=oe,Se=fe%180!=0,Te=(ie-j)/72*ge,De=(we-te)/72*ge;return{width:Se?De:Te,height:Se?Te:De}},_.getVisibleElements=function k({scrollEl:oe,views:ge,sortByVisibility:fe=!1,horizontal:j=!1,rtl:te=!1}){const ie=oe.scrollTop,we=ie+oe.clientHeight,Se=oe.scrollLeft,Te=Se+oe.clientWidth,He=[],Ie=new Set,et=ge.length;let xe=ce(ge,j?function Oe(Pe){const Le=Pe.div,Fe=Le.offsetLeft+Le.clientLeft;return te?Fe<Te:Fe+Le.clientWidth>Se}:function De(Pe){const Le=Pe.div;return Le.offsetTop+Le.clientTop+Le.clientHeight>ie});xe>0&&xe<et&&!j&&(xe=F(xe,ge,ie));let ae=j?Te:-1;for(let Pe=xe;Pe<et;Pe++){const Le=ge[Pe],Fe=Le.div,Je=Fe.offsetLeft+Fe.clientLeft,Ge=Fe.offsetTop+Fe.clientTop,ct=Fe.clientWidth,Qe=Fe.clientHeight,nt=Je+ct,ot=Ge+Qe;if(-1===ae)ot>=we&&(ae=ot);else if((j?Je:Ge)>ae)break;if(ot<=ie||Ge>=we||nt<=Se||Je>=Te)continue;const Ft=Math.max(0,ie-Ge)+Math.max(0,ot-we),Tt=(ct-(Math.max(0,Se-Je)+Math.max(0,nt-Te)))/ct;He.push({id:Le.id,x:Je,y:Ge,view:Le,percent:(Qe-Ft)/Qe*Tt*100|0,widthPercent:100*Tt|0}),Ie.add(Le.id)}const he=He[0],ke=He[He.length-1];return fe&&He.sort(function(Pe,Le){const Fe=Pe.percent-Le.percent;return Math.abs(Fe)>.001?-Fe:Pe.id-Le.id}),{first:he,last:ke,views:He,ids:Ie}},_.isPortraitOrientation=function H(oe){return oe.width<=oe.height},_.isValidRotation=function O(oe){return Number.isInteger(oe)&&oe%90==0},_.isValidScrollMode=function I(oe){return Number.isInteger(oe)&&Object.values(w).includes(oe)&&oe!==w.UNKNOWN},_.isValidSpreadMode=function N(oe){return Number.isInteger(oe)&&Object.values(E).includes(oe)&&oe!==E.UNKNOWN},_.noContextMenuHandler=function P(oe){oe.preventDefault()},_.normalizeWheelEventDelta=function A(oe){let ge=S(oe);return 0===oe.deltaMode?ge/=900:1===oe.deltaMode&&(ge/=30),ge},_.normalizeWheelEventDirection=S,_.parseQueryString=function re(oe){const ge=new Map;for(const[fe,j]of new URLSearchParams(oe))ge.set(fe.toLowerCase(),j);return ge},_.removeNullCharacters=function W(oe,ge=!1){return"string"!=typeof oe?(console.error("The argument must be a string."),oe):(ge&&(oe=oe.replace(ue," ")),oe.replace(le,""))},_.roundToDivide=function _e(oe,ge){const fe=oe%ge;return 0===fe?oe:Math.round(oe-fe+ge)},_.scrollIntoView=function q(oe,ge,fe=!1){let j=oe.offsetParent;if(!j)return void console.error("offsetParent is not set -- cannot scroll");let te=oe.offsetTop+oe.clientTop,ie=oe.offsetLeft+oe.clientLeft;for(;j.clientHeight===j.scrollHeight&&j.clientWidth===j.scrollWidth||fe&&(j.classList.contains("markedContent")||"hidden"===getComputedStyle(j).overflow);)if(te+=j.offsetTop,ie+=j.offsetLeft,j=j.offsetParent,!j)return;ge&&(void 0!==ge.top&&(te+=ge.top),void 0!==ge.left&&(ie+=ge.left,j.scrollLeft=ie)),j.scrollTop=te},_.watchScroll=function Q(oe,ge){const fe=function(ie){te||(te=window.requestAnimationFrame(function(){te=null;const Se=oe.scrollLeft,Te=j.lastX;Se!==Te&&(j.right=Se>Te),j.lastX=Se;const De=oe.scrollTop,Oe=j.lastY;De!==Oe&&(j.down=De>Oe),j.lastY=De,ge(j)}))},j={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:fe};let te=null;return oe.addEventListener("scroll",fe,!0),j},_.DEFAULT_SCALE_VALUE="auto",_.DEFAULT_SCALE=1,_.DEFAULT_SCALE_DELTA=1.1,_.MIN_SCALE=.1,_.MAX_SCALE=10,_.UNKNOWN_SCALE=0,_.MAX_AUTO_SCALE=1.25,_.SCROLLBAR_PADDING=40,_.VERTICAL_PADDING=5,_.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},_.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};_.SidebarView=v,_.RendererType={CANVAS:"canvas",SVG:"svg"},_.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const w={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};_.ScrollMode=w;const E={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};_.SpreadMode=E,_.AutoPrintRegExp=/\bprint\s*\(/,_.OutputScale=class U{constructor(){const ge=window.devicePixelRatio||1;this.sx=ge,this.sy=ge}get scaled(){return 1!==this.sx||1!==this.sy}};const le=/\x00/g,ue=/[\x01-\x1F]/g;function ce(oe,ge,fe=0){let j=fe,te=oe.length-1;if(te<0||!ge(oe[te]))return oe.length;if(ge(oe[j]))return j;for(;j<te;){const ie=j+te>>1;ge(oe[ie])?te=ie:j=ie+1}return j}function F(oe,ge,fe){if(oe<2)return oe;let j=ge[oe].div,te=j.offsetTop+j.clientTop;te>=fe&&(j=ge[oe-1].div,te=j.offsetTop+j.clientTop);for(let ie=oe-2;ie>=0&&(j=ge[ie].div,!(j.offsetTop+j.clientTop+j.clientHeight<=te));--ie)oe=ie;return oe}function S(oe){let ge=Math.hypot(oe.deltaX,oe.deltaY);const fe=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<fe&&fe<.75*Math.PI&&(ge=-ge),ge}const z=new Promise(function(oe){window.requestAnimationFrame(oe)});_.animationStarted=z,ve=new WeakSet,Vl=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},_.ProgressBar=class ee{constructor(ge){if(je(this,ve),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(ge+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(ge){this._indeterminate=isNaN(ge),this._percent=function X(oe,ge,fe){return Math.min(Math.max(oe,ge),fe)}(ge,0,100),Be(this,ve,Vl).call(this)}setWidth(ge){if(!ge)return;const j=ge.parentNode.offsetWidth-ge.offsetWidth;j>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${j}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(Y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.StructTreeLayerBuilder=void 0;const p={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},f=/^H(\d+)$/;_.StructTreeLayerBuilder=class u{constructor({pdfPage:c}){this.pdfPage=c}render(c){return this._walk(c)}_setAttributes(c,a){void 0!==c.alt&&a.setAttribute("aria-label",c.alt),void 0!==c.id&&a.setAttribute("aria-owns",c.id),void 0!==c.lang&&a.setAttribute("lang",c.lang)}_walk(c){if(!c)return null;const a=document.createElement("span");if("role"in c){const{role:d}=c,g=d.match(f);g?(a.setAttribute("role","heading"),a.setAttribute("aria-level",g[1])):p[d]&&a.setAttribute("role",p[d])}if(this._setAttributes(c,a),c.children)if(1===c.children.length&&"id"in c.children[0])this._setAttributes(c.children[0],a);else for(const d of c.children)a.appendChild(this._walk(d));return a}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerBuilder=void 0;var f=p(3);_.TextLayerBuilder=class l{constructor({textLayerDiv:a,eventBus:d,pageIndex:g,viewport:h,highlighter:m=null,enhanceTextSelection:b=!1}){this.textLayerDiv=a,this.eventBus=d,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=g+1,this.viewport=h,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=m,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const a=document.createElement("div");a.className="endOfContent",this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(a=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const d=document.createDocumentFragment();this.textLayerRenderTask=(0,f.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:d,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:a,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(d),this._finishRendering(),this.highlighter?.enable()},function(g){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(a){this.cancel(),this.textContentStream=a}setTextContent(a){this.cancel(),this.textContent=a}_bindMouse(){const a=this.textLayerDiv;let d=null;a.addEventListener("mousedown",g=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(d&&(clearTimeout(d),d=null));const h=a.querySelector(".endOfContent");if(!h)return;let m=g.target!==a;if(m=m&&"none"!==window.getComputedStyle(h).getPropertyValue("-moz-user-select"),m){const b=a.getBoundingClientRect(),v=Math.max(0,(g.pageY-b.top)/b.height);h.style.top=(100*v).toFixed(2)+"%"}h.classList.add("active")}),a.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(d=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),d=null},300));const g=a.querySelector(".endOfContent");!g||(g.style.top="",g.classList.remove("active"))})}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayerBuilder=void 0;var f=p(3);_.XfaLayerBuilder=class u{constructor({pageDiv:c,pdfPage:a,annotationStorage:d=null,linkService:g,xfaHtml:h=null}){this.pageDiv=c,this.pdfPage=a,this.annotationStorage=d,this.linkService=g,this.xfaHtml=h,this.div=null,this._cancelled=!1}render(c,a="display"){if("print"===a){const d={viewport:c.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:a},g=document.createElement("div");this.pageDiv.appendChild(g),d.div=g;const h=f.XfaLayer.render(d);return Promise.resolve(h)}return this.pdfPage.getXfa().then(d=>{if(this._cancelled||!d)return{textDivs:[]};const g={viewport:c.clone({dontFlip:!0}),div:this.div,xfaHtml:d,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:a};return this.div?f.XfaLayer.update(g):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),g.div=this.div,f.XfaLayer.render(g))}).catch(d=>{console.error(d)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFViewer=_.PDFSinglePageViewer=void 0;var f=p(6),u=p(11);_.PDFViewer=class l extends u.BaseViewer{},_.PDFSinglePageViewer=class c extends u.BaseViewer{_resetView(){super._resetView(),this._scrollMode=f.ScrollMode.PAGE,this._spreadMode=f.SpreadMode.NONE}set scrollMode(d){}_updateScrollMode(){}set spreadMode(d){}_updateSpreadMode(){}}},(Y,_,p)=>{var U,q,Q,ir,le,ue,W,ce,pe,_e,B,F,zl,P,Jl,A,Ui,I,To,H,Wl,X,or,de,Gl,K,Ql,ye,Kl;Object.defineProperty(_,"__esModule",{value:!0}),_.PagesCountLimit=_.PDFPageViewBuffer=_.BaseViewer=void 0;var f=p(3),u=p(6),l=p(2),c=p(4),a=p(12),d=p(14),g=p(5),h=p(7),m=p(15),b=p(8),v=p(9);const M="enablePermissions",w={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};_.PagesCountLimit=w;class E{constructor(j){je(this,Q),je(this,U,new Set),je(this,q,0),lt(this,q,j)}push(j){const te=Ze(this,U);te.has(j)&&te.delete(j),te.add(j),te.size>Ze(this,q)&&Be(this,Q,ir).call(this)}resize(j,te=null){lt(this,q,j);const ie=Ze(this,U);if(te){const we=ie.size;let Se=1;for(const Te of ie)if(te.has(Te.id)&&(ie.delete(Te),ie.add(Te)),++Se>we)break}for(;ie.size>Ze(this,q);)Be(this,Q,ir).call(this)}has(j){return Ze(this,U).has(j)}[Symbol.iterator](){return Ze(this,U).keys()}}U=new WeakMap,q=new WeakMap,Q=new WeakSet,ir=function(){const j=Ze(this,U).keys().next().value;j?.destroy(),Ze(this,U).delete(j)},_.PDFPageViewBuffer=E;const ge=class{constructor(j){if(je(this,F),je(this,P),je(this,A),je(this,I),je(this,H),je(this,X),je(this,de),je(this,K),je(this,ye),je(this,le,null),je(this,ue,f.AnnotationMode.ENABLE_FORMS),je(this,W,null),je(this,ce,!1),je(this,pe,0),je(this,_e,null),je(this,B,null),this.constructor===ge)throw new Error("Cannot initialize BaseViewer.");const te="2.14.305";if(f.version!==te)throw new Error(`The API version "${f.version}" does not match the Viewer version "${te}".`);if(this.container=j.container,this.viewer=j.viewer||j.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=j.eventBus,this.linkService=j.linkService||new g.SimpleLinkService,this.downloadManager=j.downloadManager||null,this.findController=j.findController||null,this._scriptingManager=j.scriptingManager||null,this.removePageBorders=j.removePageBorders||!1,this.textLayerMode=j.textLayerMode??u.TextLayerMode.ENABLE,lt(this,ue,j.annotationMode??f.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=j.imageResourcesPath||"",this.enablePrintAutoRotate=j.enablePrintAutoRotate||!1,this.renderer=j.renderer||u.RendererType.CANVAS,this.useOnlyCssZoom=j.useOnlyCssZoom||!1,this.maxCanvasPixels=j.maxCanvasPixels,this.l10n=j.l10n||c.NullL10n,lt(this,ce,j.enablePermissions||!1),this.pageColors=j.pageColors||null,j.pageColors&&(!CSS.supports("color",j.pageColors.background)||!CSS.supports("color",j.pageColors.foreground))&&((j.pageColors.background||j.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!j.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=j.renderingQueue,this._doc=document.documentElement,this.scroll=(0,u.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=u.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(j){return this._pages[j]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(j){return j?.pdfPage})}get renderForms(){return Ze(this,ue)===f.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(j){if(!Number.isInteger(j))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(j,!0)||console.error(`currentPageNumber: "${j}" is not a valid page.`)}_setCurrentPageNumber(j,te=!1){if(this._currentPageNumber===j)return te&&Be(this,X,or).call(this),!0;if(!(0<j&&j<=this.pagesCount))return!1;const ie=this._currentPageNumber;return this._currentPageNumber=j,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:j,pageLabel:this._pageLabels?.[j-1]??null,previous:ie}),te&&Be(this,X,or).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(j){if(!this.pdfDocument)return;let te=0|j;if(this._pageLabels){const ie=this._pageLabels.indexOf(j);ie>=0&&(te=ie+1)}this._setCurrentPageNumber(te,!0)||console.error(`currentPageLabel: "${j}" is not a valid page.`)}get currentScale(){return this._currentScale!==u.UNKNOWN_SCALE?this._currentScale:u.DEFAULT_SCALE}set currentScale(j){if(isNaN(j))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(j,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(j){!this.pdfDocument||this._setScale(j,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(j){if(!(0,u.isValidRotation)(j))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((j%=360)<0&&(j+=360),this._pagesRotation===j))return;this._pagesRotation=j;const te=this._currentPageNumber,ie={rotation:j};for(const we of this._pages)we.update(ie);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:j,pageNumber:te}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(j){var te=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=j,!j)return;const ie=j.isPureXfa,we=j.numPages,Se=j.getPage(1),Te=j.getOptionalContentConfig(),De=Ze(this,ce)?j.getPermissions():Promise.resolve();if(we>w.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Oe=this._scrollMode=u.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Oe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:we})},()=>{}),this._onBeforeDraw=Oe=>{const He=this._pages[Oe.pageNumber-1];!He||Ze(this,le).push(He)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Oe=>{Oe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Oe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ze(this,B)&&(document.removeEventListener("visibilitychange",Ze(this,B)),lt(this,B,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Se,De]).then(([Oe,He])=>{if(j!==this.pdfDocument)return;this._firstPageCapability.resolve(Oe),this._optionalContentConfigPromise=Te,Be(this,F,zl).call(this,He);const Ie=this._scrollMode===u.ScrollMode.PAGE?null:this.viewer,et=this.currentScale,xe=Oe.getViewport({scale:et*f.PixelsPerInch.PDF_TO_CSS_UNITS}),ae=this.textLayerMode===u.TextLayerMode.DISABLE||ie?null:this,he=Ze(this,ue)!==f.AnnotationMode.DISABLE?this:null,ke=ie?this:null;for(let Le=1;Le<=we;++Le){const Fe=new a.PDFPageView({container:Ie,eventBus:this.eventBus,id:Le,scale:et,defaultViewport:xe.clone(),optionalContentConfigPromise:Te,renderingQueue:this.renderingQueue,textLayerFactory:ae,textLayerMode:this.textLayerMode,annotationLayerFactory:he,annotationMode:Ze(this,ue),xfaLayerFactory:ke,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Fe)}const Pe=this._pages[0];Pe&&(Pe.setPdfPage(Oe),this.linkService.cachePageRef(1,Oe.ref)),this._scrollMode===u.ScrollMode.PAGE?Be(this,A,Ui).call(this):this._spreadMode!==u.SpreadMode.NONE&&this._updateSpreadMode(),Be(this,P,Jl).call(this).then(C(function*(){if(te.findController&&te.findController.setDocument(j),te._scriptingManager&&te._scriptingManager.setDocument(j),j.loadingParams.disableAutoFetch||we>w.FORCE_LAZY_PAGE_INIT)return void te._pagesCapability.resolve();let Le=we-1;if(Le<=0)te._pagesCapability.resolve();else for(let Fe=2;Fe<=we;++Fe){const Je=j.getPage(Fe).then(Ge=>{const ct=te._pages[Fe-1];ct.pdfPage||ct.setPdfPage(Ge),te.linkService.cachePageRef(Fe,Ge.ref),0==--Le&&te._pagesCapability.resolve()},Ge=>{console.error(`Unable to get page ${Fe} to initialize viewer`,Ge),0==--Le&&te._pagesCapability.resolve()});Fe%w.PAUSE_EAGER_PAGE_INIT==0&&(yield Je)}})),this.eventBus.dispatch("pagesinit",{source:this}),j.getMetadata().then(({info:Le})=>{j===this.pdfDocument&&Le.Language&&(this.viewer.lang=Le.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Oe=>{console.error("Unable to initialize viewer",Oe),this._pagesCapability.reject(Oe)})}setPageLabels(j){if(this.pdfDocument){j?Array.isArray(j)&&this.pdfDocument.numPages===j.length?this._pageLabels=j:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let te=0,ie=this._pages.length;te<ie;te++)this._pages[te].setPageLabel(this._pageLabels?.[te]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=u.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,lt(this,le,new E(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,f.createPromiseCapability)(),this._onePageRenderedCapability=(0,f.createPromiseCapability)(),this._pagesCapability=(0,f.createPromiseCapability)(),this._scrollMode=u.ScrollMode.VERTICAL,this._previousScrollMode=u.ScrollMode.UNKNOWN,this._spreadMode=u.SpreadMode.NONE,lt(this,_e,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ze(this,B)&&(document.removeEventListener("visibilitychange",Ze(this,B)),lt(this,B,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(M),null!==Ze(this,W)&&(lt(this,ue,Ze(this,W)),lt(this,W,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(j,te,ie=!1,we=!1){if(this._currentScaleValue=te.toString(),Be(this,H,Wl).call(this,j))return void(we&&this.eventBus.dispatch("scalechanging",{source:this,scale:j,presetValue:te}));this._doc.style.setProperty("--zoom-factor",j);const Se={scale:j};for(const Te of this._pages)Te.update(Se);if(this._currentScale=j,!ie){let De,Te=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Te=this._location.pageNumber,De=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Te,destArray:De,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:j,presetValue:we?te:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL?2:1}_setScale(j,te=!1){let ie=parseFloat(j);if(ie>0)this._setScaleUpdatePages(ie,j,te,!1);else{const we=this._pages[this._currentPageNumber-1];if(!we)return;let Se=u.SCROLLBAR_PADDING,Te=u.VERTICAL_PADDING;this.isInPresentationMode?Se=Te=4:this.removePageBorders?Se=Te=0:this._scrollMode===u.ScrollMode.HORIZONTAL&&([Se,Te]=[Te,Se]);const De=(this.container.clientWidth-Se)/we.width*we.scale/this._pageWidthScaleFactor,Oe=(this.container.clientHeight-Te)/we.height*we.scale;switch(j){case"page-actual":ie=1;break;case"page-width":ie=De;break;case"page-height":ie=Oe;break;case"page-fit":ie=Math.min(De,Oe);break;case"auto":const He=(0,u.isPortraitOrientation)(we)?De:Math.min(Oe,De);ie=Math.min(u.MAX_AUTO_SCALE,He);break;default:return void console.error(`_setScale: "${j}" is an unknown zoom value.`)}this._setScaleUpdatePages(ie,j,te,!0)}}pageLabelToPageNumber(j){if(!this._pageLabels)return null;const te=this._pageLabels.indexOf(j);return te<0?null:te+1}scrollPageIntoView({pageNumber:j,destArray:te=null,allowNegativeOffset:ie=!1,ignoreDestinationZoom:we=!1}){if(!this.pdfDocument)return;const Se=Number.isInteger(j)&&this._pages[j-1];if(!Se)return void console.error(`scrollPageIntoView: "${j}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!te)return void this._setCurrentPageNumber(j,!0);let Ie,et,Te=0,De=0,Oe=0,He=0;const xe=Se.rotation%180!=0,ae=(xe?Se.height:Se.width)/Se.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS,he=(xe?Se.width:Se.height)/Se.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS;let ke=0;switch(te[1].name){case"XYZ":Te=te[2],De=te[3],ke=te[4],Te=null!==Te?Te:0,De=null!==De?De:he;break;case"Fit":case"FitB":ke="page-fit";break;case"FitH":case"FitBH":De=te[2],ke="page-width",null===De&&this._location?(Te=this._location.left,De=this._location.top):("number"!=typeof De||De<0)&&(De=he);break;case"FitV":case"FitBV":Te=te[2],Oe=ae,He=he,ke="page-height";break;case"FitR":Te=te[2],De=te[3],Oe=te[4]-Te,He=te[5]-De,Ie=(this.container.clientWidth-(this.removePageBorders?0:u.SCROLLBAR_PADDING))/Oe/f.PixelsPerInch.PDF_TO_CSS_UNITS,et=(this.container.clientHeight-(this.removePageBorders?0:u.VERTICAL_PADDING))/He/f.PixelsPerInch.PDF_TO_CSS_UNITS,ke=Math.min(Math.abs(Ie),Math.abs(et));break;default:return void console.error(`scrollPageIntoView: "${te[1].name}" is not a valid destination type.`)}if(we||(ke&&ke!==this._currentScale?this.currentScaleValue=ke:this._currentScale===u.UNKNOWN_SCALE&&(this.currentScaleValue=u.DEFAULT_SCALE_VALUE)),"page-fit"===ke&&!te[4])return void Be(this,I,To).call(this,Se);const Pe=[Se.viewport.convertToViewportPoint(Te,De),Se.viewport.convertToViewportPoint(Te+Oe,De+He)];let Le=Math.min(Pe[0][0],Pe[1][0]),Fe=Math.min(Pe[0][1],Pe[1][1]);ie||(Le=Math.max(Le,0),Fe=Math.max(Fe,0)),Be(this,I,To).call(this,Se,{left:Le,top:Fe})}_updateLocation(j){const te=this._currentScale,ie=this._currentScaleValue,we=parseFloat(ie)===te?Math.round(1e4*te)/100:ie,Se=j.id,De=this.container,Oe=this._pages[Se-1].getPagePoint(De.scrollLeft-j.x,De.scrollTop-j.y),He=Math.round(Oe[0]),Ie=Math.round(Oe[1]);let et=`#page=${Se}`;this.isInPresentationMode||(et+=`&zoom=${we},${He},${Ie}`),this._location={pageNumber:Se,scale:we,top:Ie,left:He,rotation:this._pagesRotation,pdfOpenParams:et}}update(){const j=this._getVisiblePages(),te=j.views,ie=te.length;if(0===ie)return;const we=Math.max(10,2*ie+1);Ze(this,le).resize(we,j.ids),this.renderingQueue.renderHighestPriority(j);const Se=this._spreadMode===u.SpreadMode.NONE&&(this._scrollMode===u.ScrollMode.PAGE||this._scrollMode===u.ScrollMode.VERTICAL),Te=this._currentPageNumber;let De=!1;for(const Oe of te){if(Oe.percent<100)break;if(Oe.id===Te&&Se){De=!0;break}}this._setCurrentPageNumber(De?Te:te[0].id),this._updateLocation(j.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(j){return this.container.contains(j)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===u.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===u.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const j=this._scrollMode===u.ScrollMode.PAGE?Ze(this,_e).pages:this._pages,te=this._scrollMode===u.ScrollMode.HORIZONTAL;return(0,u.getVisibleElements)({scrollEl:this.container,views:j,sortByVisibility:!0,horizontal:te,rtl:te&&this._isContainerRtl})}isPageVisible(j){return!!this.pdfDocument&&(Number.isInteger(j)&&j>0&&j<=this.pagesCount?this._getVisiblePages().ids.has(j):(console.error(`isPageVisible: "${j}" is not a valid page.`),!1))}isPageCached(j){if(!this.pdfDocument)return!1;if(!(Number.isInteger(j)&&j>0&&j<=this.pagesCount))return console.error(`isPageCached: "${j}" is not a valid page.`),!1;const te=this._pages[j-1];return Ze(this,le).has(te)}cleanup(){for(const j of this._pages)j.renderingState!==u.RenderingStates.FINISHED&&j.reset()}_cancelRendering(){for(const j of this._pages)j.cancelRendering()}forceRendering(j){const te=j||this._getVisiblePages(),ie=Be(this,K,Ql).call(this,te),Se=this.renderingQueue.getHighestPriority(te,this._pages,ie,this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL);return Be(this,ye,Kl).call(this,te.ids),!!Se&&(Be(this,de,Gl).call(this,Se).then(()=>{this.renderingQueue.renderView(Se)}),!0)}createTextLayerBuilder(j,te,ie,we=!1,Se,Te){return new b.TextLayerBuilder({textLayerDiv:j,eventBus:Se,pageIndex:te,viewport:ie,enhanceTextSelection:!this.isInPresentationMode&&we,highlighter:Te})}createTextHighlighter(j,te){return new m.TextHighlighter({eventBus:te,pageIndex:j,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(j,te,ie=null,we="",Se=!0,Te=c.NullL10n,De=null,Oe=null,He=null,Ie=null,et=null){return new l.AnnotationLayerBuilder({pageDiv:j,pdfPage:te,annotationStorage:ie||this.pdfDocument?.annotationStorage,imageResourcesPath:we,renderForms:Se,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Te,enableScripting:De??this.enableScripting,hasJSActionsPromise:Oe||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Ie||this.pdfDocument?.getFieldObjects(),mouseState:He||this._scriptingManager?.mouseState,annotationCanvasMap:et})}createXfaLayerBuilder(j,te,ie=null){return new v.XfaLayerBuilder({pageDiv:j,pdfPage:te,annotationStorage:ie||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(j){return new h.StructTreeLayerBuilder({pdfPage:j})}get hasEqualPageSizes(){const j=this._pages[0];for(let te=1,ie=this._pages.length;te<ie;++te){const we=this._pages[te];if(we.width!==j.width||we.height!==j.height)return!1}return!0}getPagesOverview(){return this._pages.map(j=>{const te=j.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,u.isPortraitOrientation)(te)?{width:te.width,height:te.height,rotation:te.rotation}:{width:te.height,height:te.width,rotation:(te.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(j){if(!(j instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${j}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=j;const te={optionalContentConfigPromise:j};for(const ie of this._pages)ie.update(te);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:j})}get scrollMode(){return this._scrollMode}set scrollMode(j){if(this._scrollMode!==j){if(!(0,u.isValidScrollMode)(j))throw new Error(`Invalid scroll mode: ${j}`);this.pagesCount>w.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=j,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:j}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(j=null){const te=this._scrollMode,ie=this.viewer;ie.classList.toggle("scrollHorizontal",te===u.ScrollMode.HORIZONTAL),ie.classList.toggle("scrollWrapped",te===u.ScrollMode.WRAPPED),this.pdfDocument&&j&&(te===u.ScrollMode.PAGE?Be(this,A,Ui).call(this):this._previousScrollMode===u.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(j,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(j){if(this._spreadMode!==j){if(!(0,u.isValidSpreadMode)(j))throw new Error(`Invalid spread mode: ${j}`);this._spreadMode=j,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:j}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(j=null){if(!this.pdfDocument)return;const te=this.viewer,ie=this._pages;if(this._scrollMode===u.ScrollMode.PAGE)Be(this,A,Ui).call(this);else if(te.textContent="",this._spreadMode===u.SpreadMode.NONE)for(const we of this._pages)te.appendChild(we.div);else{const we=this._spreadMode-1;let Se=null;for(let Te=0,De=ie.length;Te<De;++Te)null===Se?(Se=document.createElement("div"),Se.className="spread",te.appendChild(Se)):Te%2===we&&(Se=Se.cloneNode(!1),te.appendChild(Se)),Se.appendChild(ie[Te].div)}!j||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(j,!0),this.update())}_getPageAdvance(j,te=!1){switch(this._scrollMode){case u.ScrollMode.WRAPPED:{const{views:ie}=this._getVisiblePages(),we=new Map;for(const{id:Se,y:Te,percent:De,widthPercent:Oe}of ie){if(0===De||Oe<100)continue;let He=we.get(Te);He||we.set(Te,He||(He=[])),He.push(Se)}for(const Se of we.values()){const Te=Se.indexOf(j);if(-1===Te)continue;const De=Se.length;if(1===De)break;if(te)for(let Oe=Te-1,He=0;Oe>=He;Oe--){const et=Se[Oe+1]-1;if(Se[Oe]<et)return j-et}else for(let Oe=Te+1,He=De;Oe<He;Oe++){const et=Se[Oe-1]+1;if(Se[Oe]>et)return et-j}if(te){const Oe=Se[0];if(Oe<j)return j-Oe+1}else{const Oe=Se[De-1];if(Oe>j)return Oe-j+1}break}break}case u.ScrollMode.HORIZONTAL:break;case u.ScrollMode.PAGE:case u.ScrollMode.VERTICAL:{if(this._spreadMode===u.SpreadMode.NONE)break;const ie=this._spreadMode-1;if(te&&j%2!==ie)break;if(!te&&j%2===ie)break;const{views:we}=this._getVisiblePages(),Se=te?j-1:j+1;for(const{id:Te,percent:De,widthPercent:Oe}of we)if(Te===Se){if(De>0&&100===Oe)return 2;break}break}}return 1}nextPage(){const j=this._currentPageNumber,te=this.pagesCount;if(j>=te)return!1;const ie=this._getPageAdvance(j,!1)||1;return this.currentPageNumber=Math.min(j+ie,te),!0}previousPage(){const j=this._currentPageNumber;if(j<=1)return!1;const te=this._getPageAdvance(j,!0)||1;return this.currentPageNumber=Math.max(j-te,1),!0}increaseScale(j=1){let te=this._currentScale;do{te=(te*u.DEFAULT_SCALE_DELTA).toFixed(2),te=Math.ceil(10*te)/10,te=Math.min(u.MAX_SCALE,te)}while(--j>0&&te<u.MAX_SCALE);this.currentScaleValue=te}decreaseScale(j=1){let te=this._currentScale;do{te=(te/u.DEFAULT_SCALE_DELTA).toFixed(2),te=Math.floor(10*te)/10,te=Math.max(u.MIN_SCALE,te)}while(--j>0&&te>u.MIN_SCALE);this.currentScaleValue=te}updateContainerHeightCss(){const j=this.container.clientHeight;j!==Ze(this,pe)&&(lt(this,pe,j),this._doc.style.setProperty("--viewer-container-height",`${j}px`))}};let Z=ge;le=new WeakMap,ue=new WeakMap,W=new WeakMap,ce=new WeakMap,pe=new WeakMap,_e=new WeakMap,B=new WeakMap,F=new WeakSet,zl=function(j){!j||(j.includes(f.PermissionFlag.COPY)||this.viewer.classList.add(M),!j.includes(f.PermissionFlag.MODIFY_ANNOTATIONS)&&!j.includes(f.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ze(this,ue)===f.AnnotationMode.ENABLE_FORMS&&(lt(this,W,Ze(this,ue)),lt(this,ue,f.AnnotationMode.ENABLE)))},P=new WeakSet,Jl=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const j=new Promise(te=>{lt(this,B,()=>{"hidden"===document.visibilityState&&(te(),document.removeEventListener("visibilitychange",Ze(this,B)),lt(this,B,null))}),document.addEventListener("visibilitychange",Ze(this,B))});return Promise.race([this._onePageRenderedCapability.promise,j])},A=new WeakSet,Ui=function(){if(this._scrollMode!==u.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const j=this._currentPageNumber,te=Ze(this,_e),ie=this.viewer;if(ie.textContent="",te.pages.length=0,this._spreadMode!==u.SpreadMode.NONE||this.isInPresentationMode){const we=new Set,Se=this._spreadMode-1;-1===Se?we.add(j-1):j%2!==Se?(we.add(j-1),we.add(j)):(we.add(j-2),we.add(j-1));const Te=document.createElement("div");if(Te.className="spread",this.isInPresentationMode){const De=document.createElement("div");De.className="dummyPage",Te.appendChild(De)}for(const De of we){const Oe=this._pages[De];!Oe||(Te.appendChild(Oe.div),te.pages.push(Oe))}ie.appendChild(Te)}else{const we=this._pages[j-1];ie.appendChild(we.div),te.pages.push(we)}te.scrollDown=j>=te.previousPageNumber,te.previousPageNumber=j},I=new WeakSet,To=function(j,te=null){const{div:ie,id:we}=j;if(this._scrollMode===u.ScrollMode.PAGE&&(this._setCurrentPageNumber(we),Be(this,A,Ui).call(this),this.update()),!te&&!this.isInPresentationMode){const Se=ie.offsetLeft+ie.clientLeft,Te=Se+ie.clientWidth,{scrollLeft:De,clientWidth:Oe}=this.container;(this._scrollMode===u.ScrollMode.HORIZONTAL||Se<De||Te>De+Oe)&&(te={left:0,top:0})}(0,u.scrollIntoView)(ie,te)},H=new WeakSet,Wl=function(j){return j===this._currentScale||Math.abs(j-this._currentScale)<1e-15},X=new WeakSet,or=function(){const j=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Be(this,I,To).call(this,j)},de=new WeakSet,Gl=function(j){var te=this;return C(function*(){if(j.pdfPage)return j.pdfPage;try{const ie=yield te.pdfDocument.getPage(j.id);return j.pdfPage||j.setPdfPage(ie),te.linkService._cachedPageNumber?.(ie.ref)||te.linkService.cachePageRef(j.id,ie.ref),ie}catch(ie){return console.error("Unable to get page for page view",ie),null}})()},K=new WeakSet,Ql=function(j){if(1===j.first?.id)return!0;if(j.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case u.ScrollMode.PAGE:return Ze(this,_e).scrollDown;case u.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},ye=new WeakSet,Kl=function(j){for(const te of j)this._pages[te-1]?.toggleLoadingIconSpinner(!0);for(const te of Ze(this,le))j.has(te.id)||te.toggleLoadingIconSpinner(!1)},_.BaseViewer=Z},(Y,_,p)=>{var g;Object.defineProperty(_,"__esModule",{value:!0}),_.PDFPageView=void 0;var f=p(3),u=p(6),l=p(13),c=p(4);const a=l.compatibilityParams.maxCanvasPixels||16777216;g=new WeakMap,_.PDFPageView=class d{constructor(m){je(this,g,f.AnnotationMode.ENABLE_FORMS);const b=m.container,v=m.defaultViewport;this.id=m.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=m.scale||u.DEFAULT_SCALE,this.viewport=v,this.pdfPageRotate=v.rotation,this._optionalContentConfigPromise=m.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=m.textLayerMode??u.TextLayerMode.ENABLE,lt(this,g,m.annotationMode??f.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=m.imageResourcesPath||"",this.useOnlyCssZoom=m.useOnlyCssZoom||!1,this.maxCanvasPixels=m.maxCanvasPixels||a,this.pageColors=m.pageColors||null,this.eventBus=m.eventBus,this.renderingQueue=m.renderingQueue,this.textLayerFactory=m.textLayerFactory,this.annotationLayerFactory=m.annotationLayerFactory,this.xfaLayerFactory=m.xfaLayerFactory,this.textHighlighter=m.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=m.structTreeLayerFactory,this.renderer=m.renderer||u.RendererType.CANVAS,this.l10n=m.l10n||c.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const y=document.createElement("div");y.className="page",y.style.width=Math.floor(this.viewport.width)+"px",y.style.height=Math.floor(this.viewport.height)+"px",y.setAttribute("data-page-number",this.id),y.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(M=>{y.setAttribute("aria-label",M)}),this.div=y,b?.appendChild(y)}setPdfPage(m){this.pdfPage=m,this.pdfPageRotate=m.rotate,this.viewport=m.getViewport({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var m=this;return C(function*(){let b=null;try{yield m.annotationLayer.render(m.viewport,"display")}catch(v){b=v}finally{m.eventBus.dispatch("annotationlayerrendered",{source:m,pageNumber:m.id,error:b})}})()}_renderXfaLayer(){var m=this;return C(function*(){let b=null;try{const v=yield m.xfaLayer.render(m.viewport,"display");m.textHighlighter&&m._buildXfaTextContentItems(v.textDivs)}catch(v){b=v}finally{m.eventBus.dispatch("xfalayerrendered",{source:m,pageNumber:m.id,error:b})}})()}_buildXfaTextContentItems(m){var b=this;return C(function*(){const v=yield b.pdfPage.getTextContent(),y=[];for(const M of v.items)y.push(M.str);b.textHighlighter.setTextMapping(m,y),b.textHighlighter.enable()})()}_resetZoomLayer(m=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,m&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:m=!1,keepAnnotationLayer:b=!1,keepXfaLayer:v=!1}={}){this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:v}),this.renderingState=u.RenderingStates.INITIAL;const y=this.div;y.style.width=Math.floor(this.viewport.width)+"px",y.style.height=Math.floor(this.viewport.height)+"px";const M=y.childNodes,w=m&&this.zoomLayer||null,E=b&&this.annotationLayer?.div||null,Z=v&&this.xfaLayer?.div||null;for(let U=M.length-1;U>=0;U--){const q=M[U];switch(q){case w:case E:case Z:continue}q.remove()}y.removeAttribute("data-loaded"),E&&this.annotationLayer.hide(),Z&&this.xfaLayer.hide(),w||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(U=>{this.loadingIconDiv?.setAttribute("aria-label",U)}),y.appendChild(this.loadingIconDiv)}update({scale:m=0,rotation:b=null,optionalContentConfigPromise:v=null}){if(this.scale=m||this.scale,"number"==typeof b&&(this.rotation=b),v instanceof Promise&&(this._optionalContentConfigPromise=v),this.viewport=this.viewport.clone({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:w}=document.documentElement;w.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let M=!1;if(this.canvas&&this.maxCanvasPixels>0){const w=this.outputScale;(Math.floor(this.viewport.width)*w.sx|0)*(Math.floor(this.viewport.height)*w.sy|0)>this.maxCanvasPixels&&(M=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&M)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:m=!1,keepXfaLayer:b=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!m||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:m,redrawAnnotationLayer:b=!1,redrawXfaLayer:v=!1}){const y=this.viewport.width,M=this.viewport.height,w=this.div;m.style.width=m.parentNode.style.width=w.style.width=Math.floor(y)+"px",m.style.height=m.parentNode.style.height=w.style.height=Math.floor(M)+"px";const E=this.viewport.rotation-this.paintedViewportMap.get(m).rotation,Z=Math.abs(E);let U=1,q=1;if((90===Z||270===Z)&&(U=M/y,q=y/M),m.style.transform=`rotate(${E}deg) scale(${U}, ${q})`,this.textLayer){const Q=this.textLayer.viewport,le=Math.abs(this.viewport.rotation-Q.rotation);let ue=y/Q.width;(90===le||270===le)&&(ue=y/Q.height);const W=this.textLayer.textLayerDiv;let ce,pe;switch(le){case 0:ce=pe=0;break;case 90:ce=0,pe="-"+W.style.height;break;case 180:ce="-"+W.style.width,pe="-"+W.style.height;break;case 270:ce="-"+W.style.width,pe=0;break;default:console.error("Bad rotation value.")}W.style.transform=`rotate(${le}deg) scale(${ue}) translate(${ce}, ${pe})`,W.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),v&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(m,b){return this.viewport.convertToPdfPoint(m,b)}toggleLoadingIconSpinner(m=!1){this.loadingIconDiv?.classList.toggle("notVisible",!m)}draw(){var m=this;this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:v}=this;if(!v)return this.renderingState=u.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=u.RenderingStates.RUNNING;const y=document.createElement("div");y.style.width=b.style.width,y.style.height=b.style.height,y.classList.add("canvasWrapper"),this.annotationLayer?.div?b.insertBefore(y,this.annotationLayer.div):b.appendChild(y);let M=null;if(this.textLayerMode!==u.TextLayerMode.DISABLE&&this.textLayerFactory){const q=document.createElement("div");q.className="textLayer",q.style.width=y.style.width,q.style.height=y.style.height,this.annotationLayer?.div?b.insertBefore(q,this.annotationLayer.div):b.appendChild(q),M=this.textLayerFactory.createTextLayerBuilder(q,this.id-1,this.viewport,this.textLayerMode===u.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=M,Ze(this,g)!==f.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,v,null,this.imageResourcesPath,Ze(this,g)===f.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&b.appendChild(this.xfaLayer.div);let w=null;this.renderingQueue&&(w=q=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=u.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=u.RenderingStates.RUNNING,q()});q()});const E=function(){var q=C(function*(Q=null){if(Z===m.paintTask&&(m.paintTask=null),Q instanceof f.RenderingCancelledException)m._renderError=null;else if(m._renderError=Q,m.renderingState=u.RenderingStates.FINISHED,m.loadingIconDiv&&(m.loadingIconDiv.remove(),delete m.loadingIconDiv),m._resetZoomLayer(!0),m.eventBus.dispatch("pagerendered",{source:m,pageNumber:m.id,cssTransform:!1,timestamp:performance.now(),error:m._renderError}),Q)throw Q});return function(){return q.apply(this,arguments)}}(),Z=this.renderer===u.RendererType.SVG?this.paintOnSvg(y):this.paintOnCanvas(y);Z.onRenderContinue=w,this.paintTask=Z;const U=Z.promise.then(()=>E(null).then(()=>{if(M){const q=v.streamTextContent({includeMarkedContent:!0});M.setTextContentStream(q),M.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(q){return E(q)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,v,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=q=>{q.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Q=>{if(!Q||!this.canvas)return;const re=this.structTreeLayer.render(Q);re.classList.add("structTree"),this.canvas.appendChild(re)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(v)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),U}paintOnCanvas(m){const b=(0,f.createPromiseCapability)(),v={promise:b.promise,onRenderContinue(W){W()},cancel(){ue.cancel()}},y=this.viewport,M=document.createElement("canvas");M.hidden=!0;let w=!0;const E=function(){w&&(M.hidden=!1,w=!1)};m.appendChild(M),this.canvas=M;const Z=M.getContext("2d",{alpha:!1}),U=this.outputScale=new u.OutputScale;if(this.useOnlyCssZoom){const W=y.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});U.sx*=W.width/y.width,U.sy*=W.height/y.height}if(this.maxCanvasPixels>0){const ce=Math.sqrt(this.maxCanvasPixels/(y.width*y.height));U.sx>ce||U.sy>ce?(U.sx=ce,U.sy=ce,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const q=(0,u.approximateFraction)(U.sx),Q=(0,u.approximateFraction)(U.sy);M.width=(0,u.roundToDivide)(y.width*U.sx,q[0]),M.height=(0,u.roundToDivide)(y.height*U.sy,Q[0]),M.style.width=(0,u.roundToDivide)(y.width,q[1])+"px",M.style.height=(0,u.roundToDivide)(y.height,Q[1])+"px",this.paintedViewportMap.set(M,y);const le={canvasContext:Z,transform:U.scaled?[U.sx,0,0,U.sy,0,0]:null,viewport:this.viewport,annotationMode:Ze(this,g),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ue=this.pdfPage.render(le);return ue.onContinue=function(W){E(),v.onRenderContinue?v.onRenderContinue(W):W()},ue.promise.then(function(){E(),b.resolve()},function(W){E(),b.reject(W)}),v}paintOnSvg(m){let b=!1;const v=()=>{if(b)throw new f.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},y=this.pdfPage,M=this.viewport.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:y.getOperatorList({annotationMode:Ze(this,g)}).then(E=>(v(),new f.SVGGraphics(y.commonObjs,y.objs).getSVG(E,M).then(U=>{v(),this.svg=U,this.paintedViewportMap.set(U,M),U.style.width=m.style.width,U.style.height=m.style.height,this.renderingState=u.RenderingStates.FINISHED,m.appendChild(U)}))),onRenderContinue(E){E()},cancel(){b=!0}}}setPageLabel(m){this.pageLabel="string"==typeof m?m:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(Y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.compatibilityParams=_.OptionKind=_.AppOptions=void 0;const p=Object.create(null);_.compatibilityParams=p;{const a=navigator.userAgent||"",d=navigator.platform||"",g=navigator.maxTouchPoints||1,h=/Android/.test(a);(/\b(iPad|iPhone|iPod)(?=;)/.test(a)||"MacIntel"===d&&g>1||h)&&(p.maxCanvasPixels=5242880)}const f={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};_.OptionKind=f;const u={annotationMode:{value:2,kind:f.VIEWER+f.PREFERENCE},cursorToolOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:f.VIEWER},defaultZoomValue:{value:"",kind:f.VIEWER+f.PREFERENCE},disableHistory:{value:!1,kind:f.VIEWER},disablePageLabels:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePermissions:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:f.VIEWER+f.PREFERENCE},enableScripting:{value:!0,kind:f.VIEWER+f.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:f.VIEWER},externalLinkTarget:{value:0,kind:f.VIEWER+f.PREFERENCE},historyUpdateUrl:{value:!1,kind:f.VIEWER+f.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},imageResourcesPath:{value:"./images/",kind:f.VIEWER},maxCanvasPixels:{value:16777216,compatibility:p.maxCanvasPixels,kind:f.VIEWER},pageColorsBackground:{value:"Canvas",kind:f.VIEWER+f.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:f.VIEWER+f.PREFERENCE},pdfBugEnabled:{value:!1,kind:f.VIEWER+f.PREFERENCE},printResolution:{value:150,kind:f.VIEWER},renderer:{value:"canvas",kind:f.VIEWER},sidebarViewOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},scrollModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},spreadModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},textLayerMode:{value:1,kind:f.VIEWER+f.PREFERENCE},useOnlyCssZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},viewerCssTheme:{value:0,kind:f.VIEWER+f.PREFERENCE},viewOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},cMapPacked:{value:!0,kind:f.API},cMapUrl:{value:"../web/cmaps/",kind:f.API},disableAutoFetch:{value:!1,kind:f.API+f.PREFERENCE},disableFontFace:{value:!1,kind:f.API+f.PREFERENCE},disableRange:{value:!1,kind:f.API+f.PREFERENCE},disableStream:{value:!1,kind:f.API+f.PREFERENCE},docBaseUrl:{value:"",kind:f.API},enableXfa:{value:!0,kind:f.API+f.PREFERENCE},fontExtraProperties:{value:!1,kind:f.API},isEvalSupported:{value:!0,kind:f.API},maxImageSize:{value:-1,kind:f.API},pdfBug:{value:!1,kind:f.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:f.API},verbosity:{value:1,kind:f.API},workerPort:{value:null,kind:f.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:f.WORKER}};u.disablePreferences={value:!1,kind:f.VIEWER},u.locale={value:navigator.language||"en-US",kind:f.VIEWER},u.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:f.VIEWER},u.renderer.kind+=f.PREFERENCE;const l=Object.create(null);_.AppOptions=class c{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(d){const g=l[d];if(void 0!==g)return g;const h=u[d];return void 0!==h?h.compatibility??h.value:void 0}static getAll(d=null){const g=Object.create(null);for(const h in u){const m=u[h];if(d){if(0==(d&m.kind))continue;if(d===f.PREFERENCE){const v=m.value,y=typeof v;if("boolean"===y||"string"===y||"number"===y&&Number.isInteger(v)){g[h]=v;continue}throw new Error(`Invalid type for preference: ${h}`)}}const b=l[h];g[h]=void 0!==b?b:m.compatibility??m.value}return g}static set(d,g){l[d]=g}static setAll(d){for(const g in d)l[g]=d[g]}static remove(d){delete l[d]}static _hasUserOptions(){return Object.keys(l).length>0}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFRenderingQueue=void 0;var f=p(3),u=p(6);_.PDFRenderingQueue=class c{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(d){this.pdfViewer=d}setThumbnailViewer(d){this.pdfThumbnailViewer=d}isHighestPriority(d){return this.highestPriorityPage===d.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(d){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(d)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(d,g,h,m=!1){const b=d.views,v=b.length;if(0===v)return null;for(let Z=0;Z<v;Z++){const U=b[Z].view;if(!this.isViewFinished(U))return U}const y=d.first.id,M=d.last.id;if(M-y+1>v){const Z=d.ids;for(let U=1,q=M-y;U<q;U++){const Q=h?y+U:M-U;if(Z.has(Q))continue;const re=g[Q-1];if(!this.isViewFinished(re))return re}}let w=h?M:y-2,E=g[w];return E&&!this.isViewFinished(E)||m&&(w+=h?1:-1,E=g[w],E&&!this.isViewFinished(E))?E:null}isViewFinished(d){return d.renderingState===u.RenderingStates.FINISHED}renderView(d){switch(d.renderingState){case u.RenderingStates.FINISHED:return!1;case u.RenderingStates.PAUSED:this.highestPriorityPage=d.renderingId,d.resume();break;case u.RenderingStates.RUNNING:this.highestPriorityPage=d.renderingId;break;case u.RenderingStates.INITIAL:this.highestPriorityPage=d.renderingId,d.draw().finally(()=>{this.renderHighestPriority()}).catch(g=>{g instanceof f.RenderingCancelledException||console.error(`renderView: "${g}"`)})}return!0}}},(Y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextHighlighter=void 0,_.TextHighlighter=class p{constructor({findController:u,eventBus:l,pageIndex:c}){this.findController=u,this.matches=[],this.eventBus=l,this.pageIdx=c,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(u,l){this.textDivs=u,this.textContentItemsStr=l}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=u=>{(u.pageIndex===this.pageIdx||-1===u.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(u,l){if(!u)return[];const{textContentItemsStr:c}=this;let a=0,d=0;const g=c.length-1,h=[];for(let m=0,b=u.length;m<b;m++){let v=u[m];for(;a!==g&&v>=d+c[a].length;)d+=c[a].length,a++;a===c.length&&console.error("Could not find a matching mapping");const y={begin:{divIdx:a,offset:v-d}};for(v+=l[m];a!==g&&v>d+c[a].length;)d+=c[a].length,a++;y.end={divIdx:a,offset:v-d},h.push(y)}return h}_renderMatches(u){if(0===u.length)return;const{findController:l,pageIdx:c}=this,{textContentItemsStr:a,textDivs:d}=this,g=c===l.selected.pageIdx,h=l.selected.matchIdx;let b=null;function y(Z,U){const q=Z.divIdx;return d[q].textContent="",M(q,0,Z.offset,U)}function M(Z,U,q,Q){let re=d[Z];if(re.nodeType===Node.TEXT_NODE){const W=document.createElement("span");re.parentNode.insertBefore(W,re),W.appendChild(re),d[Z]=W,re=W}const le=a[Z].substring(U,q),ue=document.createTextNode(le);if(Q){const W=document.createElement("span");return W.className=`${Q} appended`,W.appendChild(ue),re.appendChild(W),Q.includes("selected")?W.offsetLeft:0}return re.appendChild(ue),0}let w=h,E=w+1;if(l.state.highlightAll)w=0,E=u.length;else if(!g)return;for(let Z=w;Z<E;Z++){const U=u[Z],q=U.begin,Q=U.end,re=g&&Z===h,le=re?" selected":"";let ue=0;if(b&&q.divIdx===b.divIdx?M(b.divIdx,b.offset,q.offset):(null!==b&&M(b.divIdx,b.offset,undefined),y(q)),q.divIdx===Q.divIdx)ue=M(q.divIdx,q.offset,Q.offset,"highlight"+le);else{ue=M(q.divIdx,q.offset,undefined,"highlight begin"+le);for(let W=q.divIdx+1,ce=Q.divIdx;W<ce;W++)d[W].className="highlight middle"+le;y(Q,"highlight end"+le)}b=Q,re&&l.scrollMatchIntoView({element:d[q.divIdx],selectedLeft:ue,pageIndex:c,matchIndex:h})}b&&M(b.divIdx,b.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:u,matches:l,pageIdx:c}=this,{textContentItemsStr:a,textDivs:d}=this;let g=-1;for(let b=0,v=l.length;b<v;b++){const y=l[b];for(let w=Math.max(g,y.begin.divIdx),E=y.end.divIdx;w<=E;w++){const Z=d[w];Z.textContent=a[w],Z.className=""}g=y.end.divIdx+1}u?.highlightMatches&&(this.matches=this._convertMatches(u.pageMatches[c]||null,u.pageMatchesLength[c]||null),this._renderMatches(this.matches))}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DownloadManager=void 0;var f=p(3);function u(c,a){const d=document.createElement("a");if(!d.click)throw new Error('DownloadManager: "a.click()" is not supported.');d.href=c,d.target="_parent","download"in d&&(d.download=a),(document.body||document.documentElement).appendChild(d),d.click(),d.remove()}_.DownloadManager=class l{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(a,d){(0,f.createValidAbsoluteUrl)(a,"http://example.com")?u(a+"#pdfjs.action=download",d):console.error(`downloadUrl - not a valid URL: ${a}`)}downloadData(a,d,g){u(URL.createObjectURL(new Blob([a],{type:g})),d)}openOrDownloadData(a,d,g){const h=(0,f.isPdfFile)(g),m=h?"application/pdf":"";if(h){let v,b=this._openBlobUrls.get(a);b||(b=URL.createObjectURL(new Blob([d],{type:m})),this._openBlobUrls.set(a,b)),v="?file="+encodeURIComponent(b+"#"+g);try{return window.open(v),!0}catch(y){console.error(`openOrDownloadData: ${y}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(a)}}return this.downloadData(d,g,m),!1}download(a,d,g,h="download"){u(URL.createObjectURL(a),g)}}},(Y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WaitOnType=_.EventBus=_.AutomationEventBus=void 0,_.waitOnEventOrTimeout=function f({target:c,name:a,delay:d=0}){return new Promise(function(g,h){if("object"!=typeof c||!a||"string"!=typeof a||!(Number.isInteger(d)&&d>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function m(M){c instanceof u?c._off(a,b):c.removeEventListener(a,b),y&&clearTimeout(y),g(M)}const b=m.bind(null,p.EVENT);c instanceof u?c._on(a,b):c.addEventListener(a,b);const v=m.bind(null,p.TIMEOUT),y=setTimeout(v,d)})};const p={EVENT:"event",TIMEOUT:"timeout"};_.WaitOnType=p;class u{constructor(){this._listeners=Object.create(null)}on(a,d,g=null){this._on(a,d,{external:!0,once:g?.once})}off(a,d,g=null){this._off(a,d,{external:!0,once:g?.once})}dispatch(a,d){const g=this._listeners[a];if(!g||0===g.length)return;let h;for(const{listener:m,external:b,once:v}of g.slice(0))v&&this._off(a,m),b?(h||(h=[])).push(m):m(d);if(h){for(const m of h)m(d);h=null}}_on(a,d,g=null){var m;((m=this._listeners)[a]||(m[a]=[])).push({listener:d,external:!0===g?.external,once:!0===g?.once})}_off(a,d,g=null){const h=this._listeners[a];if(h)for(let m=0,b=h.length;m<b;m++)if(h[m].listener===d)return void h.splice(m,1)}}_.EventBus=u,_.AutomationEventBus=class l extends u{dispatch(a,d){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericL10n=void 0,p(19);var f=p(4);const u=document.webL10n;_.GenericL10n=class l{constructor(a){this._lang=a,this._ready=new Promise((d,g)=>{u.setLanguage((0,f.fixupLangCode)(a),()=>{d(u)})})}getLanguage(){var a=this;return C(function*(){return(yield a._ready).getLanguage()})()}getDirection(){var a=this;return C(function*(){return(yield a._ready).getDirection()})()}get(a,d=null,g=(0,f.getL10nFallback)(a,d)){var h=this;return C(function*(){return(yield h._ready).get(a,d,g)})()}translate(a){var d=this;return C(function*(){return(yield d._ready).translate(a)})()}}},()=>{document.webL10n=function(Y,_,p){var f={},u="",l="textContent",c="",a={},d="loading";function y(W,ce,pe){ce=ce||function(F){},pe=pe||function(){};var _e=new XMLHttpRequest;_e.open("GET",W,!0),_e.overrideMimeType&&_e.overrideMimeType("text/plain; charset=utf-8"),_e.onreadystatechange=function(){4==_e.readyState&&(200==_e.status||0===_e.status?ce(_e.responseText):pe())},_e.onerror=pe,_e.ontimeout=pe;try{_e.send(null)}catch{pe()}}function w(W,ce){W&&(W=W.toLowerCase()),ce=ce||function(){},function E(){f={},u="",c=""}(),c=W;var pe=function h(){return _.querySelectorAll('link[type="application/l10n"]')}(),_e=pe.length;if(0!==_e){var P,S=0;P=function(){++S>=_e&&(ce(),d="complete")};for(var O=0;O<_e;O++)new A(pe[O]).load(W,P)}else{var B=function m(){var W=_.querySelector('script[type="application/l10n"]');return W?JSON.parse(W.innerHTML):null}();if(B&&B.locales&&B.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(f=B.locales[W])){var F=B.default_locale.toLowerCase();for(var k in B.locales){if((k=k.toLowerCase())===W){f=B.locales[W];break}k===F&&(f=B.locales[F])}}ce()}else console.log("no resource to load, early way out");d="complete"}function A(N){var H=N.href;this.load=function(z,X){!function M(W,ce,pe,_e){var B=W.replace(/[^\/]*$/,"")||"./";function F(P){return P.lastIndexOf("\\")<0?P:P.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}y(W,function(P){u+=P,function k(P,S){var A={},O=/^\s*|\s*$/,I=/^\s*#|^\s*$/,N=/^\s*\[(.*)\]\s*$/,H=/^\s*@import\s+url\((.*)\)\s*$/i,z=/^([^=\s]*)\s*=\s*(.+)$/;function X(de,ne,K){var ve=de.replace(O,"").split(/[\r\n]+/),ye="*",oe=ce.split("-",1)[0],ge=!1,fe="";!function j(){for(;;){if(!ve.length)return void K();var te=ve.shift();if(!I.test(te)){if(ne){if(fe=N.exec(te)){ye=fe[1].toLowerCase(),ge="*"!==ye&&ye!==ce&&ye!==oe;continue}if(ge)continue;if(fe=H.exec(te))return void ee(B+fe[1],j)}var ie=te.match(z);ie&&3==ie.length&&(A[ie[1]]=F(ie[2]))}}}()}function ee(de,ne){y(de,function(K){X(K,!1,ne)},function(){console.warn(de+" not found."),ne()})}X(P,!0,function(){S(A)})}(P,function(S){for(var A in S){var O,I,N=A.lastIndexOf(".");N>0?(O=A.substring(0,N),I=A.substring(N+1)):(O=A,I=l),f[O]||(f[O]={}),f[O][I]=S[A]}pe&&pe()})},_e)}(H,z,X,function(){console.warn(H+" not found."),console.warn('"'+z+'" resource not found'),c="",X()})}}}function U(W,ce,pe){var _e=f[W];if(!_e){if(console.warn("#"+W+" is undefined."),!pe)return null;_e=pe}var B={};for(var F in _e){var k=_e[F];k=Q(k=q(k,ce,W,F),ce,W),B[F]=k}return B}function q(W,ce,pe,_e){var F=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(W);if(!F||!F.length)return W;var S,k=F[1],P=F[2];return ce&&P in ce?S=ce[P]:P in f&&(S=f[P]),k in a&&(W=(0,a[k])(W,S,pe,_e)),W}function Q(W,ce,pe){return W.replace(/\{\{\s*(.+?)\s*\}\}/g,function(B,F){return ce&&F in ce?ce[F]:F in f?f[F]:(console.log("argument {{"+F+"}} for #"+pe+" is undefined."),B)})}function re(W){var ce=function v(W){if(!W)return{};var ce=W.getAttribute("data-l10n-id"),pe=W.getAttribute("data-l10n-args"),_e={};if(pe)try{_e=JSON.parse(pe)}catch{console.warn("could not parse arguments for #"+ce)}return{id:ce,args:_e}}(W);if(ce.id){var pe=U(ce.id,ce.args);if(!pe)return void console.warn("#"+ce.id+" is undefined.");if(pe[l]){if(0===function le(W){if(W.children)return W.children.length;if(typeof W.childElementCount<"u")return W.childElementCount;for(var ce=0,pe=0;pe<W.childNodes.length;pe++)ce+=1===W.nodeType?1:0;return ce}(W))W[l]=pe[l];else{for(var _e=W.childNodes,B=!1,F=0,k=_e.length;F<k;F++)3===_e[F].nodeType&&/\S/.test(_e[F].nodeValue)&&(B?_e[F].nodeValue="":(_e[F].nodeValue=pe[l],B=!0));if(!B){var P=_.createTextNode(pe[l]);W.insertBefore(P,W.firstChild)}}delete pe[l]}for(var S in pe)W[S]=pe[S]}}return a.plural=function(W,ce,pe,_e){var B=parseFloat(ce);if(isNaN(B)||_e!=l)return W;a._pluralRules||(a._pluralRules=function Z(W){function pe(k,P){return-1!==P.indexOf(k)}function _e(k,P,S){return P<=k&&k<=S}var B={0:function(k){return"other"},1:function(k){return _e(k%100,3,10)?"few":0===k?"zero":_e(k%100,11,99)?"many":2==k?"two":1==k?"one":"other"},2:function(k){return 0!==k&&k%10==0?"many":2==k?"two":1==k?"one":"other"},3:function(k){return 1==k?"one":"other"},4:function(k){return _e(k,0,1)?"one":"other"},5:function(k){return _e(k,0,2)&&2!=k?"one":"other"},6:function(k){return 0===k?"zero":k%10==1&&k%100!=11?"one":"other"},7:function(k){return 2==k?"two":1==k?"one":"other"},8:function(k){return _e(k,3,6)?"few":_e(k,7,10)?"many":2==k?"two":1==k?"one":"other"},9:function(k){return 0===k||1!=k&&_e(k%100,1,19)?"few":1==k?"one":"other"},10:function(k){return _e(k%10,2,9)&&!_e(k%100,11,19)?"few":k%10!=1||_e(k%100,11,19)?"other":"one"},11:function(k){return _e(k%10,2,4)&&!_e(k%100,12,14)?"few":k%10==0||_e(k%10,5,9)||_e(k%100,11,14)?"many":k%10==1&&k%100!=11?"one":"other"},12:function(k){return _e(k,2,4)?"few":1==k?"one":"other"},13:function(k){return _e(k%10,2,4)&&!_e(k%100,12,14)?"few":1!=k&&_e(k%10,0,1)||_e(k%10,5,9)||_e(k%100,12,14)?"many":1==k?"one":"other"},14:function(k){return _e(k%100,3,4)?"few":k%100==2?"two":k%100==1?"one":"other"},15:function(k){return 0===k||_e(k%100,2,10)?"few":_e(k%100,11,19)?"many":1==k?"one":"other"},16:function(k){return k%10==1&&11!=k?"one":"other"},17:function(k){return 3==k?"few":0===k?"zero":6==k?"many":2==k?"two":1==k?"one":"other"},18:function(k){return 0===k?"zero":_e(k,0,2)&&0!==k&&2!=k?"one":"other"},19:function(k){return _e(k,2,10)?"few":_e(k,0,1)?"one":"other"},20:function(k){return!_e(k%10,3,4)&&k%10!=9||_e(k%100,10,19)||_e(k%100,70,79)||_e(k%100,90,99)?k%1e6==0&&0!==k?"many":k%10!=2||pe(k%100,[12,72,92])?k%10!=1||pe(k%100,[11,71,91])?"other":"one":"two":"few"},21:function(k){return 0===k?"zero":1==k?"one":"other"},22:function(k){return _e(k,0,1)||_e(k,11,99)?"one":"other"},23:function(k){return _e(k%10,1,2)||k%20==0?"one":"other"},24:function(k){return _e(k,3,10)||_e(k,13,19)?"few":pe(k,[2,12])?"two":pe(k,[1,11])?"one":"other"}},F={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[W.replace(/-.*$/,"")];return F in B?B[F]:(console.warn("plural form unknown for ["+W+"]"),function(){return"other"})}(c));var F="["+a._pluralRules(B)+"]";return 0===B&&pe+"[zero]"in f?W=f[pe+"[zero]"][_e]:1==B&&pe+"[one]"in f?W=f[pe+"[one]"][_e]:2==B&&pe+"[two]"in f?W=f[pe+"[two]"][_e]:pe+F in f?W=f[pe+F][_e]:pe+"[other]"in f&&(W=f[pe+"[other]"][_e]),W},{get:function(W,ce,pe){var F,_e=W.lastIndexOf("."),B=l;_e>0&&(B=W.substring(_e+1),W=W.substring(0,_e)),pe&&((F={})[B]=pe);var k=U(W,ce,F);return k&&B in k?k[B]:"{{"+W+"}}"},getData:function(){return f},getText:function(){return u},getLanguage:function(){return c},setLanguage:function(W,ce){w(W,function(){ce&&ce()})},getDirection:function(){var ce=c.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(ce)>=0?"rtl":"ltr"},translate:function ue(W){for(var ce=function b(W){return W?W.querySelectorAll("*[data-l10n-id]"):[]}(W=W||_.documentElement),pe=ce.length,_e=0;_e<pe;_e++)re(ce[_e]);re(W)},getReadyState:function(){return d},ready:function(W){W&&("complete"==d||"interactive"==d?Y.setTimeout(function(){W()}):_.addEventListener&&_.addEventListener("localized",function ce(){_.removeEventListener("localized",ce),W()}))}}}(window,document)},(Y,_,p)=>{var Q,$l,le,sr,W,rr,pe,Xl,B,ec,k,tc,S,ar,O,nc,N,ic,z,ko,ee,ji,ne,bi,ve,oc,oe,lr,fe,cr,te,Ao,we,sc,Te,dr,Oe,rc,Ie,qi;Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFindController=_.FindState=void 0;var f=p(6),u=p(3),l=p(21);const c={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};_.FindState=c;const h={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},m=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...m.values()].map(xe=>String.fromCharCode(xe)).join(""),v=/\p{M}+/gu,y=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,M=/([^\p{M}])\p{M}*$/u,w=/^\p{M}*([^\p{M}])/u;let E=null;function Z(xe){if(!E){const Qe=Object.keys(h).join("");E=new RegExp(`([${Qe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const ae=[];let he;for(;null!==(he=v.exec(xe));)ae.push([he[0].length,he.index]);let ke=xe.normalize("NFD");const Pe=[[0,0]];let Le=0,Fe=0,Je=0,Ge=0,ct=!1;return ke=ke.replace(E,(Qe,nt,ot,Ft,it,bt)=>{if(bt-=Je,nt){const Tt=h[Qe],gt=Tt.length;for(let kt=1;kt<gt;kt++)Pe.push([bt-Fe+kt,Fe-kt]);return Fe-=gt-1,Tt}if(ot){const Tt=ot.endsWith("\n"),gt=Tt?ot.length-2:ot.length;ct=!0;let kt=gt;bt+Ge===ae[Le]?.[1]&&(kt-=ae[Le][0],++Le);for(let zt=1;zt<kt+1;zt++)Pe.push([bt-1-Fe+zt,Fe-zt]);return Fe-=kt,Je+=kt,Tt?(Pe.push([(bt+=gt-1)-Fe+1,1+Fe]),Fe+=1,Je+=1,Ge+=1,ot.slice(0,gt)):ot}return Ft?(Pe.push([bt-Fe+1,1+Fe]),Fe+=1,Je+=1,Ge+=1,Ft.charAt(0)):(Pe.push([bt-Fe+1,Fe-1]),Fe-=1,Je+=1,Ge+=1," ")}),Pe.push([ke.length,Fe]),[ke,Pe,ct]}function U(xe,ae,he){if(!xe)return[ae,he];const ke=ae,Pe=ae+he;let Le=(0,f.binarySearchFirstItem)(xe,Je=>Je[0]>=ke);xe[Le][0]>ke&&--Le;let Fe=(0,f.binarySearchFirstItem)(xe,Je=>Je[0]>=Pe,Le);return xe[Fe][0]>Pe&&--Fe,[ke+xe[Le][1],he+xe[Fe][1]-xe[Le][1]]}Q=new WeakSet,$l=function(ae){if(!ae)return;const he=this._pdfDocument,{type:ke}=ae;(null===this._state||Be(this,pe,Xl).call(this,ae))&&(this._dirtyMatch=!0),this._state=ae,"highlightallchange"!==ke&&Be(this,Ie,qi).call(this,c.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||he&&this._pdfDocument!==he)return;Be(this,N,ic).call(this);const Pe=!this._highlightMatches,Le=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ke?this._dirtyMatch?Be(this,ne,bi).call(this):"again"===ke?(Be(this,ne,bi).call(this),Pe&&this._state.highlightAll&&Be(this,ee,ji).call(this)):"highlightallchange"===ke?(Le?Be(this,ne,bi).call(this):this._highlightMatches=!0,Be(this,ee,ji).call(this)):Be(this,ne,bi).call(this):this._findTimeout=setTimeout(()=>{Be(this,ne,bi).call(this),this._findTimeout=null},250)})},le=new WeakSet,sr=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,u.createPromiseCapability)()},W=new WeakSet,rr=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Z(this._state.query)),this._normalizedQuery},pe=new WeakSet,Xl=function(ae){if(ae.query!==this._state.query)return!0;switch(ae.type){case"again":const he=this._selected.pageIdx+1,ke=this._linkService;return he>=1&&he<=ke.pagesCount&&he!==ke.page&&!ke.isPageVisible(he);case"highlightallchange":return!1}return!0},B=new WeakSet,ec=function(ae,he,ke){let Pe=ae.slice(0,he).match(M);if(Pe){const Le=ae.charCodeAt(he),Fe=Pe[1].charCodeAt(0);if((0,l.getCharacterType)(Le)===(0,l.getCharacterType)(Fe))return!1}if(Pe=ae.slice(he+ke).match(w),Pe){const Le=ae.charCodeAt(he+ke-1),Fe=Pe[1].charCodeAt(0);if((0,l.getCharacterType)(Le)===(0,l.getCharacterType)(Fe))return!1}return!0},k=new WeakSet,tc=function(ae,he,ke,Pe){const Le=[],Fe=[],Je=this._pageDiffs[ke];let Ge;for(;null!==(Ge=ae.exec(Pe));){if(he&&!Be(this,B,ec).call(this,Pe,Ge.index,Ge[0].length))continue;const[ct,Qe]=U(Je,Ge.index,Ge[0].length);Qe&&(Le.push(ct),Fe.push(Qe))}this._pageMatches[ke]=Le,this._pageMatchesLength[ke]=Fe},S=new WeakSet,ar=function(ae,he){const{matchDiacritics:ke}=this._state;let Pe=!1;return(ae=ae.replace(y,(Fe,Je,Ge,ct,Qe,nt)=>Je?`[ ]*\\${Je}[ ]*`:Ge?`[ ]*${Ge}[ ]*`:ct?"[ ]+":ke?Qe||nt:Qe?m.has(Qe.charCodeAt(0))?Qe:"":he?(Pe=!0,`${nt}\\p{M}*`):nt)).endsWith("[ ]*")&&(ae=ae.slice(0,ae.length-"[ ]*".length)),ke&&he&&(Pe=!0,ae=`${ae}(?=[${b}]|[^\\p{M}]|$)`),[Pe,ae]},O=new WeakSet,nc=function(ae){let he=Ze(this,W,rr);if(0===he.length)return;const{caseSensitive:ke,entireWord:Pe,phraseSearch:Le}=this._state,Fe=this._pageContents[ae],Je=this._hasDiacritics[ae];let Ge=!1;if(Le)[Ge,he]=Be(this,S,ar).call(this,he,Je);else{const nt=he.match(/\S+/g);nt&&(he=nt.sort().reverse().map(ot=>{const[Ft,it]=Be(this,S,ar).call(this,ot,Je);return Ge||(Ge=Ft),`(${it})`}).join("|"))}he=new RegExp(he,`g${Ge?"u":""}${ke?"":"i"}`),Be(this,k,tc).call(this,he,Pe,ae,Fe),this._state.highlightAll&&Be(this,z,ko).call(this,ae),this._resumePageIdx===ae&&(this._resumePageIdx=null,Be(this,oe,lr).call(this));const Qe=this._pageMatches[ae].length;Qe>0&&(this._matchesCountTotal+=Qe,Be(this,Oe,rc).call(this))},N=new WeakSet,ic=function(){if(this._extractTextPromises.length>0)return;let ae=Promise.resolve();for(let he=0,ke=this._linkService.pagesCount;he<ke;he++){const Pe=(0,u.createPromiseCapability)();this._extractTextPromises[he]=Pe.promise,ae=ae.then(()=>this._pdfDocument.getPage(he+1).then(Le=>Le.getTextContent()).then(Le=>{const Fe=[];for(const Je of Le.items)Fe.push(Je.str),Je.hasEOL&&Fe.push("\n");[this._pageContents[he],this._pageDiffs[he],this._hasDiacritics[he]]=Z(Fe.join("")),Pe.resolve()},Le=>{console.error(`Unable to get text content for page ${he+1}`,Le),this._pageContents[he]="",this._pageDiffs[he]=null,this._hasDiacritics[he]=!1,Pe.resolve()}))}},z=new WeakSet,ko=function(ae){this._scrollMatches&&this._selected.pageIdx===ae&&(this._linkService.page=ae+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:ae})},ee=new WeakSet,ji=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},ne=new WeakSet,bi=function(){const ae=this._state.findPrevious,he=this._linkService.page-1,ke=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=he,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Be(this,ee,ji).call(this);for(let Le=0;Le<ke;Le++)this._pendingFindMatches.has(Le)||(this._pendingFindMatches.add(Le),this._extractTextPromises[Le].then(()=>{this._pendingFindMatches.delete(Le),Be(this,O,nc).call(this,Le)}))}if(""===Ze(this,W,rr))return void Be(this,Ie,qi).call(this,c.FOUND);if(this._resumePageIdx)return;const Pe=this._offset;if(this._pagesToSearch=ke,null!==Pe.matchIdx){const Le=this._pageMatches[Pe.pageIdx].length;if(!ae&&Pe.matchIdx+1<Le||ae&&Pe.matchIdx>0)return Pe.matchIdx=ae?Pe.matchIdx-1:Pe.matchIdx+1,void Be(this,te,Ao).call(this,!0);Be(this,fe,cr).call(this,ae)}Be(this,oe,lr).call(this)},ve=new WeakSet,oc=function(ae){const he=this._offset,ke=ae.length,Pe=this._state.findPrevious;return ke?(he.matchIdx=Pe?ke-1:0,Be(this,te,Ao).call(this,!0),!0):(Be(this,fe,cr).call(this,Pe),!!(he.wrapped&&(he.matchIdx=null,this._pagesToSearch<0))&&(Be(this,te,Ao).call(this,!1),!0))},oe=new WeakSet,lr=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let ae=null;do{const he=this._offset.pageIdx;if(ae=this._pageMatches[he],!ae){this._resumePageIdx=he;break}}while(!Be(this,ve,oc).call(this,ae))},fe=new WeakSet,cr=function(ae){const he=this._offset,ke=this._linkService.pagesCount;he.pageIdx=ae?he.pageIdx-1:he.pageIdx+1,he.matchIdx=null,this._pagesToSearch--,(he.pageIdx>=ke||he.pageIdx<0)&&(he.pageIdx=ae?ke-1:0,he.wrapped=!0)},te=new WeakSet,Ao=function(ae=!1){let he=c.NOT_FOUND;const ke=this._offset.wrapped;if(this._offset.wrapped=!1,ae){const Pe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,he=ke?c.WRAPPED:c.FOUND,-1!==Pe&&Pe!==this._selected.pageIdx&&Be(this,z,ko).call(this,Pe)}Be(this,Ie,qi).call(this,he,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Be(this,z,ko).call(this,this._selected.pageIdx))},we=new WeakSet,sc=function(ae){const he=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||he&&this._pdfDocument!==he||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Be(this,Ie,qi).call(this,c.FOUND),this._highlightMatches=!1,Be(this,ee,ji).call(this))})},Te=new WeakSet,dr=function(){const{pageIdx:ae,matchIdx:he}=this._selected;let ke=0,Pe=this._matchesCountTotal;if(-1!==he){for(let Le=0;Le<ae;Le++)ke+=this._pageMatches[Le]?.length||0;ke+=he+1}return(ke<1||ke>Pe)&&(ke=Pe=0),{current:ke,total:Pe}},Oe=new WeakSet,rc=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Be(this,Te,dr).call(this)})},Ie=new WeakSet,qi=function(ae,he=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:ae,previous:he,matchesCount:Be(this,Te,dr).call(this),rawQuery:this._state?.query??null})},_.PDFFindController=class q{constructor({linkService:ae,eventBus:he}){je(this,Q),je(this,le),je(this,W),je(this,pe),je(this,B),je(this,k),je(this,S),je(this,O),je(this,N),je(this,z),je(this,ee),je(this,ne),je(this,ve),je(this,oe),je(this,fe),je(this,te),je(this,we),je(this,Te),je(this,Oe),je(this,Ie),this._linkService=ae,this._eventBus=he,Be(this,le,sr).call(this),he._on("find",Be(this,Q,$l).bind(this)),he._on("findbarclose",Be(this,we,sc).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ae){this._pdfDocument&&Be(this,le,sr).call(this),ae&&(this._pdfDocument=ae,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ae=null,selectedLeft:he=0,pageIndex:ke=-1,matchIndex:Pe=-1}){this._scrollMatches&&ae&&-1!==Pe&&Pe===this._selected.matchIdx&&-1!==ke&&ke===this._selected.pageIdx&&(this._scrollMatches=!1,(0,f.scrollIntoView)(ae,{top:-50,left:he+-400},!0))}}},(Y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterType=void 0,_.getCharacterType=function v(y){return function f(y){return y<11904}(y)?function u(y){return 0==(65408&y)}(y)?function a(y){return 32===y||9===y||13===y||10===y}(y)?p.SPACE:function l(y){return y>=97&&y<=122||y>=65&&y<=90}(y)||function c(y){return y>=48&&y<=57}(y)||95===y?p.ALPHA_LETTER:p.PUNCT:function b(y){return 3584==(65408&y)}(y)?p.THAI_LETTER:160===y?p.SPACE:p.ALPHA_LETTER:function d(y){return y>=13312&&y<=40959||y>=63744&&y<=64255}(y)?p.HAN_LETTER:function g(y){return y>=12448&&y<=12543}(y)?p.KATAKANA_LETTER:function h(y){return y>=12352&&y<=12447}(y)?p.HIRAGANA_LETTER:function m(y){return y>=65376&&y<=65439}(y)?p.HALFWIDTH_KATAKANA_LETTER:p.ALPHA_LETTER};const p={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};_.CharacterType=p},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFHistory=void 0,_.isDestArraysEqual=m,_.isDestHashesEqual=h;var f=p(6),u=p(17);function d(){return document.location.hash}function h(b,v){return"string"==typeof b&&"string"==typeof v&&(b===v||(0,f.parseQueryString)(b).get("nameddest")===v)}function m(b,v){function y(M,w){if(typeof M!=typeof w||Array.isArray(M)||Array.isArray(w))return!1;if(null!==M&&"object"==typeof M&&null!==w){if(Object.keys(M).length!==Object.keys(w).length)return!1;for(const E in M)if(!y(M[E],w[E]))return!1;return!0}return M===w||Number.isNaN(M)&&Number.isNaN(w)}if(!Array.isArray(b)||!Array.isArray(v)||b.length!==v.length)return!1;for(let M=0,w=b.length;M<w;M++)if(!y(b[M],v[M]))return!1;return!0}_.PDFHistory=class g{constructor({linkService:v,eventBus:y}){this.linkService=v,this.eventBus=y,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",M=>{this._isPagesLoaded=!!M.pagesCount},{once:!0})})}initialize({fingerprint:v,resetHistory:y=!1,updateUrl:M=!1}){if(!v||"string"!=typeof v)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const w=""!==this._fingerprint&&this._fingerprint!==v;this._fingerprint=v,this._updateUrl=!0===M,this._initialized=!0,this._bindEvents();const E=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=d(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(E,!0)||y){const{hash:U,page:q,rotation:Q}=this._parseCurrentHash(!0);return!U||w||y?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:U,page:q,rotation:Q},!0)}const Z=E.destination;this._updateInternalState(Z,E.uid,!0),void 0!==Z.rotation&&(this._initialRotation=Z.rotation),Z.dest?(this._initialBookmark=JSON.stringify(Z.dest),this._destination.page=null):Z.hash?this._initialBookmark=Z.hash:Z.page&&(this._initialBookmark=`page=${Z.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:v=null,explicitDest:y,pageNumber:M}){if(!this._initialized)return;if(v&&"string"!=typeof v)return void console.error(`PDFHistory.push: "${v}" is not a valid namedDest parameter.`);if(!Array.isArray(y))return void console.error(`PDFHistory.push: "${y}" is not a valid explicitDest parameter.`);if(!this._isValidPage(M)&&(null!==M||this._destination))return void console.error(`PDFHistory.push: "${M}" is not a valid pageNumber parameter.`);const w=v||JSON.stringify(y);if(!w)return;let E=!1;if(this._destination&&(h(this._destination.hash,w)||m(this._destination.dest,y))){if(this._destination.page)return;E=!0}this._popStateInProgress&&!E||(this._pushOrReplaceState({dest:y,hash:w,page:M,rotation:this.linkService.rotation},E),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(v){if(this._initialized){if(!this._isValidPage(v))return void console.error(`PDFHistory.pushPage: "${v}" is not a valid page number.`);this._destination?.page!==v&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${v}`,page:v,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(v,y=!1){const M=y||!this._destination,w={fingerprint:this._fingerprint,uid:M?this._uid:this._uid+1,destination:v};let E;if(this._updateInternalState(v,w.uid),this._updateUrl&&v?.hash){const Z=document.location.href.split("#")[0];Z.startsWith("file://")||(E=`${Z}#${v.hash}`)}M?window.history.replaceState(w,"",E):window.history.pushState(w,"",E)}_tryPushCurrentPosition(v=!1){if(!this._position)return;let y=this._position;if(v&&(y=Object.assign(Object.create(null),this._position),y.temporary=!0),!this._destination)return void this._pushOrReplaceState(y);if(this._destination.temporary)return void this._pushOrReplaceState(y,!0);if(this._destination.hash===y.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let M=!1;if(this._destination.page>=y.first&&this._destination.page<=y.page){if(void 0!==this._destination.dest||!this._destination.first)return;M=!0}this._pushOrReplaceState(y,M)}_isValidPage(v){return Number.isInteger(v)&&v>0&&v<=this.linkService.pagesCount}_isValidState(v,y=!1){if(!v)return!1;if(v.fingerprint!==this._fingerprint){if(!y)return!1;{if("string"!=typeof v.fingerprint||v.fingerprint.length!==this._fingerprint.length)return!1;const[M]=performance.getEntriesByType("navigation");if("reload"!==M?.type)return!1}}return!(!Number.isInteger(v.uid)||v.uid<0||null===v.destination||"object"!=typeof v.destination)}_updateInternalState(v,y,M=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),M&&v?.temporary&&delete v.temporary,this._destination=v,this._uid=y,this._maxUid=Math.max(this._maxUid,y),this._numPositionUpdates=0}_parseCurrentHash(v=!1){const y=unescape(d()).substring(1),M=(0,f.parseQueryString)(y),w=M.get("nameddest")||"";let E=0|M.get("page");return(!this._isValidPage(E)||v&&w.length>0)&&(E=null),{hash:y,page:E,rotation:this.linkService.rotation}}_updateViewarea({location:v}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:v.pdfOpenParams.substring(1),page:this.linkService.page,first:v.pageNumber,rotation:v.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:v}){const y=d(),M=this._currentHash!==y;if(this._currentHash=y,!v){this._uid++;const{hash:E,page:Z,rotation:U}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:E,page:Z,rotation:U},!0)}if(!this._isValidState(v))return;this._popStateInProgress=!0,M&&(this._blockHashChange++,(0,u.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const w=v.destination;this._updateInternalState(w,v.uid,!0),(0,f.isValidRotation)(w.rotation)&&(this.linkService.rotation=w.rotation),w.dest?this.linkService.goToDestination(w.dest):w.hash?this.linkService.setHash(w.hash):w.page&&(this.linkService.page=w.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFScriptingManager=void 0;var f=p(6),u=p(3);_.PDFScriptingManager=class l{constructor({eventBus:a,sandboxBundleSrc:d=null,scriptingFactory:g=null,docPropertiesLookup:h=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=a,this._sandboxBundleSrc=d,this._scriptingFactory=g,this._docPropertiesLookup=h,this._scriptingFactory||window.addEventListener("updatefromsandbox",m=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:m.detail})})}setViewer(a){this._pdfViewer=a}setDocument(a){var d=this;return C(function*(){if(d._pdfDocument&&(yield d._destroyScripting()),d._pdfDocument=a,!a)return;const[g,h,m]=yield Promise.all([a.getFieldObjects(),a.getCalculationOrderIds(),a.getJSActions()]);if(g||m){if(a===d._pdfDocument){try{d._scripting=d._createScripting()}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield d._destroyScripting())}d._internalEvents.set("updatefromsandbox",b=>{b?.source===window&&d._updateFromSandbox(b.detail)}),d._internalEvents.set("dispatcheventinsandbox",b=>{d._scripting?.dispatchEventInSandbox(b.detail)}),d._internalEvents.set("pagechanging",({pageNumber:b,previous:v})=>{b!==v&&(d._dispatchPageClose(v),d._dispatchPageOpen(b))}),d._internalEvents.set("pagerendered",({pageNumber:b})=>{!d._pageOpenPending.has(b)||b===d._pdfViewer.currentPageNumber&&d._dispatchPageOpen(b)}),d._internalEvents.set("pagesdestroy",function(){var b=C(function*(v){yield d._dispatchPageClose(d._pdfViewer.currentPageNumber),yield d._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),d._closeCapability?.resolve()});return function(v){return b.apply(this,arguments)}}()),d._domEvents.set("mousedown",b=>{d._mouseState.isDown=!0}),d._domEvents.set("mouseup",b=>{d._mouseState.isDown=!1});for(const[b,v]of d._internalEvents)d._eventBus._on(b,v);for(const[b,v]of d._domEvents)window.addEventListener(b,v,!0);try{const b=yield d._getDocProperties();if(a!==d._pdfDocument)return;yield d._scripting.createSandbox({objects:g,calculationOrder:h,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...b,actions:m}}),d._eventBus.dispatch("sandboxcreated",{source:d})}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield d._destroyScripting())}yield d._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield d._dispatchPageOpen(d._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{a===d._pdfDocument&&(d._ready=!0)})}}else yield d._destroyScripting()})()}dispatchWillSave(a){var d=this;return C(function*(){return d._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(a){var d=this;return C(function*(){return d._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(a){var d=this;return C(function*(){return d._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(a){var d=this;return C(function*(){return d._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,u.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,u.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,u.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,u.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(a){var d=this;return C(function*(){const g=d._pdfViewer.isInPresentationMode||d._pdfViewer.isChangingPresentationMode,{id:h,siblings:m,command:b,value:v}=a;if(!h){switch(b){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(g)return;const M=(0,f.apiPageLayoutToViewerModes)(v);d._pdfViewer.spreadMode=M.spreadMode;break;case"page-num":d._pdfViewer.currentPageNumber=v+1;break;case"print":yield d._pdfViewer.pagesPromise,d._eventBus.dispatch("print",{source:d});break;case"println":console.log(v);break;case"zoom":if(g)return;d._pdfViewer.currentScaleValue=v;break;case"SaveAs":d._eventBus.dispatch("save",{source:d});break;case"FirstPage":d._pdfViewer.currentPageNumber=1;break;case"LastPage":d._pdfViewer.currentPageNumber=d._pdfViewer.pagesCount;break;case"NextPage":d._pdfViewer.nextPage();break;case"PrevPage":d._pdfViewer.previousPage();break;case"ZoomViewIn":if(g)return;d._pdfViewer.increaseScale();break;case"ZoomViewOut":if(g)return;d._pdfViewer.decreaseScale()}return}if(g&&a.focus)return;delete a.id,delete a.siblings;const y=m?[h,...m]:[h];for(const M of y){const w=document.getElementById(M);w?w.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:a})):d._pdfDocument?.annotationStorage.setValue(M,a)}})()}_dispatchPageOpen(a,d=!1){var g=this;return C(function*(){const h=g._pdfDocument,m=g._visitedPages;if(d&&(g._closeCapability=(0,u.createPromiseCapability)()),!g._closeCapability)return;const b=g._pdfViewer.getPageView(a-1);if(b?.renderingState!==f.RenderingStates.FINISHED)return void g._pageOpenPending.add(a);g._pageOpenPending.delete(a);const v=C(function*(){const y=yield m.has(a)?null:b.pdfPage?.getJSActions();h===g._pdfDocument&&(yield g._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:a,actions:y}))})();m.set(a,v)})()}_dispatchPageClose(a){var d=this;return C(function*(){const g=d._pdfDocument,h=d._visitedPages;if(!d._closeCapability||d._pageOpenPending.has(a))return;const m=h.get(a);!m||(h.set(a,null),yield m,g===d._pdfDocument&&(yield d._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:a})))})()}_getDocProperties(){var a=this;return C(function*(){if(a._docPropertiesLookup)return a._docPropertiesLookup(a._pdfDocument);const{docPropertiesLookup:d}=p(24);return d(a._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,u.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:a}=p(24);return new a(this._sandboxBundleSrc)}_destroyScripting(){var a=this;return C(function*(){if(!a._scripting)return a._pdfDocument=null,void a._destroyCapability?.resolve();a._closeCapability&&(yield Promise.race([a._closeCapability.promise,new Promise(d=>{setTimeout(d,1e3)})]).catch(d=>{}),a._closeCapability=null),a._pdfDocument=null;try{yield a._scripting.destroySandbox()}catch{}for(const[d,g]of a._internalEvents)a._eventBus._off(d,g);a._internalEvents.clear();for(const[d,g]of a._domEvents)window.removeEventListener(d,g,!0);a._domEvents.clear(),a._pageOpenPending.clear(),a._visitedPages.clear(),a._scripting=null,delete a._mouseState.isDown,a._ready=!1,a._destroyCapability?.resolve()})()}}},(Y,_,p)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericScripting=void 0,_.docPropertiesLookup=function u(a){return l.apply(this,arguments)};var f=p(3);function l(){return(l=C(function*(a){const g="".split("#")[0];let{info:h,metadata:m,contentDispositionFilename:b,contentLength:v}=yield a.getMetadata();if(!v){const{length:y}=yield a.getDownloadInfo();v=y}return{...h,baseURL:g,filesize:v,filename:b||(0,f.getPdfFilenameFromUrl)(""),metadata:m?.getRaw(),authors:m?.get("dc:creator"),numPages:a.numPages,URL:""}})).apply(this,arguments)}_.GenericScripting=class c{constructor(d){this._ready=(0,f.loadScript)(d,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(d){var g=this;return C(function*(){(yield g._ready).create(d)})()}dispatchEventInSandbox(d){var g=this;return C(function*(){const h=yield g._ready;setTimeout(()=>h.dispatchEvent(d),0)})()}destroySandbox(){var d=this;return C(function*(){(yield d._ready).nukeSandbox()})()}}}],e={};function D(Y){var _=e[Y];if(void 0!==_)return _.exports;var p=e[Y]={exports:{}};return Ce[Y](p,p.exports,D),p.exports}var V={};return(()=>{var Y=V;Object.defineProperty(Y,"__esModule",{value:!0}),Object.defineProperty(Y,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return l.AnnotationLayerBuilder}}),Object.defineProperty(Y,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return _.DefaultAnnotationLayerFactory}}),Object.defineProperty(Y,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return _.DefaultStructTreeLayerFactory}}),Object.defineProperty(Y,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return _.DefaultTextLayerFactory}}),Object.defineProperty(Y,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return _.DefaultXfaLayerFactory}}),Object.defineProperty(Y,"DownloadManager",{enumerable:!0,get:function(){return c.DownloadManager}}),Object.defineProperty(Y,"EventBus",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(Y,"GenericL10n",{enumerable:!0,get:function(){return d.GenericL10n}}),Object.defineProperty(Y,"LinkTarget",{enumerable:!0,get:function(){return p.LinkTarget}}),Object.defineProperty(Y,"NullL10n",{enumerable:!0,get:function(){return g.NullL10n}}),Object.defineProperty(Y,"PDFFindController",{enumerable:!0,get:function(){return h.PDFFindController}}),Object.defineProperty(Y,"PDFHistory",{enumerable:!0,get:function(){return m.PDFHistory}}),Object.defineProperty(Y,"PDFLinkService",{enumerable:!0,get:function(){return p.PDFLinkService}}),Object.defineProperty(Y,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(Y,"PDFScriptingManager",{enumerable:!0,get:function(){return v.PDFScriptingManager}}),Object.defineProperty(Y,"PDFSinglePageViewer",{enumerable:!0,get:function(){return u.PDFSinglePageViewer}}),Object.defineProperty(Y,"PDFViewer",{enumerable:!0,get:function(){return u.PDFViewer}}),Object.defineProperty(Y,"ProgressBar",{enumerable:!0,get:function(){return f.ProgressBar}}),Object.defineProperty(Y,"SimpleLinkService",{enumerable:!0,get:function(){return p.SimpleLinkService}}),Object.defineProperty(Y,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return y.StructTreeLayerBuilder}}),Object.defineProperty(Y,"TextLayerBuilder",{enumerable:!0,get:function(){return M.TextLayerBuilder}}),Object.defineProperty(Y,"XfaLayerBuilder",{enumerable:!0,get:function(){return w.XfaLayerBuilder}}),Object.defineProperty(Y,"parseQueryString",{enumerable:!0,get:function(){return f.parseQueryString}});var _=D(1),p=D(5),f=D(6),u=D(10),l=D(2),c=D(16),a=D(17),d=D(18),g=D(4),h=D(20),m=D(22),b=D(12),v=D(23),y=D(7),M=D(8),w=D(9)})(),V})(),Ee.exports=D()},4960:()=>{},6759:()=>{},6272:()=>{},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:Ee=>{function G(C,Ce,e,D,V,Y,_){try{var p=C[Y](_),f=p.value}catch(u){return void e(u)}p.done?Ce(f):Promise.resolve(f).then(D,V)}Ee.exports=function be(C){return function(){var Ce=this,e=arguments;return new Promise(function(D,V){var Y=C.apply(Ce,e);function _(f){G(Y,D,V,_,p,"next",f)}function p(f){G(Y,D,V,_,p,"throw",f)}_(void 0)})}},Ee.exports.__esModule=!0,Ee.exports.default=Ee.exports}}]);