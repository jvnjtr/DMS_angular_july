"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[976],{6976:(Zt,R,f)=>{f.r(R),f.d(R,{WorkflowModule:()=>Tt});var _=f(6895),m=f(8087),e=f(4650),j=f(4698),Q=f(5355);let $=(()=>{class i{constructor(){}ngOnInit(){}showHide(){let t=document.querySelector(".page-container"),n=document.querySelector(".sidemenu");window.outerWidth<800?(t.classList.add("display-full"),n.classList.remove("active")):(t.classList.remove("display-full"),n.classList.add("active"))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-workflow"]],decls:8,vars:0,consts:[[1,"header"],[1,"page-container"],[1,"overlay","d-flex","d-lg-none"],[1,"sidemenu"],[1,"mainpanel"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"div",2),e.TgZ(4,"div",3),e._UZ(5,"app-leftmenu"),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"router-outlet"),e.qZA()())},dependencies:[m.lC,j.G,Q.Y],styles:[".page-container[_ngcontent-%COMP%]{transition:all ease-in-out .5s;position:relative;margin-top:0;margin-right:0}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]:before{position:absolute;z-index:-1}}.page-container[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:-275px;width:255px;display:block;z-index:99;padding:0 0 1rem;font-weight:200;border-radius:0;background:var(--base-color);transition:all ease-in-out .5s}.page-container[_ngcontent-%COMP%]   .sidemenu.active[_ngcontent-%COMP%]{left:0;z-index:99999}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{top:0;left:0}}.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{background:var(--body-color);position:relative;transition:all ease-in-out .5s;max-width:100%;background-size:100%;padding-top:3rem}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{margin-left:255px;overflow:hidden;overflow-y:auto;padding:60px 1rem 0;height:100vh}}@media screen and (min-width: 1200px){.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{padding:60px 1rem 0}}@media screen and (min-width: 1500px){.page-container[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{padding:62px 1rem 0}}.page-container.display-full[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{margin-left:0}.page-container.display-full[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]{left:-275px;box-shadow:none;z-index:-1}@media screen and (min-width: 992px){.page-container.display-full[_ngcontent-%COMP%]   .sidemenu[_ngcontent-%COMP%]   .mainpanel[_ngcontent-%COMP%]{max-width:100%;margin-left:0}}.page-container.display-full[_ngcontent-%COMP%]:before{z-index:0;bottom:auto}@media screen and (min-width: 992px){.page-container.display-full[_ngcontent-%COMP%]   .fixed-topmenu[_ngcontent-%COMP%]{left:0}}@media screen and (min-width: 992px){.page-container[_ngcontent-%COMP%]{height:100vh;overflow:hidden}}@media screen and (min-width: 992px){.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:0}.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.5);border-radius:0}.mainpanel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--white) -theme-color}}.page-controls-section[_ngcontent-%COMP%]{padding:0 1rem;transition:all ease-in 1.2s}.page-controls-section.active[_ngcontent-%COMP%]{transition:all ease-out .1s}@media screen and (min-width: 768px){.page-controls-section[_ngcontent-%COMP%]{padding:0 1rem}}@media screen and (min-width: 992px){.page-controls-section[_ngcontent-%COMP%]{margin-top:0;padding:0;position:relative}}.page-controls-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem}.overlay[_ngcontent-%COMP%]{inset:0;height:100%;width:100%;background-color:#00000080;visibility:hidden;z-index:1031;position:fixed}.page-container.display-full[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{visibility:hidden}.page-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{visibility:visible}"]}),i})();var H=f(5226),x=f.n(H),y=f(7206),b=f(3172),h=f(2340),Z=f(529),w=f(3489),O=f(836),A=f(5721),C=f(7053),N=f(3516),u=f(433),q=f(8935),L=f(9001),S=f(1837),D=f(1481),k=f(1789);function B(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function K(i,l){if(1&i&&(e.TgZ(0,"div",6),e._UZ(1,"iframe",7),e.YNc(2,B,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.publicurl,e.uOi),e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function G(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function W(i,l){if(1&i&&(e.TgZ(0,"div",11),e.YNc(1,G,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function V(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function X(i,l){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,V,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function ee(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function te(i,l){if(1&i&&(e.TgZ(0,"div",13),e.YNc(1,ee,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function ie(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,K,3,2,"div",2),e.YNc(2,W,2,1,"div",3),e.YNc(3,X,2,1,"div",4),e.YNc(4,te,2,1,"div",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!("mp3"==t.filetype||"mp4"==t.filetype||"zip"==t.filetype)),e.xp6(1),e.Q6J("ngIf","mp4"==t.filetype||"MP4"==t.filetype||"WebM"==t.filetype||"mkv"==t.filetype||"avi"==t.filetype||"webm"==t.filetype),e.xp6(1),e.Q6J("ngIf","mp3"==t.filetype||"MP3"==t.filetype),e.xp6(1),e.Q6J("ngIf","zip"==t.filetype||"ZIP"==t.filetype)}}function ne(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"h5",16),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",17)(6,"div",18)(7,"div",19)(8,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.txtPassword=o)}),e.ALo(9,"langReplace"),e.qZA()()(),e.TgZ(10,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.unsetPassword())}),e._uU(11),e.ALo(12,"langReplace"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,4,"Lock File")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(9,6,"Enter File Password")),e.Q6J("ngModel",t.txtPassword),e.xp6(3),e.hij(" ",e.lcZ(12,8,"Submit")," ")}}let U=(()=>{class i{constructor(t,n,o,s,a,c,p,d,g){this.route=t,this.router=n,this.httpClient=o,this.commonserveice=s,this.workFlowServices=a,this.encDec=c,this.authService=p,this.vldChkLst=d,this.sanitizer=g,this.fileLoading=!1,this.filedetails=[],this.currenttime=new Date,this.prevstatus=!1}ngOnInit(){this.token=sessionStorage.getItem("TOKEN"),1==this.lockstatus?setTimeout(()=>{},200):(this.prevstatus=!0,this.downloadfils(this.fileId,this.vfilepath)),this.publicurl=""}downloadfils(t,n){this.commonserveice.fileDownload({fileId:t,url:n}).subscribe(s=>{let a=s.RESPONSE_DATA,c=s.RESPONSE_TOKEN;if(this.fileLoading=!0,c==y.HmacSHA256(a,h.N.apiHashingKey).toString()){let d=b.lW.from(a,"base64"),g=JSON.parse(d);200==g.status?(this.downloaditem=g.result,this.downloadlink=this.downloaditem.filePath,this.dcoSrc=this.downloaditem.filePath,console.log(g),console.log(this.filetype),"pdf"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.iframeviewURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}`),this.fileLoading=!1},1e3):"mp4"==this.filetype?setTimeout(()=>{const r=document.createElement("video");r.controls=!0,r.muted=!1,(r.canPlayType("video/mp4")||r.canPlayType("video/ogg"))&&(r.src=this.dcoSrc),r.height=380,r.width=560;let v=document.getElementById("videopreviewdiv");v.innerHTML="",v.appendChild(r),this.fileLoading=!1},200):"xlsx"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.excelViewer}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+&type=1`),this.fileLoading=!1},200):"docx"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.iframeURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+&type=1`),this.fileLoading=!1},200):"mp3"==this.filetype?(setTimeout(()=>{const r=document.createElement("AUDIO");r.setAttribute("src",this.dcoSrc),r.setAttribute("controls","controls"),document.body.appendChild(r);let v=document.getElementById("audiopreviewdiv");v.innerHTML="",v.appendChild(r)},200),this.fileLoading=!1):"zip"==this.filetype?(setTimeout(()=>{const r=document.createElement("a"),v=document.createTextNode("Downlod .zip File");r.setAttribute("target","_blank"),r.setAttribute("href",this.dcoSrc),r.classList.add("btn","btn-primary"),r.appendChild(v);let T=document.getElementById("zipdiv");T.innerHTML="",T.appendChild(r)},200),this.fileLoading=!1):setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.iframeviewURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+type=1`),this.fileLoading=!1},200)):501==g.status&&this.authService.directlogout()}else this.authService.directlogout()},s=>{this.fileLoading=!1})}unsetPassword(){let t=this.txtPassword;this.vldChkLst.blankCheck(t,this.commonserveice.langReplace("Please Enter Password"),"txtPassword")&&this.commonserveice.fileLockUnlock({fileId:this.fileId,password:t,action:3}).subscribe(o=>{let s=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==y.HmacSHA256(s,h.N.apiHashingKey).toString()){let p=b.lW.from(s,"base64"),d=JSON.parse(p);200==d.status?(this.prevstatus=!0,this.downloadfils(this.fileId,this.vfilepath)):400==d.status?x().fire({icon:"error",text:d.message}):501==d.status?this.authService.directlogout():x().fire({icon:"error",text:this.commonserveice.langReplace(h.N.somethingWrong)})}else this.authService.directlogout()},o=>{this.authService.directlogout()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(w.l),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(S._),e.Y36(D.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-doc-prev-only"]],inputs:{fileId:"fileId",logid:"logid",vfilepath:"vfilepath",filetype:"filetype",lockstatus:"lockstatus"},decls:2,vars:2,consts:[[4,"ngIf"],["class","lockmodaldiv lockmodaldiv2",4,"ngIf"],["class","previewdiv","id","previewdiv",4,"ngIf"],["class","videopreviewdiv","id","videopreviewdiv",4,"ngIf"],["class","audiopreviewdiv","id","audiopreviewdiv",4,"ngIf"],["class","zipdiv","id","zipdiv",4,"ngIf"],["id","previewdiv",1,"previewdiv"],[3,"src"],["class","loader loader2",4,"ngIf"],[1,"loader","loader2"],[1,"loader-item"],["id","videopreviewdiv",1,"videopreviewdiv"],["id","audiopreviewdiv",1,"audiopreviewdiv"],["id","zipdiv",1,"zipdiv"],[1,"lockmodaldiv","lockmodaldiv2"],[1,"div-body"],["id","lockModalLabel",1,"modal-title","mb-2"],[1,"text-center"],[1,"form-group"],[1,"input-group"],["type","password","id","txtPassword",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,ie,5,4,"div",0),e.YNc(1,ne,13,10,"div",1)),2&t&&(e.Q6J("ngIf",n.prevstatus),e.xp6(1),e.Q6J("ngIf",!n.prevstatus))},dependencies:[_.O5,u.Fj,u.JJ,u.On,k.c],styles:["ngx-doc-viewer[_ngcontent-%COMP%], .frame[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:55vh;padding:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}iframe[_ngcontent-%COMP%]{width:100%;min-height:80vh}canvas[_ngcontent-%COMP%], .canvas-container[_ngcontent-%COMP%]{box-shadow:10px 10px 5px #000000bf}#pdf-container[_ngcontent-%COMP%]{margin-top:60px;padding-left:10px;text-align:center}.pdf-container[_ngcontent-%COMP%]{position:relative;height:70vh;overflow:hidden;overflow-y:auto;width:100%;background-color:#00000080}.viewer[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;right:0;height:70vh}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center;position:relative;min-height:100px}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:1rem;position:relative;min-height:100px}"]}),i})();var F=f(4333);const oe=["searchField"],se=["previewModal"];function le(i,l){1&i&&e._UZ(0,"app-utils",28),2&i&&e.Q6J("childMessage",l.$implicit)}function ae(i,l){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function re(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",31),e.NdJ("click",function(){const o=e.CHM(t),s=o.index,a=o.$implicit,c=e.oxw();return e.KtG(c.removeselitems(s,a.searchkey,a.searchvalue))}),e.qZA()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function ce(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",34),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.setSearchParam(s,a.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(n.txtSearch)}}function de(i,l){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,ce,7,2,"ng-container",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function pe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"i",42),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onSortClick(s.cname,o))}),e.qZA()}}function ge(i,l){if(1&i&&(e.TgZ(0,"th"),e.YNc(1,pe,1,0,"i",41),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function he(i,l){1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Pending At")," "))}function fe(i,l){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Action")))}function ue(i,l){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.pendingAtName," ")}}function me(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",50)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.takeAction(o.fileId+":"+o.folderId+":"+o.stageNo+":"+o.workflowFolderId+":"+o.intApprovalId+":"+o.filePath+":"+o.fileName+":0:"+o.lockStatus+":"+o.fileType))}),e._uU(2),e.ALo(3,"langReplace"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Take Action")))}function ve(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.loadpreview(s.fileId,s.filePath,0,s.fileName,s.lockStatus,s.fileType))}),e._uU(9),e._UZ(10,"i",45),e.qZA()(),e.TgZ(11,"td",46),e._UZ(12,"i",47),e.qZA(),e.TgZ(13,"td",48),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.YNc(19,ue,2,1,"td",38),e.YNc(20,me,4,3,"td",49),e.qZA()}if(2&i){const t=l.$implicit,n=l.index,o=e.oxw(2);e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+n+1),e.xp6(2),e.Oqu(t.fileRefNo),e.xp6(2),e.hij(" ",t.folderName," "),e.xp6(3),e.hij("",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.Q6J("ngClass",o.getfiletype(t.fileType)),e.xp6(2),e.Oqu(o.formatBytes(t.fileSize,2)),e.xp6(2),e.Oqu(t.CreatedOn),e.xp6(2),e.Oqu(t.createdByName),e.xp6(1),e.Q6J("ngIf",1==o.userLoginId),e.xp6(1),e.Q6J("ngIf",1!=o.userLoginId)}}const _e=function(i,l,t){return{itemsPerPage:i,currentPage:l,totalItems:t}};function ye(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",35)(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,ge,4,4,"th",33),e.YNc(9,he,3,3,"th",38),e.YNc(10,fe,3,3,"th",39),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,ve,21,13,"tr",33),e.ALo(13,"paginate"),e.qZA()()(),e.TgZ(14,"app-pagination",40),e.NdJ("callfunction",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onTableDataChange(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,8,"Sl No"),""),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(1),e.Q6J("ngIf",1==t.userLoginId),e.xp6(1),e.Q6J("ngIf",1!=t.userLoginId),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,10,t.pendingDocList,e.kEZ(13,_e,t.tableSize,t.page,t.count))),e.xp6(2),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function xe(i,l){1&i&&(e.TgZ(0,"h6",52),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found")," "))}function be(i,l){1&i&&(e.TgZ(0,"div",53),e._UZ(1,"div",54),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function Te(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"h5",56),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",58),e._UZ(6,"app-doc-prev-only",59),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,6,"Document Preview")," "),e.xp6(4),e.Q6J("fileId",t.previewfileid)("logid",t.logId)("filetype",t.filetype)("lockstatus",t.lockstatus)("vfilepath",t.filePath)}}let Ze=(()=>{class i{constructor(t,n,o,s,a,c,p){this.route=t,this.httpClient=n,this.commonserveice=o,this.workFlowServices=s,this.encDec=a,this.authService=c,this.modalService=p,this.jsonurl="assets/js/_configs/viewPendingForApproval.config.json",this.letterID="",this.pendingDocList=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.searchColList=["Name","Document No.","Size","Document","Pending At","Created by","Meta","Tags"],this.searchselcteditems=[],this.namesarray=[],this.refnoarray=[],this.filesizearray=[],this.pendingat=[],this.createdbyarray=[],this.documentdetails=[],this.metaarray=[],this.tagsarray=[],this.finalarray=[],this.loading=!1,this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,pendingAtName:this.pendingat,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray},this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!0},{name:"Folder Name",cname:"folderName",sortable:!0},{name:"Name",cname:"fileName",sortable:!0},{name:"File Type",cname:"fileType",sortable:!1},{name:"Size",cname:"fileSize",sortable:!0},{name:"Created On",cname:"CreatedOn",sortable:!0},{name:"Created By",cname:"createdByName",sortable:!0}]}ngOnInit(){this.loadconfig(),this.viewPendingList(this.finalobj),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(y.AES.decrypt(this.sessiontoken,h.N.apiHashingKey).toString(y.enc.Utf8));this.userLoginId=t.USER_LOGINID}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{x().fire({icon:"error",text:t})})}gotoEdit(t){let n=this.encDec.encText(t.toString());this.route.navigate(["/admin/editMeta",n])}viewPendingList(t){let n={searchfilter:t};this.loading=!0,this.workFlowServices.pendingListForApproval(n).subscribe(o=>{let s=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==y.HmacSHA256(s,h.N.apiHashingKey).toString()){let p=b.lW.from(s,"base64"),d=JSON.parse(p);200==d.status?(this.loading=!1,this.pendingDocList=d.result):400==d.status?(this.loading=!1,x().fire({icon:"error",text:this.commonserveice.langReplace("No Record Found")})):501==d.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}getfiletype(t){let n,o=h.N.iconsGroups;for(let s=0;s<o.length;s++)1==o[s].groups.includes(t)&&(n=o[s].name);return n}takeAction(t){let n=this.encDec.encText(t.toString());this.route.navigate(["/workflow/takeaction",n])}downloadfils(t,n){this.commonserveice.fileDownload({fileId:t,url:n}).subscribe(s=>{let a=s.RESPONSE_DATA;if(s.RESPONSE_TOKEN==y.HmacSHA256(a,h.N.apiHashingKey).toString()){let d=b.lW.from(a,"base64"),g=JSON.parse(d);if(200==g.status){this.downloaditem=g.result,this.downloadlink=this.downloaditem.filePath;let r=document.createElement("a");r.download=this.downloadlink,r.href=this.downloadlink,r.target="_blank",r.click()}else 501==g.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},s=>{this.authService.directlogout()})}setSearchParam(t,n){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=n,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(n):"Document No."==t?this.refnoarray.push(n):"Size"==t?this.filesizearray.push(n):"Document"==t?this.documentdetails.push(n):"Pending At"==t?this.pendingat.push(n):"Created by"==t?this.createdbyarray.push(n):"Meta"==t?this.metaarray.push(n):"Tags"==t&&this.tagsarray.push(n),this.page=1,this.pendingDocList=[],this.viewPendingList(this.finalobj)}removeselitems(t,n,o){if(this.pendingDocList=[],this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==n){const s=this.namesarray.indexOf(o);-1!==s&&this.namesarray.splice(s,1)}else if("Document No."==n){const s=this.refnoarray.indexOf(o);-1!==s&&this.refnoarray.splice(s,1)}else if("Size"==n){const s=this.filesizearray.indexOf(o);-1!==s&&this.filesizearray.splice(s,1)}else if("Pending At"==n){const s=this.pendingat.indexOf(o);-1!==s&&this.pendingat.splice(s,1)}else if("Document"==n){const s=this.documentdetails.indexOf(o);-1!==s&&this.documentdetails.splice(s,1)}else if("Created by"==n){const s=this.createdbyarray.indexOf(o);-1!==s&&this.createdbyarray.splice(s,1)}else if("Meta"==n){const s=this.createdbyarray.indexOf(o);-1!==s&&this.metaarray.splice(s,1)}else if("Tags"==n){const s=this.createdbyarray.indexOf(o);-1!==s&&this.tagsarray.splice(s,1)}0==this.searchselcteditems.length?(this.finalobj={Name:this.namesarray=[],Reference:this.refnoarray=[],Size:this.filesizearray=[],Document:this.documentdetails=[],pendingAtName:this.pendingat=[],Createdby:this.createdbyarray=[],Meta:this.metaarray=[],Tags:this.tagsarray=[]},this.viewPendingList(this.finalobj)):this.viewPendingList(this.finalobj)}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(n=>{},n=>{})}closeModal(){this.modalService.dismissAll()}loadpreview(t,n,o,s,a,c){this.filetype=c,this.previewfileid=t,this.filePath=n,this.lockstatus=a,this.logId=o,this.filetype=c;let p=this.encDec.encText((this.previewfileid+":"+this.filePath+":"+this.lockstatus+":"+this.logId+":"+this.filetype).toString());const d=h.N.siteURL+"#/windowPrev/"+p,g=.9*screen.width,r=.8*screen.height,v=screen.width/2-g/2,T=screen.height/2-r/2,P=Math.floor(100*Math.random()+1);window.open(d,"_blank","PopUp"+P+",scrollbars=1,menubar=0,resizable=1,width = "+g+", height = "+r+", top = "+T+", left = "+v)}onSortClick(t,n){let s=n.currentTarget.classList;s.contains("bi-arrow-up")?(s.remove("bi-arrow-up"),s.add("bi-arrow-down"),this.sortDir=-1):(s.add("bi-arrow-up"),s.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.pendingDocList=this.pendingDocList.sort((n,o)=>"asc"==this.sortOrder?n[t].localeCompare(o[t],"en",{numeric:!0}):o[t].localeCompare(n[t],"en",{numeric:!0}))}formatBytes(t,n){if(!+t)return"0 Bytes";const s=n<0?0:n,c=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,c)).toFixed(s))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][c]}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(Z.eN),e.Y36(w.l),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(N.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pending-doclist"]],viewQuery:function(t,n){if(1&t&&(e.Gf(oe,5),e.Gf(se,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.searchField=o.first),e.iGM(o=e.CRH())&&(n.previewModal=o.first)}},decls:41,vars:23,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],["routerLinkActive","active","routerLink","/workflow/pendingdocs",1,"nav-item","nav-link","tab-link"],["routerLinkActive","active","routerLink","/workflow/summarydocs",1,"nav-item","nav-link","tab-link"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"d-flex","justify-content-end","mb-3"],[1,"d-flex","align-items-center","me-2"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","aria-label","Search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],["id","previewModal"],["previewModal",""],[3,"childMessage"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],[4,"ngIf"],["class","p-none","width","140px",4,"ngIf"],[3,"page","count","tableSize","callfunction"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["width","140px",1,"p-none"],[1,"text-primary",3,"click"],["ngbTooltip","Locked File"],[1,"text-center"],[1,"h6",3,"ngClass"],[1,"text-right"],["class","p-none",4,"ngIf"],[1,"p-none"],["href","javascript:void(0)",1,"btn","btn-sm","btn-success",3,"click"],[1,"no-content"],[1,"loader"],[1,"loader-item"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","90vh","min-height","300px","overflow-y","auto","position","relative"],[3,"fileId","logid","filetype","lockstatus","vfilepath"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4)(8,"li")(9,"a",5),e._uU(10),e.ALo(11,"langReplace"),e.qZA()(),e.TgZ(12,"li")(13,"a",6),e._uU(14),e.ALo(15,"langReplace"),e.qZA()()(),e.TgZ(16,"div",7),e.YNc(17,le,1,1,"app-utils",8),e.qZA()(),e.TgZ(18,"div",9)(19,"div",10)(20,"div",11)(21,"div",12),e._uU(22),e.ALo(23,"langReplace"),e.TgZ(24,"select",13),e.NdJ("change",function(s){return n.onTableSizeChange(s)}),e.YNc(25,ae,2,2,"option",14),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"div",17),e.YNc(29,re,5,2,"div",18),e.qZA(),e.TgZ(30,"input",19,20),e.NdJ("ngModelChange",function(s){return n.txtSearch=s}),e.ALo(32,"langReplace"),e.qZA(),e._UZ(33,"i",21),e.qZA(),e.YNc(34,de,2,1,"div",22),e.qZA()(),e.YNc(35,ye,15,17,"div",23),e.YNc(36,xe,3,3,"ng-template",null,24,e.W1O),e.qZA()()(),e.YNc(38,be,4,0,"div",25),e.YNc(39,Te,7,8,"ng-template",26,27,e.W1O),e.qZA()),2&t){const o=e.MAs(37);e.xp6(2),e.Oqu(e.lcZ(3,13,n.title)),e.xp6(8),e.hij(" ",e.lcZ(11,15,"Pending")," "),e.xp6(4),e.hij(" ",e.lcZ(15,17,"Summary")," "),e.xp6(3),e.Q6J("ngForOf",n.utillist),e.xp6(5),e.hij(" ",e.lcZ(23,19,"Display")," \xa0 "),e.xp6(3),e.Q6J("ngForOf",n.pageSizes),e.xp6(4),e.Q6J("ngForOf",n.searchselcteditems),e.xp6(1),e.MGl("placeholder","",e.lcZ(32,21,"Search"),"..."),e.Q6J("ngModel",n.txtSearch),e.xp6(4),e.Q6J("ngIf",n.txtSearch),e.xp6(1),e.Q6J("ngIf",(null==n.pendingDocList?null:n.pendingDocList.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",n.loading)}},dependencies:[_.mk,_.sg,_.O5,m.yS,m.Od,u.YN,u.Kr,u.Fj,u.JJ,u.On,q.Q,L.t,N._L,U,F._s,k.c]}),i})();const we=["searchField"],Ae=["previewModal"];function Ce(i,l){1&i&&e._UZ(0,"app-utils",28),2&i&&e.Q6J("childMessage",l.$implicit)}function ke(i,l){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function Oe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"i",31),e.NdJ("click",function(){const o=e.CHM(t),s=o.index,a=o.$implicit,c=e.oxw();return e.KtG(c.removeselitems(s,a.searchkey,a.searchvalue))}),e.qZA()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.searchkey),e.xp6(1),e.hij(" ",t.searchvalue," ")}}function Ne(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",34),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.setSearchParam(s,a.txtSearch))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4,": "),e.TgZ(5,"b"),e._uU(6),e.qZA()(),e.BQk()}if(2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(3),e.hij("Search ",t," for"),e.xp6(3),e.Oqu(n.txtSearch)}}function Se(i,l){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,Ne,7,2,"ng-container",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchColList)}}function Pe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"i",42),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onSortClick(s.cname,o))}),e.qZA()}}function Le(i,l){if(1&i&&(e.TgZ(0,"th"),e.YNc(1,Pe,1,0,"i",41),e._uU(2),e.ALo(3,"langReplace"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.name)," ")}}function Me(i,l){1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Status"),""))}function Ie(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"span",51),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.status," ")}}function De(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"span",52),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.status," ")}}function Ue(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"span",53),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.status," ")}}function Fe(i,l){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,Ie,3,1,"ng-container",38),e.YNc(2,De,3,1,"ng-container",38),e.YNc(3,Ue,3,1,"ng-container",38),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Pending"==t.status),e.xp6(1),e.Q6J("ngIf","Approved"==t.status),e.xp6(1),e.Q6J("ngIf","Rejected"==t.status)}}function Re(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.loadpreview(s.fileId,s.filePath,0,s.fileName,s.lockStatus,s.fileType))}),e._uU(9),e._UZ(10,"i",44),e.qZA()(),e.TgZ(11,"td",45),e._UZ(12,"i",46),e.qZA(),e.TgZ(13,"td",47),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.TgZ(17,"span",48),e._uU(18),e.qZA()(),e.YNc(19,Fe,4,3,"td",38),e.TgZ(20,"td",49)(21,"a",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.viewHistory(s.fileId+":"+s.folderId+":"+s.stageNo+":"+s.workflowFolderId+":"+s.intApprovalId+":"+s.filePath+":"+s.fileName+":0:"+s.lockStatus+":"+s.fileType))}),e._uU(22),e.ALo(23,"langReplace"),e.qZA()()()}if(2&i){const t=l.$implicit,n=l.index,o=e.oxw(2);e.xp6(2),e.Oqu(o.tableSize*(o.page-1)+n+1),e.xp6(2),e.Oqu(t.fileRefNo),e.xp6(2),e.hij("",t.folderName," "),e.xp6(3),e.hij("",t.fileName," "),e.xp6(1),e.Tol(1==t.lockStatus?"bi bi-lock-fill text-danger ml-1":""),e.xp6(2),e.Q6J("ngClass",o.getfiletype(t.fileType)),e.xp6(2),e.Oqu(o.formatBytes(t.fileSize,2)),e.xp6(2),e.hij(" ",t.createdByName," "),e.xp6(2),e.hij(" ",t.CreatedOn,""),e.xp6(1),e.Q6J("ngIf",1==o.userLoginId),e.xp6(3),e.Oqu(e.lcZ(23,13,"View History"))}}const qe=function(i,l,t){return{itemsPerPage:i,currentPage:l,totalItems:t}};function Je(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",35)(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),e._uU(6),e.ALo(7,"langReplace"),e.qZA(),e.YNc(8,Le,4,4,"th",33),e.YNc(9,Me,3,3,"th",38),e.TgZ(10,"th",39),e._uU(11),e.ALo(12,"langReplace"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Re,24,15,"tr",33),e.ALo(15,"paginate"),e.qZA()()(),e.TgZ(16,"app-pagination",40),e.NdJ("callfunction",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onTableDataChange(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,8,"Sl No")," "),e.xp6(2),e.Q6J("ngForOf",t.tablecollist),e.xp6(1),e.Q6J("ngIf",1==t.userLoginId),e.xp6(2),e.hij(" ",e.lcZ(12,10,"Action"),""),e.xp6(3),e.Q6J("ngForOf",e.xi3(15,12,t.pendingDocList,e.kEZ(15,qe,t.tableSize,t.page,t.count))),e.xp6(2),e.Q6J("page",t.page)("count",t.count)("tableSize",t.tableSize)}}function Ye(i,l){1&i&&(e.TgZ(0,"h6",54),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No Record Found"),""))}function Ee(i,l){1&i&&(e.TgZ(0,"div",55),e._UZ(1,"div",56),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function ze(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"h5",58),e._uU(2),e.ALo(3,"langReplace"),e.qZA(),e.TgZ(4,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.qZA()(),e.TgZ(5,"div",60),e._UZ(6,"app-doc-prev-only",61),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,6,"Document Preview")," "),e.xp6(4),e.Q6J("fileId",t.previewfileid)("logid",t.logId)("filetype",t.filetype)("lockstatus",t.lockstatus)("vfilepath",t.filePath)}}let je=(()=>{class i{constructor(t,n,o,s,a,c,p){this.route=t,this.httpClient=n,this.commonserveice=o,this.workFlowServices=s,this.encDec=a,this.authService=c,this.modalService=p,this.jsonurl="assets/js/_configs/viewSummaryApproval.config.json",this.letterID="",this.pendingDocList=[],this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.searchColList=["Name","Document No.","Size","Document","Pending At","Created by","Meta","Tags"],this.searchselcteditems=[],this.namesarray=[],this.refnoarray=[],this.filesizearray=[],this.pendingat=[],this.createdbyarray=[],this.documentdetails=[],this.metaarray=[],this.tagsarray=[],this.finalarray=[],this.finalobj={Name:this.namesarray,Reference:this.refnoarray,Size:this.filesizearray,Document:this.documentdetails,pendingAtName:this.pendingat,Createdby:this.createdbyarray,Meta:this.metaarray,Tags:this.tagsarray},this.loading=!1,this.sortDir=1,this.sortOrder="asc",this.sortColumn="ticker",this.tablecollist=[{name:"Document No",cname:"fileRefNo",sortable:!0},{name:"Folder Name",cname:"folderName",sortable:!0},{name:"Name",cname:"fileName",sortable:!0},{name:"File Type",cname:"fileType",sortable:!1},{name:"Size",cname:"fileSize",sortable:!0},{name:"Action Taken By",cname:"createdByName",sortable:!0}]}ngOnInit(){this.loadconfig(),this.viewPendingList(this.finalobj),this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION");let t=JSON.parse(y.AES.decrypt(this.sessiontoken,h.N.apiHashingKey).toString(y.enc.Utf8));this.userLoginId=t.USER_LOGINID,this.roleId=t.ROLE_ID}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{x().fire({icon:"error",text:t})})}viewPendingList(t){let n={searchfilter:t};this.loading=!0,this.workFlowServices.summeylist(n).subscribe(o=>{let s=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==y.HmacSHA256(s,h.N.apiHashingKey).toString()){let p=b.lW.from(s,"base64"),d=JSON.parse(p);200==d.status?(this.loading=!1,this.pendingDocList=d.result):400==d.status?(this.loading=!1,this.pendingDocList=[]):(this.loading=!1,x().fire({icon:"error",text:this.commonserveice.langReplace(h.N.somethingWrong)}))}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}getfiletype(t){let n,o=h.N.iconsGroups;for(let s=0;s<o.length;s++)1==o[s].groups.includes(t)&&(n=o[s].name);return n}viewHistory(t){let n=this.encDec.encText(t.toString());this.route.navigate(["/workflow/filehistory",n])}downloadfils(t,n){this.commonserveice.fileDownload({fileId:t,url:n}).subscribe(s=>{let a=s.RESPONSE_DATA;if(s.RESPONSE_TOKEN==y.HmacSHA256(a,h.N.apiHashingKey).toString()){let d=b.lW.from(a,"base64"),g=JSON.parse(d);if(200==g.status){this.downloaditem=g.result,this.downloadlink=this.downloaditem.filePath;let r=document.createElement("a");r.download=this.downloadlink,r.href=this.downloadlink,r.target="_blank",r.click()}else 501==g.status?this.authService.directlogout():x().fire({icon:"error",text:this.commonserveice.langReplace(h.N.somethingWrong)})}else this.loading=!1,this.authService.directlogout()},s=>{this.authService.directlogout()})}setSearchParam(t,n){this.txtSearch="";let o={};o.searchkey=t,o.searchvalue=n,this.searchselcteditems.push(o),this.searchField.nativeElement.focus(),"Name"==t?this.namesarray.push(n):"Document No."==t?this.refnoarray.push(n):"Size"==t?this.filesizearray.push(n):"Document"==t?this.documentdetails.push(n):"Pending At"==t?this.pendingat.push(n):"Created by"==t?this.createdbyarray.push(n):"Meta"==t?this.metaarray.push(n):"Tags"==t&&this.tagsarray.push(n),this.page=1,this.pendingDocList=[],this.viewPendingList(this.finalobj)}removeselitems(t,n,o){if(this.searchselcteditems.splice(t,1),this.searchField.nativeElement.focus(),"Name"==n){const s=this.namesarray.indexOf(o);-1!==s&&this.namesarray.splice(s,1)}else if("Document No."==n){const s=this.refnoarray.indexOf(o);-1!==s&&this.refnoarray.splice(s,1)}else if("Size"==n){const s=this.filesizearray.indexOf(o);-1!==s&&this.filesizearray.splice(s,1)}else if("Pending At"==n){const s=this.pendingat.indexOf(o);-1!==s&&this.pendingat.splice(s,1)}else if("Document"==n){const s=this.documentdetails.indexOf(o);-1!==s&&this.documentdetails.splice(s,1)}else if("Created by"==n){const s=this.createdbyarray.indexOf(o);-1!==s&&this.createdbyarray.splice(s,1)}else if("Meta"==n){const s=this.createdbyarray.indexOf(o);-1!==s&&this.metaarray.splice(s,1)}else if("Tags"==n){const s=this.createdbyarray.indexOf(o);-1!==s&&this.tagsarray.splice(s,1)}0==this.searchselcteditems.length?(this.finalobj={Name:this.namesarray=[],Reference:this.refnoarray=[],Size:this.filesizearray=[],Document:this.documentdetails=[],pendingAtName:this.pendingat=[],Createdby:this.createdbyarray=[],Meta:this.metaarray=[],Tags:this.tagsarray=[]},this.viewPendingList(this.finalobj)):this.viewPendingList(this.finalobj)}open(t){this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1,ariaLabelledBy:"modal-basic-title"}).result.then(n=>{},n=>{})}closeModal(){this.modalService.dismissAll()}loadpreview(t,n,o,s,a,c){this.previewfileid=t,this.filePath=n,this.lockstatus=a,this.logId=o,this.filetype=c;let p=this.encDec.encText((this.previewfileid+":"+this.filePath+":"+this.lockstatus+":"+this.logId+":"+this.filetype).toString());const d=h.N.siteURL+"#/windowPrev/"+p,g=.9*screen.width,r=.8*screen.height,v=screen.width/2-g/2,T=screen.height/2-r/2,P=Math.floor(100*Math.random()+1);window.open(d,"_blank","PopUp"+P+",scrollbars=1,menubar=0,resizable=1,width = "+g+", height = "+r+", top = "+T+", left = "+v)}onSortClick(t,n){let s=n.currentTarget.classList;s.contains("bi-arrow-up")?(s.remove("bi-arrow-up"),s.add("bi-arrow-down"),this.sortDir=-1):(s.add("bi-arrow-up"),s.remove("bi-arrow-down"),this.sortDir=1),this.sortArr(t)}sortArr(t){this.sortColumn=t,this.sortOrder="asc"==this.sortOrder?"desc":"asc",this.pendingDocList=this.pendingDocList.sort((n,o)=>"asc"==this.sortOrder?n[t].localeCompare(o[t],"en",{numeric:!0}):o[t].localeCompare(n[t],"en",{numeric:!0}))}formatBytes(t,n){if(!+t)return"0 Bytes";const s=n<0?0:n,c=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,c)).toFixed(s))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][c]}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(Z.eN),e.Y36(w.l),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(N.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-approval-doc-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(we,5),e.Gf(Ae,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.searchField=o.first),e.iGM(o=e.CRH())&&(n.previewModal=o.first)}},decls:41,vars:23,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],["routerLinkActive","active","routerLink","/workflow/pendingdocs",1,"nav-item","nav-link","tab-link"],["routerLinkActive","active","routerLink","/workflow/summarydocs",1,"nav-item","nav-link","tab-link"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"d-flex","justify-content-end","mb-3"],[1,"d-flex","align-items-center","me-2"],[1,"form-select","width-90",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"custom-search"],[1,"search-ctrldiv"],[1,"selcteditems"],["class","selitem",4,"ngFor","ngForOf"],["type","search","aria-label","Search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["searchField",""],[1,"bi","bi-search","searchicon"],["class","suggestList",4,"ngIf"],[4,"ngIf","ngIfElse"],["norecord",""],["class","loader",4,"ngIf"],["id","previewModal"],["previewModal",""],[3,"childMessage"],[3,"ngValue"],[1,"selitem"],[1,"bi","bi-x",3,"click"],[1,"suggestList"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"],[1,"table-responsive","print-section"],[1,"table","table-bordered"],["width","50px"],[4,"ngIf"],["width","120px",1,"p-none"],[3,"page","count","tableSize","callfunction"],["class","my-icon bi bi-arrow-up",3,"click",4,"ngIf"],[1,"my-icon","bi","bi-arrow-up",3,"click"],["target","_blank",1,"text-primary",3,"click"],["ngbTooltip","Locked File"],[1,"text-center"],[1,"h6",3,"ngClass"],[1,"text-right"],[1,"text-primary","d-block","mt-1"],[1,"p-none"],["href","javascript:void(0)",1,"btn","btn-sm","btn-primary",3,"click"],[1,"text-warning","d-block","mb-1"],[1,"text-success","d-block","mb-1"],[1,"text-danger","d-block","mb-1"],[1,"no-content"],[1,"loader"],[1,"loader-item"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","90vh","min-height","300px","overflow-y","auto","position","relative"],[3,"fileId","logid","filetype","lockstatus","vfilepath"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4)(8,"li")(9,"a",5),e._uU(10),e.ALo(11,"langReplace"),e.qZA()(),e.TgZ(12,"li")(13,"a",6),e._uU(14),e.ALo(15,"langReplace"),e.qZA()()(),e.TgZ(16,"div",7),e.YNc(17,Ce,1,1,"app-utils",8),e.qZA()(),e.TgZ(18,"div",9)(19,"div",10)(20,"div",11)(21,"div",12),e._uU(22),e.ALo(23,"langReplace"),e.TgZ(24,"select",13),e.NdJ("change",function(s){return n.onTableSizeChange(s)}),e.YNc(25,ke,2,2,"option",14),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"div",17),e.YNc(29,Oe,5,2,"div",18),e.qZA(),e.TgZ(30,"input",19,20),e.NdJ("ngModelChange",function(s){return n.txtSearch=s}),e.ALo(32,"langReplace"),e.qZA(),e._UZ(33,"i",21),e.qZA(),e.YNc(34,Se,2,1,"div",22),e.qZA()(),e.YNc(35,Je,17,19,"div",23),e.YNc(36,Ye,3,3,"ng-template",null,24,e.W1O),e.qZA()()(),e.YNc(38,Ee,4,0,"div",25),e.YNc(39,ze,7,8,"ng-template",26,27,e.W1O),e.qZA()),2&t){const o=e.MAs(37);e.xp6(2),e.Oqu(e.lcZ(3,13,n.title)),e.xp6(8),e.hij(" ",e.lcZ(11,15,"Pending")," "),e.xp6(4),e.hij(" ",e.lcZ(15,17,"Summary")," "),e.xp6(3),e.Q6J("ngForOf",n.utillist),e.xp6(5),e.hij(" ",e.lcZ(23,19,"Display")," \xa0 "),e.xp6(3),e.Q6J("ngForOf",n.pageSizes),e.xp6(4),e.Q6J("ngForOf",n.searchselcteditems),e.xp6(1),e.MGl("placeholder","",e.lcZ(32,21,"Search"),"..."),e.Q6J("ngModel",n.txtSearch),e.xp6(4),e.Q6J("ngIf",n.txtSearch),e.xp6(1),e.Q6J("ngIf",(null==n.pendingDocList?null:n.pendingDocList.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",n.loading)}},dependencies:[_.mk,_.sg,_.O5,m.yS,m.Od,u.YN,u.Kr,u.Fj,u.JJ,u.On,q.Q,L.t,N._L,U,F._s,k.c]}),i})();var J=f(2562),Y=f(6590);function Qe(i,l){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"div",6),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let E=(()=>{class i{constructor(t,n,o,s,a,c,p,d){this.route=t,this.router=n,this.httpClient=o,this.commonserveice=s,this.encDec=a,this.authService=c,this.vldChkLst=p,this.modalService=d,this.files_dropped=[],this.metaListDetails=[],this.loading=!1}ngOnInit(){this.viewFileDetails(this.fileid)}viewFileDetails(t){let n={fileId:t};this.loading=!0,this.commonserveice.getFileDetails(n).subscribe(o=>{let s=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==y.HmacSHA256(s,h.N.apiHashingKey).toString()){let p=b.lW.from(s,"base64"),d=JSON.parse(p);200==d.status&&(this.loading=!1,this.filedetails=d.result.fileDetails,this.files_dropped.push(this.filedetails),this.metaListDetails=this.filedetails.metaDetail,this.txtFileName=this.filedetails.fileName,this.txtFileNumber=this.filedetails.fileRefNo,this.filesize=this.filedetails.fileSize,this.fileType=this.getfiletype(this.filedetails.fileType),this.ocrLanguage=this.filedetails.ocrLanguage,this.txtExpDate=this.filedetails.retentionDate,this.txtSubject=this.filedetails.subject,this.filePath=this.filedetails.filePath,this.fileid=this.filedetails.fileId,this.folderName=this.filedetails.folderName,this.createdby=this.filedetails.createdByName,this.createdOn=this.filedetails.CreatedOn,this.updatedOn=this.filedetails.updatedOn,this.fileTags=JSON.parse(this.filedetails.fileTags),this.metadetails=this.filedetails.metaDetail,this.folderId=this.filedetails.folderId,this.fileVersion=this.filedetails.fileVersion),400==d.status?(this.loading=!1,this.filedetails=d.result):501==d.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}getfiletype(t){t.split(".");let s,a=h.N.iconsGroups;for(let c=0;c<a.length;c++)1==a[c].groups.includes(t)&&(s=a[c].name);return s}downloadfils(t,n){this.commonserveice.fileDownload({fileId:t,url:n}).subscribe(s=>{let a=s.RESPONSE_DATA;if(s.RESPONSE_TOKEN==y.HmacSHA256(a,h.N.apiHashingKey).toString()){let d=b.lW.from(a,"base64"),g=JSON.parse(d);if(200==g.status){this.downloaditem=g.result,this.downloadlink=this.downloaditem.filePath;let r=document.createElement("a");r.download=this.downloadlink,r.href=this.downloadlink,r.target="_blank",r.click()}else 501==g.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},s=>{this.authService.directlogout()})}formatBytes(t,n){if(!+t)return"0 Bytes";const s=n<0?0:n,c=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,c)).toFixed(s))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][c]}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(w.l),e.Y36(A.Z),e.Y36(C.$),e.Y36(S._),e.Y36(N.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-filedetails"]],inputs:{fileid:"fileid",roleId:"roleId"},decls:43,vars:28,consts:[[1,"table-responsive"],[1,"table","table-bordered","mb-3"],["width","150px",1,"bg-light"],[1,"bg-light"],["class","loader",4,"ngIf"],[1,"loader"],[1,"loader-item"]],template:function(t,n){1&t&&(e.TgZ(0,"h6"),e._uU(1),e.ALo(2,"langReplace"),e.qZA(),e.TgZ(3,"div",0)(4,"table",1)(5,"tbody")(6,"tr")(7,"th",2),e._uU(8),e.ALo(9,"langReplace"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()(),e.TgZ(12,"tr")(13,"th",3),e._uU(14),e.ALo(15,"langReplace"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA()(),e.TgZ(18,"tr")(19,"th",3),e._uU(20),e.ALo(21,"langReplace"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA()(),e.TgZ(24,"tr")(25,"th",3),e._uU(26),e.ALo(27,"langReplace"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA()(),e.TgZ(30,"tr")(31,"th",3),e._uU(32),e.ALo(33,"langReplace"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()(),e.TgZ(36,"tr")(37,"th",3),e._uU(38),e.ALo(39,"langReplace"),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA()()()()(),e.YNc(42,Qe,4,0,"div",4)),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,14,"File Details")," "),e.xp6(7),e.hij(" ",e.lcZ(9,16,"File Name"),""),e.xp6(3),e.hij("",n.txtFileName," "),e.xp6(3),e.hij(" ",e.lcZ(15,18,"Document No"),"."),e.xp6(3),e.Oqu(n.txtFileNumber),e.xp6(3),e.hij(" ",e.lcZ(21,20,"Folder Name"),""),e.xp6(3),e.Oqu(n.folderName),e.xp6(3),e.hij(" ",e.lcZ(27,22,"Size"),""),e.xp6(3),e.Oqu(n.formatBytes(n.filesize,2)),e.xp6(3),e.hij(" ",e.lcZ(33,24,"Created By"),""),e.xp6(3),e.Oqu(n.createdby),e.xp6(3),e.hij(" ",e.lcZ(39,26,"Created On"),""),e.xp6(3),e.Oqu(n.createdOn),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[_.O5,k.c]}),i})();function $e(i,l){if(1&i&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"img",6),e.qZA(),e.TgZ(3,"div",7)(4,"p")(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"p",8)(8,"strong"),e._uU(9),e.ALo(10,"langReplace"),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"p",9)(13,"strong"),e._uU(14),e.ALo(15,"langReplace"),e.qZA(),e.TgZ(16,"span",10),e._uU(17,"demo"),e.qZA()()()()),2&i){const t=l.$implicit,n=e.oxw(2);e.xp6(2),e.MGl("src","",n.siteUrl,"assets/img/user.png",e.LSH),e.xp6(4),e.lnq("",t.actionTakenByName,"(",t.actionTakenBy,") , ",t.actionTaken," "),e.xp6(3),e.hij(" ",e.lcZ(10,8,"Status")," : "),e.xp6(2),e.hij(" ",t.statusTaken,""),e.xp6(3),e.hij(" ",e.lcZ(15,10,"Remark")," :\xa0 "),e.xp6(2),e.Q6J("innerHTML",t.txtNoting,e.oJD)}}function He(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,$e,18,12,"div",3),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.notingList)}}function Be(i,l){1&i&&(e.TgZ(0,"h6",11),e._uU(1),e.ALo(2,"langReplace"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Action Details Not Found")," "))}let z=(()=>{class i{constructor(t,n,o,s,a,c,p,d,g){this.route=t,this.router=n,this.httpClient=o,this.workFlowServices=s,this.encDec=a,this.authService=c,this.vldChkLst=p,this.commonserveice=d,this.modalService=g,this.siteUrl=h.N.siteURL,this.loading=!1}ngOnInit(){this.notingDetails(this.fileid)}notingDetails(t){let n={fileId:t};this.loading=!0,this.workFlowServices.getNotingList(n).subscribe(o=>{let s=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==y.HmacSHA256(s,h.N.apiHashingKey).toString()){let p=b.lW.from(s,"base64"),d=JSON.parse(p);200==d.status&&(this.loading=!1,this.notingList=d.result),400==d.status?(this.loading=!1,this.notingList=d.result):501==d.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},o=>{this.authService.directlogout()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(S._),e.Y36(w.l),e.Y36(N.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notinglist"]],inputs:{fileid:"fileid"},decls:7,vars:5,consts:[["id","viewTable",1,"action-history"],[4,"ngIf","ngIfElse"],["norecord",""],["class","action-item notingTbl",4,"ngFor","ngForOf"],[1,"action-item","notingTbl"],[1,"action-authority"],["alt","Logo",3,"src"],[1,"action-body"],[1,"mb-1"],[1,"mb-0","d-flex"],[1,"remarkdetails",3,"innerHTML"],[1,"no-content","border"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h6"),e._uU(1),e.ALo(2,"langReplace"),e.qZA(),e.TgZ(3,"div",0),e.YNc(4,He,2,1,"div",1),e.YNc(5,Be,3,3,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(6);e.xp6(1),e.hij(" ",e.lcZ(2,3,"Action History")," "),e.xp6(3),e.Q6J("ngIf",(null==n.notingList?null:n.notingList.length)>0)("ngIfElse",o)}},dependencies:[_.sg,_.O5,k.c],styles:['.action-history[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.action-item[_ngcontent-%COMP%]{display:flex;flex-flow:wrap;width:100%;margin-bottom:1rem}.action-item[_ngcontent-%COMP%]   .action-authority[_ngcontent-%COMP%]{width:90px;position:relative;text-align:center;padding:1rem;border-radius:3px;color:var(--base-color-800);font-size:1rem;font-weight:600;z-index:1;align-items:center;justify-content:center}.action-item[_ngcontent-%COMP%]   .action-authority[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.action-item[_ngcontent-%COMP%]   .action-authority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.9rem}.action-item[_ngcontent-%COMP%]   .action-body[_ngcontent-%COMP%]{padding:1rem;border-radius:4px;position:relative;flex:0 0 calc(100% - 90px);max-width:calc(100% - 90px);padding-bottom:0;font-size:13px;background:#f5f8ff;border:1px solid var(--base-color-100)}.action-item[_ngcontent-%COMP%]   .action-body[_ngcontent-%COMP%]:before{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid var(--base-color-100);content:"";position:absolute;left:-11px;top:8px}.action-item[_ngcontent-%COMP%]   .action-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.4}.action-item[_ngcontent-%COMP%]   .action-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-bottom:2rem}.action-item[_ngcontent-%COMP%]   .action-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0;padding:.5rem 0 0 2rem;position:relative}.action-item[_ngcontent-%COMP%]   .action-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{position:absolute;font-family:icons;content:"\\e942";color:var(--bs-orange);font-size:1rem;left:3px;top:7px}.action-item[_ngcontent-%COMP%]:nth-of-type(even)   .action-authority[_ngcontent-%COMP%]{color:var(--bs-gray-800)}.action-item[_ngcontent-%COMP%]:nth-of-type(even)   .action-body[_ngcontent-%COMP%]{border-color:var(--bs-gray-200);background:var(--bs-gray-100)}.action-item[_ngcontent-%COMP%]:nth-of-type(even)   .action-body[_ngcontent-%COMP%]:before{border-right:10px solid var(--bs-gray-200)}.remarkdetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0!important}']}),i})();function Ke(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function Ge(i,l){if(1&i&&(e.TgZ(0,"div",6),e._UZ(1,"iframe",7),e.YNc(2,Ke,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.publicurl,e.uOi),e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function We(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function Ve(i,l){if(1&i&&(e.TgZ(0,"div",11),e.YNc(1,We,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function Xe(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function et(i,l){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,Xe,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function tt(i,l){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}function it(i,l){if(1&i&&(e.TgZ(0,"div",13),e.YNc(1,tt,4,0,"div",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fileLoading)}}function nt(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Ge,3,2,"div",2),e.YNc(2,Ve,2,1,"div",3),e.YNc(3,et,2,1,"div",4),e.YNc(4,it,2,1,"div",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!("mp3"==t.filetype||"mp4"==t.filetype||"zip"==t.filetype)),e.xp6(1),e.Q6J("ngIf","mp4"==t.filetype||"MP4"==t.filetype||"WebM"==t.filetype||"mkv"==t.filetype||"avi"==t.filetype||"webm"==t.filetype),e.xp6(1),e.Q6J("ngIf","mp3"==t.filetype||"MP3"==t.filetype),e.xp6(1),e.Q6J("ngIf","zip"==t.filetype||"ZIP"==t.filetype)}}function ot(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"h5",16),e._uU(3),e.ALo(4,"langReplace"),e.qZA(),e.TgZ(5,"div",17)(6,"div",18)(7,"div",19)(8,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.txtPassword=o)}),e.ALo(9,"langReplace"),e.qZA()()(),e.TgZ(10,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.unsetPassword())}),e._uU(11),e.ALo(12,"langReplace"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,4,"Lock File")),e.xp6(5),e.s9C("placeholder",e.lcZ(9,6,"Enter File Password")),e.Q6J("ngModel",t.txtPassword),e.xp6(3),e.Oqu(e.lcZ(12,8,"Submit"))}}let st=(()=>{class i{constructor(t,n,o,s,a,c,p,d,g){this.route=t,this.router=n,this.httpClient=o,this.commonserveice=s,this.workFlowServices=a,this.encDec=c,this.authService=p,this.vldChkLst=d,this.sanitizer=g,this.fileLoading=!1,this.filedetails=[],this.currenttime=new Date,this.prevstatus=!1}ngOnInit(){this.token=sessionStorage.getItem("TOKEN"),1==this.lockstatus?setTimeout(()=>{},200):(this.prevstatus=!0,this.downloadfils(this.fileId,this.vfilepath)),this.publicurl=""}downloadfils(t,n){this.commonserveice.fileDownload({fileId:t,url:n}).subscribe(s=>{let a=s.RESPONSE_DATA,c=s.RESPONSE_TOKEN;if(this.fileLoading=!0,c==y.HmacSHA256(a,h.N.apiHashingKey).toString()){let d=b.lW.from(a,"base64"),g=JSON.parse(d);200==g.status?(this.downloaditem=g.result,this.downloadlink=this.downloaditem.filePath,this.dcoSrc=this.downloaditem.filePath,"pdf"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.pdfiframeURL}?fileId=${this.fileId}+&logId=${this.logid}+&token=${this.token}+&date=${this.currenttime}`),this.fileLoading=!1},2e3):"mp4"==this.filetype?setTimeout(()=>{const r=document.createElement("video");r.controls=!0,r.muted=!1,(r.canPlayType("video/mp4")||r.canPlayType("video/ogg"))&&(r.src=this.dcoSrc),r.height=380,r.width=560;let v=document.getElementById("videopreviewdiv");v.innerHTML="",v.appendChild(r),this.fileLoading=!1},200):"xlsx"==this.filetype||"ods"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.excelViewer}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+&type=2`),this.fileLoading=!1},200):"mp3"==this.filetype?(setTimeout(()=>{const r=document.createElement("AUDIO");r.setAttribute("src",this.dcoSrc),r.setAttribute("controls","controls"),document.body.appendChild(r);let v=document.getElementById("audiopreviewdiv");v.innerHTML="",v.appendChild(r)},200),this.fileLoading=!1):"zip"==this.filetype?(setTimeout(()=>{const r=document.createElement("a"),v=document.createTextNode("Downlod .zip File");r.setAttribute("target","_blank"),r.setAttribute("href",this.dcoSrc),r.classList.add("btn","btn-primary"),r.appendChild(v);let T=document.getElementById("zipdiv");T.innerHTML="",T.appendChild(r)},200),this.fileLoading=!1):"jpg"==this.filetype||"png"==this.filetype||"jpeg"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.iframeviewURL}?fileId=${this.fileId}+&logId=${this.logid}+&token=${this.token}+&date=${this.currenttime}`),this.fileLoading=!1},200):"docx"==this.filetype?setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.iframeURL}?fileId=${this.fileId}+&logId=${this.logid>0?this.logid:0}+&token=${this.token}+&date=${this.currenttime}+&type=2`),this.fileLoading=!1},200):setTimeout(()=>{this.fileLoading=!0,this.publicurl=this.sanitizer.bypassSecurityTrustResourceUrl(`${h.N.iframeURL}?fileId=${this.fileId}+&logId=${this.logid}+&token=${this.token}+&date=${this.currenttime}+type=2`),this.fileLoading=!1},200)):501==g.status&&this.authService.directlogout()}else x().fire({icon:"error",text:this.commonserveice.langReplace(h.N.invalidResponse)})},s=>{this.fileLoading=!1})}unsetPassword(){let t=this.txtPassword;this.vldChkLst.blankCheck(t,this.commonserveice.langReplace("Please Enter Password"),"txtPassword")&&this.commonserveice.fileLockUnlock({fileId:this.fileId,password:t,action:3}).subscribe(o=>{let s=o.RESPONSE_DATA;if(o.RESPONSE_TOKEN==y.HmacSHA256(s,h.N.apiHashingKey).toString()){let p=b.lW.from(s,"base64"),d=JSON.parse(p);200==d.status?(this.prevstatus=!0,this.downloadfils(this.fileId,this.vfilepath)):400==d.status?x().fire({icon:"error",text:d.message}):501==d.status?this.authService.directlogout():x().fire({icon:"error",text:this.commonserveice.langReplace(h.N.somethingWrong)})}else this.authService.directlogout()},o=>{this.authService.directlogout()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(w.l),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(S._),e.Y36(D.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-docpreview"]],inputs:{fileId:"fileId",logid:"logid",vfilepath:"vfilepath",filetype:"filetype",lockstatus:"lockstatus"},decls:2,vars:2,consts:[[4,"ngIf"],["class","lockmodaldiv lockmodaldiv2",4,"ngIf"],["class","previewdiv","id","previewdiv",4,"ngIf"],["class","videopreviewdiv","id","videopreviewdiv",4,"ngIf"],["class","audiopreviewdiv","id","audiopreviewdiv",4,"ngIf"],["class","zipdiv","id","zipdiv",4,"ngIf"],["id","previewdiv",1,"previewdiv"],[3,"src"],["class","loader loader2",4,"ngIf"],[1,"loader","loader2"],[1,"loader-item"],["id","videopreviewdiv",1,"videopreviewdiv"],["id","audiopreviewdiv",1,"audiopreviewdiv"],["id","zipdiv",1,"zipdiv"],[1,"lockmodaldiv","lockmodaldiv2"],[1,"div-body"],["id","lockModalLabel",1,"modal-title","mb-2"],[1,"text-center"],[1,"form-group"],[1,"input-group"],["type","password","id","txtPassword",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,nt,5,4,"div",0),e.YNc(1,ot,13,10,"div",1)),2&t&&(e.Q6J("ngIf",n.prevstatus),e.xp6(1),e.Q6J("ngIf",!n.prevstatus))},dependencies:[_.O5,u.Fj,u.JJ,u.On,k.c],styles:["ngx-doc-viewer[_ngcontent-%COMP%], .frame[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-200);width:100%;height:55vh;padding:1rem}.btn-dropzone[_ngcontent-%COMP%]{height:auto}iframe[_ngcontent-%COMP%]{width:100%;min-height:80vh}canvas[_ngcontent-%COMP%], .canvas-container[_ngcontent-%COMP%]{box-shadow:10px 10px 5px #000000bf}#pdf-container[_ngcontent-%COMP%]{margin-top:60px;padding-left:10px;text-align:center}.pdf-container[_ngcontent-%COMP%]{position:relative;height:70vh;overflow:hidden;overflow-y:auto;width:100%;background-color:#00000080}.viewer[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;right:0;height:70vh}.videopreviewdiv[_ngcontent-%COMP%]{background:#020202;display:flex;justify-content:center;position:relative;min-height:100px}.audiopreviewdiv[_ngcontent-%COMP%]{background:#f5f5f5;display:flex;justify-content:center;padding:1rem;position:relative;min-height:100px}"]}),i})();const lt=["myckeditor"];function at(i,l){if(1&i&&e._UZ(0,"app-tabs",28),2&i){const t=l.$implicit,n=e.oxw();e.Q6J("activeid",n.letterID)("tabMessage",t)}}function rt(i,l){1&i&&e._UZ(0,"app-utils",29),2&i&&e.Q6J("childMessage",l.$implicit)}function ct(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.radAction=o)}),e.qZA(),e.TgZ(2,"label",32),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw();e.xp6(1),e.MGl("id","radAction",t,""),e.s9C("value",t),e.Q6J("ngModel",n.radAction),e.xp6(1),e.MGl("for","radAction",t,""),e.xp6(1),e.hij(" ",n.actionarray[t]," ")}}function dt(i,l){1&i&&(e.TgZ(0,"div",33),e._UZ(1,"div",34),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}let pt=(()=>{class i{constructor(t,n,o,s,a,c,p,d,g){this.route=t,this.router=n,this.httpClient=o,this.commonserveice=s,this.workFlowServices=a,this.encDec=c,this.authService=p,this.vldChkLst=d,this.sanitizer=g,this.siteUrl=h.N.siteURL,this.jsonurl="assets/js/_configs/takeAction.config.json",this.letterID="",this.metalist=[],this.userActionList=[],this.showFiles=!1,this.txtdata="",this.loading=!1,this.radAction=0,this.actionarray=[],this.obj=[],this.ckeConfig=h.N.ckconfig}ngOnInit(){this.loadconfig();let t=this.router.snapshot.paramMap.get("id");if(""!=t){let o=this.encDec.decText(t).split(":");this.fileId=o[0],this.folderId=o[1],this.stageNo=o[2],this.workflowFolderId=o[3],this.intApprovalId=o[4],this.filePath=o[5],this.filename=o[6],this.logid=o[7],this.lockstatus=o[8],this.filetype=o[9]}this.loadEvents(),this.getActionDetails(this.folderId,this.fileId)}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{x().fire({icon:"error",text:t})})}getActionDetails(t,n){let o={fileId:Number(n),folderId:Number(t)};this.loading=!0,this.workFlowServices.getuserActionList(o).subscribe(s=>{let a=s.RESPONSE_DATA;if(s.RESPONSE_TOKEN==y.HmacSHA256(a,h.N.apiHashingKey).toString()){let d=b.lW.from(a,"base64"),g=JSON.parse(d);200==g.status?(this.loading=!1,this.userActionList=g.result.AllowedActionName.split(",")):400==g.status?this.loading=!1:501==g.status&&this.authService.directlogout()}else this.loading=!1,this.authService.directlogout()},s=>{this.authService.directlogout()})}loadEvents(){this.workFlowServices.getEvents([]).subscribe(n=>{let a=b.lW.from(n.RESPONSE_DATA,"base64"),c=JSON.parse(a);if("200"==c.status){let p=c.result;for(let d=0;d<p.length;d++)this.actionarray[p[d].tinApprovalActionId]=p[d].vchActionName}else 500==c.status&&x().fire({icon:"error",text:c.message})},n=>{this.authService.directlogout()})}submitRemark(){let t=this.fileId,n=this.folderId,o=this.stageNo,s=this.radAction,a=this.intApprovalId,c=this.txtRemark,p=this.workflowFolderId;if("0"==s)x().fire({icon:"error",text:this.commonserveice.langReplace(this.messaageslist.action)});else if(this.vldChkLst.blankCheck(c,this.commonserveice.langReplace(this.messaageslist.remark),"txtRemark")){let d={fileId:t,folderId:n,stageNo:o,action:s,intApprovalId:a,remark:c,workflowFolderId:p};this.loading=!0,this.workFlowServices.takeAction(d).subscribe(g=>{let r=g.RESPONSE_DATA;if(g.RESPONSE_TOKEN==y.HmacSHA256(r,h.N.apiHashingKey).toString()){let P=b.lW.from(r,"base64"),I=JSON.parse(P);200==I.status?(this.loading=!1,x().fire({text:this.commonserveice.langReplace(this.messaageslist.successMsg),icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:this.commonserveice.langReplace("Ok")}).then(wt=>{this.route.navigate(["/workflow/summarydocs"])})):501==I.status?this.authService.directlogout():400==I.status&&(this.loading=!1,x().fire({icon:"error",text:I.message.metaName[0]}))}else this.loading=!1,this.authService.directlogout()},g=>{this.authService.directlogout()})}}resetForm(){this.txtRemark="",this.radAction=0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(w.l),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(S._),e.Y36(D.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-take-action"]],viewQuery:function(t,n){if(1&t&&e.Gf(lt,5),2&t){let o;e.iGM(o=e.CRH())&&(n.ckeditor=o.first)}},decls:46,vars:28,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"row"],[1,"col-md-6","col-lg-6"],[3,"fileid"],[1,"row","mt-3"],[1,"col-md-4","col-lg-3"],[1,"col-md-8","col-lg-9"],[1,"form-group"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-12","mb-1"],[1,"col-md-12","col-lg-12"],["id","txtRemark","name","myckeditor","required","","debounce","500",3,"ngModel","config","ngModelChange"],["myckeditor","ngModel"],[1,"col-md-4","col-lg-4"],[1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"position-relative"],[3,"fileId","logid","lockstatus","filetype","vfilepath"],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[1,"form-check","form-check-inline"],["type","radio","name","radAction",1,"form-check-input",3,"ngModel","id","value","ngModelChange"],[3,"for"],[1,"loader"],[1,"loader-item"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,at,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,rt,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e._UZ(15,"app-filedetails",12)(16,"app-notinglist",12),e.TgZ(17,"div",13)(18,"label",14),e._uU(19),e.ALo(20,"langReplace"),e.qZA(),e.TgZ(21,"div",15)(22,"div",16),e.YNc(23,ct,4,5,"div",17),e.qZA()()(),e.TgZ(24,"div",10)(25,"label",18),e._uU(26),e.ALo(27,"langReplace"),e.qZA(),e.TgZ(28,"div",19)(29,"div",16)(30,"ckeditor",20,21),e.NdJ("ngModelChange",function(s){return n.txtRemark=s}),e.qZA()()()(),e.TgZ(32,"div",10),e._UZ(33,"label",22),e.TgZ(34,"div",19)(35,"button",23),e.NdJ("click",function(){return n.submitRemark()}),e._uU(36),e.ALo(37,"langReplace"),e.qZA(),e._uU(38," \xa0 "),e.TgZ(39,"button",24),e.NdJ("click",function(){return n.resetForm()}),e._uU(40),e.ALo(41,"langReplace"),e.qZA()()()(),e.TgZ(42,"div",11)(43,"div",25),e._UZ(44,"app-docpreview",26),e.qZA()()()()()()(),e.YNc(45,dt,4,0,"div",27)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,18,n.title)),e.xp6(6),e.Q6J("ngForOf",n.tablist),e.xp6(2),e.Q6J("ngForOf",n.utillist),e.xp6(5),e.Q6J("fileid",n.fileId),e.xp6(1),e.Q6J("fileid",n.fileId),e.xp6(3),e.hij("* ",e.lcZ(20,20,"Action")," "),e.xp6(4),e.Q6J("ngForOf",n.userActionList),e.xp6(3),e.hij("* ",e.lcZ(27,22,"Remark"),""),e.xp6(4),e.Q6J("ngModel",n.txtRemark)("config",n.ckeConfig),e.xp6(6),e.hij(" ",e.lcZ(37,24,"Submit")," "),e.xp6(4),e.hij(" ",e.lcZ(41,26,"Reset"),""),e.xp6(4),e.Q6J("fileId",n.fileId)("logid",n.logid)("lockstatus",n.lockstatus)("filetype",n.filetype)("vfilepath",n.filePath),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[_.sg,_.O5,u.Fj,u._,u.JJ,u.Q7,u.On,J.n,L.t,Y.u,E,z,st,k.c]}),i})();var M=f(8438);function gt(i,l){if(1&i&&e._UZ(0,"app-tabs",16),2&i){const t=l.$implicit,n=e.oxw();e.Q6J("activeid",n.letterID)("tabMessage",t)}}function ht(i,l){1&i&&e._UZ(0,"app-utils",17),2&i&&e.Q6J("childMessage",l.$implicit)}function ft(i,l){1&i&&(e.TgZ(0,"div",18),e._UZ(1,"div",19),e.TgZ(2,"p"),e._uU(3,"Loading..."),e.qZA()())}const mt=[{path:"",component:$,children:[{path:"",redirectTo:"/pendingdocs",pathMatch:"full"},{path:"pendingdocs",component:Ze,canActivate:[M.a]},{path:"summarydocs",component:je,canActivate:[M.a]},{path:"takeaction/:id",component:pt,canActivate:[M.a]},{path:"filehistory/:id",component:(()=>{class i{constructor(t,n,o,s,a,c,p,d){this.route=t,this.router=n,this.httpClient=o,this.commonserveice=s,this.workFlowServices=a,this.encDec=c,this.authService=p,this.vldChkLst=d,this.jsonurl="assets/js/_configs/viewHistory.config.json",this.letterID="",this.metalist=[],this.userActionList=[],this.showFiles=!1,this.txtdata="",this.loading=!1,this.radAction=0}ngOnInit(){this.loadconfig();let t=this.router.snapshot.paramMap.get("id");if(""!=t){let o=this.encDec.decText(t).split(":");this.fileId=o[0],this.folderId=o[1],this.stageNo=o[2],this.workflowFolderId=o[3],this.intApprovalId=o[4],this.filePath=o[5],this.filename=o[6],this.logid=o[7],this.lockstatus=o[8],this.filetype=o[9]}}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(t=>{this.tablist=t[0].tabList,this.utillist=t[0].utils,this.messaageslist=t[0].messages,this.title=t[0].pagetitle},t=>{x().fire({icon:"error",text:t})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(w.l),e.Y36(O.z),e.Y36(A.Z),e.Y36(C.$),e.Y36(S._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-filehistory"]],decls:21,vars:13,consts:[[1,"page-title"],["id","page-content",1,"page-controls-section"],[1,"card"],[1,"controls-section-header"],["role","tablist",1,"nav","nav-tabs","nav-fill"],[3,"activeid","tabMessage",4,"ngFor","ngForOf"],[1,"indicatorslist"],[3,"childMessage",4,"ngFor","ngForOf"],[1,"card-body"],[1,"controls-section"],[1,"row"],[1,"col-md-6","col-lg-6"],[3,"fileid"],[1,"position-relative"],[3,"fileId","logid","filetype","lockstatus","vfilepath"],["class","loader",4,"ngIf"],[3,"activeid","tabMessage"],[3,"childMessage"],[1,"loader"],[1,"loader-item"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.ALo(3,"langReplace"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"ul",4),e.YNc(8,gt,1,2,"app-tabs",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,ht,1,1,"app-utils",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e._UZ(15,"app-filedetails",12)(16,"app-notinglist",12),e.qZA(),e.TgZ(17,"div",11)(18,"div",13),e._UZ(19,"app-doc-prev-only",14),e.qZA()()()()()()(),e.YNc(20,ft,4,0,"div",15)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,11,n.title)),e.xp6(6),e.Q6J("ngForOf",n.tablist),e.xp6(2),e.Q6J("ngForOf",n.utillist),e.xp6(5),e.Q6J("fileid",n.fileId),e.xp6(1),e.Q6J("fileid",n.fileId),e.xp6(3),e.Q6J("fileId",n.fileId)("logid",n.logid)("filetype",n.filetype)("lockstatus",n.lockstatus)("vfilepath",n.filePath),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[_.sg,_.O5,J.n,L.t,E,z,U,k.c]}),i})(),canActivate:[M.a]}]}];let vt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(mt),m.Bz]}),i})();var _t=f(1894),yt=f(9830),xt=f(3651),bt=f(1557);let Tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[_.uU,{provide:Z.TP,useClass:xt.p,multi:!0}],imports:[_.ez,vt,u.u5,u.UX,_t.bB,yt.IncludesModule,N.IJ,Y.d,F.JX,bt.l]}),i})()}}]);